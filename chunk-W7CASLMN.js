import{a as Z}from"./chunk-PJTFIED5.js";import{$e as Y,Bb as y,Bc as G,Bd as h,Be as U,Ce as z,Da as M,Ee as J,Fa as f,Fe as K,Ha as m,Ia as V,Id as N,Jd as O,Je as Q,Ka as B,Ke as W,La as C,Ma as L,Na as R,Oa as S,Pa as b,Qa as n,Qe as X,Ra as a,Sa as u,Tb as D,Ua as k,Va as I,Wa as r,bb as _,cb as s,da as j,db as $,ia as E,ie as q,ja as g,jb as P,ka as w,oe as A,pe as H,qb as d,rb as c,sb as T,sc as F,wa as i}from"./chunk-EF2J2WJY.js";var ee=(t,l)=>l.id;function te(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td")(5,"a",9),u(6,"button",10),d(7,"iconSmClass"),a()()()),t&2){let e=r();i(2),s(c(3,4,"data.category")),i(3),m("routerLink","/data/categories/"+e.category),i(),m("label",l.name)("icon",T(7,6,e.category,"category"))}}function ie(t,l){if(t&1&&(n(0,"div")(1,"a",9),u(2,"button",10),d(3,"iconSmClass"),a(),n(4,"span",11),_(5),a()()),t&2){let e=l.$implicit,o=r(2),p=r();i(),m("routerLink","/data/items/"+e),i(),m("label",p.data().itemEntities[e].name)("icon",c(3,4,e)),i(3),s(o.in[e])}}function ne(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td"),S(5,ie,6,6,"div",null,R),a()()),t&2){let e=r(2);i(2),s(c(3,1,"data.ingredients")),i(3),b(e.info().ingredientIds)}}function ae(t,l){if(t&1&&(n(0,"div")(1,"a",9),u(2,"button",10),d(3,"iconSmClass"),a(),n(4,"span",11),_(5),a()()),t&2){let e=l.$implicit,o=r(2),p=r();i(),m("routerLink","/data/items/"+e),i(),m("label",p.data().itemEntities[e].name)("icon",c(3,4,e)),i(3),s(o.catalyst==null?null:o.catalyst[e])}}function oe(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td"),S(5,ae,6,6,"div",null,R),a()()),t&2){let e=r(2);i(2),s(c(3,1,"data.catalysts")),i(3),b(e.info().catalystIds)}}function le(t,l){if(t&1&&(n(0,"div")(1,"a",9),u(2,"button",10),d(3,"iconSmClass"),a(),n(4,"span",11),_(5),d(6,"round"),a()()),t&2){let e=l.$implicit,o=r(2),p=r();i(),m("routerLink","/data/items/"+e),i(),m("label",p.data().itemEntities[e].name)("icon",c(3,4,e)),i(3),s(c(6,6,o.out[e]))}}function pe(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td"),S(5,le,7,8,"div",null,R),a()()),t&2){let e=r(2);i(2),s(c(3,1,"data.products")),i(3),b(e.info().productIds)}}function de(t,l){if(t&1&&(n(0,"div")(1,"a",9),u(2,"button",10),d(3,"iconSmClass"),a()()),t&2){let e=l.$implicit,o=r(2);i(),m("routerLink","/data/machines/"+e),i(),m("label",o.data().itemEntities[e].name)("icon",c(3,3,e))}}function re(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td")(5,"a",9),u(6,"button",10),d(7,"iconSmClass"),a()()()),t&2){let e=r(),o=r();i(2),s(c(3,4,"data.unlockedBy")),i(3),m("routerLink","/data/technologies/"+e.unlockedBy),i(),m("label",o.data().itemEntities[e.unlockedBy].name)("icon",T(7,6,e.unlockedBy,"recipe"))}}function ce(t,l){t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td"),u(5,"p-checkbox",12),a()()),t&2&&(i(2),s(c(3,4,"data.mining")),i(3),m("ngModel",!0)("binary",!0)("disabled",!0))}function me(t,l){t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td"),u(5,"p-checkbox",12),a()()),t&2&&(i(2),s(c(3,4,"data.technology")),i(3),m("ngModel",!0)("binary",!0)("disabled",!0))}function _e(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td")(5,"a",9),u(6,"button",10),d(7,"iconSmClass"),a()()()),t&2){let e=r(),o=r();i(2),s(c(3,4,"data.rocketPart")),i(3),m("routerLink","/data/items/"+e.part),i(),m("label",o.data().itemEntities[e.part].name)("icon",c(7,6,e.part))}}function se(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td"),_(5),d(6,"usage"),a()()),t&2){let e=r();i(2),s(c(3,2,"data.energyConsumption")),i(3),s(c(6,4,e.usage))}}function Ce(t,l){if(t&1&&(n(0,"a",9),u(1,"button",10),d(2,"iconSmClass"),a()),t&2){let e=l,o=r(3);m("routerLink","/data/machines/"+e),i(),m("label",o.data().itemEntities[e].name)("icon",c(2,3,e))}}function ue(t,l){if(t&1&&(u(0,"i"),d(1,"iconSmClass")),t&2){let e=r();B(c(1,2,e))}}function xe(t,l){if(t&1&&(n(0,"a",9),u(1,"button",10),d(2,"iconSmClass"),a()),t&2){let e=r(),o=r(5);m("routerLink","/data/modules/"+e),i(),m("label",o.data().itemEntities[e].name)("icon",c(2,3,e))}}function fe(t,l){t&1&&(n(0,"div"),f(1,ue,2,4,"i",14)(2,xe,3,5,"a",9),a()),t&2&&(i(),C(l==="module"?1:2))}function ve(t,l){if(t&1&&f(0,fe,3,1,"div"),t&2){let e,o=l.$implicit;C((e=o.id)?0:-1,e)}}function Se(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td"),S(5,ve,1,1,null,null,ee),a()()),t&2){let e=r();i(2),s(c(3,1,"data.modules")),i(3),b(e.modules)}}function be(t,l){if(t&1&&(n(0,"a",9),u(1,"button",10),d(2,"iconSmClass"),a()),t&2){let e=r().$implicit,o=r(4);m("routerLink","/data/beacons/"+e.id),i(),m("label",o.data().itemEntities[e.id].name)("icon",c(2,3,e.id))}}function he(t,l){if(t&1&&(u(0,"i"),d(1,"iconSmClass")),t&2){let e=r();B(c(1,2,e))}}function ye(t,l){if(t&1&&(n(0,"a",9),u(1,"button",10),d(2,"iconSmClass"),a()),t&2){let e=r(),o=r(6);m("routerLink","/data/modules/"+e),i(),m("label",o.data().itemEntities[e].name)("icon",c(2,3,e))}}function Ee(t,l){t&1&&(n(0,"div"),f(1,he,2,4,"i",14)(2,ye,3,5,"a",9),a()),t&2&&(i(),C(l==="module"?1:2))}function ge(t,l){if(t&1&&f(0,Ee,3,1,"div"),t&2){let e,o=l.$implicit;C((e=o.id)?0:-1,e)}}function Re(t,l){if(t&1&&(n(0,"div"),f(1,be,3,5,"a",9),n(2,"span",11),_(3),a()(),S(4,ge,1,1,null,null,ee)),t&2){let e=l.$implicit;i(),C(e.id?1:-1),i(2),s(e.count),i(),b(e.modules)}}function Ie(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td"),S(5,Re,6,2,null,null,L),a()()),t&2){let e=r();i(2),s(c(3,1,"data.beacons")),i(3),b(e.beacons)}}function Be(t,l){if(t&1&&(n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td"),_(5),a(),u(6,"td"),a()),t&2){let e=r();i(2),s(c(3,2,"data.overclock")),i(3),$("",e.overclock,"%")}}function ke(t,l){if(t&1){let e=k();n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td")(5,"p-checkbox",13),I("onChange",function(){E(e);let p=r(2);return g(p.toggleRecipe())}),a()()(),n(6,"tr")(7,"th"),_(8),d(9,"translate"),a(),n(10,"td")(11,"p-checkbox",13),I("onChange",function(p){E(e);let x=r(2);return g(x.setRecipeChecked(x.id(),p.checked))}),a()()(),n(12,"tr")(13,"th"),_(14),d(15,"translate"),a(),n(16,"td"),f(17,Ce,3,5,"a",9),a()(),f(18,Se,7,3,"tr")(19,Ie,7,3,"tr")(20,Be,7,4,"tr")}if(t&2){let e,o=l,p=r(2);i(2),s(c(3,11,"data.excluded")),i(3),m("ngModel",o.excluded)("binary",!0),i(3),s(c(9,13,"data.checked")),i(3),m("ngModel",o.checked)("binary",!0),i(3),s(c(15,15,"data.machine")),i(3),C((e=o.machineId)?17:-1,e),i(),C(o.modules!=null&&o.modules.length?18:-1),i(),C(p.data().game===p.Game.Factorio?19:-1),i(),C(p.data().game===p.Game.Satisfactory?20:-1)}}function Te(t,l){if(t&1){let e=k();n(0,"tr")(1,"th"),_(2),d(3,"translate"),a(),n(4,"td")(5,"lab-input-number",15),I("setValue",function(p){E(e);let x=r(2);return g(x.setRecipeCost(x.id(),p))}),a()()()}t&2&&(i(2),s(c(3,2,"data.cost")),i(3),m("value",l))}function Fe(t,l){if(t&1){let e=k();n(0,"table",1)(1,"tr")(2,"th",3)(3,"h3"),_(4),a()()(),n(5,"tr")(6,"td",3),u(7,"i",4),d(8,"iconClass"),a()(),f(9,te,8,9,"tr"),n(10,"tr")(11,"th"),_(12),d(13,"translate"),a(),n(14,"td"),_(15),a()(),f(16,ne,7,3,"tr")(17,oe,7,3,"tr")(18,pe,7,3,"tr"),n(19,"tr")(20,"th"),_(21),d(22,"translate"),a(),n(23,"td"),S(24,de,4,5,"div",null,R),a()(),f(26,re,8,9,"tr")(27,ce,6,6,"tr")(28,me,6,6,"tr")(29,_e,8,8,"tr")(30,se,7,6,"tr"),n(31,"tr")(32,"th",5)(33,"div",6),u(34,"button",7),n(35,"h3"),_(36),d(37,"translate"),a(),n(38,"button",8),I("click",function(){E(e);let p=r();return g(p.resetRecipe(p.id()))}),a()()()(),f(39,ke,21,17)(40,Te,6,4,"tr"),a()}if(t&2){let e,o,p,x=l,v=r();i(4),s(x.name),i(3),B(T(8,20,v.id(),"recipe")),i(2),C((e=v.info().category)?9:-1,e),i(3),s(c(13,23,"data.time")),i(3),s(x.time),i(),C(v.info().ingredientIds.length?16:-1),i(),C(v.info().catalystIds.length?17:-1),i(),C(v.info().productIds.length?18:-1),i(3),s(c(22,25,"data.producers")),i(3),b(x.producers),i(2),C(x.unlockedBy?26:-1),i(),C(x.isMining?27:-1),i(),C(x.isTechnology?28:-1),i(),C(x.part?29:-1),i(),C(x.usage?30:-1),i(6),s(c(37,27,"data.recipeSettings")),i(2),V("invisible",!v.recipesStateRaw()[v.id()]),i(),C((o=v.recipeSettings())?39:-1,o),i(),C((p=(p=v.recipeR())==null?null:p.cost)?40:-1,p)}}function je(t,l){t&1&&(n(0,"div",2),_(1),d(2,"translate"),a()),t&2&&(i(),s(c(2,1,"data.notFound")))}var Ye=(()=>{class t extends Z{recipesStateRaw=this.store.selectSignal(h.recipesState);recipesState=this.store.selectSignal(h.selectRecipesState);obj=y(()=>this.data().recipeEntities[this.id()]);breadcrumb=y(()=>[this.parent()??{},{label:this.obj()?.name}]);info=y(()=>{let e=this.id(),o=this.data(),p=o.recipeEntities[e];return{category:o.categoryEntities[F(p?.category,"")],ingredientIds:Object.keys(p?.in??{}),catalystIds:Object.keys(p?.catalyst??{}),productIds:Object.keys(p?.out??{})}});recipeSettings=y(()=>this.recipesState()[this.id()]);recipeR=y(()=>this.data().adjustedRecipe[this.id()]);Game=G;toggleRecipe(){let e=this.recipeSettings();if(e==null)return;let o=this.id(),p=!e.excluded,x=F(this.data().defaults?.excludedRecipeIds,[]).some(v=>v===o);this.setRecipeExcluded(o,p,x)}setRecipeExcluded(e,o,p){this.store.dispatch(h.setExcluded({id:e,value:o,def:p}))}setRecipeChecked(e,o){this.store.dispatch(h.setChecked({id:e,value:o}))}setRecipeCost(e,o){this.store.dispatch(h.setCost({id:e,value:o}))}resetRecipe(e){this.store.dispatch(h.resetRecipe({id:e}))}static \u0275fac=(()=>{let e;return function(p){return(e||(e=w(t)))(p||t)}})();static \u0275cmp=j({type:t,selectors:[["ng-component"]],standalone:!0,features:[M,P],decls:3,vars:3,consts:[[3,"home","model"],[1,"properties","mb-4"],[1,"my-5","p-error"],["colspan","2",1,"text-center"],[1,"lg"],["colspan","2"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-right",1,"invisible","p-button-rounded"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-rounded",3,"click"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text",3,"label","icon"],[1,"ms-3"],[3,"ngModel","binary","disabled"],[3,"onChange","ngModel","binary"],[3,"class"],[3,"setValue","value"]],template:function(o,p){if(o&1&&(u(0,"p-breadcrumb",0),f(1,Fe,41,29,"table",1)(2,je,3,3,"div",2)),o&2){let x;m("home",p.home())("model",p.breadcrumb()),i(),C((x=p.obj())?1:2,x)}},dependencies:[Y,N,O,X,D,A,H,q,z,J,K,Q,U,W],encapsulation:2,changeDetection:0})}return t})();export{Ye as RecipeComponent};
