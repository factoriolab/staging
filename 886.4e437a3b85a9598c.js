"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[886],{7886:(de,x,s)=>{s.r(x),s.d(x,{WizardComponent:()=>m,WizardState:()=>_});var c=s(6895),e=s(4650),f=s(4006);const b=["rb"],C=function(n,a,t){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":a,"p-radiobutton-label-focus":t}};function y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"label",4),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.select(o))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(3);e.Tol(t.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,C,i.checked,t.disabled,t.focused)),e.uIk("for",t.inputId),e.xp6(1),e.Oqu(t.label)}}const k=function(n,a,t){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":a,"p-radiobutton-focused":t}},T=function(n,a,t){return{"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":a,"p-focus":t}},Z={provide:f.JU,useExisting:(0,e.Gpc)(()=>w),multi:!0};let I=(()=>{class n{constructor(){this.accessors=[]}add(t,i){this.accessors.push([t,i])}remove(t){this.accessors=this.accessors.filter(i=>i[1]!==t)}select(t){this.accessors.forEach(i=>{this.isSameGroup(i,t)&&i[1]!==t&&i[1].writeValue(t.value)})}isSameGroup(t,i){return!!t[0].control&&t[0].control.root===i.control.control.root&&t[1].name===i.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w=(()=>{class n{constructor(t,i,o){this.cd=t,this.injector=i,this.registry=o,this.onClick=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(f.a5),this.checkName(),this.registry.add(this.control,this)}handleClick(t,i,o){t.preventDefault(),!this.disabled&&(this.select(t),o&&i.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:t,value:this.value}))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(e.zs3),e.Y36(I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-radioButton"]],viewQuery:function(t,i){if(1&t&&e.Gf(b,5),2&t){let o;e.iGM(o=e.CRH())&&(i.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[e._Bn([Z])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("change",function(l){return i.onChange(l)})("focus",function(l){return i.onInputFocus(l)})("blur",function(l){return i.onInputBlur(l)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(l){e.CHM(o);const p=e.MAs(3);return e.KtG(i.handleClick(l,p,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,y,2,9,"label",6)}2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.kEZ(15,k,i.checked,i.disabled,i.focused)),e.xp6(2),e.Q6J("checked",i.checked)("disabled",i.disabled),e.uIk("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy),e.xp6(2),e.Q6J("ngClass",e.kEZ(19,T,i.checked,i.disabled,i.focused)),e.xp6(2),e.Q6J("ngIf",i.label))},dependencies:[c.mk,c.O5,c.PC],encapsulation:2,changeDetection:0}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez]}),n})();var h=s(4258),v=s(3608);let B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,h.Bz,v.z,h.Bz,v.z]}),n})();var N=s(9841),E=s(4004),W=s(2518),g=s(8298),d=s(3087),F=s(2997),Q=s(5593),U=s(4247),H=s(5108),q=s(2210),D=s(1795),V=s(5439),G=s(8290),Y=s(3989),$=s(6188),K=s(1969);function P(n,a){1&n&&e.GkF(0)}function X(n,a){if(1&n&&(e.ynx(0),e.YNc(1,P,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ee(n,a){1&n&&e.GkF(0)}function te(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ee,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ne(n,a){1&n&&e.GkF(0)}function ie(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ne,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function oe(n,a){1&n&&e.GkF(0)}function ae(n,a){if(1&n&&(e.ynx(0),e.YNc(1,oe,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(10),r=e.oxw().ngIf;return e.KtG(o.clickOpen(r.data,"item"))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"lab-picker",11,12),e.NdJ("selectId",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectId(o,r.WizardState.ItemObjectiveType))}),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-divider"),e.TgZ(13,"span"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(19),r=e.oxw().ngIf;return e.KtG(o.clickOpen(r.data,"recipe"))}),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"lab-picker",14,15),e.NdJ("selectId",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectId(o,r.WizardState.RecipeObjective))}),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"p-divider")}if(2&n){const t=e.oxw().ngIf;e.xp6(1),e.hij(" ",e.lcZ(2,8,"wizard.objectiveType")," "),e.xp6(4),e.Oqu(e.lcZ(6,10,"wizard.produceItems")),e.xp6(2),e.Q6J("label",e.lcZ(8,12,"wizard.produceItemsButton")),e.xp6(2),e.Q6J("header",e.lcZ(11,14,"wizard.produceItemsButton")),e.xp6(5),e.Oqu(e.lcZ(15,16,"wizard.runMachines")),e.xp6(2),e.Q6J("label",e.lcZ(17,18,"wizard.runMachinesButton")),e.xp6(2),e.Q6J("header",e.lcZ(20,20,"wizard.runMachinesButton"))("recipesLocked",t.recipesLocked)}}function se(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"div",16)(5,"i"),e.ALo(6,"iconClass"),e.qZA(),e.TgZ(7,"span",17),e._uU(8),e.qZA()(),e.TgZ(9,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.state=o.WizardState.ItemObjectiveItems)}),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"p-divider"),e.TgZ(12,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.state=o.WizardState.ObjectiveType)}),e.ALo(13,"translate"),e.qZA()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,6,"wizard.itemObjectiveType")," "),e.xp6(4),e.Tol(e.lcZ(6,8,i.id)),e.xp6(3),e.Oqu(t.data.itemEntities[i.id].name),e.xp6(1),e.Q6J("label",e.lcZ(10,10,"wizard.itemObjectiveTypeItems")),e.xp6(3),e.Q6J("label",e.lcZ(13,12,"wizard.back"))}}function le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"div",16)(5,"i"),e.ALo(6,"iconClass"),e.qZA(),e.TgZ(7,"span",17),e._uU(8),e.qZA()(),e.TgZ(9,"lab-input-number",20),e.NdJ("setValue",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.rate=o)}),e.qZA(),e.TgZ(10,"p-dropdown",21),e.NdJ("onChange",function(o){e.CHM(t);const r=e.oxw().ngIf,l=e.oxw();return e.KtG(l.setDisplayRate(o.value,r.displayRate))}),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.createItemObjective(o.id,o.rate,o.RateUnit.Items))}),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"p-divider"),e.TgZ(15,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.state=o.WizardState.ItemObjectiveType)}),e.ALo(16,"translate"),e.qZA()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,10,"wizard.itemObjectiveItems")),e.xp6(4),e.Tol(e.lcZ(6,12,i.id)),e.xp6(3),e.Oqu(t.data.itemEntities[i.id].name),e.xp6(1),e.Q6J("value",i.rate),e.xp6(1),e.Q6J("tooltip",e.lcZ(11,14,"objectives.selectDisplayRate"))("ngModel",t.displayRate)("options",i.displayRateOptions),e.xp6(2),e.Q6J("label",e.lcZ(13,16,"ok")),e.xp6(3),e.Q6J("label",e.lcZ(16,18,"wizard.back"))}}function ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"p-divider"),e.TgZ(4,"div",16)(5,"i"),e.ALo(6,"iconClass"),e.qZA(),e.TgZ(7,"span",17),e._uU(8),e.qZA()(),e.TgZ(9,"lab-input-number",20),e.NdJ("setValue",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.count=o)}),e.qZA(),e.TgZ(10,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.createRecipeObjective(o.id,o.count))}),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-divider"),e.TgZ(13,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.state=o.WizardState.ObjectiveType)}),e.ALo(14,"translate"),e.qZA()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,7,"wizard.recipeObjectiveMachines")),e.xp6(4),e.Tol(e.lcZ(6,9,i.id)),e.xp6(3),e.Oqu(t.data.recipeEntities[i.id].name),e.xp6(1),e.Q6J("value",i.count),e.xp6(1),e.Q6J("label",e.lcZ(11,11,"ok")),e.xp6(3),e.Q6J("label",e.lcZ(14,13,"wizard.back"))}}function pe(n,a){if(1&n&&(e.TgZ(0,"p-card")(1,"div",1),e.ynx(2,2),e.YNc(3,X,2,1,"ng-container",3),e.YNc(4,te,2,1,"ng-container",3),e.YNc(5,ie,2,1,"ng-container",3),e.YNc(6,ae,2,1,"ng-container",3),e.BQk(),e._UZ(7,"button",4),e.ALo(8,"translate"),e.qZA(),e.YNc(9,re,22,22,"ng-template",null,5,e.W1O),e.YNc(11,se,14,14,"ng-template",null,6,e.W1O),e.YNc(13,le,17,20,"ng-template",null,7,e.W1O),e.YNc(15,ce,15,15,"ng-template",null,8,e.W1O),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.state),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.ObjectiveType),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.ItemObjectiveType),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.ItemObjectiveItems),e.xp6(1),e.Q6J("ngSwitchCase",t.WizardState.RecipeObjective),e.xp6(1),e.Q6J("label",e.lcZ(8,6,"cancel"))}}var _=(()=>{return(n=_||(_={}))[n.ObjectiveType=0]="ObjectiveType",n[n.ItemObjectiveType=1]="ItemObjectiveType",n[n.ItemObjectiveItems=2]="ItemObjectiveItems",n[n.RecipeObjective=3]="RecipeObjective",_;var n})();class m{constructor(a){this.store=a,this.vm$=(0,N.a)([this.store.select(d.Zr.pY),this.store.select(d.Zr.xU),this.store.select(d.Zr.P7),this.store.select(d.Zr.VS)]).pipe((0,E.U)(([t,i,o,r])=>({data:t,recipesLocked:i,displayRate:o,rateUnitOptions:r}))),this.id="",this.rate="1",this.count="1",this.state=_.ObjectiveType,this.displayRateOptions=g.g6,this.RateUnit=g.Wx,this.WizardState=_}selectId(a,t){this.id=a,this.state=t}setDisplayRate(a,t){this.store.dispatch(new d.Zr.MO({value:a,prev:t}))}createItemObjective(a,t,i){this.store.dispatch(new d.Hs.$f({id:"0",itemId:a,rate:t,rateUnit:i,type:g.S5.Output}))}createRecipeObjective(a,t){this.store.dispatch(new d.xR.$f({id:"0",recipeId:a,count:t,type:g.S5.Output}))}}m.\u0275fac=function(a){return new(a||m)(e.Y36(F.yh))},m.\u0275cmp=e.Xpm({type:m,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"d-flex","flex-column","p-fluid"],[3,"ngSwitch"],[4,"ngSwitchCase"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark","routerLink","/","queryParamsHandling","preserve",1,"p-button-outlined",3,"label"],["objectiveType",""],["itemObjectiveType",""],["itemObjectiveItems",""],["recipeObjective",""],[4,"ngTemplateOutlet"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",1,"mt-2",3,"label","click"],[3,"header","selectId"],["addItemObjectivePicker",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"label","click"],[3,"header","recipesLocked","selectId"],["addRecipePicker",""],[1,"d-flex","align-items-center","justify-content-center"],[1,"ms-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-gauge",1,"mt-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-left",1,"mb-2","p-button-outlined",3,"label","click"],["tooltipPosition","top",1,"mt-2","w-100",3,"value","setValue"],["labDropdownTranslate","","styleClass","mt-2 h-100",3,"tooltip","ngModel","options","onChange"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check","routerLink","/list",1,"mt-2",3,"label","click"]],template:function(a,t){1&a&&(e.YNc(0,pe,17,8,"p-card",0),e.ALo(1,"async")),2&a&&e.Q6J("ngIf",e.lcZ(1,1,t.vm$))},dependencies:[c.ez,c.O5,c.tP,c.RF,c.n9,c.Ov,A,B,h.rH,W.o,f.JJ,f.On,Q.Hq,U.Z,H.i,q.Lt,D.H,V.l,G.q,Y.l,$.X$,K.Y],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"],changeDetection:0})}}]);