import{a as Z}from"./chunk-STSBLPHV.js";import{$a as L,Aa as f,Ae as Y,Ca as m,Cd as h,Da as j,Fa as B,Ga as C,Ia as y,Ib as P,Ja as v,Ka as S,La as o,Ma as a,Na as x,Pa as T,Pc as G,Pd as H,Qa as R,Qd as U,Ra as d,Wa as _,Xa as s,Ya as V,Zc as N,_c as O,ba as F,be as z,de as J,ee as K,fa as E,fb as p,ga as g,gb as r,ha as w,hb as k,hd as q,ie as Q,je as W,nc as D,pe as X,qa as b,ta as i,tc as A,ub as $,za as M}from"./chunk-KFYW5HLG.js";function ie(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"a",9),x(6,"button",10),p(7,"iconSmClass"),a()()()),e&2){let t=d();i(2),s(r(3,4,"data.category")),i(3),m("routerLink","/data/categories/"+t.category),i(),m("label",n.name)("icon",k(7,6,t.category,"category"))}}function ne(e,n){if(e&1&&(o(0,"div")(1,"a",9),x(2,"button",10),p(3,"iconSmClass"),a(),o(4,"span",11),_(5),a()()),e&2){let t=n.$implicit,l=d(2),c=d();i(),m("routerLink","/data/items/"+t),i(),m("label",c.data().itemEntities[t].name)("icon",r(3,4,t)),i(3),s(l.in[t])}}function oe(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),v(5,ne,6,6,"div",null,y),a()()),e&2){let t=d(2);i(2),s(r(3,1,"data.ingredients")),i(3),S(t.info().ingredientIds)}}function ae(e,n){if(e&1&&(o(0,"div")(1,"a",9),x(2,"button",10),p(3,"iconSmClass"),a(),o(4,"span",11),_(5),a()()),e&2){let t=n.$implicit,l=d(2),c=d();i(),m("routerLink","/data/items/"+t),i(),m("label",c.data().itemEntities[t].name)("icon",r(3,4,t)),i(3),s(l.catalyst==null?null:l.catalyst[t])}}function le(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),v(5,ae,6,6,"div",null,y),a()()),e&2){let t=d(2);i(2),s(r(3,1,"data.catalysts")),i(3),S(t.info().catalystIds)}}function pe(e,n){if(e&1&&(o(0,"div")(1,"a",9),x(2,"button",10),p(3,"iconSmClass"),a(),o(4,"span",11),_(5),p(6,"round"),a()()),e&2){let t=n.$implicit,l=d(2),c=d();i(),m("routerLink","/data/items/"+t),i(),m("label",c.data().itemEntities[t].name)("icon",r(3,4,t)),i(3),s(r(6,6,l.out[t]))}}function de(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),v(5,pe,7,8,"div",null,y),a()()),e&2){let t=d(2);i(2),s(r(3,1,"data.products")),i(3),S(t.info().productIds)}}function re(e,n){if(e&1&&(o(0,"div")(1,"a",9),x(2,"button",10),p(3,"iconSmClass"),a()()),e&2){let t=n.$implicit,l=d(2);i(),m("routerLink","/data/machines/"+t),i(),m("label",l.data().itemEntities[t].name)("icon",r(3,3,t))}}function ce(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"a",9),x(6,"button",10),p(7,"iconSmClass"),a()()()),e&2){let t=d(),l=d();i(2),s(r(3,4,"data.unlockedBy")),i(3),m("routerLink","/data/technologies/"+t.unlockedBy),i(),m("label",l.data().itemEntities[t.unlockedBy].name)("icon",k(7,6,t.unlockedBy,"recipe"))}}function me(e,n){e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),x(5,"p-checkbox",12),a()()),e&2&&(i(2),s(r(3,4,"data.mining")),i(3),m("ngModel",!0)("binary",!0)("disabled",!0))}function _e(e,n){e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),x(5,"p-checkbox",12),a()()),e&2&&(i(2),s(r(3,4,"data.technology")),i(3),m("ngModel",!0)("binary",!0)("disabled",!0))}function se(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"a",9),x(6,"button",10),p(7,"iconSmClass"),a()()()),e&2){let t=d(),l=d();i(2),s(r(3,4,"data.rocketPart")),i(3),m("routerLink","/data/items/"+t.part),i(),m("label",l.data().itemEntities[t.part].name)("icon",r(7,6,t.part))}}function Ce(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),_(5),p(6,"usage"),a()()),e&2){let t=d();i(2),s(r(3,2,"data.energyConsumption")),i(3),s(r(6,4,t.usage))}}function ue(e,n){if(e&1&&(o(0,"a",9),x(1,"button",10),p(2,"iconSmClass"),a()),e&2){let t=d(3);m("routerLink","/data/machines/"+n),i(),m("label",t.data().itemEntities[n].name)("icon",r(2,3,n))}}var ee=(e,n)=>n.id;function xe(e,n){if(e&1&&(o(0,"i"),p(1,"iconSmClass"),a()),e&2){let t=d();B(r(1,2,t))}}function fe(e,n){if(e&1&&(o(0,"a",9),x(1,"button",10),p(2,"iconSmClass"),a()),e&2){let t=d(),l=d(5);m("routerLink","/data/modules/"+t),i(),m("label",l.data().itemEntities[t].name)("icon",r(2,3,t))}}function ve(e,n){e&1&&(o(0,"div"),f(1,xe,2,4,"i",14)(2,fe,3,5),a()),e&2&&(i(),C(1,n==="module"?1:2))}function Se(e,n){if(e&1&&f(0,ve,3,1,"div"),e&2){let t=n.$implicit,l;C(0,(l=t.id)?0:-1,l)}}function he(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),v(5,Se,1,1,null,null,ee),a()()),e&2){let t=d();i(2),s(r(3,1,"data.modules")),i(3),S(t.modules)}}function be(e,n){if(e&1&&(o(0,"a",9),x(1,"button",10),p(2,"iconSmClass"),a()),e&2){let t=d().$implicit,l=d(4);m("routerLink","/data/beacons/"+t.id),i(),m("label",l.data().itemEntities[t.id].name)("icon",r(2,3,t.id))}}function ye(e,n){if(e&1&&(o(0,"i"),p(1,"iconSmClass"),a()),e&2){let t=d();B(r(1,2,t))}}function Ee(e,n){if(e&1&&(o(0,"a",9),x(1,"button",10),p(2,"iconSmClass"),a()),e&2){let t=d(),l=d(6);m("routerLink","/data/modules/"+t),i(),m("label",l.data().itemEntities[t].name)("icon",r(2,3,t))}}function ge(e,n){e&1&&(o(0,"div"),f(1,ye,2,4,"i",14)(2,Ee,3,5),a()),e&2&&(i(),C(1,n==="module"?1:2))}function Re(e,n){if(e&1&&f(0,ge,3,1,"div"),e&2){let t=n.$implicit,l;C(0,(l=t.id)?0:-1,l)}}function Ie(e,n){if(e&1&&(o(0,"div"),f(1,be,3,5,"a",9),o(2,"span",11),_(3),a()(),v(4,Re,1,1,null,null,ee)),e&2){let t=n.$implicit;i(),C(1,t.id?1:-1),i(2),s(t.count),i(),S(t.modules)}}function Be(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),v(5,Ie,6,2,null,null,y),a()()),e&2){let t=d();i(2),s(r(3,1,"data.beacons")),i(3),S(t.beacons)}}function Te(e,n){if(e&1&&(o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td"),_(5),a(),x(6,"td"),a()),e&2){let t=d();i(2),s(r(3,2,"data.overclock")),i(3),V("",t.overclock,"%")}}function ke(e,n){if(e&1){let t=T();o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"p-checkbox",13),R("onChange",function(){E(t);let c=d(2);return g(c.toggleRecipe())}),a()()(),o(6,"tr")(7,"th"),_(8),p(9,"translate"),a(),o(10,"td")(11,"p-checkbox",13),R("onChange",function(c){E(t);let u=d(2);return g(u.setRecipeChecked(u.id(),c.checked))}),a()()(),o(12,"tr")(13,"th"),_(14),p(15,"translate"),a(),o(16,"td"),f(17,ue,3,5,"a",9),a()(),f(18,he,7,3,"tr")(19,Be,7,3,"tr")(20,Te,7,4,"tr")}if(e&2){let t=d(2),l;i(2),s(r(3,11,"data.excluded")),i(3),m("ngModel",n.excluded)("binary",!0),i(3),s(r(9,13,"data.checked")),i(3),m("ngModel",n.checked)("binary",!0),i(3),s(r(15,15,"data.machine")),i(3),C(17,(l=n.machineId)?17:-1,l),i(),C(18,n.modules!=null&&n.modules.length?18:-1),i(),C(19,t.data().game===t.Game.Factorio?19:-1),i(),C(20,t.data().game===t.Game.Satisfactory?20:-1)}}function Fe(e,n){if(e&1){let t=T();o(0,"tr")(1,"th"),_(2),p(3,"translate"),a(),o(4,"td")(5,"lab-input-number",15),R("setValue",function(c){E(t);let u=d(2);return g(u.setRecipeCost(u.id(),c))}),a()()()}e&2&&(i(2),s(r(3,2,"data.cost")),i(3),m("value",n))}function we(e,n){if(e&1){let t=T();o(0,"table",2)(1,"tr")(2,"th",3)(3,"h3"),_(4),a()()(),o(5,"tr")(6,"td",3)(7,"i",4),p(8,"iconClass"),a()()(),f(9,ie,8,9,"tr"),o(10,"tr")(11,"th"),_(12),p(13,"translate"),a(),o(14,"td"),_(15),a()(),f(16,oe,7,3,"tr")(17,le,7,3,"tr")(18,de,7,3,"tr"),o(19,"tr")(20,"th"),_(21),p(22,"translate"),a(),o(23,"td"),v(24,re,4,5,"div",null,y),a()(),f(26,ce,8,9,"tr")(27,me,6,6,"tr")(28,_e,6,6,"tr")(29,se,8,8,"tr")(30,Ce,7,6,"tr"),o(31,"tr")(32,"th",5)(33,"div",6),x(34,"button",7),o(35,"h3"),_(36),p(37,"translate"),a(),o(38,"button",8),R("click",function(){E(t);let c=d();return g(c.resetRecipe(c.id()))}),a()()()(),f(39,ke,21,17)(40,Fe,6,4,"tr"),a()}if(e&2){let t=d(),l,c;i(4),s(n.name),i(3),B(k(8,20,t.id(),"recipe")),i(2),C(9,(l=t.info().category)?9:-1,l),i(3),s(r(13,23,"data.time")),i(3),s(n.time),i(),C(16,t.info().ingredientIds.length?16:-1),i(),C(17,t.info().catalystIds.length?17:-1),i(),C(18,t.info().productIds.length?18:-1),i(3),s(r(22,25,"data.producers")),i(3),S(n.producers),i(2),C(26,n.unlockedBy?26:-1),i(),C(27,n.isMining?27:-1),i(),C(28,n.isTechnology?28:-1),i(),C(29,n.part?29:-1),i(),C(30,n.usage?30:-1),i(6),s(r(37,27,"data.recipeSettings")),i(2),j("invisible",!t.recipesStateRaw()[t.id()]),i(),C(39,(l=t.recipeSettings())?39:-1,l),i(),C(40,(l=(c=t.recipeR())==null?null:c.cost)?40:-1,l)}}function Me(e,n){e&1&&(o(0,"div",16),_(1),p(2,"translate"),a()),e&2&&(i(),s(r(2,1,"data.notFound")))}var et=(()=>{let n=class n extends Z{constructor(){super(...arguments),this.recipesStateRaw=this.store.selectSignal(h.recipesState),this.recipesState=this.store.selectSignal(h.getRecipesState),this.obj=b(()=>this.data().recipeEntities[this.id()]),this.breadcrumb=b(()=>[this.parent(),{label:this.obj()?.name}]),this.info=b(()=>{let l=this.id(),c=this.data(),u=c.recipeEntities[l];return{category:c.categoryEntities[q(u?.category)],ingredientIds:Object.keys(u?.in??{}),catalystIds:Object.keys(u?.catalyst??{}),productIds:Object.keys(u?.out??{})}}),this.recipeSettings=b(()=>this.recipesState()[this.id()]),this.recipeR=b(()=>this.data().recipeR[this.id()]),this.Game=P}toggleRecipe(){let l=this.recipeSettings();if(l==null)return;let c=this.id(),u=!l.excluded,I=(this.data().defaults?.excludedRecipeIds??[]).some(te=>te===c);this.setRecipeExcluded(c,u,I)}setRecipeExcluded(l,c,u){this.store.dispatch(new h.SetExcludedAction({id:l,value:c,def:u}))}setRecipeChecked(l,c){this.store.dispatch(new h.SetCheckedAction({id:l,value:c}))}setRecipeCost(l,c){this.store.dispatch(new h.SetCostAction({id:l,value:c}))}resetRecipe(l){this.store.dispatch(new h.ResetRecipeAction(l))}};n.\u0275fac=(()=>{let l;return function(u){return(l||(l=w(n)))(u||n)}})(),n.\u0275cmp=F({type:n,selectors:[["ng-component"]],standalone:!0,features:[M,L],decls:3,vars:3,consts:[[3,"home","model"],["class","properties mb-4"],[1,"properties","mb-4"],["colspan","2",1,"text-center"],[1,"lg"],["colspan","2"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-right",1,"invisible","p-button-rounded"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-rounded",3,"click"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text",3,"label","icon"],[1,"ms-3"],[3,"ngModel","binary","disabled"],[3,"ngModel","binary","onChange"],[3,"class"],[3,"value","setValue"],[1,"my-5","p-error"]],template:function(c,u){if(c&1&&(x(0,"p-breadcrumb",0),f(1,we,41,29,"table",1)(2,Me,3,3)),c&2){let I;m("home",u.home())("model",u.breadcrumb()),i(),C(1,(I=u.obj())?1:2,I)}},dependencies:[$,Y,N,O,X,A,H,U,D,z,G,J,K,Q,W],changeDetection:0});let e=n;return e})();export{et as RecipeComponent};
