import{a as ne,b as oe}from"./chunk-3Y5LXCXE.js";import{a as U,b as J,h as K,i as Q,k as W,m as Y,n as ee,o as te,p as ie}from"./chunk-E6N6O4HQ.js";import"./chunk-63AV2ZIR.js";import"./chunk-PYONMOMV.js";import{$a as S,Ab as v,Ac as D,Bb as M,Bc as H,Ce as F,Hb as R,Jc as j,Ka as i,Kb as E,Mf as N,Qa as k,Rb as c,Sb as f,Tb as B,Xa as d,Yc as V,Za as u,_b as I,ae as b,af as L,bd as X,bf as q,cb as g,hb as n,ib as l,jb as m,jf as Z,ka as s,lf as $,ma as P,me as A,nb as h,ob as y,of as G,pb as p,pc as O,ta as x,ua as C,x as w,zb as _,zd as z}from"./chunk-DGPIZ6QZ.js";var le=(e,a)=>({time:e,cost:a});function re(e,a){e&1&&(n(0,"div",7),m(1,"i",8),n(2,"span"),_(3),c(4,"translate"),l()()),e&2&&(i(3),v(f(4,1,"app.error")))}function pe(e,a){if(e&1){let t=h();n(0,"p-dialog",1),d(1,re,5,3,"ng-template",2),n(2,"div",3)(3,"div"),_(4),c(5,"translate"),l(),n(6,"div",4),_(7),l(),n(8,"div",5)(9,"button",6),c(10,"translate"),y("click",function(){x(t);let r=p();return C(r.reset())}),l()()()()}if(e&2){let t=p();u("visible",!0)("modal",!0)("draggable",!1)("resizable",!1)("closable",!1)("closeOnEscape",!1),i(4),v(f(5,10,"app.errorDetail")),i(3),v(a),i(2),u("label",f(10,12,"reset"))("loading",t.isResetting)}}function se(e,a){e&1&&m(0,"p-tabMenu",15),e&2&&u("model",a)}function me(e,a){if(e&1&&(n(0,"div"),_(1),c(2,"translate"),l()),e&2){let t,o=p(4);i(),M(" ",B(2,1,"app.simplexSolved",E(4,le,o.result().time,(t=o.result().cost)==null?null:t.toPrecision(2)))," ")}}function ce(e,a){if(e&1&&(n(0,"div"),_(1),c(2,"translate"),l()),e&2){let t=p(4);i(),M(" ",f(2,1,"options.simplexResultType."+t.result().resultType)," ")}}function de(e,a){if(e&1&&(n(0,"div",17),d(1,me,3,7,"div")(2,ce,3,3,"div"),n(3,"span"),_(4),l()()),e&2){let t=p(3);i(),g(t.result().resultType===t.SimplexResultType.Solved?1:2),i(3),v(t.contentSvc.version)}}function ue(e,a){if(e&1&&(m(0,"lab-objectives"),n(1,"p-card",14),c(2,"translate"),d(3,se,1,1,"p-tabMenu",15),c(4,"async"),m(5,"router-outlet"),d(6,de,5,2,"ng-template",16),l()),e&2){let t,o=p(2);i(),u("header",f(2,2,"app.factory")),i(2),g((t=f(4,4,o.tabItems$))?3:-1,t)}}function _e(e,a){e&1&&(n(0,"div",13),m(1,"p-progressSpinner"),l())}function fe(e,a){if(e&1){let t=h();m(0,"lab-settings",9),n(1,"div",10),y("click",function(){x(t);let r=p();return C(r.contentSvc.toggleSettings())}),l(),n(2,"div",11)(3,"main",12),d(4,ue,7,6)(5,_e,2,0,"div",13),l()()}if(e&2){let t=p();u("active",t.contentSvc.settingsActive())("hidden",t.contentSvc.settingsXlHidden()),i(),S("active",t.contentSvc.settingsActive()),i(),S("settings-xl-hidden",t.contentSvc.settingsXlHidden()),i(2),g(t.mod()?4:5)}}var ae=(()=>{class e{contentSvc=s(Z);ngZone=s(k);ref=s(I);router=s(H);store=s(V);errorSvc=s(G);translateSvc=s($);gameInfo=this.store.selectSignal(b.selectGameInfo);mod=this.store.selectSignal(b.selectMod);result=this.store.selectSignal(A.selectMatrixResult);isResetting=!1;tabItems$=this.translateSvc.multi(["app.list","app.flow","app.data"]).pipe(w(([t,o,r])=>[{label:t,icon:"fa-solid fa-list",routerLink:"list",queryParamsHandling:"preserve"},{label:o,icon:"fa-solid fa-diagram-project",routerLink:"flow",queryParamsHandling:"preserve"},{label:r,icon:"fa-solid fa-database",routerLink:"data",queryParamsHandling:"preserve"}]));SimplexResultType=z;reset(){this.isResetting=!0,setTimeout(()=>{this.ngZone.run(()=>{this.errorSvc.message.set(null),this.router.navigateByUrl(this.gameInfo().route),this.store.dispatch(X.reset()),this.isResetting=!1})},10)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=P({type:e,selectors:[["ng-component"]],standalone:!0,features:[R],decls:3,vars:3,consts:[[3,"sticky","settingsXlHidden"],[3,"visible","modal","draggable","resizable","closable","closeOnEscape"],["pTemplate","header"],[1,"p-error"],[1,"mt-4"],[1,"text-end","mt-4"],["pButton","","pRipple","","type","button",1,"p-button-outlined",3,"click","label","loading"],[1,"p-dialog-title","p-error"],[1,"fa-solid","fa-circle-exclamation","me-2"],[3,"active","hidden"],[1,"layout-mask",3,"click"],[1,"layout-content"],[1,"px-sm-4","py-4"],[1,"d-flex","flex-column","align-items-center","mt-5"],["styleClass","mt-4",3,"header"],[3,"model"],["pTemplate","footer"],[1,"d-flex","align-items-center","justify-content-between"]],template:function(o,r){if(o&1&&(m(0,"lab-header",0),d(1,pe,11,14,"p-dialog",1)(2,fe,6,7)),o&2){let T;u("sticky",r.contentSvc.scrollTop()>16)("settingsXlHidden",r.contentSvc.settingsXlHidden()),i(),g((T=r.errorSvc.message())?1:2,T)}},dependencies:[O,q,L,F,J,U,Q,K,oe,ne,ie,te,D,W,Y,ee,N],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}main[_ngcontent-%COMP%]{overflow-x:hidden}.layout-content[_ngcontent-%COMP%]{transition:margin .4s cubic-bezier(.05,.74,.2,.99);margin-left:320px;padding-top:4rem}@media (max-width: 1199.98px){.layout-content[_ngcontent-%COMP%]{margin-left:0;padding-top:6rem}}@media (min-width: 1200px){.layout-content.settings-xl-hidden[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1199.98px){.layout-mask.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:3;background-color:var(--maskbg);width:100%;height:100%}}"],changeDetection:0})}return e})();var ge=[{path:"",component:ae,children:[{path:"list",loadComponent:()=>import("./chunk-ZQ6HWL53.js").then(e=>e.ListComponent)},{path:"flow",loadComponent:()=>import("./chunk-7BWBIVLR.js").then(e=>e.FlowComponent)},{path:"data",loadChildren:()=>import("./chunk-ALNVV4NO.js").then(e=>e.routes)}]}],$e=j.forChild(ge);export{$e as MainRoutingModule,ge as routes};
