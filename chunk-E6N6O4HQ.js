import{A as ln,B as ta,C as ia,D as si,a as wi,b as li,c as Zo,d as Xo,e as Fe,f as Le,g as Yo,h as Re,i as Jo,j as kn,k as ea,l as Mn,m as he,n as re,o as Kt,p as nt,q as kt,r as ki,s as Qt,t as nn,u as on,v as Mi,w as Ei,x as En,y as zt,z as an}from"./chunk-63AV2ZIR.js";import{a as Xi,b as Yi,c as Sn,d as wn,e as Si}from"./chunk-PYONMOMV.js";import{$a as Me,$b as V,$d as Ie,$e as Ze,Aa as no,Ab as y,Ad as wo,Ae as ni,Af as Ao,Ba as pe,Bb as j,Bc as Ui,Bd as ko,Be as yi,Bf as zo,Ca as Ve,Cb as Li,Cc as Tt,Cd as Mo,Ce as U,Cf as Ho,Da as L,Db as Be,Dc as bi,Dd as xn,De as Se,Df as jo,E as Ki,Ea as Ye,Eb as Pe,Ed as Eo,Ee as mi,Ef as $o,Fb as De,Fd as vn,Ff as No,Ga as ft,Gb as Xt,Gd as xi,Gf as Ko,Ha as Ft,Hb as ne,Hd as Oo,He as wt,Hf as Qo,I as di,Ib as J,Id as Vo,Ie as Ue,If as Wo,Ja as oo,Jb as N,Jc as Nt,Jd as Bo,Jf as qo,Ka as l,Kb as Y,Kc as Jt,Kd as ti,Ke as We,Kf as Uo,La as B,Lb as lt,Le as _i,Lf as zi,M as Zn,Mb as Wi,Mc as mo,Me as Ge,Mf as Oe,Ne as yn,Nf as Go,Oa as at,Pe as Tn,Qa as qt,Qb as Yt,Rb as _,Sa as ao,Sb as u,T as ot,Ta as ce,Tb as K,Ua as Ut,Ub as Lt,Ue as I,Va as ze,Vb as O,Vd as Ai,Ve as Ti,W as Xn,Wa as de,Wd as Bt,We as oi,Xa as m,Xe as ai,Ya as k,Yc as we,Ye as Ii,Za as p,_a as lo,_b as me,_e as qe,a as be,aa as Yn,ab as $e,ac as _e,ae as H,af as ge,b as xt,bb as M,bc as Ee,bd as _o,be as Qe,bf as se,ca as Jn,cb as v,cd as it,cf as Pt,db as $t,dc as Vt,dd as Gi,df as pt,eb as gt,ed as uo,fa as _t,fb as G,fd as oe,gb as Z,gc as ht,gd as Zi,ge as Je,gf as In,ha as xe,hb as r,hf as Do,ib as c,ic as le,id as fo,jb as x,jc as yt,jd as go,jf as Xe,ka as A,kb as Q,kc as ye,kd as ei,lb as W,ld as Ri,le as Te,lf as At,m as Wn,ma as R,mb as P,md as ho,me as ae,n as qn,na as ve,nb as T,nc as ue,nd as Co,oa as ut,ob as b,oc as ie,od as It,pa as eo,pb as s,pc as so,pd as bo,pe as q,qb as tt,qc as Ci,qd as xo,qe as je,r as Un,rb as He,rc as fe,rd as vo,re as st,rf as Fo,sa as Qi,sb as te,sc as ke,sd as Rt,ta as g,tb as X,td as yo,u as Gn,ua as h,ub as D,ud as St,uf as Ji,va as hi,vb as F,vd as To,vf as en,wa as Ae,wb as Gt,wc as ro,wd as Io,we as vi,wf as Lo,x as ci,xa as to,xb as Zt,xc as po,xe as Po,xf as tn,y as Ot,yb as w,yc as co,yd as So,ye as ii,yf as Ro,za as io,zb as C,zc as qi,zd as bn,ze as rt,zf as Ne}from"./chunk-DGPIZ6QZ.js";var Ha=["*",[["p-header"]],[["p-footer"]]],ja=["*","p-header","p-footer"];function $a(t,a){t&1&&P(0)}function Na(t,a){if(t&1&&(r(0,"div",8),He(1,1),m(2,$a,1,0,"ng-container",6),c()),t&2){let e=s();l(2),p("ngTemplateOutlet",e.headerTemplate)}}function Ka(t,a){t&1&&P(0)}function Qa(t,a){if(t&1&&(r(0,"div",9),C(1),m(2,Ka,1,0,"ng-container",6),c()),t&2){let e=s();l(),j(" ",e.header," "),l(),p("ngTemplateOutlet",e.titleTemplate)}}function Wa(t,a){t&1&&P(0)}function qa(t,a){if(t&1&&(r(0,"div",10),C(1),m(2,Wa,1,0,"ng-container",6),c()),t&2){let e=s();l(),j(" ",e.subheader," "),l(),p("ngTemplateOutlet",e.subtitleTemplate)}}function Ua(t,a){t&1&&P(0)}function Ga(t,a){t&1&&P(0)}function Za(t,a){if(t&1&&(r(0,"div",11),He(1,2),m(2,Ga,1,0,"ng-container",6),c()),t&2){let e=s();l(2),p("ngTemplateOutlet",e.footerTemplate)}}var na=(()=>{class t{el;header;subheader;set style(e){q.equals(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=ce(null);constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(i){return new(i||t)(B(Ve))};static \u0275cmp=R({type:t,selectors:[["p-card"]],contentQueries:function(i,n,o){if(i&1&&(te(o,ni,5),te(o,yi,5),te(o,U,4)),i&2){let d;D(d=F())&&(n.headerFacet=d.first),D(d=F())&&(n.footerFacet=d.first),D(d=F())&&(n.templates=d)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:ja,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,n){i&1&&(tt(Ha),r(0,"div",0),m(1,Na,3,1,"div",1),r(2,"div",2),m(3,Qa,3,2,"div",3)(4,qa,3,2,"div",4),r(5,"div",5),He(6),m(7,Ua,1,0,"ng-container",6),c(),m(8,Za,3,1,"div",7),c()()),i&2&&(M(n.styleClass),p("ngClass","p-card p-component")("ngStyle",n._style()),k("data-pc-name","card"),l(),p("ngIf",n.headerFacet||n.headerTemplate),l(2),p("ngIf",n.header||n.titleTemplate),l(),p("ngIf",n.subheader||n.subtitleTemplate),l(3),p("ngTemplateOutlet",n.contentTemplate),l(),p("ngIf",n.footerFacet||n.footerTemplate))},dependencies:[le,ye,ie,ue],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return t})(),oa=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,Se]})}return t})();var Oi=(()=>{class t{contentSvc=A(Xe);pDropdown=A(nt,{self:!0});ngOnInit(){this.pDropdown.appendTo="body",Ot([this.contentSvc.translateSelectedItem$.pipe(di(e=>e!=null)),this.contentSvc.translateItem$.pipe(di(e=>e!=null))]).pipe(ot()).subscribe(([e,i])=>{this.pDropdown.selectedItemTemplate=e,this.pDropdown.itemTemplate=i})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ut({type:t,selectors:[["","labDropdownTranslate",""]],standalone:!0})}return t})();var ri=(()=>{class t{contentSvc=A(Xe);pDropdown=A(nt,{self:!0});labDropdownBase=pe();setAutoFocusFilter=Vt(()=>{let e=this.contentSvc.isMobile();this.pDropdown.autofocusFilter=!e});setStyleClass=Vt(()=>{this.pDropdown.styleClass=this.labDropdownBase()});ngOnInit(){this.pDropdown.appendTo="body",this.pDropdown.filter=!0,this.pDropdown.scrollHeight="40vh",this.pDropdown.panelStyleClass="tooltip"}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ut({type:t,selectors:[["","labDropdownBase",""]],inputs:{labDropdownBase:[1,"labDropdownBase"]},standalone:!0})}return t})();var aa=(()=>{class t{ref=A(me);destroyRef=A(io);translateSvc=A(At);pTable=A(zt,{self:!0});ngOnInit(){this.pTable.styleClass="p-datatable-sm",this.pTable.rows=10,this.pTable.rowsPerPageOptions=[10,25,50,100,250],this.pTable.showCurrentPageReport=!0,this.translateSvc.get("data.currentPageReportTemplate").pipe(Jt(this.destroyRef)).subscribe(e=>{this.pTable.currentPageReportTemplate=e,this.ref.markForCheck()})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ut({type:t,selectors:[["","labPagedTable",""]],standalone:!0})}return t})();var Vi=(()=>{class t{onMousedown(e){e.stopPropagation()}onTouchStart(e){e.stopPropagation()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ut({type:t,selectors:[["","labNoDrag",""]],hostBindings:function(i,n){i&1&&b("mousedown",function(d){return n.onMousedown(d)})("touchstart",function(d){return n.onTouchStart(d)})},standalone:!0})}return t})();var la=["*"];function Ya(t,a){t&1&&P(0)}function Ja(t,a){if(t&1&&(Q(0),m(1,Ya,1,0,"ng-container",3),W()),t&2){let e=s(2);l(),p("ngTemplateOutlet",e.contentTemplate)}}function el(t,a){if(t&1&&(r(0,"div",1),He(1),m(2,Ja,2,1,"ng-container",2),c()),t&2){let e=s();p("hidden",!e.selected),k("id",e.tabView.getTabContentId(e.id))("aria-hidden",!e.selected)("aria-labelledby",e.tabView.getTabHeaderActionId(e.id))("data-pc-name","tabpanel"),l(2),p("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}var tl=["content"],il=["navbar"],nl=["prevBtn"],ol=["nextBtn"],al=["inkbar"],ll=["elementToObserve"],sl=t=>({"p-tabview p-component":!0,"p-tabview-scrollable":t}),rl=(t,a)=>({"p-highlight":t,"p-disabled":a});function pl(t,a){t&1&&x(0,"ChevronLeftIcon"),t&2&&k("aria-hidden",!0)}function cl(t,a){}function dl(t,a){t&1&&m(0,cl,0,0,"ng-template")}function ml(t,a){if(t&1){let e=T();r(0,"button",15,4),b("click",function(){g(e);let n=s();return h(n.navBackward())}),m(2,pl,1,1,"ChevronLeftIcon",16)(3,dl,1,0,null,17),c()}if(t&2){let e=s();k("tabindex",e.tabindex)("aria-label",e.prevButtonAriaLabel),l(2),p("ngIf",!e.previousIconTemplate),l(),p("ngTemplateOutlet",e.previousIconTemplate)}}function _l(t,a){if(t&1&&x(0,"span",26),t&2){let e=s(3).$implicit;p("ngClass",e.leftIcon)}}function ul(t,a){}function fl(t,a){t&1&&m(0,ul,0,0,"ng-template")}function gl(t,a){if(t&1&&(r(0,"span",27),m(1,fl,1,0,null,17),c()),t&2){let e=s(3).$implicit;l(),p("ngTemplateOutlet",e.leftIconTemplate)}}function hl(t,a){if(t&1&&x(0,"span",28),t&2){let e=s(3).$implicit;p("ngClass",e.rightIcon)}}function Cl(t,a){}function bl(t,a){t&1&&m(0,Cl,0,0,"ng-template")}function xl(t,a){if(t&1&&(r(0,"span",29),m(1,bl,1,0,null,17),c()),t&2){let e=s(3).$implicit;l(),p("ngTemplateOutlet",e.rightIconTemplate)}}function vl(t,a){if(t&1&&(Q(0),m(1,_l,1,1,"span",21)(2,gl,2,1,"span",22),r(3,"span",23),C(4),c(),m(5,hl,1,1,"span",24)(6,xl,2,1,"span",25),W()),t&2){let e=s(2).$implicit;l(),p("ngIf",e.leftIcon&&!e.leftIconTemplate),l(),p("ngIf",e.leftIconTemplate),l(2),y(e.header),l(),p("ngIf",e.rightIcon&&!e.rightIconTemplate),l(),p("ngIf",e.rightIconTemplate)}}function yl(t,a){t&1&&P(0)}function Tl(t,a){if(t&1){let e=T();r(0,"TimesIcon",32),b("click",function(n){g(e);let o=s(3).$implicit,d=s();return h(d.close(n,o))}),c()}t&2&&p("styleClass","p-tabview-close")}function Il(t,a){t&1&&x(0,"span",33)}function Sl(t,a){}function wl(t,a){t&1&&m(0,Sl,0,0,"ng-template")}function kl(t,a){if(t&1&&(Q(0),m(1,Tl,1,1,"TimesIcon",30)(2,Il,1,0,"span",31)(3,wl,1,0,null,17),W()),t&2){let e=s(2).$implicit;l(),p("ngIf",!e.closeIconTemplate),l(),p("ngIf",e.closeIconTemplate),l(),p("ngTemplateOutlet",e.closeIconTemplate)}}function Ml(t,a){if(t&1){let e=T();r(0,"li",19)(1,"a",20),b("click",function(n){g(e);let o=s().$implicit,d=s();return h(d.open(n,o))})("keydown",function(n){g(e);let o=s().$implicit,d=s();return h(d.onTabKeyDown(n,o))}),m(2,vl,7,5,"ng-container",16)(3,yl,1,0,"ng-container",17)(4,kl,4,3,"ng-container",16),c()()}if(t&2){let e=s(),i=e.$implicit,n=e.index,o=s();M(i.headerStyleClass),p("ngClass",Y(19,rl,i.selected,i.disabled))("ngStyle",i.headerStyle),k("data-p-disabled",i.disabled),l(),p("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),k("id",o.getTabHeaderActionId(i.id))("aria-controls",o.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":o.tabindex)("aria-disabled",i.disabled)("data-pc-index",n)("data-pc-section","headeraction"),l(),p("ngIf",!i.headerTemplate),l(),p("ngTemplateOutlet",i.headerTemplate),l(),p("ngIf",i.closable)}}function El(t,a){if(t&1&&m(0,Ml,5,22,"li",18),t&2){let e=a.$implicit;p("ngIf",!e.closed)}}function Ol(t,a){t&1&&x(0,"ChevronRightIcon"),t&2&&k("aria-hidden",!0)}function Vl(t,a){}function Bl(t,a){t&1&&m(0,Vl,0,0,"ng-template")}function Pl(t,a){if(t&1){let e=T();r(0,"button",34,5),b("click",function(){g(e);let n=s();return h(n.navForward())}),m(2,Ol,1,1,"ChevronRightIcon",16)(3,Bl,1,0,null,17),c()}if(t&2){let e=s();k("tabindex",e.tabindex)("aria-label",e.nextButtonAriaLabel),l(2),p("ngIf",!e.nextIconTemplate),l(),p("ngTemplateOutlet",e.nextIconTemplate)}}var On=(()=>{class t{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(e){this._headerStyle=e,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(e){this._headerStyleClass=e,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(e,i,n,o){this.el=i,this.viewContainer=n,this.cd=o,this.tabView=e,this.id=je()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"righticon":this.rightIconTemplate=e.template;break;case"lefticon":this.leftIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||t)(B(_t(()=>Hi)),B(Ve),B(ao),B(me))};static \u0275cmp=R({type:t,selectors:[["p-tabPanel"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",V],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",V],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[de],ngContentSelectors:la,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,n){i&1&&(tt(),m(0,el,3,6,"div",0)),i&2&&p("ngIf",!n.closed)},dependencies:[ye,ie],encapsulation:2})}return t})(),Hi=(()=>{class t{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.tabs&&this.tabs.length&&this._activeIndex!=null&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new L;onClose=new L;activeIndexChange=new L;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(e,i,n,o){this.platformId=e,this.el=i,this.cd=n,this.renderer=o}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(e=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(e=>{switch(e.getType()){case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break}})}callResizeObserver(){ke(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=I.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=I.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){ke(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(this.activeIndex!=null&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(e,i){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onTabEndKey(e);break;case"PageUp":this.onTabHomeKey(e);break;case"Enter":case"Space":this.open(e,i);break;default:break}}onTabArrowLeftKey(e){let i=this.findPrevHeaderAction(e.target.parentElement),n=I.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,n):this.onTabEndKey(e),e.preventDefault()}onTabArrowRightKey(e){let i=this.findNextHeaderAction(e.target.parentElement),n=I.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,n):this.onTabHomeKey(e),e.preventDefault()}onTabHomeKey(e){let i=this.findFirstHeaderAction(),n=I.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,n),e.preventDefault()}onTabEndKey(e){let i=this.findLastHeaderAction(),n=I.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,n),e.preventDefault()}changeFocusedTab(e,i,n){if(i&&(I.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)){let o=this.tabs[n];this.open(e,o)}}findNextHeaderAction(e,i=!1){let n=i?e:e.nextElementSibling;return n?I.getAttribute(n,"data-p-disabled")||I.getAttribute(n,"data-pc-section")==="inkbar"?this.findNextHeaderAction(n):I.findSingle(n,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,i=!1){let n=i?e:e.previousElementSibling;return n?I.getAttribute(n,"data-p-disabled")||I.getAttribute(n,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(n):I.findSingle(n,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.navbar.nativeElement.firstElementChild;return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.navbar.nativeElement.lastElementChild,i=I.getAttribute(e,"data-pc-section")==="inkbar"?e.previousElementSibling:e;return this.findPrevHeaderAction(i,!0)}open(e,i){if(i.disabled){e&&e.preventDefault();return}if(!i.selected){let n=this.findSelectedTab();n&&(n.selected=!1),this.tabChanged=!0,i.selected=!0;let o=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(o),this.onChange.emit({originalEvent:e,index:o}),this.updateScrollBar(o)}e&&e.preventDefault()}close(e,i){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:e,index:this.findTabIndex(i)}))}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let i=0;i<this.tabs.length;i++){let n=this.tabs[i];if(!n.closed&&!e.disabled){n.selected=!0;break}}}e.closed=!0}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let i=-1;for(let n=0;n<this.tabs.length;n++)if(this.tabs[n]==e){i=n;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(ke(this.platformId)&&this.navbar){let e=I.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!e)return;this.inkbar.nativeElement.style.width=I.getWidth(e)+"px",this.inkbar.nativeElement.style.left=I.getOffset(e).left-I.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){let i=this.navbar.nativeElement.children[e];i&&i.scrollIntoView({block:"nearest"})}updateButtonState(){let e=this.content.nativeElement,{scrollLeft:i,scrollWidth:n}=e,o=I.getWidth(e);this.backwardIsDisabled=i===0,this.forwardIsDisabled=Math.round(i)===n-o}refreshButtonState(){this.container=I.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=I.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.markForCheck())}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,i)=>i?e+I.getWidth(i):e,0)}navBackward(){let e=this.content.nativeElement,i=I.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft-i;e.scrollLeft=n<=0?0:n}navForward(){let e=this.content.nativeElement,i=I.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+i,o=e.scrollWidth-i;e.scrollLeft=n>=o?o:n}static \u0275fac=function(i){return new(i||t)(B(Ye),B(Ve),B(me),B(at))};static \u0275cmp=R({type:t,selectors:[["p-tabView"]],contentQueries:function(i,n,o){if(i&1&&(te(o,On,4),te(o,U,4)),i&2){let d;D(d=F())&&(n.tabPanels=d),D(d=F())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&(X(tl,5),X(il,5),X(nl,5),X(ol,5),X(al,5),X(ll,5)),i&2){let o;D(o=F())&&(n.content=o.first),D(o=F())&&(n.navbar=o.first),D(o=F())&&(n.prevBtn=o.first),D(o=F())&&(n.nextBtn=o.first),D(o=F())&&(n.inkbar=o.first),D(o=F())&&(n.elementToObserve=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",V],scrollable:[2,"scrollable","scrollable",V],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",V],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",V],tabindex:[2,"tabindex","tabindex",_e]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[de],ngContentSelectors:la,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(i,n){if(i&1){let o=T();tt(),r(0,"div",6)(1,"div",7,0),m(3,ml,4,4,"button",8),r(4,"div",9,1),b("scroll",function(f){return g(o),h(n.onScroll(f))}),r(6,"ul",10,2),m(8,El,1,1,"ng-template",11),x(9,"li",12,3),c()(),m(11,Pl,4,4,"button",13),c(),r(12,"div",14),He(13),c()()}i&2&&(M(n.styleClass),p("ngClass",N(11,sl,n.scrollable))("ngStyle",n.style),k("data-pc-name","tabview"),l(3),p("ngIf",n.scrollable&&!n.backwardIsDisabled&&n.autoHideButtons),l(),k("data-pc-section","navcontent"),l(2),k("data-pc-section","nav"),l(2),p("ngForOf",n.tabs),l(),k("data-pc-section","inkbar"),l(2),p("ngIf",n.scrollable&&!n.forwardIsDisabled&&n.buttonVisible))},dependencies:()=>[le,yt,ye,ie,ue,he,qe,pt,ki,Qt],styles:[`@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}
`],encapsulation:2,changeDetection:0})}return t})(),sa=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,Se,re,Ze,pt,ki,Qt,Se]})}return t})();var ra=(()=>{class t{constructor(){let e=A(Hi,{self:!0});e.updateButtonState=()=>{if(e.content==null)return;let i=e.content.nativeElement,{scrollLeft:n,scrollWidth:o}=i,d=I.getWidth(i);e.backwardIsDisabled=n===0,e.forwardIsDisabled=n>=o-d}}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ut({type:t,selectors:[["p-tabView"]],standalone:!0})}return t})();var pa=(()=>{class t{minimum=pe(oe.zero);maximum=pe(null);validate(e){if(e.value==null)return null;try{let i=oe(e.value),n=this.minimum(),o=this.maximum();if((n==null||i.gte(n))&&(o==null||i.lte(o)))return null}catch{}return{validateNumber:{valid:!1}}}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ut({type:t,selectors:[["","labValidateNumber","","ngModel",""]],inputs:{minimum:[1,"minimum"],maximum:[1,"maximum"]},standalone:!0,features:[Xt([{provide:Zo,useExisting:t,multi:!0}])]})}return t})();function Ll(t,a){if(t&1){let e=T();r(0,"span",2)(1,"button",3),b("click",function(){g(e);let n=s();return h(n.increase())}),c(),r(2,"button",4),b("click",function(){g(e);let n=s();return h(n.decrease())}),c()()}if(t&2){let e=s();l(),Me("p-button-text",e.textButtons()),p("disabled",e.disabled()||e.isMaximum()),l(),Me("p-button-text",e.textButtons()),p("disabled",e.disabled()||e.isMinimum())}}var Ht=(()=>{class t{value=pe(oe.zero);minimum=pe(oe.zero);maximum=pe(null);width=pe("");inputId=pe("inputnumber");disabled=pe(!1);hideButtons=pe(!1);textButtons=pe(!1);_value="";setValue=new L;classAttr="p-element p-inputwrapper";setValue$=new Wn;isMinimum=Ee(()=>{let e=this.value(),i=this.minimum();if(i==null)return!1;try{return e.lte(i)}catch{return!1}});isMaximum=Ee(()=>{let e=this.value(),i=this.maximum();if(i==null)return!1;try{return e.gte(i)}catch{return!1}});emitFilteredValues$=this.setValue$.pipe(Jt(),Zn(e=>e.type==="input"?Ki(300):Gn({})),ci(e=>e.value),uo(),Jn(e=>this.setValue.emit(oe(e))));ngOnInit(){this.emitFilteredValues$.subscribe()}ngOnChanges(e){e.value&&(!this._value||!oe(this._value).eq(this.value()))&&(this._value=this.value().toString())}changeValue(e){try{let i=this._value,n=oe(i),o=this.minimum(),d=this.maximum();if((o==null||n.gte(o))&&(d==null||n.lte(d))){e==="enter"&&(i=n.toString(),this._value=i),this.setValue$.next({value:i,type:e});return}}catch{}this.setValue$.next({value:null,type:e})}increase(){try{let e=this.value(),i=e.isInteger()?e.add(oe.one):e.ceil(),n=this.maximum();(n==null||i.lte(n))&&this.setValue.emit(i)}catch{}}decrease(){try{let e=this.value(),i=e.isInteger()?e.sub(oe.one):e.floor(),n=this.minimum();(n==null||i.gte(n))&&this.setValue.emit(i)}catch{}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["lab-input-number"]],hostVars:2,hostBindings:function(i,n){i&2&&M(n.classAttr)},inputs:{value:[1,"value"],minimum:[1,"minimum"],maximum:[1,"maximum"],width:[1,"width"],inputId:[1,"inputId"],disabled:[1,"disabled"],hideButtons:[1,"hideButtons"],textButtons:[1,"textButtons"]},outputs:{setValue:"setValue"},standalone:!0,features:[Qi,ne],decls:3,vars:10,consts:[[1,"p-inputnumber","p-component","p-inputnumber-buttons-stacked"],["pInputText","","type","text","labValidateNumber","",1,"text-end",3,"ngModelChange","input","blur","keydown.enter","id","ngModel","minimum","maximum","disabled"],[1,"p-inputnumber-button-group"],["pButton","","pRipple","","type","button","icon","fa-solid fa-angle-up",1,"p-button-outlined","p-inputnumber-button","p-inputnumber-button-up",3,"click","disabled"],["pButton","","pRipple","","type","button","icon","fa-solid fa-angle-down",1,"p-button-outlined","p-inputnumber-button","p-inputnumber-button-down",3,"click","disabled"]],template:function(i,n){i&1&&(r(0,"span",0)(1,"input",1),De("ngModelChange",function(d){return Pe(n._value,d)||(n._value=d),d}),b("input",function(){return n.changeValue("input")})("blur",function(){return n.changeValue("blur")})("keydown.enter",function(){return n.changeValue("enter")}),c(),m(2,Ll,3,6,"span",2),c()),i&2&&(l(),lo("width",n.width()),Me("hidden-buttons",n.hideButtons()),p("id",n.inputId()),Be("ngModel",n._value),p("minimum",n.minimum())("maximum",n.maximum())("disabled",n.disabled()),l(),v(n.hideButtons()?-1:2))},dependencies:[Re,li,Fe,Le,se,ge,on,nn,pa],styles:["@layer primeng{p-inputnumber[_ngcontent-%COMP%], .p-inputnumber[_ngcontent-%COMP%]{display:inline-flex}.p-inputnumber-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked[_ngcontent-%COMP%]   .p-button.p-inputnumber-button[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%], .p-inputnumber-buttons-horizontal[_ngcontent-%COMP%]   .p-button.p-inputnumber-button[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{display:none}.p-inputnumber-buttons-stacked[_ngcontent-%COMP%]   .p-button.p-inputnumber-button-up[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked[_ngcontent-%COMP%]   .p-inputnumber-input[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked[_ngcontent-%COMP%]   .p-button.p-inputnumber-button-down[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked[_ngcontent-%COMP%]   .p-inputnumber-button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked[_ngcontent-%COMP%]   .p-inputnumber-button-group[_ngcontent-%COMP%]   .p-button.p-inputnumber-button[_ngcontent-%COMP%]{flex:1 1 auto}.p-inputnumber-buttons-horizontal[_ngcontent-%COMP%]   .p-button.p-inputnumber-button-up[_ngcontent-%COMP%]{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal[_ngcontent-%COMP%]   .p-inputnumber-input[_ngcontent-%COMP%]{order:2;border-radius:0}.p-inputnumber-buttons-horizontal[_ngcontent-%COMP%]   .p-button.p-inputnumber-button-down[_ngcontent-%COMP%]{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-inputnumber-buttons-vertical[_ngcontent-%COMP%]   .p-button.p-inputnumber-button-up[_ngcontent-%COMP%]{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical[_ngcontent-%COMP%]   .p-inputnumber-input[_ngcontent-%COMP%]{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical[_ngcontent-%COMP%]   .p-button.p-inputnumber-button-down[_ngcontent-%COMP%]{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input[_ngcontent-%COMP%]{flex:1 1 auto}.p-fluid[_ngcontent-%COMP%]   p-inputnumber[_ngcontent-%COMP%], .p-fluid[_ngcontent-%COMP%]   .p-inputnumber[_ngcontent-%COMP%]{width:100%}.p-fluid[_ngcontent-%COMP%]   .p-inputnumber[_ngcontent-%COMP%]   .p-inputnumber-input[_ngcontent-%COMP%]{width:1%}.p-fluid[_ngcontent-%COMP%]   .p-inputnumber-buttons-vertical[_ngcontent-%COMP%]   .p-inputnumber-input[_ngcontent-%COMP%]{width:100%}.p-inputnumber-clear-icon[_ngcontent-%COMP%]{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable[_ngcontent-%COMP%]{position:relative}}[_nghost-%COMP%]{display:inline-flex}[_nghost-%COMP%]     .p-inputtext{text-align:inherit}[_nghost-%COMP%]     .p-inputnumber.p-component.p-inputnumber-buttons-stacked>.p-inputtext:not(.hidden-buttons){border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .p-inputnumber{display:inline-flex}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up, [_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{padding:0}"],changeDetection:0})}return t})();var ca=(()=>{class t extends Ii{static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["MinusIcon"]],standalone:!0,features:[ze,ne],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(i,n){i&1&&(hi(),r(0,"svg",0),x(1,"path",1),c()),i&2&&(M(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},dependencies:[fe],encapsulation:2})}return t})();var ji=t=>({height:t}),Rl=(t,a)=>({"p-multiselect-item":!0,"p-disabled":t,"p-focus":a}),Al=t=>({"p-variant-filled":t}),zl=t=>({"p-highlight":t}),sn=t=>({$implicit:t});function Hl(t,a){t&1&&x(0,"CheckIcon",7),t&2&&(p("styleClass","p-checkbox-icon"),k("aria-hidden",!0))}function jl(t,a){}function $l(t,a){t&1&&m(0,jl,0,0,"ng-template")}function Nl(t,a){if(t&1&&(r(0,"span",8),m(1,$l,1,0,null,9),c()),t&2){let e=s(2);k("aria-hidden",!0),l(),p("ngTemplateOutlet",e.checkIconTemplate)}}function Kl(t,a){}function Ql(t,a){t&1&&m(0,Kl,0,0,"ng-template")}function Wl(t,a){if(t&1&&(r(0,"span",8),m(1,Ql,1,0,null,4),c()),t&2){let e=s(2);k("aria-hidden",!0),l(),p("ngTemplateOutlet",e.itemCheckboxIconTemplate)("ngTemplateOutletContext",N(3,sn,e.selected))}}function ql(t,a){if(t&1&&(Q(0),m(1,Hl,1,2,"CheckIcon",5)(2,Nl,2,2,"span",6)(3,Wl,2,5,"span",6),W()),t&2){let e=s();l(),p("ngIf",!e.checkIconTemplate&&!e.itemCheckboxIconTemplate),l(),p("ngIf",e.checkIconTemplate),l(),p("ngIf",e.itemCheckboxIconTemplate)}}function Ul(t,a){if(t&1&&(r(0,"span"),C(1),c()),t&2){let e,i=s();l(),y((e=i.label)!==null&&e!==void 0?e:"empty")}}function Gl(t,a){t&1&&P(0)}var Zl=["container"],Xl=["overlay"],Yl=["filterInput"],Jl=["focusInput"],es=["items"],ts=["scroller"],is=["lastHiddenFocusableEl"],ns=["firstHiddenFocusableEl"],os=["headerCheckbox"],as=[[["p-header"]],[["p-footer"]]],ls=["p-header","p-footer"],ss=(t,a)=>({$implicit:t,removeChip:a}),rs=t=>({"p-disabled":t}),ps=t=>({"max-height":t}),da=t=>({options:t}),cs=(t,a)=>({"p-variant-filled":t,"p-checkbox-disabled":a}),ds=(t,a,e)=>({"p-highlight":t,"p-focus":a,"p-disabled":e}),ms=(t,a)=>({$implicit:t,partialSelected:a}),ma=(t,a)=>({$implicit:t,options:a}),_s=()=>({});function us(t,a){if(t&1&&(Q(0),C(1),W()),t&2){let e=s(2);l(),y(e.label()||"empty")}}function fs(t,a){if(t&1){let e=T();r(0,"TimesCircleIcon",31),b("click",function(){g(e);let n=s(2).$implicit,o=s(3);return h(o.removeOption(n,o.event))}),c()}if(t&2){let e=s(2).$implicit,i=s(3);p("ngClass",N(4,rs,i.isOptionDisabled(e)))("styleClass","p-multiselect-token-icon"),k("data-pc-section","clearicon")("aria-hidden",!0)}}function gs(t,a){t&1&&P(0)}function hs(t,a){if(t&1){let e=T();r(0,"span",32),b("click",function(){g(e);let n=s(2).$implicit,o=s(3);return h(o.removeOption(n,o.event))}),m(1,gs,1,0,"ng-container",33),c()}if(t&2){let e=s(5);k("data-pc-section","clearicon")("aria-hidden",!0),l(),p("ngTemplateOutlet",e.removeTokenIconTemplate)}}function Cs(t,a){if(t&1&&(Q(0),m(1,fs,1,6,"TimesCircleIcon",29)(2,hs,2,3,"span",30),W()),t&2){let e=s(4);l(),p("ngIf",!e.removeTokenIconTemplate),l(),p("ngIf",e.removeTokenIconTemplate)}}function bs(t,a){if(t&1&&(r(0,"div",27,4)(2,"span",28),C(3),c(),m(4,Cs,3,2,"ng-container",20),c()),t&2){let e=a.$implicit,i=s(3);l(3),y(i.getLabelByValue(e)),l(),p("ngIf",!i.disabled)}}function xs(t,a){if(t&1&&(Q(0),C(1),W()),t&2){let e=s(3);l(),y(e.placeholder()||e.defaultLabel||"empty")}}function vs(t,a){if(t&1&&(Q(0),m(1,bs,5,2,"div",26)(2,xs,2,1,"ng-container",20),W()),t&2){let e=s(2);l(),p("ngForOf",e.chipSelectedItems()),l(),p("ngIf",!e.modelValue()||e.modelValue().length===0)}}function ys(t,a){if(t&1&&(Q(0),m(1,us,2,1,"ng-container",20)(2,vs,3,2,"ng-container",20),W()),t&2){let e=s();l(),p("ngIf",e.display==="comma"),l(),p("ngIf",e.display==="chip")}}function Ts(t,a){t&1&&P(0)}function Is(t,a){if(t&1){let e=T();r(0,"TimesIcon",36),b("click",function(n){g(e);let o=s(2);return h(o.clear(n))}),c()}t&2&&(p("styleClass","p-multiselect-clear-icon"),k("data-pc-section","clearicon")("aria-hidden",!0))}function Ss(t,a){}function ws(t,a){t&1&&m(0,Ss,0,0,"ng-template")}function ks(t,a){if(t&1){let e=T();r(0,"span",37),b("click",function(n){g(e);let o=s(2);return h(o.clear(n))}),m(1,ws,1,0,null,33),c()}if(t&2){let e=s(2);k("data-pc-section","clearicon")("aria-hidden",!0),l(),p("ngTemplateOutlet",e.clearIconTemplate)}}function Ms(t,a){if(t&1&&(Q(0),m(1,Is,1,3,"TimesIcon",34)(2,ks,2,3,"span",35),W()),t&2){let e=s();l(),p("ngIf",!e.clearIconTemplate),l(),p("ngIf",e.clearIconTemplate)}}function Es(t,a){t&1&&P(0)}function Os(t,a){if(t&1&&(Q(0),m(1,Es,1,0,"ng-container",33),W()),t&2){let e=s(2);l(),p("ngTemplateOutlet",e.loadingIconTemplate)}}function Vs(t,a){if(t&1&&x(0,"span",40),t&2){let e=s(3);p("ngClass","p-multiselect-trigger-icon pi-spin "+e.loadingIcon)}}function Bs(t,a){t&1&&x(0,"span",41),t&2&&M("p-multiselect-trigger-icon pi pi-spinner pi-spin")}function Ps(t,a){if(t&1&&(Q(0),m(1,Vs,1,1,"span",38)(2,Bs,1,2,"span",39),W()),t&2){let e=s(2);l(),p("ngIf",e.loadingIcon),l(),p("ngIf",!e.loadingIcon)}}function Ds(t,a){if(t&1&&(Q(0),m(1,Os,2,1,"ng-container",20)(2,Ps,3,2,"ng-container",20),W()),t&2){let e=s();l(),p("ngIf",e.loadingIconTemplate),l(),p("ngIf",!e.loadingIconTemplate)}}function Fs(t,a){if(t&1&&x(0,"span",45),t&2){let e=s(3);p("ngClass",e.dropdownIcon),k("data-pc-section","triggericon")("aria-hidden",!0)}}function Ls(t,a){t&1&&x(0,"ChevronDownIcon",46),t&2&&(p("styleClass","p-multiselect-trigger-icon"),k("data-pc-section","triggericon")("aria-hidden",!0))}function Rs(t,a){if(t&1&&(Q(0),m(1,Fs,1,3,"span",43)(2,Ls,1,3,"ChevronDownIcon",44),W()),t&2){let e=s(2);l(),p("ngIf",e.dropdownIcon),l(),p("ngIf",!e.dropdownIcon)}}function As(t,a){}function zs(t,a){t&1&&m(0,As,0,0,"ng-template")}function Hs(t,a){if(t&1&&(r(0,"span",47),m(1,zs,1,0,null,33),c()),t&2){let e=s(2);k("data-pc-section","triggericon")("aria-hidden",!0),l(),p("ngTemplateOutlet",e.dropdownIconTemplate)}}function js(t,a){if(t&1&&m(0,Rs,3,2,"ng-container",20)(1,Hs,2,3,"span",42),t&2){let e=s();p("ngIf",!e.dropdownIconTemplate),l(),p("ngIf",e.dropdownIconTemplate)}}function $s(t,a){t&1&&P(0)}function Ns(t,a){t&1&&P(0)}function Ks(t,a){if(t&1&&(Q(0),m(1,Ns,1,0,"ng-container",21),W()),t&2){let e=s(3);l(),p("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",N(2,da,e.filterOptions))}}function Qs(t,a){t&1&&x(0,"CheckIcon",46),t&2&&(p("styleClass","p-checkbox-icon"),k("aria-hidden",!0))}function Ws(t,a){if(t&1&&(Q(0),m(1,Qs,1,2,"CheckIcon",44),W()),t&2){let e=s(6);l(),p("ngIf",e.allSelected())}}function qs(t,a){}function Us(t,a){t&1&&m(0,qs,0,0,"ng-template")}function Gs(t,a){if(t&1&&(r(0,"span",63),m(1,Us,1,0,null,21),c()),t&2){let e=s(6);k("aria-hidden",!0),l(),p("ngTemplateOutlet",e.checkIconTemplate)("ngTemplateOutletContext",N(3,sn,e.allSelected()))}}function Zs(t,a){}function Xs(t,a){t&1&&m(0,Zs,0,0,"ng-template")}function Ys(t,a){if(t&1&&(r(0,"span",63),m(1,Xs,1,0,null,21),c()),t&2){let e=s(6);k("aria-hidden",!0),l(),p("ngTemplateOutlet",e.headerCheckboxIconTemplate)("ngTemplateOutletContext",Y(3,ms,e.allSelected(),e.partialSelected()))}}function Js(t,a){if(t&1&&(Q(0),m(1,Ws,2,1,"ng-container",20)(2,Gs,2,5,"span",62)(3,Ys,2,6,"span",62),W()),t&2){let e=s(5);l(),p("ngIf",!e.checkIconTemplate&&!e.headerCheckboxIconTemplate),l(),p("ngIf",e.checkIconTemplate),l(),p("ngIf",e.headerCheckboxIconTemplate)}}function er(t,a){if(t&1){let e=T();r(0,"div",59),b("click",function(n){g(e);let o=s(4);return h(o.onToggleAll(n))})("keydown",function(n){g(e);let o=s(4);return h(o.onHeaderCheckboxKeyDown(n))}),r(1,"div",16)(2,"input",60,9),b("focus",function(){g(e);let n=s(4);return h(n.onHeaderCheckboxFocus())})("blur",function(){g(e);let n=s(4);return h(n.onHeaderCheckboxBlur())}),c()(),r(4,"div",61),m(5,Js,4,3,"ng-container",20),c()()}if(t&2){let e=s(4);p("ngClass",Y(10,cs,e.variant==="filled"||e.config.inputStyle()==="filled",e.disabled||e.toggleAllDisabled)),l(),k("data-p-hidden-accessible",!0),l(),p("readonly",e.readonly)("disabled",e.disabled||e.toggleAllDisabled),k("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),l(2),p("ngClass",lt(13,ds,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),k("aria-label",e.toggleAllAriaLabel)("aria-checked",e.allSelected()),l(),p("ngIf",e.allSelected()||e.partialSelected())}}function tr(t,a){t&1&&x(0,"SearchIcon",46),t&2&&p("styleClass","p-multiselect-filter-icon")}function ir(t,a){}function nr(t,a){t&1&&m(0,ir,0,0,"ng-template")}function or(t,a){if(t&1&&(r(0,"span",67),m(1,nr,1,0,null,33),c()),t&2){let e=s(5);l(),p("ngTemplateOutlet",e.filterIconTemplate)}}function ar(t,a){if(t&1){let e=T();r(0,"div",64)(1,"input",65,10),b("input",function(n){g(e);let o=s(4);return h(o.onFilterInputChange(n))})("keydown",function(n){g(e);let o=s(4);return h(o.onFilterKeyDown(n))})("click",function(n){g(e);let o=s(4);return h(o.onInputClick(n))})("blur",function(n){g(e);let o=s(4);return h(o.onFilterBlur(n))}),c(),m(3,tr,1,1,"SearchIcon",44)(4,or,2,1,"span",66),c()}if(t&2){let e=s(4);l(),p("value",e._filterValue()||"")("disabled",e.disabled),k("autocomplete",e.autocomplete)("placeholder",e.filterPlaceHolder)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),l(2),p("ngIf",!e.filterIconTemplate),l(),p("ngIf",e.filterIconTemplate)}}function lr(t,a){t&1&&x(0,"TimesIcon",46),t&2&&p("styleClass","p-multiselect-close-icon")}function sr(t,a){}function rr(t,a){t&1&&m(0,sr,0,0,"ng-template")}function pr(t,a){if(t&1&&(r(0,"span",68),m(1,rr,1,0,null,33),c()),t&2){let e=s(4);l(),p("ngTemplateOutlet",e.closeIconTemplate)}}function cr(t,a){if(t&1){let e=T();m(0,er,6,17,"div",55)(1,ar,5,10,"div",56),r(2,"button",57),b("click",function(n){g(e);let o=s(3);return h(o.close(n))}),m(3,lr,1,1,"TimesIcon",44)(4,pr,2,1,"span",58),c()}if(t&2){let e=s(3);p("ngIf",e.isSelectionAllDisabled()),l(),p("ngIf",e.filter),l(),k("aria-label",e.closeAriaLabel),l(),p("ngIf",!e.closeIconTemplate),l(),p("ngIf",e.closeIconTemplate)}}function dr(t,a){if(t&1&&(r(0,"div",54),He(1),m(2,$s,1,0,"ng-container",33)(3,Ks,2,4,"ng-container",23)(4,cr,5,5,"ng-template",null,8,O),c()),t&2){let e=w(5),i=s(2);l(2),p("ngTemplateOutlet",i.headerTemplate),l(),p("ngIf",i.filterTemplate)("ngIfElse",e)}}function mr(t,a){t&1&&P(0)}function _r(t,a){if(t&1&&m(0,mr,1,0,"ng-container",21),t&2){let e=a.$implicit,i=a.options;s(2);let n=w(8);p("ngTemplateOutlet",n)("ngTemplateOutletContext",Y(2,ma,e,i))}}function ur(t,a){t&1&&P(0)}function fr(t,a){if(t&1&&m(0,ur,1,0,"ng-container",21),t&2){let e=a.options,i=s(4);p("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",N(2,da,e))}}function gr(t,a){t&1&&(Q(0),m(1,fr,1,4,"ng-template",70),W())}function hr(t,a){if(t&1){let e=T();r(0,"p-scroller",69,11),b("onLazyLoad",function(n){g(e);let o=s(2);return h(o.onLazyLoad.emit(n))}),m(2,_r,1,5,"ng-template",25)(3,gr,2,0,"ng-container",20),c()}if(t&2){let e=s(2);$e(N(9,ji,e.scrollHeight)),p("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),l(3),p("ngIf",e.loaderTemplate)}}function Cr(t,a){t&1&&P(0)}function br(t,a){if(t&1&&(Q(0),m(1,Cr,1,0,"ng-container",21),W()),t&2){s();let e=w(8),i=s();l(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",Y(3,ma,i.visibleOptions(),J(2,_s)))}}function xr(t,a){if(t&1&&(r(0,"span"),C(1),c()),t&2){let e=s(2).$implicit,i=s(3);l(),y(i.getOptionGroupLabel(e.optionGroup))}}function vr(t,a){t&1&&P(0)}function yr(t,a){if(t&1&&(Q(0),r(1,"li",74),m(2,xr,2,1,"span",20)(3,vr,1,0,"ng-container",21),c(),W()),t&2){let e=s(),i=e.$implicit,n=e.index,o=s().options,d=s(2);l(),p("ngStyle",N(5,ji,o.itemSize+"px")),k("id",d.id+"_"+d.getOptionIndex(n,o)),l(),p("ngIf",!d.groupTemplate),l(),p("ngTemplateOutlet",d.groupTemplate)("ngTemplateOutletContext",N(7,sn,i.optionGroup))}}function Tr(t,a){if(t&1){let e=T();Q(0),r(1,"p-multiSelectItem",75),b("onClick",function(n){g(e);let o=s().index,d=s().options,f=s(2);return h(f.onOptionSelect(n,!1,f.getOptionIndex(o,d)))})("onMouseEnter",function(n){g(e);let o=s().index,d=s().options,f=s(2);return h(f.onOptionMouseEnter(n,f.getOptionIndex(o,d)))}),c(),W()}if(t&2){let e=s(),i=e.$implicit,n=e.index,o=s().options,d=s(2);l(),p("id",d.id+"_"+d.getOptionIndex(n,o))("option",i)("selected",d.isSelected(i))("label",d.getOptionLabel(i))("disabled",d.isOptionDisabled(i))("template",d.itemTemplate)("checkIconTemplate",d.checkIconTemplate)("itemCheckboxIconTemplate",d.itemCheckboxIconTemplate)("itemSize",o.itemSize)("focused",d.focusedOptionIndex()===d.getOptionIndex(n,o))("ariaPosInset",d.getAriaPosInset(d.getOptionIndex(n,o)))("ariaSetSize",d.ariaSetSize)}}function Ir(t,a){if(t&1&&m(0,yr,4,9,"ng-container",20)(1,Tr,2,12,"ng-container",20),t&2){let e=a.$implicit,i=s(3);p("ngIf",i.isOptionGroup(e)),l(),p("ngIf",!i.isOptionGroup(e))}}function Sr(t,a){if(t&1&&(Q(0),C(1),W()),t&2){let e=s(4);l(),j(" ",e.emptyFilterMessageLabel," ")}}function wr(t,a){t&1&&P(0,null,13)}function kr(t,a){if(t&1&&(r(0,"li",76),m(1,Sr,2,1,"ng-container",23)(2,wr,2,0,"ng-container",33),c()),t&2){let e=s().options,i=s(2);p("ngStyle",N(4,ji,e.itemSize+"px")),l(),p("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),l(),p("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Mr(t,a){if(t&1&&(Q(0),C(1),W()),t&2){let e=s(4);l(),j(" ",e.emptyMessageLabel," ")}}function Er(t,a){t&1&&P(0,null,14)}function Or(t,a){if(t&1&&(r(0,"li",76),m(1,Mr,2,1,"ng-container",23)(2,Er,2,0,"ng-container",33),c()),t&2){let e=s().options,i=s(2);p("ngStyle",N(4,ji,e.itemSize+"px")),l(),p("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),l(),p("ngTemplateOutlet",i.emptyTemplate)}}function Vr(t,a){if(t&1&&(r(0,"ul",71,12),m(2,Ir,2,2,"ng-template",72)(3,kr,3,6,"li",73)(4,Or,3,6,"li",73),c()),t&2){let e=a.$implicit,i=a.options,n=s(2);p("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),k("aria-label",n.listLabel),l(2),p("ngForOf",e),l(),p("ngIf",n.hasFilter()&&n.isEmpty()),l(),p("ngIf",!n.hasFilter()&&n.isEmpty())}}function Br(t,a){t&1&&P(0)}function Pr(t,a){if(t&1&&(r(0,"div",77),He(1,1),m(2,Br,1,0,"ng-container",33),c()),t&2){let e=s(2);l(2),p("ngTemplateOutlet",e.footerTemplate)}}function Dr(t,a){if(t&1){let e=T();r(0,"div",48)(1,"span",49,5),b("focus",function(n){g(e);let o=s();return h(o.onFirstHiddenFocus(n))}),c(),m(3,dr,6,3,"div",50),r(4,"div",51),m(5,hr,4,11,"p-scroller",52)(6,br,2,6,"ng-container",20)(7,Vr,5,6,"ng-template",null,6,O),c(),m(9,Pr,3,1,"div",53),r(10,"span",49,7),b("focus",function(n){g(e);let o=s();return h(o.onLastHiddenFocus(n))}),c()()}if(t&2){let e=s();M(e.panelStyleClass),p("ngClass","p-multiselect-panel p-component")("ngStyle",e.panelStyle),k("id",e.id+"_list"),l(),k("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),l(2),p("ngIf",e.showHeader),l(),p("ngStyle",N(16,ps,e.virtualScroll?"auto":e.scrollHeight||"auto")),l(),p("ngIf",e.virtualScroll),l(),p("ngIf",!e.virtualScroll),l(3),p("ngIf",e.footerFacet||e.footerTemplate),l(),k("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Fr={provide:wi,useExisting:_t(()=>$i),multi:!0},Lr=(()=>{class t{config;id;option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;template;checkIconTemplate;itemCheckboxIconTemplate;onClick=new L;onMouseEnter=new L;constructor(e){this.config=e}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}static \u0275fac=function(i){return new(i||t)(B(rt))};static \u0275cmp=R({type:t,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",V],label:"label",disabled:[2,"disabled","disabled",V],itemSize:[2,"itemSize","itemSize",_e],focused:[2,"focused","focused",V],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[de],decls:6,vars:28,consts:[["pRipple","","role","option",1,"p-multiselect-item",3,"click","mouseenter","ngStyle","ngClass","id"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(i,n){i&1&&(r(0,"li",0),b("click",function(d){return n.onOptionClick(d)})("mouseenter",function(d){return n.onOptionMouseEnter(d)}),r(1,"div",1)(2,"div",2),m(3,ql,4,3,"ng-container",3),c()(),m(4,Ul,2,1,"span",3)(5,Gl,1,0,"ng-container",4),c()),i&2&&(p("ngStyle",N(17,ji,n.itemSize+"px"))("ngClass",Y(19,Rl,n.disabled,n.focused))("id",n.id),k("aria-label",n.label)("aria-setsize",n.ariaSetSize)("aria-posinset",n.ariaPosInset)("aria-selected",n.selected)("data-p-focused",n.focused)("data-p-highlight",n.selected)("data-p-disabled",n.disabled)("aria-checked",n.selected),l(),p("ngClass",N(22,Al,n.config.inputStyle()==="filled")),l(),p("ngClass",N(24,zl,n.selected)),l(),p("ngIf",n.selected),l(),p("ngIf",!n.template),l(),p("ngTemplateOutlet",n.template)("ngTemplateOutletContext",N(26,sn,n.option)))},dependencies:()=>[le,ye,ie,ue,qe,Pt],encapsulation:2})}return t})(),$i=(()=>{class t{el;renderer;cd;zone;filterService;config;overlayService;id;ariaLabel;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex=0;variant="outlined";appendTo;dataKey;name;ariaLabelledBy;set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel;showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;loading=!1;virtualScrollItemSize;loadingIcon;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!0;display="comma";autocomplete="off";showClear=!1;autofocus;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(e){this._defaultLabel=e,console.warn("defaultLabel property is deprecated since 16.6.0, use placeholder instead")}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(e){q.deepEquals(this._options(),e)||this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}focusOnHover=!1;filterFields;selectOnFocus=!1;autoOptionFocus=!0;onChange=new L;onFilter=new L;onFocus=new L;onBlur=new L;onClick=new L;onClear=new L;onPanelShow=new L;onPanelHide=new L;onLazyLoad=new L;onRemove=new L;onSelectAllChange=new L;containerViewChild;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;templates;searchValue;searchTimeout;_selectAll=null;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder=ce(void 0);_itemSize;_selectionLimit;_disableTooltip=!1;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;loadingIconTemplate;filterIconTemplate;removeTokenIconTemplate;closeIconTemplate;clearIconTemplate;dropdownIconTemplate;itemCheckboxIconTemplate;headerCheckboxIconTemplate;headerCheckboxFocus;filterOptions;preventModelTouched;preventDocumentDefault;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=ce(null);_filterValue=ce(null);_options=ce(null);startRangeIndex=ce(-1);focusedOptionIndex=ce(-1);selectedOptions;clickInProgress=!1;get containerClass(){return{"p-multiselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-multiselect-clearable":this.showClear&&!this.disabled,"p-multiselect-chip":this.display==="chip","p-focus":this.focused,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get inputClass(){return{"p-multiselect-label p-inputtext":!0,"p-placeholder":(this.placeholder()||this.defaultLabel)&&(this.label()===this.placeholder()||this.label()===this.defaultLabel),"p-multiselect-label-empty":!this.selectedItemsTemplate&&(this.label()==="p-emptylabel"||this.label().length===0)}}get panelClass(){return{"p-multiselect-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get labelClass(){return{"p-multiselect-label":!0,"p-placeholder":this.label()===this.placeholder()||this.label()===this.defaultLabel,"p-multiselect-label-empty":!this.placeholder()&&!this.defaultLabel&&(!this.modelValue()||this.modelValue().length===0)}}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(mi.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(mi.EMPTY_FILTER_MESSAGE)}get filled(){return typeof this.modelValue()=="string"?!!this.modelValue():q.isNotEmpty(this.modelValue())}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&q.isNotEmpty(this.modelValue())&&this.showClear&&!this.disabled&&this.filled}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}get listLabel(){return this.config.getTranslation(mi.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}visibleOptions=Ee(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),i=q.isArray(e)&&q.isObject(e[0]);if(this._filterValue()){let n;if(i?n=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):n=e.filter(o=>o.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let o=this.options||[],d=[];return o.forEach(f=>{let E=this.getOptionGroupChildren(f).filter($=>n.includes($));E.length>0&&d.push(xt(be({},f),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...E]}))}),this.flatOptions(d)}return n}return e});label=Ee(()=>{let e,i=this.modelValue();if(i&&i.length&&this.displaySelectedLabel){if(q.isNotEmpty(this.maxSelectedLabels)&&i.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(let n=0;n<i.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(i[n])}else e=this.placeholder()||this.defaultLabel||"";return e});chipSelectedItems=Ee(()=>q.isNotEmpty(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue());constructor(e,i,n,o,d,f,S){this.el=e,this.renderer=i,this.cd=n,this.zone=o,this.filterService=d,this.config=f,this.overlayService=S,Vt(()=>{let E=this.modelValue(),$=this.visibleOptions();$&&q.isNotEmpty($)&&(this.optionValue&&this.optionLabel&&E?this.selectedOptions=$.filter(z=>E.includes(z[this.optionLabel])||E.includes(z[this.optionValue])):this.selectedOptions=E,this.cd.markForCheck())})}ngOnInit(){this.id=this.id||je(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return q.isNotEmpty(this.selectionLimit)&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template,console.warn("checkicon is deprecated and will removed in v18. Use itemcheckboxicon or headercheckboxicon templates instead.");break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"itemcheckboxicon":this.itemCheckboxIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((i,n,o)=>{i.push({optionGroup:n,group:!0,index:o});let d=this.getOptionGroupChildren(n);return d&&d.forEach(f=>i.push(f)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,i){this.value=e,this.onModelChange(e),this.modelValue.set(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,i=!1,n=-1){let{originalEvent:o,option:d}=e;if(this.disabled||this.isOptionDisabled(d))return;let f=this.isSelected(d),S=null;f?(S=this.modelValue().filter(E=>!q.equals(E,this.getOptionValue(d),this.equalityKey())),this.onRemove.emit({newValue:this.value,removed:this.getOptionValue(d)})):S=[...this.modelValue()||[],this.getOptionValue(d)],this.updateModel(S,o),n!==-1&&this.focusedOptionIndex.set(n),i&&I.focus(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:xt(be({},e),{selected:!e.selected}),value:S,itemValue:d})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,i=-1,n=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(n,!0)),n===-1&&(n=this.findNearestSelectedOptionIndex(i)),i!==-1&&n!==-1){let o=Math.min(i,n),d=Math.max(i,n),f=this.visibleOptions().slice(o,d+1).filter(S=>this.isValidOption(S)).map(S=>this.getOptionValue(S));this.updateModel(f,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,i=!1){let n=-1;return this.hasSelectedOption()&&(i?(n=this.findPrevSelectedOptionIndex(e),n=n===-1?this.findNextSelectedOptionIndex(e):n):(n=this.findNextSelectedOptionIndex(e),n=n===-1?this.findPrevSelectedOptionIndex(e):n)),n>-1?n:e}findPrevSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e>0?q.findLastIndex(this.visibleOptions().slice(0,e),n=>this.isValidSelectedOption(n)):-1;return i>-1?i:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidSelectedOption(n)):-1;return i>-1?i+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return q.isNotEmpty(this.modelValue())}isSelectionAllDisabled(){return this.showToggleAll&&q.isEmpty(this.selectionLimit)}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?q.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let i=this.getOptionValue(e);return(this.modelValue()||[]).some(n=>q.equals(n,i,this.equalityKey()))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let n=(this.group?this.flatOptions(this._options()):this._options()||[]).find(o=>!this.isOptionGroup(o)&&q.equals(this.getOptionValue(o),e,this.equalityKey()));return n?this.getOptionLabel(n):null}getSelectedItemsLabel(){let e=/{(.*?)}/,i=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(mi.SELECTION_MESSAGE);return e.test(i)?i.replace(i.match(e)[0],this.modelValue().length+""):i}getOptionLabel(e){return this.optionLabel?q.resolveFieldData(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?q.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?q.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?q.resolveFieldData(e,this.optionGroupChildren):e.items}onKeyDown(e){if(this.disabled){e.preventDefault();return}let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&i){let n=this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(n,e),e.preventDefault();break}!i&&q.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,i=!1){if(e.altKey&&!i)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let n=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,n,this.startRangeIndex()),this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,i=!1){let{currentTarget:n}=e;if(i){let o=n.value.length;n.setSelectionRange(0,e.shiftKey?o:0),this.focusedOptionIndex.set(-1)}else{let o=e.metaKey||e.ctrlKey,d=this.findFirstOptionIndex();e.shiftKey&&o&&this.onOptionSelectRange(e,d,this.startRangeIndex()),this.changeFocusedOptionIndex(e,d),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,i=!1){let{currentTarget:n}=e;if(i){let o=n.value.length;n.setSelectionRange(e.shiftKey?0:o,o),this.focusedOptionIndex.set(-1)}else{let o=e.metaKey||e.ctrlKey,d=this.findLastFocusedOptionIndex();e.shiftKey&&o&&this.onOptionSelectRange(e,this.startRangeIndex(),d),this.changeFocusedOptionIndex(e,d),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onTabKey(e,i=!1){i||(this.overlayVisible&&this.hasFocusableElements()?(I.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault()):(this.focusedOptionIndex()!==-1&&this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]}),this.overlayVisible&&this.hide(this.filter)))}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.disabled||this.loading||this.readonly||e.target.isSameNode(this.focusInputViewChild?.nativeElement))){if(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')){e.preventDefault();return}else if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?I.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;I.focus(i)}onInputFocus(e){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let i=e.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?I.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;I.focus(i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onToggleAll(e){if(!(this.disabled||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let i=this.getAllVisibleAndNonVisibleOptions().filter(f=>this.isSelected(f)&&(this.optionDisabled?q.resolveFieldData(f,this.optionDisabled):f&&f.disabled!==void 0?f.disabled:!1)),n=this.allSelected()?this.visibleOptions().filter(f=>!this.isValidOption(f)&&this.isSelected(f)):this.visibleOptions().filter(f=>this.isSelected(f)||this.isValidOption(f)),o=[...i,...n].map(f=>this.getOptionValue(f)),d=[...new Set(o)];this.updateModel(d,e),(!d.length||d.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:e,checked:!!d.length})}this.partialSelected()&&(this.selectedOptions=null,this.cd.markForCheck()),this.onChange.emit({originalEvent:e,value:this.value}),I.focus(this.headerCheckboxViewChild?.nativeElement),this.headerCheckboxFocus=!0,e.preventDefault(),e.stopPropagation()}}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=I.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}writeValue(e){this.value=e,!q.isEmpty(this.selectionLimit)&&q.isEmpty(this.value)?this.modelValue.set([]):this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}allSelected(){return this.selectAll!==null?this.selectAll:q.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<this.options.length}show(e){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),e&&I.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&I.unblockBodyScroll(),e&&I.focus(this.focusInputViewChild?.nativeElement),this.onPanelHide.emit(),this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.itemsWrapper=I.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this._options()&&this._options().length)if(this.virtualScroll){let i=q.isNotEmpty(this.modelValue())?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=I.findSingle(this.itemsWrapper,'[data-p-highlight="true"]');i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();case"void":this.itemsWrapper=null,this.onModelTouched();break}}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateModel(null,e),this.selectedOptions=null,this.onClear.emit(),this._disableTooltip=!0,e.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(e,i){let n=this.modelValue().filter(o=>!q.equals(o,e,this.equalityKey()));this.updateModel(n,i),this.onChange.emit({originalEvent:i,value:n,itemValue:e}),i&&i.stopPropagation()}findNextItem(e){let i=e.nextElementSibling;return i?I.hasClass(i.children[0],"p-disabled")||I.isHidden(i.children[0])||I.hasClass(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}findPrevItem(e){let i=e.previousElementSibling;return i?I.hasClass(i.children[0],"p-disabled")||I.isHidden(i.children[0])||I.hasClass(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?q.findLastIndex(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?q.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return q.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,o=!1;return this.focusedOptionIndex()!==-1?(n=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(d=>this.isOptionMatched(d)),n=n===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(d=>this.isOptionMatched(d)):n+this.focusedOptionIndex()):n=this.visibleOptions().findIndex(d=>this.isOptionMatched(d)),n!==-1&&(o=!0),n===-1&&this.focusedOptionIndex()===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let e=[];for(let i of this.options){let n=this.filterService.filter(this.getOptionGroupChildren(i),this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);n&&n.length&&e.push(xt(be({},i),{[this.optionGroupChildren]:n}))}this._filteredOptions=e}else this._filteredOptions=this.filterService.filter(this.options,this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);else this._filteredOptions=null}hasFocusableElements(){return I.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}static \u0275fac=function(i){return new(i||t)(B(Ve),B(at),B(me),B(qt),B(vi),B(rt),B(ii))};static \u0275cmp=R({type:t,selectors:[["p-multiSelect"]],contentQueries:function(i,n,o){if(i&1&&(te(o,yi,5),te(o,ni,5),te(o,U,4)),i&2){let d;D(d=F())&&(n.footerFacet=d.first),D(d=F())&&(n.headerFacet=d.first),D(d=F())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&(X(Zl,5),X(Xl,5),X(Yl,5),X(Jl,5),X(es,5),X(ts,5),X(is,5),X(ns,5),X(os,5)),i&2){let o;D(o=F())&&(n.containerViewChild=o.first),D(o=F())&&(n.overlayViewChild=o.first),D(o=F())&&(n.filterInputChild=o.first),D(o=F())&&(n.focusInputViewChild=o.first),D(o=F())&&(n.itemsViewChild=o.first),D(o=F())&&(n.scroller=o.first),D(o=F())&&(n.lastHiddenFocusableElementOnOverlay=o.first),D(o=F())&&(n.firstHiddenFocusableElementOnOverlay=o.first),D(o=F())&&(n.headerCheckboxViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,n){i&2&&Me("p-inputwrapper-focus",n.focused||n.overlayVisible)("p-inputwrapper-filled",n.filled)},inputs:{id:"id",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:[2,"disabled","disabled",V],readonly:[2,"readonly","readonly",V],group:[2,"group","group",V],filter:[2,"filter","filter",V],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",V],tabindex:[2,"tabindex","tabindex",_e],variant:"variant",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",_e],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",V],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",V],dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",V],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",V],virtualScroll:[2,"virtualScroll","virtualScroll",V],loading:[2,"loading","loading",V],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",_e],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",V],display:"display",autocomplete:"autocomplete",showClear:[2,"showClear","showClear",V],autofocus:[2,"autofocus","autofocus",V],autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",V],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",V],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",V]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[Xt([Fr]),de],ngContentSelectors:ls,decls:17,vars:44,consts:[["container",""],["focusInput",""],["elseBlock",""],["overlay",""],["token",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["filterInput",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[1,"p-multiselect-label-container",3,"mouseleave","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-multiselect-trigger"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],[1,"p-multiselect-token-label"],[3,"ngClass","styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"click","ngClass","styleClass"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-multiselect-clear-icon",3,"click"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-multiselect-trigger-icon",4,"ngIf"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],["type","checkbox",3,"focus","blur","readonly","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","searchbox","role","searchbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"input","keydown","click","blur","value","disabled"],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-multiselect-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-multiselect-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","checkIconTemplate","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-multiselect-empty-message",3,"ngStyle"],[1,"p-multiselect-footer"]],template:function(i,n){if(i&1){let o=T();tt(as),r(0,"div",15,0),b("click",function(f){return g(o),h(n.onContainerClick(f))}),r(2,"div",16)(3,"input",17,1),b("focus",function(f){return g(o),h(n.onInputFocus(f))})("blur",function(f){return g(o),h(n.onInputBlur(f))})("keydown",function(f){return g(o),h(n.onKeyDown(f))}),c()(),r(5,"div",18),b("mouseleave",function(){return g(o),h(n.labelContainerMouseLeave())}),r(6,"div",19),m(7,ys,3,2,"ng-container",20)(8,Ts,1,0,"ng-container",21),c(),m(9,Ms,3,2,"ng-container",20),c(),r(10,"div",22),m(11,Ds,3,2,"ng-container",23)(12,js,2,2,"ng-template",null,2,O),c(),r(14,"p-overlay",24,3),De("visibleChange",function(f){return g(o),Pe(n.overlayVisible,f)||(n.overlayVisible=f),h(f)}),b("onAnimationStart",function(f){return g(o),h(n.onOverlayAnimationStart(f))})("onHide",function(){return g(o),h(n.hide())}),m(16,Dr,12,18,"ng-template",25),c()()}if(i&2){let o,d=w(13);M(n.styleClass),p("ngClass",n.containerClass)("ngStyle",n.style),k("id",n.id),l(2),k("data-p-hidden-accessible",!0),l(),p("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass)("autofocus",n.autofocus),k("aria-disabled",n.disabled)("id",n.inputId)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(o=n.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",n.overlayVisible?n.id+"_list":null)("tabindex",n.disabled?-1:n.tabindex)("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("value",n.label()||"empty"),l(2),p("pTooltip",n.tooltip)("tooltipDisabled",n._disableTooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass),l(),p("ngClass",n.labelClass),l(),p("ngIf",!n.selectedItemsTemplate),l(),p("ngTemplateOutlet",n.selectedItemsTemplate)("ngTemplateOutletContext",Y(41,ss,n.selectedOptions,n.removeOption.bind(n))),l(),p("ngIf",n.isVisibleClearIcon),l(2),p("ngIf",n.loading)("ngIfElse",d),l(3),Be("visible",n.overlayVisible),p("options",n.overlayOptions)("target","@parent")("appendTo",n.appendTo)("autoZIndex",n.autoZIndex)("baseZIndex",n.baseZIndex)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}},dependencies:()=>[le,yt,ye,ie,ue,Jo,U,he,qe,ea,oi,Pt,In,Si,pt,Kt,Lr],styles:[`@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-token-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100px}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return t})(),rn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,kn,Se,re,Ze,Mn,ai,Pt,In,Si,pt,Kt,Pt,ca,kn,Se,Mn]})}return t})();var Rr=()=>["category.id"];function Ar(t,a){t&1&&(r(0,"th",5)(1,"span"),C(2),_(3,"translate"),c(),x(4,"p-sortIcon",6),c()),t&2&&(l(2),y(u(3,1,"data.category")))}function zr(t,a){if(t&1){let e=T();r(0,"p-multiSelect",10),_(1,"translate"),_(2,"translate"),b("onChange",function(n){let o=g(e).filterCallback;return h(o(n.value))}),c()}if(t&2){let e=a.$implicit,i=s(4);p("ngModel",e)("options",i.options().categories)("maxSelectedLabels",1)("selectedItemsLabel",u(1,5,"data.selectedLabel"))("placeholder",u(2,7,"data.any"))}}function Hr(t,a){t&1&&(r(0,"th")(1,"p-columnFilter",8),m(2,zr,3,9,"ng-template",9),c()())}function jr(t,a){if(t&1&&(r(0,"tr")(1,"th"),x(2,"p-columnFilter",7),c(),m(3,Hr,3,0,"th"),c()),t&2){let e=s(2);l(3),v(e.type()!=="category"?3:-1)}}function $r(t,a){if(t&1&&(r(0,"tr")(1,"th",3)(2,"span"),C(3),_(4,"translate"),c(),x(5,"p-sortIcon",4),c(),m(6,Ar,5,3,"th",5),c(),m(7,jr,4,1,"tr")),t&2){let e=s();l(3),y(u(4,3,"data.name")),l(3),v(e.type()!=="category"?6:-1),l(),v(e.value().length>10?7:-1)}}function Nr(t,a){if(t&1&&(r(0,"a",11),x(1,"button",12),_(2,"iconSmClass"),c()),t&2){let e=s(2).$implicit;p("routerLink","/data/categories/"+e.category.id),l(),p("label",e.category.name)("icon",K(2,3,e.category.id,"category"))}}function Kr(t,a){if(t&1&&(r(0,"td"),m(1,Nr,3,6,"a",11),c()),t&2){let e=s().$implicit;l(),v(e.category?1:-1)}}function Qr(t,a){if(t&1&&(r(0,"tr")(1,"td")(2,"a",11),x(3,"button",12),_(4,"iconSmClass"),c()(),m(5,Kr,2,1,"td"),c()),t&2){let e=a.$implicit,i=s();l(2),p("routerLink",i.route()+e.id),l(),p("label",e.name)("icon",K(4,4,e.id,i.type())),l(2),v(i.type()!=="category"?5:-1)}}var Kv=(()=>{class t{store=A(we);ids=pe.required();type=pe.required();useRelativePath=pe(!1);options=this.store.selectSignal(H.selectOptions);data=this.store.selectSignal(H.selectDataset);route=Ee(()=>{let e=this.type();if(this.useRelativePath())return"";switch(e){case"category":return"/data/categories/";case"item":return"/data/items/";case"recipe":return"/data/recipes/"}});value=Ee(()=>{let e=this.ids(),i=this.type(),n=this.data(),o;switch(i){case"category":o=n.categoryEntities;break;case"item":o=n.itemEntities;break;case"recipe":o=n.recipeEntities}return e.filter(d=>o[d]).map(d=>{let f=o[d],S={id:f.id,name:f.name};return i!=="category"&&(S.category=n.categoryEntities[f.category]),S})});static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["lab-collection-table"]],inputs:{ids:[1,"ids"],type:[1,"type"],useRelativePath:[1,"useRelativePath"]},standalone:!0,features:[ne],decls:3,vars:4,consts:[["labPagedTable","",3,"value","paginator","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","category.name"],["field","category.name"],["type","text","field","name","matchMode","contains"],["field","category.id","matchMode","in"],["pTemplate","filter"],["appendTo","body",3,"onChange","ngModel","options","maxSelectedLabels","selectedItemsLabel","placeholder"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-link",3,"label","icon"]],template:function(i,n){i&1&&(r(0,"p-table",0),m(1,$r,8,5,"ng-template",1)(2,Qr,6,7,"ng-template",2),c()),i&2&&p("value",n.value())("paginator",n.value().length>10)("globalFilterFields",J(3,Rr))},dependencies:[Re,Fe,Le,Tt,se,ge,U,rn,$i,si,zt,an,ln,ia,Ne,aa,Oe],styles:["th[_ngcontent-%COMP%]{width:50%}"],changeDetection:0})}return t})();var Wr=["input"],qr=(t,a,e,i)=>({"p-checkbox p-component":!0,"p-checkbox-checked":t,"p-checkbox-disabled":a,"p-checkbox-focused":e,"p-variant-filled":i}),Ur=(t,a,e)=>({"p-highlight":t,"p-disabled":a,"p-focus":e}),Gr=(t,a,e)=>({"p-checkbox-label":!0,"p-checkbox-label-active":t,"p-disabled":a,"p-checkbox-label-focus":e});function Zr(t,a){if(t&1&&x(0,"span",10),t&2){let e=s(3);p("ngClass",e.checkboxIcon),k("data-pc-section","icon")}}function Xr(t,a){t&1&&x(0,"CheckIcon",11),t&2&&(p("styleClass","p-checkbox-icon"),k("data-pc-section","icon"))}function Yr(t,a){if(t&1&&(Q(0),m(1,Zr,1,2,"span",8)(2,Xr,1,2,"CheckIcon",9),W()),t&2){let e=s(2);l(),p("ngIf",e.checkboxIcon),l(),p("ngIf",!e.checkboxIcon)}}function Jr(t,a){}function ep(t,a){t&1&&m(0,Jr,0,0,"ng-template")}function tp(t,a){if(t&1&&(r(0,"span",12),m(1,ep,1,0,null,13),c()),t&2){let e=s(2);k("data-pc-section","icon"),l(),p("ngTemplateOutlet",e.checkboxIconTemplate)}}function ip(t,a){if(t&1&&(Q(0),m(1,Yr,3,2,"ng-container",5)(2,tp,2,2,"span",7),W()),t&2){let e=s();l(),p("ngIf",!e.checkboxIconTemplate),l(),p("ngIf",e.checkboxIconTemplate)}}function np(t,a){if(t&1){let e=T();r(0,"label",14),b("click",function(n){g(e);let o=s(),d=w(3);return h(o.onClick(n,d,!0))}),C(1),c()}if(t&2){let e=s();M(e.labelStyleClass),p("ngClass",lt(6,Gr,e.checked(),e.disabled,e.focused)),k("for",e.inputId)("data-pc-section","label"),l(),j(" ",e.label,"")}}var op={provide:wi,useExisting:_t(()=>mt),multi:!0},mt=(()=>{class t{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new L;onFocus=new L;onBlur=new L;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(e,i,n){this.cd=e,this.injector=i,this.config=n}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.checkboxIconTemplate=e.template;break}})}onClick(e,i,n){e.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(e),n&&i.focus())}updateModel(e){let i,n=this.injector.get(Xo,null,{optional:!0,self:!0}),o=n&&!this.formControl?n.value:this.model;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(this.checked()?i=o.filter(d=>!q.equals(d,this.value)):i=o?[...o,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:q.contains(this.value,this.model)}static \u0275fac=function(i){return new(i||t)(B(me),B(to),B(rt))};static \u0275cmp=R({type:t,selectors:[["p-checkbox"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&X(Wr,5),i&2){let o;D(o=F())&&(n.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",V],binary:[2,"binary","binary",V],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",_e],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",V],required:[2,"required","required",V],autofocus:[2,"autofocus","autofocus",V],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Xt([op]),de],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(i,n){if(i&1){let o=T();r(0,"div",1)(1,"div",2)(2,"input",3,0),b("change",function(f){return g(o),h(n.handleChange(f))})("focus",function(f){return g(o),h(n.onInputFocus(f))})("blur",function(f){return g(o),h(n.onInputBlur(f))}),c()(),r(4,"div",4),b("click",function(f){g(o);let S=w(3);return h(n.onClick(f,S,!0))}),m(5,ip,3,2,"ng-container",5),c()(),m(6,np,2,10,"label",6)}i&2&&(M(n.styleClass),p("ngStyle",n.style)("ngClass",Wi(28,qr,n.checked(),n.disabled,n.focused,n.variant==="filled"||n.config.inputStyle()==="filled")),k("data-pc-name","checkbox")("data-pc-section","root"),l(),k("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),l(),p("value",n.value)("checked",n.checked())("disabled",n.disabled)("readonly",n.readonly)("autofocus",n.autofocus),k("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("required",n.required)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("data-pc-section","hiddenInput"),l(2),p("ngClass",lt(33,Ur,n.checked(),n.disabled,n.focused)),k("data-p-highlight",n.checked())("data-p-disabled",n.disabled)("data-p-focused",n.focused)("data-pc-section","input"),l(),p("ngIf",n.checked()),l(),p("ngIf",n.label))},dependencies:()=>[le,ye,ie,ue,oi,Pt],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0})}return t})(),Ct=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,ai,Pt,Se]})}return t})();var ua=(()=>{class t{pFocusTrapDisabled=!1;platformId=A(Ye);host=A(Ve);document=A(ht);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){ke(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){e.pFocusTrapDisabled&&ke(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let e="0",i=n=>I.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:e,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:n?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:i,relatedTarget:n}=e,o=n===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(n)?I.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;I.focus(o)}onLastHiddenElementFocus(e){let{currentTarget:i,relatedTarget:n}=e,o=n===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(n)?I.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;I.focus(o)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ut({type:t,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",V]},features:[de,Qi]})}return t})(),fa=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe]})}return t})();var Pn=(()=>{class t extends Ii{pathId;ngOnInit(){this.pathId="url(#"+je()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[ze,ne],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(hi(),r(0,"svg",0)(1,"g"),x(2,"path",1),c(),r(3,"defs")(4,"clipPath",2),x(5,"rect",3),c()()()),i&2&&(M(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),l(),k("clip-path",n.pathId),l(3),p("id",n.pathId))},encapsulation:2})}return t})();var Dn=(()=>{class t extends Ii{pathId;ngOnInit(){this.pathId="url(#"+je()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[ze,ne],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(hi(),r(0,"svg",0)(1,"g"),x(2,"path",1),c(),r(3,"defs")(4,"clipPath",2),x(5,"rect",3),c()()()),i&2&&(M(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),l(),k("clip-path",n.pathId),l(3),p("id",n.pathId))},encapsulation:2})}return t})();var lp=["titlebar"],sp=["content"],rp=["footer"],pp=["*",[["p-header"]],[["p-footer"]]],cp=["*","p-header","p-footer"],dp=(t,a,e,i,n,o,d,f,S,E)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":t,"p-dialog-mask-scrollblocker":a,"p-dialog-left":e,"p-dialog-right":i,"p-dialog-top":n,"p-dialog-top-left":o,"p-dialog-top-right":d,"p-dialog-bottom":f,"p-dialog-bottom-left":S,"p-dialog-bottom-right":E}),mp=(t,a,e,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":t,"p-dialog-draggable":a,"p-dialog-resizable":e,"p-dialog-maximized":i}),_p=(t,a)=>({transform:t,transition:a}),up=t=>({value:"visible",params:t}),fp=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),gp=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function hp(t,a){t&1&&P(0)}function Cp(t,a){if(t&1&&(Q(0),m(1,hp,1,0,"ng-container",10),W()),t&2){let e=s(3);l(),p("ngTemplateOutlet",e.headlessTemplate)}}function bp(t,a){if(t&1){let e=T();r(0,"div",15),b("mousedown",function(n){g(e);let o=s(4);return h(o.initResize(n))}),c()}}function xp(t,a){if(t&1&&(r(0,"span",21),C(1),c()),t&2){let e=s(5);p("id",e.ariaLabelledBy),l(),y(e.header)}}function vp(t,a){if(t&1&&(r(0,"span",21),He(1,1),c()),t&2){let e=s(5);p("id",e.ariaLabelledBy)}}function yp(t,a){t&1&&P(0)}function Tp(t,a){if(t&1&&x(0,"span",25),t&2){let e=s(6);p("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}function Ip(t,a){t&1&&x(0,"WindowMaximizeIcon",27),t&2&&p("styleClass","p-dialog-header-maximize-icon")}function Sp(t,a){t&1&&x(0,"WindowMinimizeIcon",27),t&2&&p("styleClass","p-dialog-header-maximize-icon")}function wp(t,a){if(t&1&&(Q(0),m(1,Ip,1,1,"WindowMaximizeIcon",26)(2,Sp,1,1,"WindowMinimizeIcon",26),W()),t&2){let e=s(6);l(),p("ngIf",!e.maximized&&!e.maximizeIconTemplate),l(),p("ngIf",e.maximized&&!e.minimizeIconTemplate)}}function kp(t,a){}function Mp(t,a){t&1&&m(0,kp,0,0,"ng-template")}function Ep(t,a){if(t&1&&(Q(0),m(1,Mp,1,0,null,10),W()),t&2){let e=s(6);l(),p("ngTemplateOutlet",e.maximizeIconTemplate)}}function Op(t,a){}function Vp(t,a){t&1&&m(0,Op,0,0,"ng-template")}function Bp(t,a){if(t&1&&(Q(0),m(1,Vp,1,0,null,10),W()),t&2){let e=s(6);l(),p("ngTemplateOutlet",e.minimizeIconTemplate)}}function Pp(t,a){if(t&1){let e=T();r(0,"button",22),b("click",function(){g(e);let n=s(5);return h(n.maximize())})("keydown.enter",function(){g(e);let n=s(5);return h(n.maximize())}),m(1,Tp,1,1,"span",23)(2,wp,3,2,"ng-container",24)(3,Ep,2,1,"ng-container",24)(4,Bp,2,1,"ng-container",24),c()}if(t&2){let e=s(5);p("ngClass",J(7,fp)),k("tabindex",e.maximizable?"0":"-1")("aria-label",e.maximizeLabel),l(),p("ngIf",e.maximizeIcon&&!e.maximizeIconTemplate&&!e.minimizeIconTemplate),l(),p("ngIf",!e.maximizeIcon),l(),p("ngIf",!e.maximized),l(),p("ngIf",e.maximized)}}function Dp(t,a){if(t&1&&x(0,"span",30),t&2){let e=s(7);p("ngClass",e.closeIcon)}}function Fp(t,a){t&1&&x(0,"TimesIcon",27),t&2&&p("styleClass","p-dialog-header-close-icon")}function Lp(t,a){if(t&1&&(Q(0),m(1,Dp,1,1,"span",29)(2,Fp,1,1,"TimesIcon",26),W()),t&2){let e=s(6);l(),p("ngIf",e.closeIcon),l(),p("ngIf",!e.closeIcon)}}function Rp(t,a){}function Ap(t,a){t&1&&m(0,Rp,0,0,"ng-template")}function zp(t,a){if(t&1&&(r(0,"span"),m(1,Ap,1,0,null,10),c()),t&2){let e=s(6);l(),p("ngTemplateOutlet",e.closeIconTemplate)}}function Hp(t,a){if(t&1){let e=T();r(0,"button",28),b("click",function(n){g(e);let o=s(5);return h(o.close(n))})("keydown.enter",function(n){g(e);let o=s(5);return h(o.close(n))}),m(1,Lp,3,2,"ng-container",24)(2,zp,2,1,"span",24),c()}if(t&2){let e=s(5);p("ngClass",J(5,gp)),k("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),l(),p("ngIf",!e.closeIconTemplate),l(),p("ngIf",e.closeIconTemplate)}}function jp(t,a){if(t&1){let e=T();r(0,"div",16,3),b("mousedown",function(n){g(e);let o=s(4);return h(o.initDrag(n))}),m(2,xp,2,2,"span",17)(3,vp,2,1,"span",17)(4,yp,1,0,"ng-container",10),r(5,"div",18),m(6,Pp,5,8,"button",19)(7,Hp,3,6,"button",20),c()()}if(t&2){let e=s(4);l(2),p("ngIf",!e.headerFacet&&!e.headerTemplate),l(),p("ngIf",e.headerFacet),l(),p("ngTemplateOutlet",e.headerTemplate),l(2),p("ngIf",e.maximizable),l(),p("ngIf",e.closable)}}function $p(t,a){t&1&&P(0)}function Np(t,a){t&1&&P(0)}function Kp(t,a){if(t&1&&(r(0,"div",31,4),He(2,2),m(3,Np,1,0,"ng-container",10),c()),t&2){let e=s(4);l(3),p("ngTemplateOutlet",e.footerTemplate)}}function Qp(t,a){if(t&1&&(m(0,bp,1,0,"div",11)(1,jp,8,5,"div",12),r(2,"div",13,2),He(4),m(5,$p,1,0,"ng-container",10),c(),m(6,Kp,4,1,"div",14)),t&2){let e=s(3);p("ngIf",e.resizable),l(),p("ngIf",e.showHeader),l(),M(e.contentStyleClass),p("ngClass","p-dialog-content")("ngStyle",e.contentStyle),l(3),p("ngTemplateOutlet",e.contentTemplate),l(),p("ngIf",e.footerFacet||e.footerTemplate)}}function Wp(t,a){if(t&1){let e=T();r(0,"div",8,0),b("@animation.start",function(n){g(e);let o=s(2);return h(o.onAnimationStart(n))})("@animation.done",function(n){g(e);let o=s(2);return h(o.onAnimationEnd(n))}),m(2,Cp,2,1,"ng-container",9)(3,Qp,7,8,"ng-template",null,1,O),c()}if(t&2){let e=w(4),i=s(2);M(i.styleClass),p("ngClass",Wi(10,mp,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",i.focusTrap===!1)("@animation",N(18,up,Y(15,_p,i.transformOptions,i.transitionOptions))),k("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),l(2),p("ngIf",i.headlessTemplate)("ngIfElse",e)}}function qp(t,a){if(t&1&&(r(0,"div",6),m(1,Wp,5,20,"div",7),c()),t&2){let e=s();M(e.maskStyleClass),p("ngStyle",e.maskStyle)("ngClass",Yt(5,dp,[e.modal,e.modal||e.blockScroll,e.position==="left",e.position==="right",e.position==="top",e.position==="topleft"||e.position==="top-left",e.position==="topright"||e.position==="top-right",e.position==="bottom",e.position==="bottomleft"||e.position==="bottom-left",e.position==="bottomright"||e.position==="bottom-right"])),l(),p("ngIf",e.visible)}}var Up=yn([We({transform:"{{transform}}",opacity:0}),Ue("{{transition}}")]),Gp=yn([Ue("{{transition}}",We({transform:"{{transform}}",opacity:0}))]),Mt=(()=>{class t{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=be({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onShow=new L;onHide=new L;visibleChange=new L;onResizeInit=new L;onResizeEnd=new L;onDragEnd=new L;onMaximize=new L;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=je();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(mi.ARIA).maximizeLabel}constructor(e,i,n,o,d,f,S){this.document=e,this.platformId=i,this.el=n,this.renderer=o,this.zone=d,this.cd=f,this.config=S,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"maximizeicon":this.maximizeIconTemplate=e.template;break;case"minimizeicon":this.minimizeIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return this.header!==null?je()+"_header":null}parseDurationToMilliseconds(e){let i=/([\d\.]+)(ms|s)\b/g,n=0,o;for(;(o=i.exec(e))!==null;){let d=parseFloat(o[1]),f=o[2];f==="ms"?n+=d:f==="s"&&(n+=d*1e3)}if(n!==0)return n}focus(e=this.contentViewChild?.nativeElement){let i=this.parseDurationToMilliseconds(this.transitionOptions),n=I.getFocusableElement(e,"[autofocus]");if(n){this.zone.runOutsideAngular(()=>{setTimeout(()=>n.focus(),i||5)});return}let o=I.getFocusableElement(e);o?this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),i||5)}):this.footerViewChild&&e!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&I.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let e=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&e&&e.length==1&&I.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?I.blockBodyScroll():I.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(st.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(ke(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",I.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let i in this.breakpoints)e+=`
                        @media screen and (max-width: ${i}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[i]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e)}}initDrag(e){I.hasClass(e.target,"p-dialog-header-icon")||I.hasClass(e.target,"p-dialog-header-close-icon")||I.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",I.addClass(this.document.body,"p-unselectable-text"))}onDrag(e){if(this.dragging){let i=I.getOuterWidth(this.container),n=I.getOuterHeight(this.container),o=e.pageX-this.lastPageX,d=e.pageY-this.lastPageY,f=this.container.getBoundingClientRect(),S=getComputedStyle(this.container),E=parseFloat(S.marginLeft),$=parseFloat(S.marginTop),z=f.left+o-E,Ce=f.top+d-$,Ke=I.getViewport();this.container.style.position="fixed",this.keepInViewport?(z>=this.minX&&z+i<Ke.width&&(this._style.left=`${z}px`,this.lastPageX=e.pageX,this.container.style.left=`${z}px`),Ce>=this.minY&&Ce+n<Ke.height&&(this._style.top=`${Ce}px`,this.lastPageY=e.pageY,this.container.style.top=`${Ce}px`)):(this.lastPageX=e.pageX,this.container.style.left=`${z}px`,this.lastPageY=e.pageY,this.container.style.top=`${Ce}px`)}}endDrag(e){this.dragging&&(this.dragging=!1,I.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,I.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let i=e.pageX-this.lastPageX,n=e.pageY-this.lastPageY,o=I.getOuterWidth(this.container),d=I.getOuterHeight(this.container),f=I.getOuterHeight(this.contentViewChild?.nativeElement),S=o+i,E=d+n,$=this.container.style.minWidth,z=this.container.style.minHeight,Ce=this.container.getBoundingClientRect(),Ke=I.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(S+=i,E+=n),(!$||S>parseInt($))&&Ce.left+S<Ke.width&&(this._style.width=S+"px",this.container.style.width=this._style.width),(!z||E>parseInt(z))&&Ce.top+E<Ke.height&&(this.contentViewChild.nativeElement.style.height=f+E-d+"px",this._style.height&&(this._style.height=E+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,I.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{i.key=="Escape"&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):I.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&I.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&I.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(I.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&I.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&st.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?be({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||t)(B(ht),B(Ye),B(Ve),B(at),B(qt),B(me),B(rt))};static \u0275cmp=R({type:t,selectors:[["p-dialog"]],contentQueries:function(i,n,o){if(i&1&&(te(o,ni,5),te(o,yi,5),te(o,U,4)),i&2){let d;D(d=F())&&(n.headerFacet=d.first),D(d=F())&&(n.footerFacet=d.first),D(d=F())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&(X(lp,5),X(sp,5),X(rp,5)),i&2){let o;D(o=F())&&(n.headerViewChild=o.first),D(o=F())&&(n.contentViewChild=o.first),D(o=F())&&(n.footerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[2,"draggable","draggable",V],resizable:[2,"resizable","resizable",V],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",V],closeOnEscape:[2,"closeOnEscape","closeOnEscape",V],dismissableMask:[2,"dismissableMask","dismissableMask",V],rtl:[2,"rtl","rtl",V],closable:[2,"closable","closable",V],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",V],breakpoint:"breakpoint",blockScroll:[2,"blockScroll","blockScroll",V],autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",_e],minX:[2,"minX","minX",_e],minY:[2,"minY","minY",_e],focusOnShow:[2,"focusOnShow","focusOnShow",V],maximizable:[2,"maximizable","maximizable",V],keepInViewport:[2,"keepInViewport","keepInViewport",V],focusTrap:[2,"focusTrap","focusTrap",V],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[de],ngContentSelectors:cp,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,n){i&1&&(tt(pp),m(0,qp,2,16,"div",5)),i&2&&p("ngIf",n.maskVisible)},dependencies:()=>[le,ye,ie,ue,ua,ge,qe,pt,Pn,Dn],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[wt("animation",[Ge("void => visible",[Tn(Up)]),Ge("visible => void",[Tn(Gp)])])]},changeDetection:0})}return t})(),Et=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,fa,se,Ze,pt,Pn,Dn,Se]})}return t})();var Zp=["*"],Xp=(t,a)=>({showTransitionParams:t,hideTransitionParams:a}),Yp=(t,a)=>({value:t,params:a});function Jp(t,a){t&1&&P(0)}function ec(t,a){t&1&&x(0,"TimesIcon",8),t&2&&p("styleClass","p-overlaypanel-close-icon")}function tc(t,a){}function ic(t,a){t&1&&m(0,tc,0,0,"ng-template")}function nc(t,a){if(t&1&&(r(0,"span",9),m(1,ic,1,0,null,3),c()),t&2){let e=s(3);l(),p("ngTemplateOutlet",e.closeIconTemplate)}}function oc(t,a){if(t&1){let e=T();r(0,"button",5),b("click",function(n){g(e);let o=s(2);return h(o.onCloseClick(n))})("keydown.enter",function(){g(e);let n=s(2);return h(n.hide())}),m(1,ec,1,1,"TimesIcon",6)(2,nc,2,1,"span",7),c()}if(t&2){let e=s(2);k("aria-label",e.ariaCloseLabel),l(),p("ngIf",!e.closeIconTemplate),l(),p("ngIf",e.closeIconTemplate)}}function ac(t,a){if(t&1){let e=T();r(0,"div",1),b("click",function(n){g(e);let o=s();return h(o.onOverlayClick(n))})("@animation.start",function(n){g(e);let o=s();return h(o.onAnimationStart(n))})("@animation.done",function(n){g(e);let o=s();return h(o.onAnimationEnd(n))}),r(1,"div",2),b("click",function(n){g(e);let o=s();return h(o.onContentClick(n))})("mousedown",function(n){g(e);let o=s();return h(o.onContentClick(n))}),He(2),m(3,Jp,1,0,"ng-container",3),c(),m(4,oc,3,3,"button",4),c()}if(t&2){let e=s();M(e.styleClass),p("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",Y(13,Yp,e.overlayVisible?"open":"close",Y(10,Xp,e.showTransitionOptions,e.hideTransitionOptions))),k("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),l(3),p("ngTemplateOutlet",e.contentTemplate),l(),p("ngIf",e.showCloseIcon)}}var fi=(()=>{class t{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new L;onHide=new L;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(e,i,n,o,d,f,S,E){this.document=e,this.platformId=i,this.el=n,this.renderer=o,this.cd=d,this.zone=f,this.config=S,this.overlayService=E}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}this.cd.markForCheck()})}bindDocumentClickListener(){if(ke(this.platformId)&&!this.documentClickListener&&this.dismissable){let e=I.isIOS()?"touchstart":"click",i=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(i,e,n=>{!this.container?.contains(n.target)&&this.target!==n.target&&!this.target.contains(n.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,i){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,i)&&(this.destroyCallback=()=>{this.show(null,i||e.currentTarget||e.target)}),this.hide()):this.show(e,i))}show(e,i){i&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=i||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let i=e.target;this.selfClick=e.offsetX<i.clientWidth&&e.offsetY<i.clientHeight}hasTargetChanged(e,i){return this.target!=null&&this.target!==(i||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):I.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&st.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),I.absolutePosition(this.container,this.target,!1);let e=I.getOffset(this.container),i=I.getOffset(this.target),n=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),o=0;e.left<i.left&&(o=i.left-e.left-parseFloat(n)*2),this.container?.style.setProperty("--overlayArrowLeft",`${o}px`),e.top<i.top&&(I.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&st.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=I.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!I.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){if(ke(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){ke(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Ti(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&st.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(B(ht),B(Ye),B(Ve),B(at),B(me),B(qt),B(rt),B(ii))};static \u0275cmp=R({type:t,selectors:[["p-overlayPanel"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&b("keydown.escape",function(d){return n.onEscapeKeydown(d)},!1,oo)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",V],showCloseIcon:[2,"showCloseIcon","showCloseIcon",V],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",V],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",_e],focusOnShow:[2,"focusOnShow","focusOnShow",V],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[de],ngContentSelectors:Zp,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(i,n){i&1&&(tt(),m(0,ac,5,16,"div",0)),i&2&&p("ngIf",n.render)},dependencies:()=>[le,ye,ie,ue,qe,pt],styles:[`@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}
`],encapsulation:2,data:{animation:[wt("animation",[_i("void",We({transform:"scaleY(0.8)",opacity:0})),_i("close",We({opacity:0})),_i("open",We({transform:"translateY(0)",opacity:1})),Ge("void => open",Ue("{{showTransitionParams}}")),Ge("open => close",Ue("{{hideTransitionParams}}"))])]},changeDetection:0})}return t})(),pn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,Ze,Se,pt,Se]})}return t})();var ha=(()=>{class t{cancel=ce(!1);onHide(){this.cancel()||this.save()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}return t})(),jt=(()=>{class t extends ha{ref=A(me);visible=!1;hide(e){e===!0&&this.cancel.set(e),this.visible=!1}show(){this.cancel.set(!1),this.visible=!0,this.ref.markForCheck()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["ng-component"]],features:[ze],decls:0,vars:0,template:function(i,n){},encapsulation:2})}return t})(),cn=(()=>{class t extends ha{overlayPanel=Ut.required(fi);hide(e){e===!0&&this.cancel.set(e),this.overlayPanel().hide()}_show(e){this.cancel.set(!1),this.overlayPanel().toggle(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["ng-component"]],viewQuery:function(i,n){i&1&&Gt(n.overlayPanel,fi,5),i&2&&Zt()},features:[ze],decls:0,vars:0,template:function(i,n){},encapsulation:2})}return t})();var lc=()=>({width:"320px"}),sc=()=>({"320px":"100vw"});function rc(t,a){if(t&1){let e=T();r(0,"div",7)(1,"span",4)(2,"p-dropdown",14),_(3,"translate"),b("onChange",function(n){g(e);let o=s();return h(o.editValue.sankeyAlign=n.value)}),c(),r(4,"label",15),C(5),_(6,"translate"),c()()()}if(t&2){let e=s();l(2),p("pTooltip",u(3,4,"flowSettings.sankeyAlignTooltip"))("ngModel",e.editValue.sankeyAlign)("options",e.sankeyAlignOptions),l(3),y(u(6,6,"flowSettings.sankeyAlign"))}}function pc(t,a){if(t&1){let e=T();r(0,"button",19),_(1,"translate"),b("click",function(){g(e);let n=s(2);return h(n.reset())}),c()}t&2&&p("label",u(1,1,"reset"))}function cc(t,a){if(t&1){let e=T();m(0,pc,2,3,"button",16),r(1,"button",17),_(2,"translate"),b("click",function(){g(e);let n=s();return h(n.hide())}),c(),r(3,"button",18),_(4,"translate"),b("click",function(){g(e);let n=s();return h(n.hide(!0))}),c()}if(t&2){let e=s();v(e.modified?0:-1),l(),p("label",u(2,3,"ok")),l(2),p("label",u(4,5,"cancel"))}}var Fn=Ie.initialState.flowSettings,wT=(()=>{class t extends jt{store=A(we);linkValueOptions=this.store.selectSignal(H.selectLinkValueOptions);editValue=be({},Fn);flowDiagramOptions=go;sankeyAlignOptions=So;FlowDiagram=fo;get modified(){return Object.keys(this.editValue).some(e=>this.editValue[e]!==Fn[e])}initEdit(e){this.editValue=be({},e)}open(e){this.initEdit(e),this.show()}reset(){this.initEdit(Fn)}save(){let e=this.editValue;this.store.dispatch(Ie.setFlowSettings({flowSettings:e}))}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["lab-flow-settings"]],standalone:!0,features:[ze,ne],decls:31,vars:47,consts:[["flowDiagramDropdown",""],[3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","breakpoints","header"],[1,"p-fluid"],[1,"mt-4","pb-3"],[1,"p-float-label"],["labDropdownTranslate","","inputId","flow-diagram",3,"onChange","pTooltip","ngModel","options"],["for","flow-diagram"],[1,"mt-3","pb-3"],["labDropdownTranslate","","inputId","link-size",3,"onChange","pTooltip","ngModel","options"],["for","link-size"],["labDropdownTranslate","","inputId","link-text",3,"onChange","pTooltip","ngModel","options"],["for","link-text"],["tooltipPosition","top",3,"onChange","ngModel","binary","label","pTooltip"],["pTemplate","footer"],["labDropdownTranslate","","inputId","sankey-align",3,"onChange","pTooltip","ngModel","options"],["for","sankey-align"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"click","label"]],template:function(i,n){if(i&1){let o=T();r(0,"p-dialog",1),_(1,"translate"),De("visibleChange",function(f){return g(o),Pe(n.visible,f)||(n.visible=f),h(f)}),b("onHide",function(){return g(o),h(n.onHide())}),r(2,"div",2)(3,"div",3)(4,"span",4)(5,"p-dropdown",5,0),_(7,"translate"),b("onChange",function(f){return g(o),h(n.editValue.diagram=f.value)}),c(),r(8,"label",6),C(9),_(10,"translate"),c()()(),m(11,rc,7,8,"div",7),r(12,"div",7)(13,"span",4)(14,"p-dropdown",8),_(15,"translate"),b("onChange",function(f){return g(o),h(n.editValue.linkSize=f.value)}),c(),r(16,"label",9),C(17),_(18,"translate"),c()()(),r(19,"div",7)(20,"span",4)(21,"p-dropdown",10),_(22,"translate"),b("onChange",function(f){return g(o),h(n.editValue.linkText=f.value)}),c(),r(23,"label",11),C(24),_(25,"translate"),c()()(),r(26,"div")(27,"p-checkbox",12),_(28,"translate"),_(29,"translate"),b("onChange",function(f){return g(o),h(n.editValue.hideExcluded=f.checked)}),c()()(),m(30,cc,5,7,"ng-template",13),c()}i&2&&($e(J(45,lc)),Be("visible",n.visible),p("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("breakpoints",J(46,sc))("header",u(1,27,"flow.flowSettings")),l(5),p("pTooltip",u(7,29,"flowSettings.diagramTooltip"))("ngModel",n.editValue.diagram)("options",n.flowDiagramOptions),l(4),y(u(10,31,"flowSettings.diagram")),l(2),v(n.editValue.diagram===n.FlowDiagram.Sankey?11:-1),l(3),p("pTooltip",u(15,33,"flowSettings.linkSizeTooltip"))("ngModel",n.editValue.linkSize)("options",n.linkValueOptions()),l(3),y(u(18,35,"flowSettings.linkSize")),l(4),p("pTooltip",u(22,37,"flowSettings.linkTextTooltip"))("ngModel",n.editValue.linkText)("options",n.linkValueOptions()),l(3),y(u(25,39,"flowSettings.linkText")),l(3),p("ngModel",n.editValue.hideExcluded)("binary",!0)("label",u(28,41,"flowSettings.hideExcluded"))("pTooltip",u(29,43,"flowSettings.hideExcludedTooltip")))},dependencies:[Re,Fe,Le,se,ge,U,Ct,mt,Et,Mt,kt,nt,re,he,Oi,Oe],encapsulation:2,changeDetection:0})}return t})();var dc=["container"],mc=["content"],_c=["xBar"],uc=["yBar"],fc=["*"];function gc(t,a){t&1&&P(0)}var Pi=(()=>{class t{platformId;el;zone;cd;document;renderer;style;styleClass;step=5;containerViewChild;contentViewChild;xBarViewChild;yBarViewChild;templates;scrollYRatio;scrollXRatio;timeoutFrame=e=>setTimeout(e,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;contentTemplate;lastScrollLeft=0;lastScrollTop=0;orientation="vertical";timer;contentId;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;constructor(e,i,n,o,d,f){this.platformId=e,this.el=i,this.zone=n,this.cd=o,this.document=d,this.renderer=f,this.contentId=je()+"_content"}ngAfterViewInit(){ke(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}calculateContainerHeight(){let e=this.containerViewChild.nativeElement,i=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement,o=this.document.defaultView,d=o.getComputedStyle(e),f=o.getComputedStyle(n),S=I.getHeight(e)-parseInt(f.height,10);d["max-height"]!="none"&&S==0&&(i.offsetHeight+parseInt(f.height,10)>parseInt(d["max-height"],10)?e.style.height=d["max-height"]:e.style.height=i.offsetHeight+parseFloat(d.paddingTop)+parseFloat(d.paddingBottom)+parseFloat(d.borderTopWidth)+parseFloat(d.borderBottomWidth)+"px")}moveBar(){let e=this.containerViewChild.nativeElement,i=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement,o=i.scrollWidth,d=i.clientWidth,f=(e.clientHeight-n.clientHeight)*-1;this.scrollXRatio=d/o;let S=this.yBarViewChild.nativeElement,E=i.scrollHeight,$=i.clientHeight,z=(e.clientWidth-S.clientWidth)*-1;this.scrollYRatio=$/E,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)n.setAttribute("data-p-scrollpanel-hidden","true"),I.addClass(n,"p-scrollpanel-hidden");else{n.setAttribute("data-p-scrollpanel-hidden","false"),I.removeClass(n,"p-scrollpanel-hidden");let Ce=Math.max(this.scrollXRatio*100,10),Ke=i.scrollLeft*(100-Ce)/(o-d);n.style.cssText="width:"+Ce+"%; left:"+Ke+"%;bottom:"+f+"px;"}if(this.scrollYRatio>=1)S.setAttribute("data-p-scrollpanel-hidden","true"),I.addClass(S,"p-scrollpanel-hidden");else{S.setAttribute("data-p-scrollpanel-hidden","false"),I.removeClass(S,"p-scrollpanel-hidden");let Ce=Math.max(this.scrollYRatio*100,10),Ke=i.scrollTop*(100-Ce)/(E-$);S.style.cssText="height:"+Ce+"%; top: calc("+Ke+"% - "+n.clientHeight+"px);right:"+z+"px;"}}),this.cd.markForCheck()}onScroll(e){this.lastScrollLeft!==e.target.scrollLeft?(this.lastScrollLeft=e.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==e.target.scrollTop&&(this.lastScrollTop=e.target.scrollTop,this.orientation="vertical"),this.moveBar()}onKeyDown(e){if(this.orientation==="vertical")switch(e.code){case"ArrowDown":{this.setTimer("scrollTop",this.step),e.preventDefault();break}case"ArrowUp":{this.setTimer("scrollTop",this.step*-1),e.preventDefault();break}case"ArrowLeft":case"ArrowRight":{e.preventDefault();break}default:break}else if(this.orientation==="horizontal")switch(e.code){case"ArrowRight":{this.setTimer("scrollLeft",this.step),e.preventDefault();break}case"ArrowLeft":{this.setTimer("scrollLeft",this.step*-1),e.preventDefault();break}case"ArrowDown":case"ArrowUp":{e.preventDefault();break}default:break}}onKeyUp(){this.clearTimer()}repeat(e,i){this.contentViewChild.nativeElement[e]+=i,this.moveBar()}setTimer(e,i){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}bindDocumentMouseListeners(){this.documentMouseMoveListener||(this.documentMouseMoveListener=e=>{this.onDocumentMouseMove(e)},this.document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=e=>{this.onDocumentMouseUp(e)},this.document.addEventListener("mouseup",this.documentMouseUpListener))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}onYBarMouseDown(e){this.isYBarClicked=!0,this.yBarViewChild.nativeElement.focus(),this.lastPageY=e.pageY,this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","true"),I.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","true"),I.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onXBarMouseDown(e){this.isXBarClicked=!0,this.xBarViewChild.nativeElement.focus(),this.lastPageX=e.pageX,this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),I.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),I.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onDocumentMouseMove(e){this.isXBarClicked?this.onMouseMoveForXBar(e):this.isYBarClicked?this.onMouseMoveForYBar(e):(this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))}onMouseMoveForXBar(e){let i=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=i/this.scrollXRatio})}onMouseMoveForYBar(e){let i=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=i/this.scrollYRatio})}scrollTop(e){let i=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;e=e>i?i:e>0?e:0,this.contentViewChild.nativeElement.scrollTop=e}onFocus(e){this.xBarViewChild.nativeElement.isSameNode(e.target)?this.orientation="horizontal":this.yBarViewChild.nativeElement.isSameNode(e.target)&&(this.orientation="vertical")}onBlur(){this.orientation==="horizontal"&&(this.orientation="vertical")}onDocumentMouseUp(e){this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),I.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),I.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),I.removeClass(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(e){(window.requestAnimationFrame||this.timeoutFrame)(e)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=function(i){return new(i||t)(B(Ye),B(Ve),B(qt),B(me),B(ht),B(at))};static \u0275cmp=R({type:t,selectors:[["p-scrollPanel"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&(X(dc,5),X(mc,5),X(_c,5),X(uc,5)),i&2){let o;D(o=F())&&(n.containerViewChild=o.first),D(o=F())&&(n.contentViewChild=o.first),D(o=F())&&(n.xBarViewChild=o.first),D(o=F())&&(n.yBarViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",step:[2,"step","step",_e]},features:[de],ngContentSelectors:fc,decls:11,vars:16,consts:[["container",""],["content",""],["xBar",""],["yBar",""],[3,"ngClass","ngStyle"],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content",3,"mouseenter","scroll"],[4,"ngTemplateOutlet"],["tabindex","0","role","scrollbar",1,"p-scrollpanel-bar","p-scrollpanel-bar-x",3,"mousedown","keydown","keyup","focus","blur"],["tabindex","0","role","scrollbar",1,"p-scrollpanel-bar","p-scrollpanel-bar-y",3,"mousedown","keydown","keyup","focus"]],template:function(i,n){if(i&1){let o=T();tt(),r(0,"div",4,0)(2,"div",5)(3,"div",6,1),b("mouseenter",function(){return g(o),h(n.moveBar())})("scroll",function(f){return g(o),h(n.onScroll(f))}),He(5),m(6,gc,1,0,"ng-container",7),c()(),r(7,"div",8,2),b("mousedown",function(f){return g(o),h(n.onXBarMouseDown(f))})("keydown",function(f){return g(o),h(n.onKeyDown(f))})("keyup",function(){return g(o),h(n.onKeyUp())})("focus",function(f){return g(o),h(n.onFocus(f))})("blur",function(){return g(o),h(n.onBlur())}),c(),r(9,"div",9,3),b("mousedown",function(f){return g(o),h(n.onYBarMouseDown(f))})("keydown",function(f){return g(o),h(n.onKeyDown(f))})("keyup",function(){return g(o),h(n.onKeyUp())})("focus",function(f){return g(o),h(n.onFocus(f))}),c()()}i&2&&(M(n.styleClass),p("ngClass","p-scrollpanel p-component")("ngStyle",n.style),k("data-pc-name","scrollpanel"),l(2),k("data-pc-section","wrapper"),l(),k("data-pc-section","content"),l(3),p("ngTemplateOutlet",n.contentTemplate),l(),k("aria-orientation","horizontal")("aria-valuenow",n.lastScrollLeft)("data-pc-section","barx")("aria-controls",n.contentId),l(2),k("aria-orientation","vertical")("aria-valuenow",n.lastScrollTop)("data-pc-section","bary")("aria-controls",n.contentId))},dependencies:[le,ie,ue],styles:[`@layer primeng{.p-scrollpanel-wrapper{overflow:hidden;width:100%;height:100%;position:relative;float:left}.p-scrollpanel-content{height:calc(100% + 18px);width:calc(100% + 18px);padding:0 18px 18px 0;position:relative;overflow:auto;box-sizing:border-box}.p-scrollpanel-bar{position:relative;background:#c1c1c1;border-radius:3px;cursor:pointer;opacity:0;transition:opacity .25s linear}.p-scrollpanel-bar-y{width:9px;top:0}.p-scrollpanel-bar-x{height:9px;bottom:0}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:hover .p-scrollpanel-bar,.p-scrollpanel:active .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-webkit-user-select:none;user-select:none}}
`],encapsulation:2,changeDetection:0})}return t})(),Di=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe]})}return t})();var Rn=(t,a)=>a.key,Ca=t=>({recipe:t});function hc(t,a){t&1&&P(0)}function Cc(t,a){if(t&1&&(r(0,"div",1),C(1),c(),m(2,hc,1,0,"ng-container",2)),t&2){let e=a;s(2);let i=w(3);l(),y(e.name),l(),p("ngTemplateOutlet",i)("ngTemplateOutletContext",N(3,Ca,e))}}function bc(t,a){if(t&1&&m(0,Cc,3,5),t&2){let e,i=s();v((e=i.data().recipeEntities[i.id()])?0:-1,e)}}function xc(t,a){t&1&&P(0)}function vc(t,a){if(t&1&&m(0,xc,1,0,"ng-container",2),t&2){s(3);let e=w(3);p("ngTemplateOutlet",e)("ngTemplateOutletContext",N(2,Ca,a))}}function yc(t,a){if(t&1&&(x(0,"i"),_(1,"iconSmClass")),t&2){let e=a.$implicit;M(u(1,2,e))}}function Tc(t,a){t&1&&(r(0,"div",3),C(1),_(2,"translate"),c(),r(3,"div"),G(4,yc,2,4,"i",4,gt),c()),t&2&&(l(),y(u(2,1,"data.prerequisites")),l(3),Z(a))}function Ic(t,a){if(t&1&&(r(0,"div",1),C(1),c(),m(2,vc,1,4,"ng-container")(3,Tc,6,3)),t&2){let e,i,n=s(2);l(),y(a.name),l(),v((e=(n.type()==="item"||n.type()==="technology")&&n.data().itemRecipeIds[n.id()].length===1&&n.data().recipeEntities[n.data().itemRecipeIds[n.id()][0]])?2:-1,e),l(),v((i=n.type()==="technology"&&n.data().technologyEntities[n.id()].prerequisites)?3:-1,i)}}function Sc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),c()()),t&2){let e=s();l(2),y(u(3,2,"data.energySource")),l(3),y(e.type)}}function wc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"usage"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.energyConsumption")),l(3),y(u(6,4,e.usage))}}function kc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),c()()),t&2){let e=s();l(2),y(u(3,2,"data.disallowedEffects")),l(3),y(e.disallowedEffects.join(", "))}}function Mc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),c()()),t&2){let e=s();l(2),y(u(3,3,"data.dimensions")),l(3),Li("",e.size[0],"\xD7",e.size[1],"")}}function Ec(t,a){if(t&1&&(r(0,"table")(1,"tr")(2,"td"),C(3),_(4,"translate"),c(),r(5,"td"),C(6),_(7,"round"),c()(),r(8,"tr")(9,"td"),C(10),_(11,"translate"),c(),r(12,"td"),C(13),c()(),r(14,"tr")(15,"td"),C(16),_(17,"translate"),c(),r(18,"td"),C(19),c()(),m(20,Sc,6,4,"tr")(21,wc,7,6,"tr")(22,kc,6,4,"tr")(23,Mc,6,5,"tr"),c()),t&2){let e=a;l(3),y(u(4,10,"data.efficiency")),l(3),y(u(7,12,e.effectivity)),l(4),y(u(11,14,"data.modules")),l(3),y(e.modules),l(3),y(u(17,16,"data.range")),l(3),y(e.range),l(),v(e.type?20:-1),l(),v(e.usage?21:-1),l(),v(e.disallowedEffects?22:-1),l(),v(e.size?23:-1)}}function Oc(t,a){if(t&1&&(r(0,"table")(1,"tr")(2,"td"),C(3),_(4,"translate"),c(),r(5,"td"),C(6),_(7,"translate"),c()()()),t&2){let e=s(2);l(3),y(u(4,3,"data.speed")),l(3),Li(" ",e.beltSpeedTxt()[e.id()],"",u(7,5,e.dispRateInfo().suffix)," ")}}function Vc(t,a){t&1&&(r(0,"table")(1,"tr")(2,"td"),C(3),_(4,"translate"),c(),r(5,"td"),C(6),c()()()),t&2&&(l(3),y(u(4,2,"data.storageSize")),l(3),y(a.size))}function Bc(t,a){t&1&&(r(0,"table")(1,"tr")(2,"td"),C(3),_(4,"translate"),c(),r(5,"td"),C(6),c()()()),t&2&&(l(3),y(u(4,2,"data.fluidCapacity")),l(3),y(a.capacity))}function Pc(t,a){if(t&1&&(r(0,"table")(1,"tr")(2,"td"),C(3),_(4,"translate"),c(),r(5,"td"),C(6),c()(),r(7,"tr")(8,"td"),C(9),_(10,"translate"),c(),r(11,"td"),C(12),_(13,"round"),c()()()),t&2){let e=a;l(3),y(u(4,4,"data.fuelCategory")),l(3),y(e.category),l(3),y(u(10,6,"data.fuelValue")),l(3),j("",u(13,8,e.value)," MJ")}}function Dc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"round"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.craftingSpeed")),l(3),y(u(6,4,e.speed))}}function Fc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),c()()),t&2){let e=s();l(2),y(u(3,2,"data.modules")),l(3),y(e.modules)}}function Lc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),c()()),t&2){let e=s();l(2),y(u(3,2,"data.disallowedEffects")),l(3),y(e.disallowedEffects.join(", "))}}function Rc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),c()()),t&2){let e=s();l(2),y(u(3,2,"data.energySource")),l(3),y(e.type)}}function Ac(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),c()()),t&2){let e=s();l(2),y(u(3,2,"data.fuelCategories")),l(3),y(e.fuelCategories.join(", "))}}function zc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),c()()),t&2){let e=s();l(2),y(u(3,2,"data.fuel")),l(3),y(e.fuel)}}function Hc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"usage"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.energyConsumption")),l(3),y(u(6,4,e.usage))}}function jc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"usage"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.energyDrain")),l(3),y(u(6,4,e.drain))}}function $c(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"round"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.pollution")),l(3),j("",u(6,4,e.pollution),"/m")}}function Nc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),c()()),t&2){let e=s();l(2),y(u(3,3,"data.dimensions")),l(3),Li("",e.size[0],"\xD7",e.size[1],"")}}function Kc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"round"),c()(),r(7,"tr")(8,"td"),C(9),_(10,"translate"),c(),r(11,"td"),C(12),_(13,"round"),c()()),t&2){let e=s();l(2),y(u(3,4,"data.rocketPartsRequired")),l(3),y(u(6,6,e.silo.parts)),l(4),y(u(10,8,"data.rocketLaunchTime")),l(3),j("",u(13,10,e.silo.launch),"s")}}function Qc(t,a){if(t&1&&(r(0,"i"),_(1,"iconSmClass"),r(2,"span"),C(3),_(4,"round"),c()()),t&2){let e=a.$implicit;M(u(1,3,e.key)),l(3),y(u(4,5,e.value))}}function Wc(t,a){if(t&1&&(r(0,"div",5),G(1,Qc,5,7,"i",4,Rn),_(3,"keyvalue"),c()),t&2){let e=s();l(),Z(u(3,0,e.consumption))}}function qc(t,a){if(t&1&&(r(0,"table"),m(1,Dc,7,6,"tr")(2,Fc,6,4,"tr")(3,Lc,6,4,"tr")(4,Rc,6,4,"tr")(5,Ac,6,4,"tr")(6,zc,6,4,"tr")(7,Hc,7,6,"tr")(8,jc,7,6,"tr")(9,$c,7,6,"tr")(10,Nc,6,5,"tr")(11,Kc,14,12),c(),m(12,Wc,4,2,"div",5)),t&2){let e=a,i=s(2);l(),v(e.speed&&i.data().game!==i.Game.CaptainOfIndustry?1:-1),l(),v(e.modules&&i.data().game===i.Game.Factorio?2:-1),l(),v(e.disallowedEffects?3:-1),l(),v(e.type?4:-1),l(),v(e.fuelCategories?5:-1),l(),v(e.fuel?6:-1),l(),v(e.usage&&e.usage.nonzero()?7:-1),l(),v(e.drain&&e.drain.nonzero()?8:-1),l(),v(e.pollution&&e.pollution.nonzero()?9:-1),l(),v(e.size?10:-1),l(),v(e.silo?11:-1),l(),v(e.consumption?12:-1)}}function Uc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"bonusPercent"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.energyConsumption")),l(3),y(u(6,4,e.consumption))}}function Gc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"bonusPercent"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.speed")),l(3),y(u(6,4,e.speed))}}function Zc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"bonusPercent"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.productivity")),l(3),y(u(6,4,e.productivity))}}function Xc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"bonusPercent"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.pollution")),l(3),y(u(6,4,e.pollution))}}function Yc(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),_(3,"translate"),c(),r(4,"td"),C(5),_(6,"round"),c()()),t&2){let e=s();l(2),y(u(3,2,"data.sprays")),l(3),y(u(6,4,e.sprays))}}function Jc(t,a){if(t&1&&(r(0,"table"),m(1,Uc,7,6,"tr")(2,Gc,7,6,"tr")(3,Zc,7,6,"tr")(4,Xc,7,6,"tr")(5,Yc,7,6,"tr"),c()),t&2){let e=a;l(),v(e.consumption&&e.consumption.nonzero()?1:-1),l(),v(e.speed&&e.speed.nonzero()?2:-1),l(),v(e.productivity&&e.productivity.nonzero()?3:-1),l(),v(e.pollution&&e.pollution.nonzero()?4:-1),l(),v(e.sprays&&e.sprays.nonzero()?5:-1)}}function ed(t,a){if(t&1&&(r(0,"table")(1,"tr")(2,"td"),C(3),_(4,"translate"),c(),r(5,"td"),C(6),_(7,"translate"),c()()()),t&2){let e=s(2);l(3),y(u(4,3,"data.flowRate")),l(3),Li(" ",e.beltSpeedTxt()[e.id()],"",u(7,5,e.dispRateInfo().suffix)," ")}}function td(t,a){if(t&1&&m(0,Ic,4,3)(1,Ec,24,18,"table")(2,Oc,8,7,"table")(3,Vc,7,4,"table")(4,Bc,7,4,"table")(5,Pc,14,10,"table")(6,qc,13,12)(7,Jc,6,5,"table")(8,ed,8,7,"table"),t&2){let e,i,n,o,d,f,S,E,$,z=s();v((e=z.data().itemEntities[z.id()])?0:-1,e),l(),v((i=z.type()==="beacon"&&z.data().beaconEntities[z.id()])?1:-1,i),l(),v((n=z.type()==="belt"&&z.data().beltEntities[z.id()])?2:-1,n),l(),v((o=z.type()==="cargo-wagon"&&z.data().cargoWagonEntities[z.id()])?3:-1,o),l(),v((d=z.type()==="fluid-wagon"&&z.data().fluidWagonEntities[z.id()])?4:-1,d),l(),v((f=z.type()==="fuel"&&z.data().fuelEntities[z.id()])?5:-1,f),l(),v((S=z.type()==="machine"&&z.data().machineEntities[z.id()])?6:-1,S),l(),v((E=z.type()==="module"&&z.data().moduleEntities[z.id()])?7:-1,E),l(),v(($=z.type()==="pipe"&&z.data().beltEntities[z.id()])?8:-1,$)}}function id(t,a){if(t&1&&(r(0,"i"),_(1,"iconSmClass"),r(2,"span"),C(3),_(4,"round"),c()()),t&2){let e=a.$implicit;M(u(1,3,e.key)),l(3),y(u(4,5,e.value))}}function nd(t,a){if(t&1&&(r(0,"i"),_(1,"iconSmClass"),r(2,"span"),C(3),_(4,"round"),c()()),t&2){let e=a.$implicit;M(u(1,3,e.key)),l(3),y(u(4,5,e.value))}}function od(t,a){if(t&1&&(x(0,"i"),_(1,"iconSmClass")),t&2){let e=a.$implicit;M(u(1,2,e))}}function ad(t,a){if(t&1&&(r(0,"div",5)(1,"i"),_(2,"iconSmClass"),r(3,"span"),C(4),c()(),G(5,id,5,7,"i",4,Rn),_(7,"keyvalue"),x(8,"i",6),G(9,nd,5,7,"i",4,Rn),_(11,"keyvalue"),c(),r(12,"div",3),C(13),_(14,"translate"),c(),r(15,"div"),G(16,od,2,4,"i",4,gt),c()),t&2){let e=a;l(),M(u(2,4,"time")),l(3),y(e.time),l(),Z(u(7,6,e.in)),l(4),Z(u(11,8,e.out)),l(4),y(u(14,10,"data.producers")),l(3),Z(e.producers)}}function ld(t,a){if(t&1&&m(0,ad,18,12),t&2){let e,i=a.recipe,n=s();v((e=n.data().recipeEntities[i.id])?0:-1,e)}}var bt=(()=>{class t{store=A(we);id=pe.required();type=pe("item");dataKey={item:"items",beacon:"beacons",belt:"belts","cargo-wagon":"cargoWagons","fluid-wagon":"fluidWagons",fuel:"fuels",machine:"machines",module:"modules",pipe:"pipes",technology:"technologies",recipe:"recipes"};beltSpeedTxt=this.store.selectSignal(H.selectBeltSpeedTxt);dispRateInfo=this.store.selectSignal(H.selectDisplayRateInfo);data=this.store.selectSignal(Te.selectAdjustedDataset);Game=ei;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["lab-tooltip"]],inputs:{id:[1,"id"],type:[1,"type"]},standalone:!0,features:[ne],decls:4,vars:1,consts:[["recipeProcess",""],[1,"title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mt-1"],[3,"class"],[1,"d-flex","align-items-center","justify-content-center","flex-wrap","mt-2"],[1,"m-1","me-2","fa-solid","fa-arrow-right"]],template:function(i,n){i&1&&m(0,bc,1,1)(1,td,9,9)(2,ld,1,1,"ng-template",null,0,O),i&2&&v(n.type()==="recipe"?0:1)},dependencies:[Ci,ie,Lo,Ne,qo,Oe,Go],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;font-size:12px}.title[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.lab-icon[_ngcontent-%COMP%]{margin:7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:normal}"],changeDetection:0})}return t})();var sd=["filterInput"],rd=()=>({minHeight:"528px",height:"80vh",width:"50vw"}),pd=()=>({"768px":"80vw","576px":"100vw"}),cd=()=>({height:"calc(80vh - 213px)",minHeight:"300px"});function dd(t,a){if(t&1){let e=T();r(0,"button",12),_(1,"translate"),b("click",function(){g(e);let n=s(2);return h(n.reset())}),c()}t&2&&p("pTooltip",u(1,1,"reset"))}function md(t,a){if(t&1){let e=T();r(0,"span",9)(1,"p-checkbox",10),_(2,"translate"),De("ngModelChange",function(n){g(e);let o=s();return Pe(o.allSelected,n)||(o.allSelected=n),h(n)}),b("onChange",function(n){g(e);let o=s();return h(o.selectAll(n.checked))}),c()(),m(3,dd,2,3,"button",11)}if(t&2){let e=s();l(),p("binary",!0)("label",u(2,4,"picker.includeAll")),Be("ngModel",e.allSelected),l(2),v(e.type==="recipe"?3:-1)}}function _d(t,a){if(t&1&&(x(0,"i"),_(1,"iconSmClass"),r(2,"span",17),C(3),c()),t&2){let e=s().$implicit,i=s(2);M(K(1,3,e,"category")),l(3),y(i.categoryEntities[e].name)}}function ud(t,a){t&1&&x(0,"i",21)}function fd(t,a){if(t&1&&x(0,"lab-tooltip",22),t&2){let e=s().$implicit,i=s(5);p("id",e)("type",i.type)}}function gd(t,a){if(t&1){let e=T();r(0,"button",20),_(1,"iconSmClass"),b("click",function(){let n=g(e).$implicit,o=s(5);return h(o.clickId(n))}),m(2,ud,1,0,"i",21)(3,fd,1,2,"ng-template",null,1,O),c()}if(t&2){let e=a.$implicit,i=w(4),n=s(5);Me("p-button-text",e!==n.selection)("hover-action",n.isMultiselect)("hover-active",n.selection&&n.selection.indexOf(e)!==-1),p("icon",K(1,9,e,n.type))("pTooltip",i),l(2),v(n.isMultiselect?2:-1)}}function hd(t,a){if(t&1&&(r(0,"div",18),G(1,gd,5,12,"button",19,gt),c()),t&2){let e=a.$implicit;l(),Z(e)}}function Cd(t,a){if(t&1&&(r(0,"p-scrollPanel"),G(1,hd,3,0,"div",18,gt),c()),t&2){let e=s().$implicit,i=s(2);$e(J(2,cd)),l(),Z(i.categoryRows[e])}}function bd(t,a){if(t&1&&(r(0,"p-tabPanel",14),m(1,_d,4,6,"ng-template",15)(2,Cd,3,3,"ng-template",16),c()),t&2){let e=a.$index,i=s(2);p("selected",e===i.activeIndex)}}function xd(t,a){if(t&1){let e=T();r(0,"p-tabView",13),De("activeIndexChange",function(n){g(e);let o=s();return Pe(o.activeIndex,n)||(o.activeIndex=n),h(n)}),G(1,bd,3,1,"p-tabPanel",14,gt),c()}if(t&2){let e=s();Be("activeIndex",e.activeIndex),p("scrollable",!0),l(),Z(e.categoryIds)}}function vd(t,a){if(t&1){let e=T();r(0,"button",25),_(1,"translate"),b("click",function(){g(e);let n=s(2);return h(n.hide())}),c()}t&2&&p("label",u(1,1,"ok"))}function yd(t,a){if(t&1){let e=T();m(0,vd,2,3,"button",23),r(1,"button",24),_(2,"translate"),b("click",function(){g(e);let n=s();return h(n.hide(!0))}),c()}if(t&2){let e=s();v(e.isMultiselect?0:-1),l(),p("label",u(2,2,"cancel"))}}var dn=(()=>{class t extends jt{filterSvc=A(vi);store=A(we);contentSvc=A(Xe);filterInput=Ut.required("filterInput");header=pe("");selectId=new L;selectIds=new L;data=this.store.selectSignal(Te.selectAdjustedDataset);search="";allSelected=!1;type="item";isMultiselect=!1;selection;default;categoryEntities={};categoryIds=[];categoryRows={};allSelectItems=[];allCategoryIds=[];allCategoryRows={};activeIndex=0;clickOpen(e,i,n){let o=this.data();this.type=e;let d=new Set(i);if(Array.isArray(n)?(this.isMultiselect=!0,this.selection=[...n]):(this.isMultiselect=!1,this.selection=n),this.search="",this.categoryEntities=o.categoryEntities,e==="item"){if(this.categoryRows={},o.categoryIds.forEach(f=>{o.categoryItemRows[f]&&(this.categoryRows[f]=[],o.categoryItemRows[f].forEach(S=>{let E=S.filter($=>d.has($));E.length&&this.categoryRows[f].push(E)}))}),this.allSelectItems=i.map(f=>({label:o.itemEntities[f].name,value:f,title:o.itemEntities[f].category})),Array.isArray(n))this.allSelected=n.length===0;else if(n!=null){let f=o.categoryIds.indexOf(o.itemEntities[n].category);this.activeIndex=f}}else if(this.categoryRows={},o.categoryIds.forEach(f=>{o.categoryRecipeRows[f]&&(this.categoryRows[f]=[],o.categoryRecipeRows[f].forEach(S=>{let E=S.filter($=>d.has($));E.length&&this.categoryRows[f].push(E)}))}),this.allSelectItems=i.map(f=>({label:o.recipeEntities[f].name,value:f,title:o.recipeEntities[f].category})),Array.isArray(n))this.allSelected=n.length===0,this.default=o.defaults!=null?[...o.defaults.excludedRecipeIds]:[];else if(n){let f=o.categoryIds.indexOf(o.recipeEntities[n].category);this.activeIndex=f}this.categoryIds=o.categoryIds.filter(f=>this.categoryRows[f]?.length),this.allCategoryIds=this.categoryIds,this.allCategoryRows=this.categoryRows,this.show(),this.contentSvc.isMobile()||setTimeout(()=>{this.filterInput().nativeElement.focus()})}selectAll(e){e?this.selection=[]:this.selection=this.allSelectItems.map(i=>i.value)}reset(){this.selection=this.default}clickId(e){if(Array.isArray(this.selection)){let i=this.selection.indexOf(e);i===-1?this.selection.push(e):this.selection.splice(i,1),this.allSelected=this.selection.length===0}else this.selectId.emit(e),this.visible=!1}save(){Array.isArray(this.selection)&&this.selectIds.emit(this.selection)}inputSearch(){if(!this.search){this.categoryIds=this.allCategoryIds,this.categoryRows=this.allCategoryRows;return}let e=this.filterSvc.filter(this.allSelectItems,["label"],this.search,"contains");this.categoryIds=this.allCategoryIds.filter(n=>e.some(o=>o.title===n)),this.categoryRows={};let i=e.map(n=>n.value);for(let n of this.categoryIds){this.categoryRows[n]=[];for(let o of this.allCategoryRows[n])this.categoryRows[n].push(o.filter(d=>i.indexOf(d)!==-1));this.categoryRows[n]=this.categoryRows[n].filter(o=>o.length>0)}}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["lab-picker"]],viewQuery:function(i,n){i&1&&Gt(n.filterInput,sd,5),i&2&&Zt()},inputs:{header:[1,"header"]},outputs:{selectId:"selectId",selectIds:"selectIds"},standalone:!0,features:[ze,ne],decls:9,vars:15,consts:[["filterInput",""],["tooltip",""],["styleClass","picker-dialog","appendTo","body",3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","header","breakpoints"],[1,"d-flex","w-100","my-1","p-inputgroup"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-magnifying-glass"],["pInputText","","type","text",1,"w-100",3,"ngModelChange","input","ngModel"],[3,"activeIndex","scrollable"],["pTemplate","footer"],[1,"p-inputgroup-addon","flex-shrink-0"],["labelStyleClass","text-nowrap",3,"ngModelChange","onChange","binary","label","ngModel"],["pButton","","pRipple","","icon","fa-solid fa-rotate-left",1,"flex-shrink-0",3,"pTooltip"],["pButton","","pRipple","","icon","fa-solid fa-rotate-left",1,"flex-shrink-0",3,"click","pTooltip"],[3,"activeIndexChange","activeIndex","scrollable"],[3,"selected"],["pTemplate","header"],["pTemplate","content"],[1,"d-none","d-lg-inline","ms-2","ps-1","text-nowrap","text-truncate"],[1,"d-flex","flex-wrap"],["pButton","","pRipple","","type","button","tooltipPosition","bottom",1,"me-1","mb-1",3,"p-button-text","hover-action","hover-active","icon","pTooltip"],["pButton","","pRipple","","type","button","tooltipPosition","bottom",1,"me-1","mb-1",3,"click","icon","pTooltip"],[1,"hover-icon","fa-solid","fa-eye-slash"],[3,"id","type"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"]],template:function(i,n){if(i&1){let o=T();r(0,"p-dialog",2),De("visibleChange",function(f){return g(o),Pe(n.visible,f)||(n.visible=f),h(f)}),b("onHide",function(){return g(o),h(n.onHide())}),r(1,"div",3)(2,"span",4),x(3,"i",5),c(),r(4,"input",6,0),De("ngModelChange",function(f){return g(o),Pe(n.search,f)||(n.search=f),h(f)}),b("input",function(){return g(o),h(n.inputSearch())}),c(),m(6,md,4,6),c(),m(7,xd,3,2,"p-tabView",7)(8,yd,3,4,"ng-template",8),c()}i&2&&($e(J(13,rd)),Be("visible",n.visible),p("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("header",n.header())("breakpoints",J(14,pd)),l(4),Be("ngModel",n.search),l(2),v(n.isMultiselect?6:-1),l(),v(n.visible?7:-1))},dependencies:[Re,li,Fe,Le,se,ge,U,Ct,mt,Et,Mt,on,nn,Di,Pi,re,he,sa,Hi,On,Ne,ra,bt,Oe],encapsulation:2,changeDetection:0})}return t})();var Td=["content"],Id=["navbar"],Sd=["inkbar"],wd=["prevBtn"],kd=["nextBtn"],Md=["tabLink"],Ed=["tab"],Od=t=>({"p-tabmenu p-component":!0,"p-tabmenu-scrollable":t}),Vd=(t,a,e)=>({"p-tabmenuitem":!0,"p-disabled":t,"p-highlight":a,"p-hidden":e}),Bd=(t,a)=>({$implicit:t,index:a}),Pd=()=>({exact:!1});function Dd(t,a){t&1&&x(0,"ChevronLeftIcon"),t&2&&k("aria-hidden",!0)}function Fd(t,a){}function Ld(t,a){t&1&&m(0,Fd,0,0,"ng-template")}function Rd(t,a){if(t&1){let e=T();r(0,"button",17,3),b("click",function(){g(e);let n=s();return h(n.navBackward())}),m(2,Dd,1,1,"ChevronLeftIcon",18)(3,Ld,1,0,null,19),c()}if(t&2){let e=s();l(2),p("ngIf",!e.previousIconTemplate),l(),p("ngTemplateOutlet",e.previousIconTemplate)}}function Ad(t,a){if(t&1&&x(0,"span",28),t&2){let e=s(2).$implicit;p("ngClass",e.icon)("ngStyle",e.iconStyle)}}function zd(t,a){if(t&1&&(r(0,"span",29),C(1),c()),t&2){let e=s(2).$implicit,i=s();l(),y(i.getItemProp(e,"label"))}}function Hd(t,a){if(t&1&&x(0,"span",30),t&2){let e=s(2).$implicit,i=s();p("innerHTML",i.getItemProp(e,"label"),ft)}}function jd(t,a){if(t&1&&(r(0,"span",31),C(1),c()),t&2){let e=s(2).$implicit,i=s();p("ngClass",e.badgeStyleClass),l(),y(i.getItemProp(e,"badge"))}}function $d(t,a){if(t&1&&(r(0,"a",24,5),Q(2),m(3,Ad,1,2,"span",25)(4,zd,2,1,"span",26)(5,Hd,1,1,"ng-template",null,6,O)(7,jd,2,2,"span",27),W(),c()),t&2){let e=w(6),i=s().$implicit,n=s();p("target",n.getItemProp(i,"target")),k("href",n.getItemProp(i,"url"),Ft)("id",n.getItemProp(i,"id"))("aria-disabled",n.disabled(i))("aria-label",n.getItemProp(i,"label"))("tabindex",n.disabled(i)?-1:0),l(3),p("ngIf",i.icon),l(),p("ngIf",i.escape!==!1)("ngIfElse",e),l(3),p("ngIf",i.badge)}}function Nd(t,a){if(t&1&&x(0,"span",28),t&2){let e=s(2).$implicit;p("ngClass",e.icon)("ngStyle",e.iconStyle),k("aria-hidden",!0)}}function Kd(t,a){if(t&1&&(r(0,"span",29),C(1),c()),t&2){let e=s(2).$implicit,i=s();l(),y(i.getItemProp(e,"label"))}}function Qd(t,a){if(t&1&&x(0,"span",30),t&2){let e=s(2).$implicit,i=s();p("innerHTML",i.getItemProp(e,"label"),ft)}}function Wd(t,a){if(t&1&&(r(0,"span",31),C(1),c()),t&2){let e=s(2).$implicit,i=s();p("ngClass",e.badgeStyleClass),l(),y(i.getItemProp(e,"badge"))}}function qd(t,a){if(t&1&&(r(0,"a",32,5),Q(2),m(3,Nd,1,3,"span",25)(4,Kd,2,1,"span",26)(5,Qd,1,1,"ng-template",null,7,O)(7,Wd,2,2,"span",27),W(),c()),t&2){let e=w(6),i=s().$implicit,n=s();p("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||J(19,Pd))("target",i.target)("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),k("id",n.getItemProp(i,"id"))("aria-disabled",n.disabled(i))("aria-label",n.getItemProp(i,"label"))("tabindex",n.disabled(i)?-1:0),l(3),p("ngIf",i.icon),l(),p("ngIf",i.escape!==!1)("ngIfElse",e),l(3),p("ngIf",i.badge)}}function Ud(t,a){t&1&&P(0)}function Gd(t,a){if(t&1){let e=T();r(0,"li",20,4),b("click",function(n){let o=g(e).$implicit,d=s();return h(d.itemClick(n,o))})("keydown",function(n){let o=g(e),d=o.$implicit,f=o.index,S=s();return h(S.onKeydownItem(n,f,d))})("focus",function(){let n=g(e).$implicit,o=s();return h(o.onMenuItemFocus(n))}),m(2,$d,8,10,"a",21)(3,qd,8,20,"a",22)(4,Ud,1,0,"ng-container",23),c()}if(t&2){let e=a.$implicit,i=a.index,n=s();M(e.styleClass),p("ngStyle",e.style)("ngClass",lt(11,Vd,n.getItemProp(e,"disabled"),n.isActive(e),e.visible===!1))("tooltipOptions",e.tooltipOptions),k("data-p-disabled",n.disabled(e))("data-p-highlight",n.focusedItemInfo()===e),l(2),p("ngIf",!e.routerLink&&!n.itemTemplate),l(),p("ngIf",e.routerLink&&!n.itemTemplate),l(),p("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",Y(15,Bd,e,i))}}function Zd(t,a){t&1&&x(0,"ChevronRightIcon"),t&2&&k("aria-hidden",!0)}function Xd(t,a){}function Yd(t,a){t&1&&m(0,Xd,0,0,"ng-template")}function Jd(t,a){if(t&1){let e=T();r(0,"button",33,8),b("click",function(){g(e);let n=s();return h(n.navForward())}),m(2,Zd,1,1,"ChevronRightIcon",18)(3,Yd,1,0,null,19),c()}if(t&2){let e=s();l(2),p("ngIf",!e.previousIconTemplate),l(),p("ngTemplateOutlet",e.nextIconTemplate)}}var xa=(()=>{class t{platformId;router;route;cd;set model(e){this._model=e,this._focusableItems=(this._model||[]).reduce((i,n)=>(i.push(n),i),[])}get model(){return this._model}set activeItem(e){this._activeItem=e,this.activeItemChange.emit(e),this.tabChanged=!0}get activeItem(){return this._activeItem}scrollable;popup;style;styleClass;ariaLabel;ariaLabelledBy;activeItemChange=new L;content;navbar;inkbar;prevBtn;nextBtn;tabLink;tab;templates;itemTemplate;previousIconTemplate;nextIconTemplate;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;timerIdForInitialAutoScroll=null;_focusableItems;_model;_activeItem;focusedItemInfo=ce(null);get focusableItems(){return(!this._focusableItems||!this._focusableItems.length)&&(this._focusableItems=(this.model||[]).reduce((e,i)=>(e.push(i),e),[])),this._focusableItems}constructor(e,i,n,o){this.platformId=e,this.router=i,this.route=n,this.cd=o,this.router.events.pipe(di(d=>d instanceof co)).subscribe(d=>{this.cd.markForCheck()})}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){ke(this.platformId)&&(this.updateInkBar(),this.initAutoScrollForActiveItem(),this.initButtonState())}ngAfterViewChecked(){ke(this.platformId)&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.clearAutoScrollHandler()}isActive(e){if(e.routerLink){let i=Array.isArray(e.routerLink)?e.routerLink:[e.routerLink];return this.router.isActive(this.router.createUrlTree(i,{relativeTo:this.route}).toString(),e.routerLinkActiveOptions?.exact??e.routerLinkActiveOptions??!1)}return e===this.activeItem}getItemProp(e,i){return e?q.getItemValue(e[i]):void 0}visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1}disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled}onMenuItemFocus(e){this.focusedItemInfo.set(e)}itemClick(e,i){if(i.disabled){e.preventDefault();return}!i.url&&!i.routerLink&&e.preventDefault(),i.command&&i.command({originalEvent:e,item:i}),this.activeItem=i,this.activeItemChange.emit(i),this.tabChanged=!0,this.cd.markForCheck()}onKeydownItem(e,i,n){let o=i,d={},f=this.tabLink.toArray(),S=this.tab.toArray();switch(e.code){case"ArrowRight":d=this.findNextItem(S,o),o=d.i;break;case"ArrowLeft":d=this.findPrevItem(S,o),o=d.i;break;case"End":d=this.findPrevItem(S,this.model.length),o=d.i,e.preventDefault();break;case"Home":d=this.findNextItem(S,-1),o=d.i,e.preventDefault();break;case"Space":case"Enter":this.itemClick(e,n);break;case"Tab":this.onTabKeyDown(f);break;default:break}f[o]&&f[i]&&(f[i].nativeElement.tabIndex="-1",f[o].nativeElement.tabIndex="0",f[o].nativeElement.focus()),this.cd.markForCheck()}onTabKeyDown(e){e.forEach(i=>{i.nativeElement.tabIndex=I.getAttribute(i.nativeElement.parentElement,"data-p-highlight")?"0":"-1"})}findNextItem(e,i){let n=i+1;if(n>=e.length)return{nextItem:e[e.length],i:e.length};let o=e[n];return o?I.getAttribute(o.nativeElement,"data-p-disabled")?this.findNextItem(e,n):{nextItem:o.nativeElement,i:n}:null}findPrevItem(e,i){let n=i-1;if(n<0)return{prevItem:e[0],i:0};let o=e[n];return o?I.getAttribute(o.nativeElement,"data-p-disabled")?this.findPrevItem(e,n):{prevItem:o.nativeElement,i:n}:null}updateInkBar(){let e=I.findSingle(this.navbar?.nativeElement,"li.p-highlight");e&&(this.inkbar.nativeElement.style.width=I.getWidth(e)+"px",this.inkbar.nativeElement.style.left=I.getOffset(e).left-I.getOffset(this.navbar?.nativeElement).left+"px")}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,i)=>i?e+I.getWidth(i):e,0)}updateButtonState(){let e=this.content?.nativeElement,{scrollLeft:i,scrollWidth:n}=e,o=I.getWidth(e);this.backwardIsDisabled=i===0,this.forwardIsDisabled=parseInt(i)===n-o}updateScrollBar(e){let i=this.navbar?.nativeElement.children[e];i&&i.scrollIntoView({block:"nearest",inline:"center"})}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}navBackward(){let e=this.content?.nativeElement,i=I.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft-i;e.scrollLeft=n<=0?0:n}navForward(){let e=this.content?.nativeElement,i=I.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+i,o=e.scrollWidth-i;e.scrollLeft=n>=o?o:n}initAutoScrollForActiveItem(){this.scrollable&&(this.clearAutoScrollHandler(),this.timerIdForInitialAutoScroll=setTimeout(()=>{let e=this.model.findIndex(i=>this.isActive(i));e!==-1&&this.updateScrollBar(e)}))}clearAutoScrollHandler(){this.timerIdForInitialAutoScroll&&(clearTimeout(this.timerIdForInitialAutoScroll),this.timerIdForInitialAutoScroll=null)}initButtonState(){this.scrollable&&Promise.resolve().then(()=>{this.updateButtonState(),this.cd.markForCheck()})}static \u0275fac=function(i){return new(i||t)(B(Ye),B(Ui),B(qi),B(me))};static \u0275cmp=R({type:t,selectors:[["p-tabMenu"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&(X(Td,5),X(Id,5),X(Sd,5),X(wd,5),X(kd,5),X(Md,5),X(Ed,5)),i&2){let o;D(o=F())&&(n.content=o.first),D(o=F())&&(n.navbar=o.first),D(o=F())&&(n.inkbar=o.first),D(o=F())&&(n.prevBtn=o.first),D(o=F())&&(n.nextBtn=o.first),D(o=F())&&(n.tabLink=o),D(o=F())&&(n.tab=o)}},hostAttrs:[1,"p-element"],inputs:{model:"model",activeItem:"activeItem",scrollable:[2,"scrollable","scrollable",V],popup:[2,"popup","popup",V],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{activeItemChange:"activeItemChange"},features:[de],decls:11,vars:11,consts:[["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["tab",""],["tabLink",""],["htmlLabel",""],["htmlRouteLabel",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabmenu-nav-container"],["class","p-tabmenu-nav-prev p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],[1,"p-tabmenu-nav-content",3,"scroll"],["role","menubar",1,"p-tabmenu-nav","p-reset"],["role","presentation","pTooltip","",3,"ngStyle","class","ngClass","tooltipOptions","click","keydown","focus",4,"ngFor","ngForOf"],["role","none",1,"p-tabmenu-ink-bar"],["class","p-tabmenu-nav-next p-tabmenu-nav-btn p-link","type","button","role","navigation","pRipple","",3,"click",4,"ngIf"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-prev","p-tabmenu-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation","pTooltip","",3,"click","keydown","focus","ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"target",4,"ngIf"],["role","menuitem","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"target"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["type","button","role","navigation","pRipple","",1,"p-tabmenu-nav-next","p-tabmenu-nav-btn","p-link",3,"click"]],template:function(i,n){if(i&1){let o=T();r(0,"div",9)(1,"div",10),m(2,Rd,4,2,"button",11),r(3,"div",12,0),b("scroll",function(f){return g(o),h(n.onScroll(f))}),r(5,"ul",13,1),m(7,Gd,5,18,"li",14),x(8,"li",15,2),c()(),m(10,Jd,4,2,"button",16),c()()}i&2&&(M(n.styleClass),p("ngClass",N(9,Od,n.scrollable))("ngStyle",n.style),l(2),p("ngIf",n.scrollable&&!n.backwardIsDisabled),l(3),k("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel),l(2),p("ngForOf",n.focusableItems),l(3),p("ngIf",n.scrollable&&!n.forwardIsDisabled))},dependencies:()=>[le,yt,ye,ie,ue,Tt,bi,qe,he,ki,Qt],styles:[`@layer primeng{.p-tabmenu-nav-container{position:relative}.p-tabmenu-scrollable .p-tabmenu-nav-container{overflow:hidden}.p-tabmenu-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabmenu-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabmenu-nav-prev{left:0}.p-tabmenu-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabmenu-nav{display:flex;margin:0;padding:0;list-style-type:none;flex-wrap:nowrap}.p-tabmenu-nav a{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabmenu-nav a:focus{z-index:1}.p-tabmenu-nav .p-menuitem-text{line-height:1;white-space:nowrap}.p-tabmenu-ink-bar{display:none;z-index:1}.p-tabmenu-nav-content::-webkit-scrollbar{display:none}.p-tabmenuitem:not(.p-hidden){display:flex}}
`],encapsulation:2,changeDetection:0})}return t})(),va=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,Nt,Se,Ze,re,ki,Qt,Nt,Se,re]})}return t})();var tm=(t,a)=>a.id;function im(t,a){if(t&1&&(r(0,"div",8),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=a.$implicit;l(),M(u(2,2,e.value))}}function nm(t,a){if(t&1&&x(0,"lab-tooltip",11),t&2){let e=s().$implicit;p("id",e.value)}}function om(t,a){if(t&1&&(r(0,"div",9),x(1,"i"),_(2,"iconSmClass"),r(3,"div",10),C(4),c(),m(5,nm,1,1,"ng-template",null,0,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",e.value!=="module"?i:void 0),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function am(t,a){if(t&1&&x(0,"lab-tooltip",11),t&2){let e=s(2).$implicit;p("id",e.id)}}function lm(t,a){if(t&1&&m(0,am,1,1,"lab-tooltip",11),t&2){let e=s().$implicit;v(e.id?0:-1)}}function sm(t,a){if(t&1){let e=T();r(0,"button",12),b("click",function(){g(e);let n=s().$index,o=s();return h(o.removeEntry(n))}),c()}if(t&2){let e=s().$implicit,i=s();p("disabled",e.id===i.ItemId.Module)}}function rm(t,a){if(t&1){let e=T();r(0,"div",2)(1,"lab-input-number",3),b("setValue",function(n){let o=g(e).$index,d=s();return h(d.setCount(o,n))}),c(),r(2,"p-dropdown",4),_(3,"filterOptions"),b("onChange",function(n){let o=g(e).$index,d=s();return h(d.setId(o,n))}),m(4,im,3,4,"ng-template",5)(5,om,7,6,"ng-template",6),c(),m(6,lm,1,1,"ng-template",null,0,O)(8,sm,1,1,"button",7),c()}if(t&2){let e,i=a.$implicit,n=a.$index,o=w(7),d=s();l(),p("value",(e=i.count)!==null&&e!==void 0?e:d.rational.zero)("maximum",d.maximum()[n])("disabled",i.id===d.ItemId.Module),l(),p("ngModel",i.id)("pTooltip",o)("options",Lt(3,7,d.options(),d.exclude(),i.id)),l(6),v(d.entity().modules!==!0?8:-1)}}var mn=(()=>{class t{store=A(we);entity=pe.required();modules=pe.required();recipeId=pe();setValue=no();data=this.store.selectSignal(H.selectDataset);exclude=Ee(()=>this.modules().map(e=>e.id).filter(Gi));sum=Ee(()=>this.modules().map(e=>e.count).filter(Gi).reduce((e,i)=>e.add(i),oe.zero));options=Ee(()=>Bt.moduleOptions(this.entity(),this.data(),this.recipeId()));maximum=Ee(()=>{let e=this.modules(),i=it(this.entity().modules,oe.zero);if(i===!0)return e.map(()=>null);let n=this.sum(),o=e.find(f=>f.id===It.Module);o&&(n=n.sub(it(o.count,oe.zero)));let d=i.sub(n);return e.map(f=>it(f.count,oe.zero).add(d))});rational=oe;ItemId=It;setCount(e,i){let n=this.modules().map((o,d)=>e===d?xt(be({},o),{count:i}):o);this.updateEmpty(n),this.setValue.emit(n)}setId(e,i){i.originalEvent.stopPropagation();let n=i.value,o=this.modules().map((d,f)=>e===f?xt(be({},d),{id:n}):d);this.setValue.emit(o)}removeEntry(e){let i=this.modules().filter((n,o)=>e!==o);this.updateEmpty(i),this.setValue.emit(i)}updateEmpty(e){let i=this.entity().modules;if(i===!0||i==null)return;let n=e.map(o=>o.count).filter(Gi).reduce((o,d)=>o.add(d),oe.zero);if(n.lt(i)){let o=i.sub(n),d=e.find(f=>f.id===It.Module);d?d.count=it(d.count,oe.zero).add(o):e.push({id:It.Module,count:o})}else if(n.gt(i)){let o=n.sub(i),d=e.find(f=>f.id===It.Module);d&&(d.count=it(d.count,oe.zero).sub(o),d.count.isZero()&&e.splice(e.indexOf(d),1))}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["lab-modules"]],inputs:{entity:[1,"entity"],modules:[1,"modules"],recipeId:[1,"recipeId"]},outputs:{setValue:"setValue"},standalone:!0,features:[ne],decls:3,vars:0,consts:[["tooltip",""],[1,"d-flex","flex-column"],[1,"p-inputgroup"],["width","3rem",3,"setValue","value","maximum","disabled"],["labDropdownBase","icon",3,"onChange","ngModel","pTooltip","options"],["pTemplate","selectedItem"],["pTemplate","item"],["pButton","","pRipple","","type","button","icon","fa-solid fa-times",1,"p-button-outlined",3,"disabled"],[1,"d-flex"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip"],[1,"ms-3","text-truncate"],["type","module",3,"id"],["pButton","","pRipple","","type","button","icon","fa-solid fa-times",1,"p-button-outlined",3,"click","disabled"]],template:function(i,n){i&1&&(r(0,"div",1),G(1,rm,9,11,"div",2,tm),c()),i&2&&(l(),Z(n.modules()))},dependencies:[Re,Fe,Le,se,ge,U,kt,nt,re,he,ri,tn,Ne,Ht,bt],encapsulation:2,changeDetection:0})}return t})();function pm(t,a){if(t&1){let e=T();r(0,"lab-input-number",10),_(1,"translate"),b("setValue",function(n){g(e);let o=s().$index,d=s();return h(d.setTotal(o,n))}),c()}if(t&2){let e=s().$implicit;p("pTooltip",u(1,2,"beaconsOverlay.totalTooltip"))("value",e.total)}}function cm(t,a){if(t&1&&(r(0,"div",4),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=a.$implicit;l(),M(u(2,2,e.value))}}function dm(t,a){if(t&1&&x(0,"lab-tooltip",19),t&2){let e=s().$implicit;p("id",e.value)}}function mm(t,a){if(t&1&&(r(0,"div",17),x(1,"i"),_(2,"iconSmClass"),r(3,"div",18),C(4),c(),m(5,dm,1,1,"ng-template",null,0,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function _m(t,a){if(t&1&&x(0,"lab-tooltip",19),t&2){let e=s(2).$implicit;p("id",e.id)}}function um(t,a){if(t&1&&m(0,_m,1,1,"lab-tooltip",19),t&2){let e=s().$implicit;v(e.id?0:-1)}}function fm(t,a){if(t&1){let e=T();r(0,"lab-modules",20),b("setValue",function(n){g(e);let o=s().$index,d=s();return h(d.setModules(o,n))}),c()}if(t&2){let e=s().$implicit,i=s();p("entity",i.data().beaconEntities[e.id])("modules",e.modules)("recipeId",i.recipeId())}}function gm(t,a){if(t&1){let e=T();r(0,"div",3)(1,"div",9)(2,"lab-input-number",10),_(3,"translate"),b("setValue",function(n){let o=g(e).$index,d=s();return h(d.setCount(o,n))}),c(),m(4,pm,2,4,"lab-input-number",11),r(5,"p-dropdown",12),b("onChange",function(n){let o=g(e).$index,d=s();return h(d.setId(o,n))}),m(6,cm,3,4,"ng-template",13)(7,mm,7,6,"ng-template",14),c(),m(8,um,1,1,"ng-template",null,0,O),r(10,"button",15),b("click",function(){let n=g(e).$index,o=s();return h(o.removeEntry(n))}),c()(),m(11,fm,1,3,"lab-modules",16),c()}if(t&2){let e,i=a.$implicit,n=w(9),o=s();l(2),p("pTooltip",u(3,8,"beaconsOverlay.eachTooltip"))("value",(e=i.count)!==null&&e!==void 0?e:o.rational.zero),l(2),v(i.total?4:-1),l(),p("ngModel",i.id)("pTooltip",n)("options",o.options().beacons),l(5),p("disabled",o.beacons().length===1),l(),v(i.id&&i.modules?11:-1)}}var _n=(()=>{class t extends cn{store=A(we);setValue=new L;data=this.store.selectSignal(H.selectDataset);options=this.store.selectSignal(H.selectOptions);beacons=ce([]);recipeId=ce(void 0);rational=oe;show(e,i,n){this.beacons.set(i.map(o=>xt(be({},o),{modules:o.modules?.map(d=>be({},d))}))),this.recipeId.set(n),this._show(e)}setCount(e,i){this.beacons.update(n=>(n[e].count=i,n))}setId(e,i){i.originalEvent.stopPropagation(),this.beacons.update(n=>(n[e].id=i.value,n))}setModules(e,i){this.beacons.update(n=>(n[e].modules=i,n))}setTotal(e,i){this.beacons.update(n=>(n[e].total=i,n))}removeEntry(e){this.beacons.update(i=>i.filter((n,o)=>o!==e))}addEntry(){this.beacons.update(e=>{let i=this.options().beacons[0].value,n=this.data().beaconEntities[i].modules,o=[{id:It.Module,count:n}];return e.push({id:i,count:oe.zero,modules:o}),e})}save(){let e=this.beacons().map(i=>Vo(i,{modules:i.modules?.filter(n=>n.count?.nonzero())}));this.setValue.emit(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["lab-beacons-overlay"]],outputs:{setValue:"setValue"},standalone:!0,features:[ze,ne],decls:12,vars:9,consts:[["tooltip",""],["appendTo","body",3,"onHide"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","flex-column"],[1,"d-flex"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined","p-button-sm","flex-grow-1",3,"click","label"],[1,"d-flex","gap-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined","p-button-sm","flex-grow-1",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-sm","p-button-secondary","flex-grow-1",3,"click","label"],[1,"p-inputgroup"],["width","3rem","tooltipPosition","top",3,"setValue","pTooltip","value"],["width","3rem","tooltipPosition","top",3,"pTooltip","value"],["labDropdownBase","icon",3,"onChange","ngModel","pTooltip","options"],["pTemplate","selectedItem"],["pTemplate","item"],["pButton","","pRipple","","type","button","icon","fa-solid fa-times",1,"p-button-outlined",3,"click","disabled"],[3,"entity","modules","recipeId"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip"],[1,"ms-3","text-truncate"],["type","beacon",3,"id"],[3,"setValue","entity","modules","recipeId"]],template:function(i,n){i&1&&(r(0,"p-overlayPanel",1),b("onHide",function(){return n.onHide()}),r(1,"div",2),G(2,gm,12,10,"div",3,$t),r(4,"div",4)(5,"button",5),_(6,"translate"),b("click",function(){return n.addEntry()}),c()(),r(7,"div",6)(8,"button",7),_(9,"translate"),b("click",function(){return n.hide()}),c(),r(10,"button",8),_(11,"translate"),b("click",function(){return n.hide(!0)}),c()()()()),i&2&&(l(2),Z(n.beacons()),l(3),p("label",u(6,3,"beaconsOverlay.addBeacons")),l(3),p("label",u(9,5,"ok")),l(2),p("label",u(11,7,"cancel")))},dependencies:[Re,Fe,Le,se,ge,U,kt,nt,pn,fi,re,he,ri,Ne,Ht,mn,bt,Oe],encapsulation:2,changeDetection:0})}return t})();var hm=()=>({width:"400px"}),Cm=()=>({"400px":"100vw"});function bm(t,a){t&1&&(r(0,"tr")(1,"th"),C(2),_(3,"translate"),c(),r(4,"th"),C(5),_(6,"translate"),c(),r(7,"th"),C(8),_(9,"translate"),c(),r(10,"th"),C(11),_(12,"translate"),c()()),t&2&&(l(2),y(u(3,4,"columns.visibility")),l(3),y(u(6,6,"columns.decimals")),l(3),y(u(9,8,"columns.fractions")),l(3),y(u(12,10,"columns.example")))}function xm(t,a){if(t&1){let e=T();r(0,"td")(1,"p-inputNumber",7),De("ngModelChange",function(n){g(e);let o=s().$implicit,d=s();return Pe(d.editValue[o.value].precision,n)||(d.editValue[o.value].precision=n),h(n)}),c()(),r(2,"td",8)(3,"p-checkbox",9),b("onChange",function(n){g(e);let o=s().$implicit,d=s();return h(d.changeFraction(n.checked,o.value))}),c()(),r(4,"td"),C(5),_(6,"precisionExample"),c()}if(t&2){let e=s().$implicit,i=s();l(),p("min",0)("size",1)("showButtons",!0)("disabled",!i.editValue[e.value].show),Be("ngModel",i.editValue[e.value].precision),l(2),p("ngModel",i.editValue[e.value].precision==null)("binary",!0)("disabled",!i.editValue[e.value].show),l(2),j(" ",u(6,9,i.editValue[e.value].precision)," ")}}function vm(t,a){t&1&&(r(0,"td",6)(1,"div",10),C(2),_(3,"translate"),c()()),t&2&&(l(2),y(u(3,1,"columns.notApplicable")))}function ym(t,a){if(t&1){let e=T();r(0,"tr")(1,"td")(2,"p-checkbox",5),_(3,"translate"),De("ngModelChange",function(n){let o=g(e).$implicit,d=s();return Pe(d.editValue[o.value].show,n)||(d.editValue[o.value].show=n),h(n)}),c()(),m(4,xm,7,11)(5,vm,4,3,"td",6),c()}if(t&2){let e=a.$implicit,i=s();l(2),Be("ngModel",i.editValue[e.value].show),p("binary",!0)("label",u(3,5,e.label))("disabled",e.disabled),l(2),v(i.columnsInf[e.value].hasPrecision?4:5)}}function Tm(t,a){if(t&1){let e=T();r(0,"button",14),_(1,"translate"),b("click",function(){g(e);let n=s(2);return h(n.reset())}),c()}t&2&&p("label",u(1,1,"reset"))}function Im(t,a){if(t&1){let e=T();m(0,Tm,2,3,"button",11),r(1,"button",12),_(2,"translate"),b("click",function(){g(e);let n=s();return h(n.hide())}),c(),r(3,"button",13),_(4,"translate"),b("click",function(){g(e);let n=s();return h(n.hide(!0))}),c()}if(t&2){let e=s();v(e.modified?0:-1),l(),p("label",u(2,3,"ok")),l(2),p("label",u(4,5,"cancel"))}}var Ta=(()=>{class t extends jt{store=A(we);columnOptions=this.store.selectSignal(H.selectColumnOptions);editValue=Eo;columnsInf=xn;get modified(){return Object.keys(this.editValue).some(e=>this.editValue[e].precision!==Ie.initialState.columns[e].precision||this.editValue[e].show!==Ie.initialState.columns[e].show)}initEdit(e){this.editValue=Object.keys(e).filter(i=>xn[i]!=null).reduce((i,n)=>(i[n]=be({},e[n]),i),{})}open(e){this.initEdit(e),this.show()}changeFraction(e,i){this.editValue[i].precision=e?null:1}reset(){this.initEdit(Ie.initialState.columns)}save(){let e=this.editValue;this.store.dispatch(Ie.setColumns({columns:e}))}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["lab-columns"]],standalone:!0,features:[ze,ne],decls:6,vars:15,consts:[[3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","breakpoints","header"],["responsiveLayout","scroll","styleClass","p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"ngModelChange","ngModel","binary","label","disabled"],["colspan","3",1,"text-center"],["styleClass","w-100","inputStyleClass","text-end",1,"w-100",3,"ngModelChange","min","size","showButtons","disabled","ngModel"],[1,"text-center"],[3,"onChange","ngModel","binary","disabled"],[1,"p-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"click","label"]],template:function(i,n){i&1&&(r(0,"p-dialog",0),_(1,"translate"),De("visibleChange",function(d){return Pe(n.visible,d)||(n.visible=d),d}),b("onHide",function(){return n.onHide()}),r(2,"p-table",1),m(3,bm,13,12,"ng-template",2)(4,ym,6,7,"ng-template",3),c(),m(5,Im,5,7,"ng-template",4),c()),i&2&&($e(J(13,hm)),Be("visible",n.visible),p("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("breakpoints",J(14,Cm))("header",u(1,11,"columns.header")),l(2),p("value",n.columnOptions()))},dependencies:[Re,Fe,Le,se,ge,U,Ct,mt,Et,Mt,Ei,Mi,si,zt,Wo,Oe],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{width:115px}[_nghost-%COMP%]     .p-dialog-content{padding-bottom:1rem}"],changeDetection:0})}return t})();function Sm(t,a){if(t&1){let e=T();r(0,"lab-modules",6),b("setValue",function(n){g(e);let o=s();return h(o.modules.set(n))}),c()}if(t&2){let e=s();p("entity",a)("modules",e.modules())}}var un=(()=>{class t extends cn{store=A(we);setValue=new L;machine=ce(void 0);modules=ce([]);recipeId=ce(void 0);show(e,i,n,o){this.machine.set(n),this.modules.set(i.map(d=>be({},d))),this.recipeId.set(o),this._show(e)}save(){let e=this.modules();this.machine()?.modules!==!0&&(e=e.filter(i=>i.count?.nonzero())),this.setValue.emit(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["lab-modules-overlay"]],outputs:{setValue:"setValue"},standalone:!0,features:[ze,ne],decls:8,vars:7,consts:[["appendTo","body",3,"onHide"],[1,"d-flex","flex-column","gap-2"],[3,"entity","modules"],[1,"d-flex","gap-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined","p-button-sm","flex-grow-1",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-sm","p-button-secondary","flex-grow-1",3,"click","label"],[3,"setValue","entity","modules"]],template:function(i,n){if(i&1&&(r(0,"p-overlayPanel",0),b("onHide",function(){return n.onHide()}),r(1,"div",1),m(2,Sm,1,2,"lab-modules",2),r(3,"div",3)(4,"button",4),_(5,"translate"),b("click",function(){return n.hide()}),c(),r(6,"button",5),_(7,"translate"),b("click",function(){return n.hide(!0)}),c()()()()),i&2){let o;l(2),v((o=n.machine())?2:-1,o),l(2),p("label",u(5,3,"ok")),l(2),p("label",u(7,5,"cancel"))}},dependencies:[se,ge,pn,fi,mn,Oe],encapsulation:2,changeDetection:0})}return t})();var wm=["stepsTable"],fn=(t,a)=>a.id,Wt=(t,a)=>a.key,km=()=>[25,50,100,1e3],Ia=()=>[],Mm=(t,a,e,i,n,o,d,f,S,E,$,z,Ce)=>({items:t,itemId:a,belts:e,beltId:i,wagons:n,wagonId:o,machines:d,machineId:f,recipeId:S,recipeObjectiveId:E,percent:$,percentOnDest:!0,destId:z,inputs:Ce}),Em=(t,a,e,i,n,o,d,f,S,E,$,z,Ce,Ke)=>({items:t,itemId:a,belts:e,beltId:i,wagons:n,wagonId:o,machines:d,machineId:f,recipeId:S,recipeObjectiveId:E,percent:$,destId:z,destRecipeObjectiveId:Ce,destIsRecipe:!0,outputs:Ke}),gn=(t,a)=>({step:t,percent:a}),Om=(t,a)=>({items:t,itemId:a}),Vm=(t,a,e,i,n,o,d,f,S,E,$,z,Ce)=>({items:t,itemId:a,belts:e,beltId:i,wagons:n,wagonId:o,machines:d,machineId:f,recipeId:S,recipeObjectiveId:E,percent:$,destId:z,destRecipeObjectiveId:Ce,destIsRecipe:!0}),Bm=(t,a,e,i,n,o,d,f,S)=>({items:t,itemId:a,belts:e,beltId:i,wagons:n,wagonId:o,percent:d,destId:f,destRecipeObjectiveId:S,destIsRecipe:!0}),Pm=(t,a,e,i,n,o,d,f,S,E,$,z,Ce)=>({items:t,itemId:a,belts:e,beltId:i,wagons:n,wagonId:o,machines:d,machineId:f,recipeId:S,recipeObjectiveId:E,percent:$,percentOnDest:!0,destId:z,destRecipeObjectiveId:Ce}),Fi=(t,a)=>({value:t,itemId:a}),Dm=(t,a)=>({columnSettings:t,totals:a,type:"belt"}),Fm=(t,a)=>({columnSettings:t,totals:a}),Lm=(t,a,e)=>({columnSettings:t,totals:a,modulesTotals:e,type:"machine"}),Rm=(t,a,e)=>({columnSettings:t,totals:a,modulesTotals:e,type:"beacon"});function Am(t,a){if(t&1){let e=T();r(0,"button",34),_(1,"translate"),b("click",function(){g(e);let n=s(2);return h(n.exportSvc.stepsToCsv(n.steps()))}),c()}t&2&&p("label",u(1,1,"steps.downloadAsCsv"))}function zm(t,a){if(t&1){let e=T();r(0,"button",37),_(1,"translate"),b("click",function(){g(e);let n=s(3);return h(n.resetChecked())}),c()}t&2&&p("pTooltip",u(1,1,"steps.checkedUndoTooltip"))}function Hm(t,a){if(t&1&&(r(0,"th")(1,"div",35),x(2,"i",36),m(3,zm,2,3,"button",26),c()()),t&2){let e=s(2);l(3),v(e.itemsModified().checked||e.recipesModified().checked?3:-1)}}function jm(t,a){t&1&&(r(0,"th"),C(1),_(2,"translate"),c()),t&2&&(l(),y(u(2,1,"options.column.tree")))}function $m(t,a){t&1&&x(0,"p-sortIcon",25)}function Nm(t,a){if(t&1){let e=T();r(0,"button",37),_(1,"translate"),b("click",function(n){return g(e),s(2).resetExcluded(),h(n.stopImmediatePropagation())}),c()}t&2&&p("pTooltip",u(1,1,"steps.itemsUndoTooltip"))}function Km(t,a){t&1&&x(0,"p-sortIcon",38)}function Qm(t,a){if(t&1){let e=T();r(0,"button",37),_(1,"translate"),b("click",function(n){return g(e),s(3).resetBelts(),h(n.stopImmediatePropagation())}),c()}t&2&&p("pTooltip",u(1,1,"steps.beltsUndoTooltip"))}function Wm(t,a){if(t&1&&(r(0,"th",27)(1,"div",24)(2,"span"),C(3),_(4,"translate"),c(),m(5,Km,1,0,"p-sortIcon",38)(6,Qm,2,3,"button",26),c()()),t&2){let e=s(2);l(3),y(u(4,3,"options.column.belts")),l(2),v(e.focus()?-1:5),l(),v(e.itemsModified().belts?6:-1)}}function qm(t,a){t&1&&x(0,"p-sortIcon",39)}function Um(t,a){if(t&1){let e=T();r(0,"button",37),_(1,"translate"),b("click",function(n){return g(e),s(3).resetWagons(),h(n.stopImmediatePropagation())}),c()}t&2&&p("pTooltip",u(1,1,"steps.wagonsUndoTooltip"))}function Gm(t,a){if(t&1&&(r(0,"th",28)(1,"div",24)(2,"span"),C(3),_(4,"translate"),c(),m(5,qm,1,0,"p-sortIcon",39)(6,Um,2,3,"button",26),c()()),t&2){let e=s(2);l(3),y(u(4,3,e.dispRateInfo().wagonsLabel)),l(2),v(e.focus()?-1:5),l(),v(e.itemsModified().wagons?6:-1)}}function Zm(t,a){t&1&&x(0,"p-sortIcon",30)}function Xm(t,a){if(t&1){let e=T();r(0,"button",37),_(1,"translate"),b("click",function(n){return g(e),s(2).resetMachines(),h(n.stopImmediatePropagation())}),c()}t&2&&p("pTooltip",u(1,1,"steps.machinesUndoTooltip"))}function Ym(t,a){if(t&1){let e=T();r(0,"button",37),_(1,"translate"),b("click",function(){g(e);let n=s(3);return h(n.resetBeacons())}),c()}t&2&&p("pTooltip",u(1,1,"steps.beaconsUndoTooltip"))}function Jm(t,a){if(t&1&&(r(0,"th",31)(1,"div",24)(2,"span"),C(3),_(4,"translate"),c(),m(5,Ym,2,3,"button",26),c()()),t&2){let e=s(2);l(3),y(u(4,2,"options.column.beacons")),l(2),v(e.recipesModified().beacons?5:-1)}}function e0(t,a){t&1&&x(0,"p-sortIcon",41)}function t0(t,a){if(t&1&&(r(0,"th",32)(1,"div",40)(2,"span"),C(3),_(4,"translate"),c(),m(5,e0,1,0,"p-sortIcon",41),c()()),t&2){let e=s(2);l(3),y(u(4,2,"options.column.power")),l(2),v(e.focus()?-1:5)}}function i0(t,a){t&1&&x(0,"p-sortIcon",42)}function n0(t,a){if(t&1&&(r(0,"th",33)(1,"div",40)(2,"span"),C(3),_(4,"translate"),c(),m(5,i0,1,0,"p-sortIcon",42),c()()),t&2){let e=s(2);l(3),y(u(4,2,e.dispRateInfo().pollutionLabel)),l(2),v(e.focus()?-1:5)}}function o0(t,a){t&1&&x(0,"th")}function a0(t,a){if(t&1){let e=T();r(0,"tr")(1,"td",18)(2,"div",19)(3,"button",20),_(4,"translate"),b("click",function(){g(e);let n=s(),o=w(14);return h(o.open(n.columnsState()))}),c(),m(5,Am,2,3,"button",21),c()()(),r(6,"tr",22),x(7,"th"),m(8,Hm,4,1,"th")(9,jm,3,3,"th"),r(10,"th",23)(11,"div",24)(12,"span"),C(13),_(14,"translate"),c(),m(15,$m,1,0,"p-sortIcon",25)(16,Nm,2,3,"button",26),c()(),m(17,Wm,7,5,"th",27)(18,Gm,7,5,"th",28),r(19,"th",29)(20,"div",24)(21,"span"),C(22),_(23,"translate"),c(),m(24,Zm,1,0,"p-sortIcon",30)(25,Xm,2,3,"button",26),c()(),m(26,Jm,6,4,"th",31)(27,t0,6,4,"th",32)(28,n0,6,4,"th",33)(29,o0,1,0,"th"),c()}if(t&2){let e=s();l(3),p("label",u(4,16,"steps.columnSettings")),l(2),v(e.steps().length?5:-1),l(3),v(!e.focus()&&e.columnsState().checkbox.show?8:-1),l(),v(!e.focus()&&e.columnsState().tree.show?9:-1),l(4),y(u(14,18,e.dispRateInfo().itemsLabel)),l(2),v(e.focus()?-1:15),l(),v(e.itemsModified().excluded?16:-1),l(),v(e.columnsState().belts.show?17:-1),l(),v(e.columnsState().wagons.show?18:-1),l(4),y(u(23,20,"options.column.machines")),l(2),v(e.focus()?-1:24),l(),v(e.recipesModified().machines?25:-1),l(),v(e.columnsState().beacons.show?26:-1),l(),v(e.columnsState().power.show?27:-1),l(),v(e.columnsState().pollution.show?28:-1),l(),v(e.columnsState().link.show?29:-1)}}function l0(t,a){if(t&1&&x(0,"div",44),t&2){let e=a.$implicit,i=s();p("id","step_"+i.id+"_"+e.label)}}function s0(t,a){if(t&1){let e=T();r(0,"td",47)(1,"div",52)(2,"p-checkbox",53),b("onChange",function(n){g(e);let o=s(),d=s(2);return h(d.changeStepChecked(o,n.checked))}),c()()()}if(t&2){let e=s();l(2),p("binary",!0)("ngModel",e.checked)}}function r0(t,a){if(t&1&&x(0,"div",60),t&2){let e=a.$implicit,i=a.$index,n=a.$count;Me("trail",e)("last",i===n-1)}}function p0(t,a){if(t&1&&(G(0,r0,1,4,"div",59,$t),x(2,"div",55)),t&2){let e=s(2),i=s(2);Z(i.stepTree()[e.id])}}function c0(t,a){if(t&1&&x(0,"lab-tooltip",63),t&2){let e=s(3);p("id",e.itemId)}}function d0(t,a){if(t&1){let e=T();r(0,"button",61),_(1,"iconSmClass"),b("click",function(){g(e);let n=s(2),o=s(2);return h(o.setItemExcluded(n.itemId,!o.itemsState()[n.itemId].excluded))}),x(2,"i",62),m(3,c0,1,1,"ng-template",null,5,O),c()}if(t&2){let e=w(4),i=s(2),n=s(2);Me("hover-active",n.itemsState()[i.itemId].excluded),p("icon",u(1,4,i.itemId))("pTooltip",e)}}function m0(t,a){if(t&1&&(r(0,"span"),C(1),c()),t&2){let e=s(3);l(),j("#",e.recipeObjectiveId,"")}}function _0(t,a){if(t&1&&x(0,"lab-tooltip",65),t&2){let e=s(4);p("id",e.recipeId)}}function u0(t,a){if(t&1&&m(0,_0,1,1,"lab-tooltip",65),t&2){let e=s(3);v(e.recipeId?0:-1)}}function f0(t,a){if(t&1&&(r(0,"i",64),_(1,"iconSmClass"),m(2,m0,2,1,"span")(3,u0,1,1,"ng-template",null,5,O),c()),t&2){let e=w(4),i=s(2);M(K(1,4,i.recipeId,"recipe")),p("pTooltip",e),l(2),v(i.recipeObjectiveId!=null?2:-1)}}function g0(t,a){if(t&1&&(r(0,"td",48)(1,"div",54),m(2,p0,3,0,"div",55),r(3,"div",56),m(4,d0,5,6,"button",57)(5,f0,5,7,"i",58),c()()()),t&2){let e,i=s(),n=s(2),o=w(1);l(2),v(!o.sortField&&((e=n.stepTree()[i.id])!=null&&e.length)?2:-1),l(2),v(i.itemId&&i.recipeObjectiveId==null?4:5)}}function h0(t,a){if(t&1&&(r(0,"span",67),C(1),_(2,"rate"),c()),t&2){let e=s(2),i=s(2);l(),j("(+",K(2,1,e.surplus,i.columnsState().items.precision),") ")}}function C0(t,a){if(t&1&&x(0,"lab-tooltip",63),t&2){let e=s(3);p("id",e.itemId)}}function b0(t,a){if(t&1){let e=T();r(0,"button",61),_(1,"iconSmClass"),b("click",function(){g(e);let n=s(2),o=s(2);return h(o.setItemExcluded(n.itemId,!o.itemsState()[n.itemId].excluded))}),x(2,"i",62),m(3,C0,1,1,"ng-template",null,5,O),c()}if(t&2){let e=w(4),i=s(2),n=s(2);Me("hover-active",n.itemsState()[i.itemId].excluded),p("icon",u(1,4,i.itemId))("pTooltip",e)}}function x0(t,a){if(t&1&&(r(0,"td",66),m(1,h0,3,4,"span",67),r(2,"span",67),C(3),_(4,"rate"),c()(),r(5,"td",68)(6,"div",24)(7,"span",69),C(8),c(),m(9,b0,5,6,"button",57),c()()),t&2){let e,i=s(),n=s(2);l(),v(i.surplus&&i.surplus.nonzero()?1:-1),l(2),y(K(4,4,i.items.sub((e=i.surplus)!==null&&e!==void 0?e:n.rational.zero),n.columnsState().items.precision)),l(5),y(n.data().itemEntities[i.itemId].name),l(),v(!n.preferences().hideDuplicateIcons||!n.columnsState().tree.show?9:-1)}}function v0(t,a){t&1&&x(0,"td",31)}function y0(t,a){if(t&1&&(r(0,"div",45),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=s().$implicit;l(),M(u(2,2,e.value))}}function T0(t,a){if(t&1&&m(0,y0,3,4,"div",45),t&2){let e=a.$implicit;v(e?0:-1)}}function I0(t,a){if(t&1&&x(0,"lab-tooltip",76),t&2){let e=s().$implicit;p("id",e.value)}}function S0(t,a){if(t&1&&(r(0,"div",74),x(1,"i"),_(2,"iconSmClass"),r(3,"div",75),C(4),c(),m(5,I0,1,1,"ng-template",null,5,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function w0(t,a){if(t&1&&x(0,"lab-tooltip",76),t&2){let e=s(2);p("id",e)}}function k0(t,a){if(t&1){let e=T();r(0,"p-dropdown",71),b("onChange",function(n){let o=g(e),d=s(4),f=s(2);return h(f.setBelt(d.itemId,n.value,o))}),m(1,T0,1,1,"ng-template",72)(2,S0,7,6,"ng-template",73)(3,w0,1,1,"ng-template",null,5,O),c()}if(t&2){let e=w(4),i=s(),n=s(5);p("pTooltip",e)("ngModel",i)("options",n.options().belts)}}function M0(t,a){if(t&1&&(r(0,"div",45),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=a.$implicit;l(),M(u(2,2,e.value))}}function E0(t,a){if(t&1&&x(0,"lab-tooltip",77),t&2){let e=s().$implicit;p("id",e.value)}}function O0(t,a){if(t&1&&(r(0,"div",74),x(1,"i"),_(2,"iconSmClass"),r(3,"div",75),C(4),c(),m(5,E0,1,1,"ng-template",null,5,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function V0(t,a){if(t&1&&x(0,"lab-tooltip",77),t&2){let e=s(3);p("id",e)}}function B0(t,a){if(t&1){let e=T();r(0,"p-dropdown",71),b("onChange",function(n){let o=g(e),d=s(5),f=s(2);return h(f.setBelt(d.itemId,n.value,o))}),m(1,M0,3,4,"ng-template",72)(2,O0,7,6,"ng-template",73)(3,V0,1,1,"ng-template",null,5,O),c()}if(t&2){let e=w(4),i=s(2),n=s(5);p("pTooltip",e)("ngModel",i)("options",n.options().pipes)}}function P0(t,a){if(t&1&&x(0,"lab-tooltip",77),t&2){let e=s(3);p("id",e)}}function D0(t,a){if(t&1&&(r(0,"i",64),_(1,"iconClass"),m(2,P0,1,1,"ng-template",null,5,O),c()),t&2){let e=w(3),i=s(2);M(u(1,3,i)),p("pTooltip",e)}}function F0(t,a){if(t&1&&m(0,B0,5,3,"p-dropdown",70)(1,D0,4,5,"i",58),t&2){let e,i=s(),n=s(5);v((e=n.data().pipeIds.indexOf(i)!==-1&&n.settings().pipeId)?0:1,e)}}function L0(t,a){if(t&1&&(r(0,"td",66)(1,"span",67),C(2),_(3,"rate"),c()(),r(4,"td",68)(5,"div",24),m(6,k0,5,3,"p-dropdown",70)(7,F0,2,1),c()()),t&2){let e,i=s(3),n=s(2);l(2),y(K(3,2,i.belts,n.columnsState().belts.precision)),l(4),v((e=n.data().beltIds.indexOf(a)!==-1&&n.settings().beltId)?6:7,e)}}function R0(t,a){if(t&1&&m(0,L0,8,5),t&2){let e,i=s(2),n=s(2);v((e=n.itemsState()[i.itemId].beltId)?0:-1,e)}}function A0(t,a){t&1&&x(0,"td",31)}function z0(t,a){if(t&1&&m(0,R0,1,1)(1,A0,1,0,"td",31),t&2){let e=s();v(e.itemId&&e.belts?0:1)}}function H0(t,a){if(t&1&&(r(0,"div",45),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=s().$implicit;l(),M(u(2,2,e.value))}}function j0(t,a){if(t&1&&m(0,H0,3,4,"div",45),t&2){let e=a.$implicit;v(e?0:-1)}}function $0(t,a){if(t&1&&x(0,"lab-tooltip",78),t&2){let e=s().$implicit;p("id",e.value)}}function N0(t,a){if(t&1&&(r(0,"div",74),x(1,"i"),_(2,"iconSmClass"),r(3,"div",75),C(4),c(),m(5,$0,1,1,"ng-template",null,5,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function K0(t,a){if(t&1&&x(0,"lab-tooltip",78),t&2){let e=s(2);p("id",e)}}function Q0(t,a){if(t&1){let e=T();r(0,"p-dropdown",71),b("onChange",function(n){let o=g(e),d=s(4),f=s(2);return h(f.setWagon(d.itemId,n.value,o))}),m(1,j0,1,1,"ng-template",72)(2,N0,7,6,"ng-template",73)(3,K0,1,1,"ng-template",null,5,O),c()}if(t&2){let e=w(4),i=s(),n=s(5);p("pTooltip",e)("ngModel",i)("options",n.options().cargoWagons)}}function W0(t,a){if(t&1&&(r(0,"div",45),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=s().$implicit;l(),M(u(2,2,e.value))}}function q0(t,a){if(t&1&&m(0,W0,3,4,"div",45),t&2){let e=a.$implicit;v(e?0:-1)}}function U0(t,a){if(t&1&&x(0,"lab-tooltip",79),t&2){let e=s().$implicit;p("id",e.value)}}function G0(t,a){if(t&1&&(r(0,"div",74),x(1,"i"),_(2,"iconSmClass"),r(3,"div",75),C(4),c()(),m(5,U0,1,1,"ng-template",null,5,O)),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function Z0(t,a){if(t&1&&x(0,"lab-tooltip",79),t&2){let e=s(3);p("id",e)}}function X0(t,a){if(t&1){let e=T();r(0,"p-dropdown",71),b("onChange",function(n){let o=g(e),d=s(5),f=s(2);return h(f.setWagon(d.itemId,n.value,o))}),m(1,q0,1,1,"ng-template",72)(2,G0,7,6,"ng-template",73)(3,Z0,1,1,"ng-template",null,5,O),c()}if(t&2){let e=w(4),i=s(2),n=s(5);p("pTooltip",e)("ngModel",i)("options",n.options().fluidWagons)}}function Y0(t,a){if(t&1&&m(0,X0,5,3,"p-dropdown",70),t&2){let e,i=s(),n=s(5);v((e=n.data().fluidWagonIds.indexOf(i)!==-1&&n.settings().fluidWagonId)?0:-1,e)}}function J0(t,a){if(t&1&&(r(0,"td",66)(1,"span",67),C(2),_(3,"rate"),c()(),r(4,"td",68)(5,"div",24),m(6,Q0,5,3,"p-dropdown",70)(7,Y0,1,1),c()()),t&2){let e,i=s(3),n=s(2);l(2),y(K(3,2,i.wagons,n.columnsState().wagons.precision)),l(4),v((e=n.data().cargoWagonIds.indexOf(a)!==-1&&n.settings().cargoWagonId)?6:7,e)}}function e_(t,a){if(t&1&&m(0,J0,8,5),t&2){let e,i=s(2),n=s(2);v((e=n.itemsState()[i.itemId].wagonId)?0:-1,e)}}function t_(t,a){t&1&&x(0,"td",31)}function i_(t,a){if(t&1&&m(0,e_,1,1)(1,t_,1,0,"td",31),t&2){let e=s();v(e.itemId&&e.wagons?0:1)}}function n_(t,a){if(t&1&&(r(0,"span",67),C(1),_(2,"machineRate"),c()),t&2){let e=s(),i=s(),n=s(2);l(),y(Lt(2,1,i.machines,n.columnsState().machines.precision,e))}}function o_(t,a){if(t&1&&(r(0,"span"),C(1),c()),t&2){let e=s(4);l(),j("#",e.recipeObjectiveId,"")}}function a_(t,a){if(t&1&&x(0,"lab-tooltip",65),t&2){let e=s(4);p("id",e.recipeId)}}function l_(t,a){if(t&1){let e=T();r(0,"button",83),b("click",function(){g(e);let n=s(3),o=s(2);return h(o.addObjective({targetId:n.recipeId,unit:o.ObjectiveUnit.Machines}))}),r(1,"span",84),_(2,"iconSmClass"),m(3,o_,2,1,"span"),c(),x(4,"i",85),m(5,a_,1,1,"ng-template",null,5,O),c()}if(t&2){let e=w(6),i=s(3);p("pTooltip",e),l(),M(K(2,4,i.recipeId,"recipe")),l(2),v(i.recipeObjectiveId?3:-1)}}function s_(t,a){if(t&1&&(r(0,"div",45),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=s().$implicit;l(),M(u(2,2,e.value))}}function r_(t,a){if(t&1&&m(0,s_,3,4,"div",45),t&2){let e=a.$implicit;v(e?0:-1)}}function p_(t,a){if(t&1&&x(0,"lab-tooltip",87),t&2){let e=s().$implicit;p("id",e.value)}}function c_(t,a){if(t&1&&(r(0,"div",74),x(1,"i"),_(2,"iconSmClass"),r(3,"div",75),C(4),c(),m(5,p_,1,1,"ng-template",null,5,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function d_(t,a){if(t&1&&x(0,"lab-tooltip",87),t&2){let e=s(3);p("id",e)}}function m_(t,a){if(t&1){let e=T();r(0,"p-dropdown",86),_(1,"options"),b("onChange",function(n){g(e);let o=s(3),d=s(2);return h(d.changeRecipeField(o,n.value,"machine"))}),m(2,r_,1,1,"ng-template",72)(3,c_,7,6,"ng-template",73)(4,d_,1,1,"ng-template",null,5,O),c()}if(t&2){let e=w(5),i=s(2),n=s(),o=s(2);p("pTooltip",e)("options",K(1,3,n.recipe.producers,o.data().itemEntities))("ngModel",i)}}function __(t,a){if(t&1){let e=T();r(0,"p-inputNumber",88,6),_(2,"translate"),b("onBlur",function(){let n;g(e);let o=w(1),d=s(3),f=s(2);return h(f.changeRecipeField(d,(n=o.value)!==null&&n!==void 0?n:100,"overclock"))}),c()}if(t&2){let e=s(3);p("min",1)("max",250)("step",10)("maxFractionDigits",2)("size",3)("pTooltip",u(2,7,"steps.overclockTooltip"))("ngModel",e.recipeSettings.overclock)}}function u_(t,a){if(t&1&&x(0,"lab-tooltip",90),t&2){let e=s(2);p("id",e)}}function f_(t,a){if(t&1&&(r(0,"div",24)(1,"i",89),_(2,"iconSmClass"),m(3,u_,1,1,"ng-template",null,5,O),c()()),t&2){let e=w(4),i=s();l(),M(u(2,3,i)),p("pTooltip",e)}}function g_(t,a){if(t&1&&(r(0,"div",45),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=a.$implicit;l(),M(u(2,2,e.value))}}function h_(t,a){if(t&1&&x(0,"lab-tooltip",90),t&2){let e=s().$implicit;p("id",e.value)}}function C_(t,a){if(t&1&&(r(0,"div",74),x(1,"i"),_(2,"iconSmClass"),r(3,"div",75),C(4),c(),m(5,h_,1,1,"ng-template",null,5,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function b_(t,a){if(t&1&&x(0,"lab-tooltip",90),t&2){let e=s(2);p("id",e)}}function x_(t,a){if(t&1){let e=T();r(0,"p-dropdown",71),b("onChange",function(n){g(e);let o=s(4),d=s(2);return h(d.changeRecipeField(o,n.value,"fuel"))}),m(1,g_,3,4,"ng-template",72)(2,C_,7,6,"ng-template",73)(3,b_,1,1,"ng-template",null,5,O),c()}if(t&2){let e,i=w(4),n=s(),o=s(3);p("pTooltip",i)("ngModel",n)("options",(e=o.recipeSettings.fuelOptions)!==null&&e!==void 0?e:J(3,Ia))}}function v_(t,a){if(t&1&&m(0,f_,5,5,"div",24)(1,x_,5,4,"p-dropdown",70),t&2){let e=s(3);v(e.recipe.isBurn?0:e.recipeSettings.machineId?1:-1)}}function y_(t,a){if(t&1&&(r(0,"div",45),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=a.$implicit;l(),M(u(2,2,e.value))}}function T_(t,a){if(t&1&&x(0,"lab-tooltip",93),t&2){let e=s().$implicit;p("id",e.value)}}function I_(t,a){if(t&1&&(r(0,"div",74),x(1,"i"),_(2,"iconSmClass"),r(3,"div",75),C(4),c(),m(5,T_,1,1,"ng-template",null,5,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",e.value!=="module"?i:void 0),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function S_(t,a){if(t&1){let e=T();r(0,"p-dropdown",92),_(1,"translate"),b("onChange",function(n){g(e);let o=s(5),d=s(2);return h(d.changeRecipeField(o,[{id:n.value,count:d.rational.one}],"modules"))}),m(2,y_,3,4,"ng-template",72)(3,I_,7,6,"ng-template",73),c()}if(t&2){let e,i=s(2),n=s(3);p("pTooltip",u(1,3,"settings.modifierTooltip"))("ngModel",i[0].id)("options",(e=n.recipeSettings.moduleOptions)!==null&&e!==void 0?e:J(5,Ia))}}function w_(t,a){if(t&1&&(r(0,"i",84),_(1,"iconSmClass"),r(2,"span"),C(3),c()()),t&2){let e=a.$implicit;M(u(1,3,e.id)),l(3),y(e.count)}}function k_(t,a){if(t&1&&x(0,"lab-tooltip",93),t&2){let e=s().$implicit;p("id",e.id)}}function M_(t,a){if(t&1&&m(0,k_,1,1,"lab-tooltip",93),t&2){let e=a.$implicit;v(e.id?0:-1)}}function E_(t,a){if(t&1&&G(0,M_,1,1,null,null,fn),t&2){let e=s(3);Z(e)}}function O_(t,a){if(t&1){let e=T();r(0,"button",94),b("click",function(n){g(e);let o=w(5),d=s(),f=s(),S=s(3);return h(o.show(n,f,d,S.recipeId))}),G(1,w_,4,5,"i",95,fn),x(3,"i",96),c(),r(4,"lab-modules-overlay",97,7),b("setValue",function(n){g(e);let o=s(5),d=s(2);return h(d.changeRecipeField(o,n,"modules"))}),c(),m(6,E_,2,0,"ng-template",null,5,O)}if(t&2){let e=w(7),i=s(2);p("pTooltip",e),l(),Z(i)}}function V_(t,a){if(t&1&&m(0,S_,4,6,"p-dropdown",91)(1,O_,8,1),t&2){let e=a;v(e.modules!==!0&&(e.modules!=null&&e.modules.isOne())?0:e.modules!=null?1:-1)}}function B_(t,a){if(t&1&&m(0,V_,2,1),t&2){let e,i=s(2),n=s(3);v((e=n.data().machineEntities[i])?0:-1,e)}}function P_(t,a){if(t&1&&(r(0,"div",24)(1,"span",69),C(2),c(),m(3,l_,7,7,"button",80)(4,m_,6,6,"p-dropdown",81),_(5,"machineShow"),m(6,__,3,9,"p-inputNumber",82)(7,v_,2,1)(8,B_,1,1),c()),t&2){let e,i,n=s(),o=s(),d=s(2);l(2),y(o.recipe.name),l(),v(!d.preferences().hideDuplicateIcons||o.itemId!=null&&o.itemId!==o.recipeId?3:-1),l(),v(K(5,6,n,d.data().game)?4:-1),l(2),v(d.data().game===d.Game.Satisfactory?6:-1),l(),v((e=o.recipeSettings==null?null:o.recipeSettings.fuelId)?7:-1,e),l(),v((i=o.recipeSettings==null?null:o.recipeSettings.modules)?8:-1,i)}}function D_(t,a){if(t&1&&(r(0,"td",66),m(1,n_,3,5,"span",67),_(2,"machineShowRate"),c(),r(3,"td",68),m(4,P_,9,9,"div",24),c()),t&2){let e=s(),i=s(2);l(),v(e.machines&&e.machines.nonzero()&&K(2,2,a,i.data().game)?1:-1),l(3),v(e.recipeId&&e.recipe&&e.recipeSettings?4:-1)}}function F_(t,a){t&1&&x(0,"td",31)}function L_(t,a){if(t&1&&(r(0,"i",100),_(1,"iconSmClass"),r(2,"span"),C(3),c()()),t&2){let e=s().$implicit;M(u(1,3,e.id)),l(3),y(e.total)}}function R_(t,a){if(t&1&&(r(0,"i",84),_(1,"iconSmClass"),r(2,"span"),C(3),c()()),t&2){let e=a.$implicit;M(u(1,3,e.id)),l(3),y(e.count)}}function A_(t,a){if(t&1&&(r(0,"div",45)(1,"i",84),_(2,"iconSmClass"),r(3,"span"),C(4),c()(),m(5,L_,4,5,"i",99),G(6,R_,4,5,"i",95,fn),c()),t&2){let e=a.$implicit;l(),M(u(2,4,e.id)),l(3),y(e.count),l(),v(e.total?5:-1),l(),Z(e.modules)}}function z_(t,a){t&1&&x(0,"lab-tooltip",101),t&2&&p("id",a)}function H_(t,a){if(t&1&&m(0,z_,1,1,"lab-tooltip",101),t&2){let e,i=s(3);v((e=i.recipeSettings.beacons==null||i.recipeSettings.beacons[0]==null?null:i.recipeSettings.beacons[0].id)?0:-1,e)}}function j_(t,a){if(t&1){let e=T();r(0,"button",98),b("click",function(n){g(e);let o=w(5),d=s(2);return h(o.show(n,d.recipeSettings.beacons))}),G(1,A_,8,6,"div",45,$t),x(3,"i",96),c(),r(4,"lab-beacons-overlay",97,8),b("setValue",function(n){g(e);let o=s(2),d=s(2);return h(d.changeRecipeField(o,n,"beacons"))}),c(),m(6,H_,1,1,"ng-template",null,5,O)}if(t&2){let e=w(7),i=s(2);p("pTooltip",e),l(),Z(i.recipeSettings.beacons)}}function $_(t,a){if(t&1&&(r(0,"td",49),m(1,j_,8,1),c()),t&2){let e=s();l(),v(e.recipeId&&e.recipeSettings&&e.recipeSettings.beacons?1:-1)}}function N_(t,a){if(t&1&&(r(0,"span",67),C(1),_(2,"power"),c()),t&2){let e=s(2),i=s(2);l(),y(Lt(2,1,e.power,i.columnsState().power.precision,i.effectivePowerUnit()))}}function K_(t,a){if(t&1&&(r(0,"td",50),m(1,N_,3,5,"span",67),c()),t&2){let e=s();l(),v(e.power&&e.power.nonzero()?1:-1)}}function Q_(t,a){if(t&1&&(r(0,"span",67),C(1),_(2,"rate"),c()),t&2){let e=s(2),i=s(2);l(),y(K(2,1,e.pollution,i.columnsState().pollution.precision))}}function W_(t,a){if(t&1&&(r(0,"td",50),m(1,Q_,3,4,"span",67),c()),t&2){let e=s();l(),v(e.pollution&&e.pollution.nonzero()?1:-1)}}function q_(t,a){if(t&1){let e=T();r(0,"button",105),_(1,"translate"),b("click",function(){g(e);let n=s(2),o=s(2);return h(o.resetStep(n))}),c()}t&2&&p("pTooltip",u(1,1,"steps.stepUndoTooltip"))}function U_(t,a){if(t&1&&(r(0,"td",51)(1,"div",45)(2,"a",102),_(3,"stepHref"),x(4,"button",103),_(5,"translate"),c(),m(6,q_,2,3,"button",104),c()()),t&2){let e=s(),i=s(2);l(2),p("href",Lt(3,3,e,i.routerSvc.zipConfig(),i.data()),Ft),l(2),p("pTooltip",u(5,7,"steps.openNewTabTooltip")),l(2),v(e.recipeId&&i.stepsModified().recipes[e.recipeId]||e.itemId&&i.stepsModified().items[e.itemId]||e.recipeObjectiveId&&i.stepsModified().objectives[e.recipeObjectiveId]?6:-1)}}function G_(t,a){if(t&1){let e=T();r(0,"tr")(1,"td",43),x(2,"div",44),G(3,l0,1,1,"div",44,fn),r(5,"div",45)(6,"button",46),_(7,"translate"),b("click",function(){let n=g(e),o=s().expanded,d=s();return h(d.expandRow(n,o))}),c()()(),m(8,s0,3,2,"td",47)(9,g0,6,2,"td",48)(10,x0,10,7)(11,v0,1,0,"td",31)(12,z0,2,1)(13,i_,2,1)(14,D_,5,5)(15,F_,1,0,"td",31)(16,$_,2,1,"td",49)(17,K_,2,1,"td",50)(18,W_,2,1,"td",50)(19,U_,7,9,"td",51),c()}if(t&2){let e,i=a,n=s().expanded,o=s();l(2),p("id","step_"+i.id),l(),Z(o.stepDetails()[i.id].tabs),l(3),Me("fa-rotate-90",n),p("pTooltip",u(7,15,n?"steps.hideDetails":"steps.showDetails"))("pRowToggler",i),l(2),v(!o.focus()&&o.columnsState().checkbox.show?8:-1),l(),v(!o.focus()&&o.columnsState().tree.show?9:-1),l(),v(i.itemId&&i.items?10:11),l(2),v(o.columnsState().belts.show?12:-1),l(),v(o.columnsState().wagons.show?13:-1),l(),v((e=i.recipeSettings==null?null:i.recipeSettings.machineId)?14:15,e),l(2),v(o.columnsState().beacons.show?16:-1),l(),v(o.columnsState().power.show?17:-1),l(),v(o.columnsState().pollution.show?18:-1),l(),v(o.columnsState().link.show?19:-1)}}function Z_(t,a){if(t&1&&(m(0,G_,20,17,"tr"),_(1,"asStep")),t&2){let e,i=a.$implicit;v((e=u(1,1,i))?0:-1,e)}}function X_(t,a){if(t&1&&(r(0,"a",111),x(1,"span",112),r(2,"span",113),C(3),_(4,"translate"),c()()),t&2){let e=a.$implicit,i=s(3);p("id",e.id),l(),M(i.stepDetailIcon[e.label]),l(2),y(u(4,4,"options.stepDetailTab."+e.label))}}function Y_(t,a){t&1&&P(0)}function J_(t,a){if(t&1&&(r(0,"tr",106),m(1,Y_,1,0,"ng-container",114),r(2,"td",115),C(3),_(4,"translate"),c()()),t&2){s(4);let e=w(9);l(),p("ngTemplateOutlet",e),l(2),j(" ",u(4,2,"steps.sources")," ")}}function eu(t,a){t&1&&P(0)}function tu(t,a){if(t&1&&m(0,eu,1,0,"ng-container",116),t&2){let e=s().$implicit,i=s(2),n=s(2),o=w(11);p("ngTemplateOutlet",o)("ngTemplateOutletContext",Yt(2,Mm,[i.items==null?null:i.items.mul(e.value),i.itemId,i.belts==null?null:i.belts.mul(e.value),n.itemsState()[i.itemId].beltId,i.wagons==null?null:i.wagons.mul(e.value),n.itemsState()[i.itemId].wagonId,e.step==null?null:e.step.machines,e.step==null||e.step.recipeSettings==null?null:e.step.recipeSettings.machineId,e.step==null?null:e.step.recipeId,e.step==null?null:e.step.recipeObjectiveId,e.value,i.itemId,e.inputs]))}}function iu(t,a){if(t&1&&m(0,tu,1,16,"ng-container"),t&2){let e=s(2);v(e.itemId?0:-1)}}function nu(t,a){t&1&&P(0)}function ou(t,a){if(t&1&&(r(0,"tr",106),m(1,nu,1,0,"ng-container",114),r(2,"td",115),C(3),_(4,"translate"),c()()),t&2){s(4);let e=w(9);l(),p("ngTemplateOutlet",e),l(2),j(" ",u(4,2,"steps.destinations")," ")}}function au(t,a){t&1&&P(0)}function lu(t,a){if(t&1&&m(0,au,1,0,"ng-container",116),t&2){let e,i=s().$implicit,n=s(2),o=s(2),d=w(11);p("ngTemplateOutlet",d)("ngTemplateOutletContext",Yt(2,Em,[n.items==null?null:n.items.mul(i.value),n.itemId,n.belts==null?null:n.belts.mul(i.value),o.itemsState()[n.itemId].beltId,n.wagons==null?null:n.wagons.mul(i.value),o.itemsState()[n.itemId].wagonId,o.stepDetails()[n.id].outputs.length===1?n.machines==null?null:n.machines.mul(i.value):null,o.stepDetails()[n.id].outputs.length===1?n.recipeSettings==null?null:n.recipeSettings.machineId:null,n.recipeId,n.recipeObjectiveId,i.value,(e=o.stepById()[i.key])==null?null:e.recipeId,(e=o.stepById()[i.key])==null?null:e.recipeObjectiveId,i.key===""]))}}function su(t,a){if(t&1&&m(0,lu,1,17,"ng-container"),t&2){let e=s(2);v(e.itemId?0:-1)}}function ru(t,a){if(t&1&&(m(0,J_,5,4,"tr",106),G(1,iu,1,1,null,null,$t),m(3,ou,5,4,"tr",106),G(4,su,1,1,null,null,Wt),_(6,"keyvalue")),t&2){let e=s(),i=s(2);v(i.stepDetails()[e.id].outputs.length?0:-1),l(),Z(i.stepDetails()[e.id].outputs),l(2),v(e.parents?3:-1),l(),Z(K(6,2,e.parents,i.trackSvc.sortByValue))}}function pu(t,a){t&1&&P(0)}function cu(t,a){t&1&&P(0)}function du(t,a){if(t&1&&m(0,cu,1,0,"ng-container",116),t&2){let e=s(),i=s().$implicit,n=s(4);s(2);let o=w(11);p("ngTemplateOutlet",o)("ngTemplateOutletContext",Y(2,Om,e.step.items.mul(e.percent).div(n.recipe.productivity),i.key))}}function mu(t,a){if(t&1&&m(0,du,1,5,"ng-container"),t&2){let e=a;v(e.step&&e.percent&&e.step.items?0:-1)}}function _u(t,a){if(t&1&&m(0,mu,1,1),t&2){let e,i=a.$implicit,n=s(4),o=s(2);v((e=Y(1,gn,o.stepByItemEntities()[i.key],n.outputs==null?null:n.outputs[i.key]))?0:-1,e)}}function uu(t,a){if(t&1&&(r(0,"tr",106),m(1,pu,1,0,"ng-container",114),r(2,"td",115),C(3),_(4,"translate"),c()(),G(5,_u,1,4,null,null,Wt),_(7,"keyvalue")),t&2){let e=s(3),i=s(2),n=w(9);l(),p("ngTemplateOutlet",n),l(2),j(" ",u(4,2,"steps.depletion")," "),l(2),Z(K(7,4,e.outputs,i.trackSvc.sortByValue))}}function fu(t,a){t&1&&P(0)}function gu(t,a){t&1&&P(0)}function hu(t,a){if(t&1&&m(0,gu,1,0,"ng-container",116),t&2){let e=a,i=s(2),n=s().$implicit,o=s(4),d=s(2),f=w(11);p("ngTemplateOutlet",f)("ngTemplateOutletContext",Yt(2,Vm,[i.step.items==null?null:i.step.items.mul(i.percent),n.key,i.step.belts==null?null:i.step.belts.mul(i.percent),d.itemsState()[i.step.itemId].beltId,i.step.wagons==null?null:i.step.wagons.mul(i.percent),d.itemsState()[i.step.itemId].wagonId,e.step==null?null:e.step.machines,e.step==null||e.step.recipeSettings==null?null:e.step.recipeSettings.machineId,e.step==null?null:e.step.recipeId,e.step==null?null:e.step.recipeObjectiveId,i.percent,o.recipeId,o.recipeObjectiveId]))}}function Cu(t,a){t&1&&P(0)}function bu(t,a){if(t&1&&m(0,Cu,1,0,"ng-container",116),t&2){let e=s(2),i=s().$implicit,n=s(4),o=s(2),d=w(11);p("ngTemplateOutlet",d)("ngTemplateOutletContext",Yt(2,Bm,[e.step.items==null?null:e.step.items.mul(e.percent),i.key,e.step.belts==null?null:e.step.belts.mul(e.percent),o.itemsState()[e.step.itemId].beltId,e.step.wagons==null?null:e.step.wagons.mul(e.percent),o.itemsState()[e.step.itemId].wagonId,e.percent,n.recipeId,n.recipeObjectiveId]))}}function xu(t,a){if(t&1&&m(0,hu,1,16,"ng-container")(1,bu,1,12,"ng-container"),t&2){let e,i=s(),n=s(7);v((e=n.stepDetails()[i.step.id].outputs.length===1&&n.stepDetails()[i.step.id].outputs[0])?0:1,e)}}function vu(t,a){if(t&1&&m(0,xu,2,1),t&2){let e=a;v(e.step.itemId&&e.percent?0:-1)}}function yu(t,a){if(t&1&&m(0,vu,1,1),t&2){let e,i=a.$implicit,n=s(4),o=s(2);v((e=Y(1,gn,o.stepByItemEntities()[i.key],(e=o.stepByItemEntities()[i.key].parents)==null?null:e[n.id]))?0:-1,e)}}function Tu(t,a){if(t&1&&(r(0,"tr",106),m(1,fu,1,0,"ng-container",114),r(2,"td",115),C(3),_(4,"translate"),c()(),G(5,yu,1,4,null,null,Wt),_(7,"keyvalue")),t&2){let e=s(3),i=s(2),n=w(9);l(),p("ngTemplateOutlet",n),l(2),j(" ",u(4,2,"steps.inputs")," "),l(2),Z(K(7,4,e.recipe.in,i.trackSvc.sortByValue))}}function Iu(t,a){t&1&&P(0)}function Su(t,a){t&1&&P(0)}function wu(t,a){t&1&&P(0)}function ku(t,a){t&1&&P(0)}function Mu(t,a){if(t&1&&m(0,ku,1,0,"ng-container",116),t&2){let e=s(),i=s().$implicit,n=s(3),o=s(2),d=w(11);p("ngTemplateOutlet",d)("ngTemplateOutletContext",Yt(2,Pm,[e.step.items==null?null:e.step.items.mul(e.percent),i.key,e.step.belts==null?null:e.step.belts.mul(e.percent),o.itemsState()[e.step.itemId].beltId,e.step.wagons==null?null:e.step.wagons.mul(e.percent),o.itemsState()[e.step.itemId].wagonId,n.machines,n.recipeSettings==null?null:n.recipeSettings.machineId,n.recipeId,n.recipeObjectiveId,e.percent,i.key,n.recipeObjectiveId]))}}function Eu(t,a){if(t&1&&m(0,Mu,1,16,"ng-container"),t&2){let e=a;v(e.step.itemId&&e.percent?0:-1)}}function Ou(t,a){if(t&1&&m(0,Eu,1,1),t&2){let e,i=a.$implicit,n=s(3),o=s(2);v((e=Y(1,gn,o.stepByItemEntities()[i.key],n.outputs==null?null:n.outputs[i.key]))?0:-1,e)}}function Vu(t,a){if(t&1&&(m(0,uu,8,7)(1,Tu,8,7),_(2,"keyvalue"),r(3,"tr",106),m(4,Iu,1,0,"ng-container",114),r(5,"td",115),C(6),_(7,"translate"),c()(),r(8,"tr",106),m(9,Su,1,0,"ng-container",114),r(10,"td",117)(11,"span",67),C(12),_(13,"rate"),c()(),r(14,"td",118)(15,"div",45),x(16,"i",119),c()(),x(17,"td",18),c(),r(18,"tr",106),m(19,wu,1,0,"ng-container",114),r(20,"td",115),C(21),_(22,"translate"),c()(),G(23,Ou,1,4,null,null,Wt),_(25,"keyvalue")),t&2){let e=s(2),i=s(2),n=w(9);v(i.data().game===i.Game.Factorio&&e.recipe.isMining?0:-1),l(),v(u(2,8,e.recipe.in).length?1:-1),l(3),p("ngTemplateOutlet",n),l(2),j(" ",u(7,10,"steps.time")," "),l(3),p("ngTemplateOutlet",n),l(3),y(K(13,12,e.recipe.time,i.columnsState().items.precision)),l(7),p("ngTemplateOutlet",n),l(2),j(" ",u(22,15,"steps.outputs")," "),l(2),Z(K(25,17,e.recipe.out,i.trackSvc.sortByValue))}}function Bu(t,a){if(t&1&&m(0,Vu,26,20),t&2){let e=s();v(e.recipe?0:-1)}}function Pu(t,a){t&1&&P(0)}function Du(t,a){if(t&1&&(m(0,Pu,1,0,"ng-container",116),_(1,"rate")),t&2){let e=s(2),i=s().$implicit;s();let n=w(28),o=s(2),d=s(2);p("ngTemplateOutlet",n)("ngTemplateOutletContext",Y(5,Fi,K(1,2,e.step.items.mul(e.percent).div(o.machines),d.columnsState().items.precision),i.key))}}function Fu(t,a){t&1&&P(0)}function Lu(t,a){if(t&1&&(m(0,Fu,1,0,"ng-container",116),_(1,"rate")),t&2){let e=s(4);s(2);let i=w(28),n=s(2),o=s(2);p("ngTemplateOutlet",i)("ngTemplateOutletContext",Y(5,Fi,K(1,2,e.step.belts.mul(e.percent).div(n.machines),o.columnsState().belts.precision),a))}}function Ru(t,a){if(t&1&&m(0,Lu,2,8,"ng-container"),t&2){let e,i=s(4).$implicit,n=s(5);v((e=n.itemsState()[i.key].beltId)?0:-1,e)}}function Au(t,a){if(t&1&&(r(0,"td"),m(1,Ru,1,1),c()),t&2){let e=s(2);l(),v(e.step.belts?1:-1)}}function zu(t,a){t&1&&P(0)}function Hu(t,a){if(t&1&&(m(0,zu,1,0,"ng-container",116),_(1,"rate")),t&2){let e=a;s(6);let i=w(28);p("ngTemplateOutlet",i)("ngTemplateOutletContext",Y(5,Fi,K(1,2,e.value,1),e.id))}}function ju(t,a){if(t&1&&(m(0,Hu,2,8,"ng-container"),_(1,"inserterSpeed")),t&2){let e,i=s(3),n=s(4),o=s(2);v((e=K(1,1,i.step.items.mul(i.percent).div(n.machines).div(o.dispRateInfo().value),o.settings()))?0:-1,e)}}function $u(t,a){if(t&1&&(r(0,"td"),m(1,ju,2,4),c()),t&2){let e=s(2),i=s().$implicit,n=s(5);l(),v(n.itemsState()[i.key].beltId!==n.ItemId.Pipe&&e.step.items?1:-1)}}function Nu(t,a){if(t&1&&(r(0,"tr")(1,"td"),m(2,Du,2,8,"ng-container"),c(),m(3,Au,2,1,"td")(4,$u,2,1,"td"),c()),t&2){let e=s(),i=s(6);l(2),v(e.step.items?2:-1),l(),v(i.columnsState().belts.show?3:-1),l(),v(i.data().game===i.Game.Factorio?4:-1)}}function Ku(t,a){t&1&&m(0,Nu,5,3,"tr"),t&2&&v(a.percent?0:-1)}function Qu(t,a){if(t&1&&m(0,Ku,1,1),t&2){let e,i=a.$implicit,n=s(3),o=s(2);v((e=Y(1,gn,o.stepByItemEntities()[i.key],(e=o.stepByItemEntities()[i.key].parents)==null?null:e[n.id]))?0:-1,e)}}function Wu(t,a){t&1&&x(0,"i",122)}function qu(t,a){if(t&1&&x(0,"lab-tooltip",65),t&2){let e=s(4);p("id",e.recipeId)}}function Uu(t,a){if(t&1&&x(0,"lab-tooltip",87),t&2){let e=s();p("id",e)}}function Gu(t,a){if(t&1&&(r(0,"div",24)(1,"i",64),_(2,"iconClass"),m(3,qu,1,1,"ng-template",null,5,O),c(),r(5,"i",64),_(6,"iconClass"),m(7,Uu,1,1,"ng-template",null,5,O),c()()),t&2){let e=w(4),i=s(3);l(),M(K(2,6,i.recipeId,"recipe")),p("pTooltip",e),l(4),M(u(6,9,a)),p("pTooltip",e)}}function Zu(t,a){t&1&&P(0)}function Xu(t,a){if(t&1&&(m(0,Zu,1,0,"ng-container",116),_(1,"rate")),t&2){let e=a;s(5);let i=w(28);p("ngTemplateOutlet",i)("ngTemplateOutletContext",Y(5,Fi,K(1,2,e.value,1),e.id))}}function Yu(t,a){if(t&1&&(m(0,Xu,2,8,"ng-container"),_(1,"inserterSpeed")),t&2){let e,i=s(2),n=s(6);v((e=K(1,1,i,n.settings()))?0:-1,e)}}function Ju(t,a){if(t&1&&(r(0,"td"),m(1,Yu,2,4),c()),t&2){let e=s(2).$implicit,i=s(5);l(),v(i.itemsState()[e.key].beltId!==i.ItemId.Pipe?1:-1)}}function e1(t,a){t&1&&P(0)}function t1(t,a){if(t&1&&(m(0,e1,1,0,"ng-container",116),_(1,"rate")),t&2){let e=a,i=s(2);s(2);let n=w(28),o=s(4);p("ngTemplateOutlet",n)("ngTemplateOutletContext",Y(5,Fi,K(1,2,i.div(o.beltSpeed()[e]),o.columnsState().belts.precision),e))}}function i1(t,a){if(t&1&&(r(0,"td"),m(1,t1,2,8,"ng-container"),c()),t&2){let e,i=s(2).$implicit,n=s(5);l(),v((e=n.itemsState()[i.key].beltId)?1:-1,e)}}function n1(t,a){t&1&&P(0)}function o1(t,a){if(t&1&&(r(0,"tr"),m(1,Ju,2,1,"td")(2,i1,2,1,"td"),r(3,"td"),m(4,n1,1,0,"ng-container",116),_(5,"rate"),c()()),t&2){let e=s().$implicit;s();let i=w(28),n=s(4);l(),v(n.data().game===n.Game.Factorio?1:-1),l(),v(n.columnsState().belts.show?2:-1),l(2),p("ngTemplateOutlet",i)("ngTemplateOutletContext",Y(7,Fi,K(5,4,a.mul(n.dispRateInfo().value),n.columnsState().items.precision),e.key))}}function a1(t,a){if(t&1&&m(0,o1,6,10,"tr"),t&2){let e,i=a.$implicit,n=s(3);v((e=i.value.div(n.recipe.time))?0:-1,e)}}function l1(t,a){if(t&1&&x(0,"lab-tooltip",63),t&2){let e=s().itemId;p("id",e)}}function s1(t,a){if(t&1&&(r(0,"div",40)(1,"span",67),C(2),c(),r(3,"i",64),_(4,"iconClass"),m(5,l1,1,1,"ng-template",null,5,O),c()()),t&2){let e=a.value,i=a.itemId,n=w(6);l(2),y(e),l(),M(u(4,4,i)),p("pTooltip",n)}}function r1(t,a){if(t&1&&(r(0,"div",24)(1,"table",121),G(2,Qu,1,4,null,null,Wt),_(4,"keyvalue"),c(),m(5,Wu,1,0,"i",122),_(6,"keyvalue"),r(7,"table",121)(8,"tr")(9,"td",117)(10,"span",67),C(11),_(12,"rate"),c()(),r(13,"td"),m(14,Gu,9,11,"div",24),c()(),r(15,"tr")(16,"td",117)(17,"span",67),C(18),_(19,"rate"),c()(),r(20,"td"),x(21,"i",119),c()()(),x(22,"i",122),r(23,"table",121),G(24,a1,1,1,null,null,Wt),_(26,"keyvalue"),c(),m(27,s1,7,6,"ng-template",null,10,O),c()),t&2){let e,i=s(2),n=s(2);l(2),Z(K(4,4,i.recipe.in,n.trackSvc.sortByValue)),l(3),v(u(6,7,i.recipe.in).length?5:-1),l(6),y(K(12,9,n.rational.one,n.columnsState().machines.precision)),l(3),v((e=i.recipeSettings==null?null:i.recipeSettings.machineId)?14:-1,e),l(4),y(K(19,12,n.dispRateInfo().value,n.columnsState().machines.precision)),l(6),Z(K(26,15,i.recipe.out,n.trackSvc.sortByValue))}}function p1(t,a){t&1&&(x(0,"small",120),_(1,"translate")),t&2&&p("innerHTML",u(1,1,"steps.inserterCountInfo"),ft)}function c1(t,a){if(t&1&&(r(0,"tr",106),x(1,"td"),r(2,"td",18),m(3,r1,29,18,"div",24)(4,p1,2,3,"small",120),c()()),t&2){let e=s(),i=s(2);l(3),v(e.recipeId&&e.recipe&&e.machines?3:-1),l(),v(i.data().game===i.Game.Factorio?4:-1)}}function d1(t,a){if(t&1&&x(0,"lab-tooltip",65),t&2){let e=s().$implicit;p("id",e)}}function m1(t,a){if(t&1){let e=T();r(0,"button",128),_(1,"iconSmClass"),b("click",function(){let n=g(e).$implicit,o=s(5);return h(o.toggleRecipe(n,o.recipesState(),o.data()))}),x(2,"i",62),m(3,d1,1,1,"ng-template",null,5,O),c()}if(t&2){let e=a.$implicit,i=w(4),n=s(5);Me("hover-active",n.recipesState()[e].excluded),p("icon",K(1,4,e,"recipe"))("pTooltip",i)}}function _1(t,a){if(t&1){let e=T();r(0,"tr",106),x(1,"td"),r(2,"td",18)(3,"div")(4,"div",123),C(5),_(6,"translate"),c(),r(7,"div",124)(8,"small"),C(9),_(10,"translate"),c()(),r(11,"p-checkbox",125),_(12,"translate"),b("onChange",function(){let n=g(e),o=s(4);return h(o.toggleRecipes(n.recipeIds,n.allRecipesIncluded,o.data()))}),c()()()(),r(13,"tr",106),x(14,"td"),r(15,"td",18)(16,"div",126),G(17,m1,5,7,"button",127,gt),c()()()}if(t&2){let e=a;l(5),j(" ",u(6,5,"steps.includedRecipes")," "),l(4),y(u(10,7,"steps.includedRecipesInfo")),l(2),p("ngModel",e.allRecipesIncluded)("binary",!0)("label",u(12,9,"picker.includeAll")),l(6),Z(e.recipeIds)}}function u1(t,a){if(t&1&&m(0,_1,19,11),t&2){let e,i=s(),n=s(2);v((e=i.itemId&&n.stepDetails()[i.id])?0:-1,e)}}function f1(t,a){if(t&1){let e=T();r(0,"tr",106)(1,"td",107)(2,"a",108),x(3,"button",109),c()(),r(4,"td",18)(5,"p-tabMenu",110,9),_(7,"stepId"),b("activeItemChange",function(n){let o=g(e),d=s(2);return h(d.setActiveItem(o,n))}),m(8,X_,5,6,"ng-template",73),c()()(),m(9,ru,7,5)(10,Bu,1,1)(11,c1,5,2,"tr",106)(12,u1,1,1)}if(t&2){let e,i=a,n=w(6),o=s(2);l(2),p("relativeTo",o.route)("fragment",i.id),l(3),p("model",o.stepDetails()[i.id].tabs)("activeItem",o.activeItem[u(7,5,i)]),l(4),v((e=n.activeItem==null?null:n.activeItem.label)===o.StepDetailTab.Item?9:e===o.StepDetailTab.Recipe?10:e===o.StepDetailTab.Machine?11:e===o.StepDetailTab.Recipes?12:-1)}}function g1(t,a){if(t&1&&(m(0,f1,13,7),_(1,"asStep")),t&2){let e,i=a.$implicit;v((e=u(1,1,i))?0:-1,e)}}function h1(t,a){t&1&&(r(0,"tr")(1,"td",18)(2,"div",52)(3,"span"),C(4),_(5,"translate"),c()()()()),t&2&&(l(4),y(u(5,1,"steps.emptyMessage")))}function C1(t,a){if(t&1&&m(0,h1,6,3,"tr"),t&2){let e=s();v(e.focus()?0:-1)}}function b1(t,a){t&1&&x(0,"td",31)}function x1(t,a){t&1&&x(0,"td")}function v1(t,a){t&1&&x(0,"td")}function y1(t,a){if(t&1&&m(0,x1,1,0,"td")(1,v1,1,0,"td"),t&2){let e=s(2);v(e.columnsState().checkbox.show?0:-1),l(),v(e.columnsState().tree.show?1:-1)}}function T1(t,a){if(t&1&&(x(0,"td"),m(1,y1,2,2)),t&2){let e=s();l(),v(e.focus()?-1:1)}}function I1(t,a){t&1&&P(0)}function S1(t,a){if(t&1&&x(0,"lab-tooltip",63),t&2){let e=s(2).itemId;p("id",e)}}function w1(t,a){if(t&1&&x(0,"lab-tooltip",76),t&2){let e=s(3).beltId;p("id",e)}}function k1(t,a){if(t&1&&(r(0,"td",117)(1,"span",67),C(2),_(3,"rate"),c()(),r(4,"td",118)(5,"div",45)(6,"i",64),_(7,"iconClass"),m(8,w1,1,1,"ng-template",null,5,O),c()()()),t&2){let e=w(9),i=s(2),n=i.belts,o=i.beltId,d=s();l(2),y(K(3,4,n,d.columnsState().belts.precision)),l(4),M(u(7,7,o)),p("pTooltip",e)}}function M1(t,a){if(t&1&&x(0,"lab-tooltip",78),t&2){let e=s(4).wagonId;p("id",e)}}function E1(t,a){if(t&1&&(r(0,"i",64),_(1,"iconClass"),m(2,M1,1,1,"ng-template",null,5,O),c()),t&2){let e=w(3),i=s(3).wagonId;M(u(1,3,i)),p("pTooltip",e)}}function O1(t,a){if(t&1&&x(0,"lab-tooltip",79),t&2){let e=s(4).wagonId;p("id",e)}}function V1(t,a){if(t&1&&(r(0,"i",64),_(1,"iconClass"),m(2,O1,1,1,"ng-template",null,5,O),c()),t&2){let e=w(3),i=s(3).wagonId;M(u(1,3,i)),p("pTooltip",e)}}function B1(t,a){if(t&1&&(r(0,"td",117)(1,"span",67),C(2),_(3,"rate"),c()(),r(4,"td",118)(5,"div",45),m(6,E1,4,5,"i",58)(7,V1,4,5,"i",58),c()()),t&2){let e=s(2),i=e.wagons,n=e.wagonId,o=s();l(2),y(K(3,2,i,o.columnsState().wagons.precision)),l(4),v(o.data().cargoWagonIds.indexOf(n)!==-1?6:7)}}function P1(t,a){if(t&1&&(r(0,"span",67),C(1),_(2,"machineRate"),c()),t&2){let e=s(2),i=e.machines,n=e.machineId,o=s();l(),y(Lt(2,1,i,o.columnsState().machines.precision,n))}}function D1(t,a){t&1&&(r(0,"div",130),C(1),_(2,"translate"),c()),t&2&&(l(),j(" ",u(2,1,"steps.inputs")," "))}function F1(t,a){if(t&1&&(r(0,"span"),C(1),c()),t&2){let e=s(3).recipeObjectiveId;l(),j("#",e,"")}}function L1(t,a){if(t&1&&x(0,"lab-tooltip",65),t&2){let e=s(3).recipeId;p("id",e)}}function R1(t,a){if(t&1&&x(0,"lab-tooltip",87),t&2){let e=s(3).machineId;p("id",e)}}function A1(t,a){if(t&1&&(r(0,"i",64),_(1,"iconClass"),m(2,F1,2,1,"span")(3,L1,1,1,"ng-template",null,5,O),c(),r(5,"i",64),_(6,"iconClass"),m(7,R1,1,1,"ng-template",null,5,O),c()),t&2){let e=w(4),i=s(2),n=i.machineId,o=i.recipeId,d=i.recipeObjectiveId;M(K(1,7,o,"recipe")),p("pTooltip",e),l(2),v(d?2:-1),l(3),M(u(6,10,n)),p("pTooltip",e)}}function z1(t,a){t&1&&(r(0,"div",131),x(1,"i",132),c(),r(2,"div",131),x(3,"i",132),c())}function H1(t,a){t&1&&x(0,"i",133)}function j1(t,a){t&1&&x(0,"i",133)}function $1(t,a){if(t&1&&(r(0,"span"),C(1),c()),t&2){let e=s(4).destRecipeObjectiveId;l(),j("#",e,"")}}function N1(t,a){if(t&1&&x(0,"lab-tooltip",134),t&2){let e=s(4),i=e.destId,n=e.destIsRecipe;p("id",i)("type",n?"recipe":"item")}}function K1(t,a){if(t&1&&(r(0,"i",64),_(1,"iconClass"),m(2,$1,2,1,"span")(3,N1,1,2,"ng-template",null,5,O),c()),t&2){let e=w(4),i=s(3),n=i.destId,o=i.destRecipeObjectiveId,d=i.destIsRecipe;M(K(1,4,n,d?"recipe":"item")),p("pTooltip",e),l(2),v(o?2:-1)}}function Q1(t,a){t&1&&(r(0,"span"),C(1),_(2,"translate"),c()),t&2&&(l(),j(" ",u(2,1,"steps.outputs")," "))}function W1(t,a){if(t&1&&(m(0,H1,1,0,"i",133),r(1,"span",67),C(2),_(3,"rate"),_(4,"leftPad"),c(),m(5,j1,1,0,"i",133)(6,K1,5,7,"i",58)(7,Q1,3,3,"span")),t&2){let e=s(2),i=e.percent,n=e.percentOnDest,o=e.destId,d=e.outputs;v(n?0:-1),l(2),j("",u(4,8,K(3,5,i,-2)),"%"),l(3),v(n?-1:5),l(),v(o?6:-1),l(),v(d?7:-1)}}function q1(t,a){if(t&1&&(m(0,I1,1,0,"ng-container",114),r(1,"td",117)(2,"span",67),C(3),_(4,"rate"),c()(),r(5,"td",118)(6,"div",45)(7,"i",64),_(8,"iconClass"),m(9,S1,1,1,"ng-template",null,5,O),c()()(),m(11,k1,10,9)(12,B1,8,5),r(13,"td",117),m(14,P1,3,5,"span",67),_(15,"machineShowRate"),c(),r(16,"td",129)(17,"div",24),m(18,D1,3,3,"div",130)(19,A1,9,12),_(20,"machineShow"),m(21,z1,4,0)(22,W1,8,10),c()()),t&2){let e=w(10),i=s(),n=i.items,o=i.itemId,d=i.belts,f=i.beltId,S=i.wagons,E=i.wagonId,$=i.machines,z=i.machineId,Ce=i.percent,Ke=i.inputs,gi=s(),za=w(9);p("ngTemplateOutlet",za),l(3),y(K(4,11,n,gi.columnsState().items.precision)),l(4),M(u(8,14,o)),p("pTooltip",e),l(4),v(gi.columnsState().belts.show&&d&&f?11:-1),l(),v(gi.columnsState().wagons.show&&S&&E?12:-1),l(2),v($&&$.nonzero()&&K(15,16,z,gi.data().game)?14:-1),l(4),v(Ke?18:-1),l(),v(K(20,19,z,gi.data().game)?19:21),l(3),v(Ce?22:-1)}}function U1(t,a){if(t&1&&(r(0,"tr",106),m(1,q1,23,22),c()),t&2){let e=a.itemId;l(),v(e?1:-1)}}function G1(t,a){t&1&&x(0,"td")}function Z1(t,a){t&1&&x(0,"td")}function X1(t,a){t&1&&P(0)}function Y1(t,a){t&1&&P(0)}function J1(t,a){t&1&&P(0)}function ef(t,a){t&1&&P(0)}function tf(t,a){if(t&1&&(r(0,"td",135)(1,"span",67),C(2),_(3,"power"),c()()),t&2){let e=s(3);l(2),y(Lt(3,1,e.totals().power,e.columnsState().power.precision,e.effectivePowerUnit()))}}function nf(t,a){if(t&1&&(r(0,"td",135)(1,"span",67),C(2),_(3,"rate"),c()()),t&2){let e=s(3);l(2),y(K(3,1,e.totals().pollution,e.columnsState().pollution.precision))}}function of(t,a){t&1&&x(0,"td")}function af(t,a){if(t&1&&(r(0,"tr"),x(1,"td"),m(2,G1,1,0,"td")(3,Z1,1,0,"td"),r(4,"td",31),C(5),_(6,"translate"),c(),m(7,X1,1,0,"ng-container",116)(8,Y1,1,0,"ng-container",116)(9,J1,1,0,"ng-container",116)(10,ef,1,0,"ng-container",116)(11,tf,4,5,"td",135)(12,nf,4,4,"td",135)(13,of,1,0,"td"),c()),t&2){s();let e=w(2),i=s();l(2),v(i.columnsState().checkbox.show?2:-1),l(),v(i.columnsState().tree.show?3:-1),l(2),j(" ",u(6,14,"steps.total")," "),l(2),p("ngTemplateOutlet",e)("ngTemplateOutletContext",Y(16,Dm,i.columnsState().belts,i.totals().belts)),l(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",Y(19,Fm,i.columnsState().wagons,i.totals().wagons)),l(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",lt(22,Lm,i.columnsState().machines,i.totals().machines,i.totals().modules)),l(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",lt(26,Rm,i.columnsState().beacons,i.totals().beacons,i.totals().beaconModules)),l(),v(i.columnsState().power.show?11:-1),l(),v(i.columnsState().pollution.show?12:-1),l(),v(i.columnsState().link.show?13:-1)}}function lf(t,a){if(t&1&&(r(0,"div",137)(1,"span",67),C(2),_(3,"rate"),c()()),t&2){let e=a.$implicit,i=s(2).columnSettings;l(2),y(K(3,1,e.value,i.precision))}}function sf(t,a){if(t&1&&x(0,"lab-tooltip",134),t&2){let e=s(2).$implicit,i=s(2).type;p("id",e.key)("type",i)}}function rf(t,a){if(t&1&&(r(0,"i",142),_(1,"iconClass"),m(2,sf,1,2,"ng-template",null,5,O),c()),t&2){let e=w(3),i=s().$implicit;M(u(1,3,i.key)),p("pTooltip",e)}}function pf(t,a){if(t&1&&x(0,"lab-tooltip",65),t&2){let e=s(2).$implicit;p("id",e.key)}}function cf(t,a){if(t&1&&(r(0,"i",142),_(1,"iconClass"),m(2,pf,1,1,"ng-template",null,5,O),c()),t&2){let e=w(3),i=s().$implicit;M(K(1,3,i.key,"recipe")),p("pTooltip",e)}}function df(t,a){if(t&1&&m(0,rf,4,5,"i",141)(1,cf,4,6,"i",141),t&2){let e=a.$implicit,i=s(4);v(i.data().itemEntities[e.key]?0:1)}}function mf(t,a){if(t&1&&x(0,"lab-tooltip",93),t&2){let e=s().$implicit;p("id",e.key)}}function _f(t,a){if(t&1&&(r(0,"div",143)(1,"span",67),C(2),c()(),r(3,"i",142),_(4,"iconClass"),m(5,mf,1,1,"ng-template",null,5,O),c()),t&2){let e=a.$implicit,i=w(6);l(2),y(e.value),l(),M(K(4,4,e.key,"item")),p("pTooltip",e.key!=="module"?i:void 0)}}function uf(t,a){if(t&1&&(r(0,"td",136),G(1,lf,4,4,"div",137,Wt),_(3,"keyvalue"),c(),r(4,"td",138)(5,"div",45)(6,"div",139),G(7,df,2,1,null,null,Wt),_(9,"keyvalue"),c(),r(10,"div",140),G(11,_f,7,7,null,null,Wt),_(13,"keyvalue"),c()()()),t&2){let e=s(),i=e.totals,n=e.modulesTotals,o=s(2);l(),Z(K(3,0,i,o.trackSvc.sortByValue)),l(6),Z(K(9,3,i,o.trackSvc.sortByValue)),l(4),Z(K(13,6,n,o.trackSvc.sortByValue))}}function ff(t,a){if(t&1&&m(0,uf,14,9),t&2){let e=a.columnSettings;v(e.show?0:-1)}}function gf(t,a){if(t&1&&m(0,af,14,30,"tr")(1,ff,1,1,"ng-template",null,11,O),t&2){let e=s();v(e.focus()?-1:0)}}var S3=(()=>{class t{document=A(ht);route=A(qi);ref=A(me);contentSvc=A(Xe);trackSvc=A(en);store=A(we);exportSvc=A(Fo);routerSvc=A(Ji);focus=pe(!1);selectedId=pe();steps=Ee(()=>{let e=[...this.store.selectSignal(ae.selectSteps)()];if(!this.focus())return e;let n=this.selectedId();return e.filter(o=>o.id===n)});activeItemsEffect=Vt(()=>{let e=this.steps(),i=this.store.selectSignal(ae.selectStepDetails)();this.setActiveItems(e,i)});toggleEffect=Vt(()=>{let e=this.focus(),i=this.steps()[0];e&&i&&(this.stepsTable().toggleRow(i),this.expandRow(i,!1))});machinesState=this.store.selectSignal(Je.selectMachinesState);itemsState=this.store.selectSignal(Qe.selectItemsState);itemsModified=this.store.selectSignal(Qe.selectItemsModified);stepsModified=this.store.selectSignal(ae.selectStepsModified);totals=this.store.selectSignal(ae.selectTotals);stepDetails=this.store.selectSignal(ae.selectStepDetails);stepById=this.store.selectSignal(ae.selectStepById);stepByItemEntities=this.store.selectSignal(ae.selectStepByItemEntities);stepTree=this.store.selectSignal(ae.selectStepTree);effectivePowerUnit=this.store.selectSignal(ae.selectEffectivePowerUnit);recipesState=this.store.selectSignal(Te.selectRecipesState);recipesModified=this.store.selectSignal(ae.selectRecipesModified);data=this.store.selectSignal(Te.selectAdjustedDataset);columnsState=this.store.selectSignal(H.selectColumnsState);settings=this.store.selectSignal(H.selectSettings);dispRateInfo=this.store.selectSignal(H.selectDisplayRateInfo);options=this.store.selectSignal(H.selectOptions);beltSpeed=this.store.selectSignal(H.selectBeltSpeed);preferences=this.store.selectSignal(Ie.preferencesState);sortSteps$=new qn(null);stepsTable=Ut.required("stepsTable");activeItem={};fragmentId;stepDetailIcon=ko;ItemId=It;StepDetailTab=wo;Game=ei;ObjectiveUnit=St;rational=oe;constructor(){Ot([this.sortSteps$.pipe(Xn()),this.store.select(ae.selectSteps)]).pipe(Jt()).subscribe(([[e,i],n])=>{this.sortSteps(e,i,n)})}ngOnInit(){this.route.fragment.pipe(ot(),di(e=>e!=null)).subscribe(e=>{this.fragmentId=e})}ngAfterViewInit(){try{if(this.fragmentId){let[e,i,n]=this.fragmentId.split("_");Ot({steps:this.store.select(ae.selectSteps),stepDetails:this.store.select(ae.selectStepDetails)}).pipe(ot()).subscribe(({steps:o,stepDetails:d})=>{let f=o.find(S=>S.id===i);f&&d[f.id].tabs.length&&this.stepsTable&&(this.stepsTable().toggleRow(f),setTimeout(()=>{if(n){let E=this.document.querySelector("#"+this.fragmentId);E&&E.click()}else this.document.querySelector("#"+this.fragmentId)?.scrollIntoView()},10))})}}catch{}}sortSteps(e,i,n){if(i==null||i.order==null||i.field==null)return;let o=i.order,d=i.field;if(e!=null&&e.field===d&&e.order!==o&&o===-1&&this.stepsTable!=null)return i.data?.sort((f,S)=>n.indexOf(f)-n.indexOf(S)),this.stepsTable().sortOrder=0,this.stepsTable().sortField="",this.stepsTable().reset(),this.sortSteps$.next(null);i.data?.sort((f,S)=>(f[d]??oe.zero).sub(S[d]??oe.zero).toNumber()*o)}setActiveItems(e,i){e.forEach(n=>this._updateActiveItem(n,i,!1))}expandRow(e,i){i||this._updateActiveItem(e,this.stepDetails(),!0)}_updateActiveItem(e,i,n){let o=zi.transform(e),d=this._getActiveItem(e,o,i,n);if(d){let f=zi.transform(e);this.activeItem[f]=d}}_getActiveItem(e,i,n,o){let d=this.activeItem[i],f=n[e.id];if(f==null)return null;if(d!=null){let E=f.tabs.find($=>$.label===d.label);if(E!=null)return E}if(d==null&&!o)return null;let S=ti.stepDetailTab;if(S){let E=f.tabs.find($=>$.label===S);if(E!=null)return E}return f.tabs[0]}setActiveItem(e,i){if(i==null)return;let n=zi.transform(e);this.activeItem[n]=i,ti.stepDetailTab=i.label}resetStep(e){e.itemId&&this.resetItem(e.itemId),e.recipeObjectiveId?this.resetRecipeObjective(e.recipeObjectiveId):e.recipeId&&this.resetRecipe(e.recipeId)}toggleRecipes(e,i,n){let o=e.map(d=>({id:d,value:i,def:it(n.defaults?.excludedRecipeIds,[]).includes(d)}));this.setRecipeExcludedBatch(o)}toggleRecipe(e,i,n){let o=!i[e].excluded,d=it(n.defaults?.excludedRecipeIds,[]).some(f=>f===e);this.setRecipeExcluded(e,o,d)}changeRecipeField(e,i,n){if(e.recipeId==null)return;let o=e.recipeSettings;if(o?.machineId==null)return;let d=e.recipeObjectiveId??e.recipeId,f=e.recipeObjectiveId!=null,S=this.machinesState(),E=S.entities[o.machineId];switch(n){case"machine":{if(typeof i!="string")return;let $=this.data();this.setMachine(d,i,Bt.bestMatch($.recipeEntities[e.recipeId].producers,S.ids),f);break}case"fuel":{if(typeof i!="string")return;this.setFuel(d,i,E.fuelId,f);break}case"modules":{if(!Array.isArray(i))return;i=i;let $=this.data().machineEntities[o.machineId];this.setModules(d,Bt.dehydrateModules(i,it(o.moduleOptions,[]),S.moduleRankIds,$.modules,E.modules),f);break}case"beacons":{if(!Array.isArray(i))return;i=i;let $=E.beacons;this.setBeacons(d,Bt.dehydrateBeacons(i,$),f);break}case"overclock":{if(typeof i!="number")return;let $=E.overclock;this.setOverclock(d,oe(i),$,f);break}}}changeStepChecked(e,i){e.itemId!=null?this.setItemChecked(e.itemId,i):e.recipeObjectiveId!=null?this.setRecipeChecked(e.recipeObjectiveId,i,!0):e.recipeId!=null&&this.setRecipeChecked(e.recipeId,i)}setRows(e){this.store.dispatch(Ie.setRows({rows:e}))}setItemExcluded(e,i){this.store.dispatch(Qe.setExcluded({id:e,value:i}))}setItemChecked(e,i){this.store.dispatch(Qe.setChecked({id:e,value:i}))}setBelt(e,i,n){this.store.dispatch(Qe.setBelt({id:e,value:i,def:n}))}setWagon(e,i,n){this.store.dispatch(Qe.setWagon({id:e,value:i,def:n}))}setRecipeExcluded(e,i,n){this.store.dispatch(Te.setExcluded({id:e,value:i,def:n}))}setRecipeExcludedBatch(e){this.store.dispatch(Te.setExcludedBatch({values:e}))}addObjective(e){this.store.dispatch(ae.add({objective:e}))}setMachine(e,i,n,o=!1){let d=o?ae.setMachine:Te.setMachine;this.store.dispatch(d({id:e,value:i,def:n}))}setFuel(e,i,n,o=!1){let d=o?ae.setFuel:Te.setFuel;this.store.dispatch(d({id:e,value:i,def:n}))}setModules(e,i,n=!1){let o=n?ae.setModules:Te.setModules;this.store.dispatch(o({id:e,value:i}))}setBeacons(e,i,n=!1){let o=n?ae.setBeacons:Te.setBeacons;this.store.dispatch(o({id:e,value:i}))}setOverclock(e,i,n,o=!1){let d=o?ae.setOverclock:Te.setOverclock;this.store.dispatch(d({id:e,value:i,def:n}))}setRecipeChecked(e,i,n=!1){let o=n?ae.setChecked:Te.setChecked;this.store.dispatch(o({id:e,value:i}))}resetItem(e){this.store.dispatch(Qe.resetItem({id:e}))}resetRecipe(e){this.store.dispatch(Te.resetRecipe({id:e}))}resetRecipeObjective(e){this.store.dispatch(ae.resetObjective({id:e}))}resetChecked(){this.store.dispatch(Qe.resetChecked())}resetExcluded(){this.store.dispatch(Qe.resetExcluded())}resetBelts(){this.store.dispatch(Qe.resetBelts())}resetWagons(){this.store.dispatch(Qe.resetWagons())}resetMachines(){this.store.dispatch(Te.resetMachines())}resetBeacons(){this.store.dispatch(Te.resetBeacons())}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["lab-steps"]],viewQuery:function(i,n){i&1&&Gt(n.stepsTable,wm,5),i&2&&Zt()},inputs:{focus:[1,"focus"],selectedId:[1,"selectedId"]},standalone:!0,features:[ne],decls:15,vars:10,consts:[["stepsTable",""],["emptyCol2",""],["leftPad",""],["detailRow",""],["columnsDlg",""],["tooltip",""],["overclockInput",""],["modulePicker",""],["beaconsOverlay",""],["expandTabMenu",""],["machineValueCell",""],["totalCell",""],["dataKey","id","styleClass","p-datatable-sm",3,"rowsChange","sortFunction","rowTrackBy","value","customSort","rowExpandMode","defaultSortOrder","paginator","rows","rowsPerPageOptions","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["pTemplate","footer"],["colspan","100"],[1,"d-flex","gap-2","py-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-table-columns",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-file-arrow-down",1,"p-button-outlined",3,"label"],[1,"column-header-row"],["colspan","2","pSortableColumn","items"],[1,"d-flex","align-items-center"],["field","items"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"ms-2","p-button-text","p-button-rounded",3,"pTooltip"],["colspan","2","pSortableColumn","belts"],["colspan","2","pSortableColumn","wagons"],["colspan","2","pSortableColumn","machines"],["field","machines"],["colspan","2"],["pSortableColumn","power"],["pSortableColumn","pollution"],["pButton","","pRipple","","type","button","icon","fa-solid fa-file-arrow-down",1,"p-button-outlined",3,"click","label"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fa-solid","fa-square-check"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"ms-2","p-button-text","p-button-rounded",3,"click","pTooltip"],["field","belts"],["field","wagons"],[1,"d-flex","align-items-center","justify-content-end"],["field","power"],["field","pollution"],[1,"w-0","px-0","px-sm-1","position-relative"],[1,"fragment",3,"id"],[1,"d-flex"],["pButton","","pRipple","","type","button","icon","fa-solid fa-angle-right",1,"p-button-text","p-button-rounded","transition-ease",3,"click","pTooltip","pRowToggler"],[1,"px-0","px-sm-2"],[1,"overflow-hidden","px-0","px-sm-1","py-0"],["colspan","2",1,"px-0","px-sm-2"],[1,"px-0","px-sm-2","text-end"],[1,"w-0","px-0","ps-sm-1"],[1,"d-flex","justify-content-center"],[3,"onChange","binary","ngModel"],[1,"d-flex","align-items-center","links"],[1,"indent"],[1,"icon"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-text",3,"hover-active","icon","pTooltip"],[3,"class","pTooltip"],[1,"connect",3,"trail","last"],[1,"connect"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-text",3,"click","icon","pTooltip"],[1,"hover-icon","fa-solid","fa-eye-slash"],[3,"id"],[3,"pTooltip"],["type","recipe",3,"id"],[1,"w-0","px-0","px-sm-2","text-end"],[1,"monospace"],[1,"px-0","pe-sm-2"],[1,"find-text"],["labDropdownBase","icon",3,"pTooltip","ngModel","options"],["labDropdownBase","icon",3,"onChange","pTooltip","ngModel","options"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip"],[1,"ms-3","text-truncate"],["type","belt",3,"id"],["type","pipe",3,"id"],["type","cargo-wagon",3,"id"],["type","fluid-wagon",3,"id"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-text",3,"pTooltip"],["labDropdownBase","icon",3,"pTooltip","options","ngModel"],["suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","size","pTooltip","ngModel"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-text",3,"click","pTooltip"],[1,"p-button-icon"],[1,"hover-icon","fa-solid","fa-circle-plus"],["labDropdownBase","icon",3,"onChange","pTooltip","options","ngModel"],["type","machine",3,"id"],["suffix","%","inputStyleClass","text-end",3,"onBlur","min","max","step","maxFractionDigits","size","pTooltip","ngModel"],[1,"padded",3,"pTooltip"],["type","fuel",3,"id"],["labDropdownBase","icon","labNoDrag","",3,"pTooltip","ngModel","options"],["labDropdownBase","icon","labNoDrag","",3,"onChange","pTooltip","ngModel","options"],["type","module",3,"id"],["pButton","","pRipple","","type","button",1,"hover-action","modules","p-button-text",3,"click","pTooltip"],[1,"p-button-icon",3,"class"],[1,"hover-icon","fa-solid","fa-gear"],[3,"setValue"],["pButton","","pRipple","","type","button",1,"hover-action","icons","p-button-text","flex-column",3,"click","pTooltip"],[1,"p-button-icon","sum",3,"class"],[1,"p-button-icon","sum"],["type","beacon",3,"id"],["target","_blank",1,"text-decoration-none",3,"href"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-up-right-from-square","tooltipPosition","left",1,"p-button-text","p-button-rounded",3,"pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left","tooltipPosition","left",1,"p-button-text","p-button-rounded",3,"pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left","tooltipPosition","left",1,"p-button-text","p-button-rounded",3,"click","pTooltip"],[1,"detail"],[1,"px-1"],["routerLink",".","queryParamsHandling","preserve",1,"text-decoration-none",3,"relativeTo","fragment"],["pButton","","pRipple","","type","button","icon","fa-solid fa-link",1,"p-button-text","p-button-rounded"],[3,"activeItemChange","model","activeItem"],[1,"p-menuitem-link",3,"id"],[1,"p-menuitem-icon"],[1,"p-menuitem-text"],[4,"ngTemplateOutlet"],["colspan","100",1,"fw-bold"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-0","text-end"],[1,"ps-0"],[1,"lab-icon","time"],[3,"innerHTML"],[1,"mw-0"],[1,"fa-solid","fa-arrow-right","mx-3"],[1,"fw-bold"],[1,"mb-2"],[3,"onChange","ngModel","binary","label"],[1,"d-flex","flex-wrap"],["pButton","","pRipple","","type","button",1,"p-button-text","hover-action","me-2",3,"hover-active","icon","pTooltip"],["pButton","","pRipple","","type","button",1,"p-button-text","hover-action","me-2",3,"click","icon","pTooltip"],["colspan","100",1,"p-0"],[1,"position-absolute"],[1,"d-flex","invisible"],[1,"lab-icon"],[1,"m-1","p-2","fa-solid","fa-arrow-right"],[3,"id","type"],[1,"text-end","inherit"],[1,"w-0","text-end","inherit"],[1,"py-2","icon-height"],[1,"ps-0","inherit"],[1,"d-flex","flex-column","justify-content-center"],[1,"modules-column"],[1,"d-block",3,"class","pTooltip"],[1,"d-block",3,"pTooltip"],[1,"p-2","icon-height","text-end"]],template:function(i,n){if(i&1){let o=T();r(0,"p-table",12,0),b("rowsChange",function(f){return g(o),h(n.setRows(f))})("sortFunction",function(f){return g(o),h(n.sortSteps$.next(f))}),m(2,a0,30,22,"ng-template",13)(3,Z_,2,3,"ng-template",14)(4,g1,2,3,"ng-template",15)(5,C1,1,1,"ng-template",16)(6,b1,1,0,"ng-template",null,1,O)(8,T1,2,1,"ng-template",null,2,O)(10,U1,2,1,"ng-template",null,3,O)(12,gf,3,1,"ng-template",17),c(),x(13,"lab-columns",null,4)}i&2&&p("rowTrackBy",n.trackSvc.trackStep)("value",n.steps())("customSort",!0)("rowExpandMode",n.focus()?"single":"multiple")("defaultSortOrder",-1)("paginator",!n.focus()&&!n.preferences().disablePaginator)("rows",n.preferences().rows)("rowsPerPageOptions",J(9,km))("showCurrentPageReport",!0)},dependencies:[Re,Fe,Le,Ci,ie,Tt,se,ge,U,Ct,mt,kt,nt,Ei,Mi,si,zt,an,ta,ln,va,xa,he,re,Do,_n,Ta,ri,Ro,Ne,Ao,zo,jo,No,$o,un,Vi,Ko,Qo,Ho,Uo,zi,bt,Oe],styles:[".links[_ngcontent-%COMP%]{height:50px}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{position:relative;margin-left:16px;height:100vh}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%], .links[_ngcontent-%COMP%]   .connect.trail[_ngcontent-%COMP%]{border-left:2px dotted var(--text-color-secondary)}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%]:not(.trail){margin-bottom:50vh;height:50vh}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:24px}@media (max-width: 1199.98px){.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{margin-left:8px}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:16px}}.links[_ngcontent-%COMP%]   .indent[_ngcontent-%COMP%]{margin-left:0;border-top:2px dotted var(--text-color-secondary);width:8px}.links[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px}[_nghost-%COMP%]     .p-dropdown:not(:is(:hover,   :focus,   .ng-invalid)), [_nghost-%COMP%]     .p-inputtext:not(:is(:hover,   :focus,   .ng-invalid)){border-color:transparent;background-color:transparent}tr.detail[_ngcontent-%COMP%]{background-color:var(--surface-ground)}[_nghost-%COMP%]     tr.detail .p-tabmenu .p-tabmenu-nav .p-tabmenuitem:not(.p-highlight) .p-menuitem-link{background-color:transparent}.icon-height[_ngcontent-%COMP%]{min-height:32px}.modules-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;margin:auto}.fragment[_ngcontent-%COMP%]{position:absolute;top:-10rem;visibility:hidden}.column-header-row[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{height:48px}"],changeDetection:0})}return t})();var hf=()=>({width:"310px"});function Cf(t,a){if(t&1){let e=T();r(0,"button",11),_(1,"translate"),b("click",function(){g(e);let n=s(2);return h(n.reset())}),c()}t&2&&p("label",u(1,1,"reset"))}function bf(t,a){if(t&1){let e=T();m(0,Cf,2,3,"button",8),r(1,"button",9),_(2,"translate"),b("click",function(){g(e);let n=s();return h(n.hide())}),c(),r(3,"button",10),_(4,"translate"),b("click",function(){g(e);let n=s();return h(n.hide(!0))}),c()}if(t&2){let e=s();v(e.modified?0:-1),l(),p("label",u(2,3,"ok")),l(2),p("label",u(4,5,"cancel"))}}var Sa=(()=>{class t extends jt{store=A(we);contentSvc=A(Xe);editValue=be({},H.initialState.costs);rational=oe;get modified(){return Object.keys(this.editValue).some(e=>this.editValue[e]!==H.initialState.costs[e])}initEdit(e){this.editValue=be({},e)}open(e){this.initEdit(e),this.show()}reset(){this.editValue=be({},H.initialState.costs)}save(){let e=this.editValue;this.store.dispatch(H.setCosts({costs:e}))}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["lab-costs"]],standalone:!0,features:[ze,ne],decls:53,vars:64,consts:[[3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","header"],[1,"w-100"],[3,"pTooltip"],["width","8rem",3,"setValue","value"],[1,"p-2"],[3,"onChange","ngModel","binary"],["width","8rem",3,"setValue","value","minimum","maximum"],["pTemplate","footer"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"click","label"]],template:function(i,n){i&1&&(r(0,"p-dialog",0),_(1,"translate"),De("visibleChange",function(d){return Pe(n.visible,d)||(n.visible=d),d}),b("onHide",function(){return n.save()}),r(2,"table",1)(3,"tr",2),_(4,"translate"),r(5,"td"),C(6),_(7,"translate"),c(),r(8,"td")(9,"lab-input-number",3),b("setValue",function(d){return n.editValue.factor=d}),c()()(),r(10,"tr",2),_(11,"translate"),r(12,"td"),C(13),_(14,"translate"),c(),r(15,"td")(16,"lab-input-number",3),b("setValue",function(d){return n.editValue.machine=d}),c()()(),r(17,"tr",2),_(18,"translate"),r(19,"td"),C(20),_(21,"translate"),c(),r(22,"td",4)(23,"p-checkbox",5),b("onChange",function(d){return n.editValue.footprint=d.checked?n.rational.one:n.rational.zero}),c()()(),r(24,"tr",2),_(25,"translate"),r(26,"td"),C(27),_(28,"translate"),c(),r(29,"td")(30,"lab-input-number",3),b("setValue",function(d){return n.editValue.unproduceable=d}),c()()(),r(31,"tr",2),_(32,"translate"),r(33,"td"),C(34),_(35,"translate"),c(),r(36,"td")(37,"lab-input-number",3),b("setValue",function(d){return n.editValue.excluded=d}),c()()(),r(38,"tr",2),_(39,"translate"),r(40,"td"),C(41),_(42,"translate"),c(),r(43,"td")(44,"lab-input-number",3),b("setValue",function(d){return n.editValue.surplus=d}),c()()(),r(45,"tr",2),_(46,"translate"),r(47,"td"),C(48),_(49,"translate"),c(),r(50,"td")(51,"lab-input-number",6),b("setValue",function(d){return n.editValue.maximize=d}),c()()()(),m(52,bf,5,7,"ng-template",7),c()),i&2&&($e(J(63,hf)),Be("visible",n.visible),p("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("header",u(1,33,"costs.header")),l(3),p("pTooltip",u(4,35,"costs.recipeTooltip")),l(3),y(u(7,37,"costs.recipe")),l(3),p("value",n.editValue.factor),l(),p("pTooltip",u(11,39,"costs.machineTooltip")),l(3),y(u(14,41,"costs.machine")),l(3),p("value",n.editValue.machine),l(),p("pTooltip",u(18,43,"costs.footprintTooltip")),l(3),y(u(21,45,"costs.footprint")),l(3),p("ngModel",n.editValue.footprint.nonzero())("binary",!0),l(),p("pTooltip",u(25,47,"costs.unproduceableTooltip")),l(3),y(u(28,49,"costs.unproduceable")),l(3),p("value",n.editValue.unproduceable),l(),p("pTooltip",u(32,51,"costs.excludedTooltip")),l(3),y(u(35,53,"costs.excluded")),l(3),p("value",n.editValue.excluded),l(),p("pTooltip",u(39,55,"costs.surplusTooltip")),l(3),y(u(42,57,"costs.surplus")),l(3),p("value",n.editValue.surplus),l(),p("pTooltip",u(46,59,"costs.maximizeTooltip")),l(3),y(u(49,61,"costs.maximize")),l(3),p("value",n.editValue.maximize)("minimum",null)("maximum",n.rational.zero))},dependencies:[Re,Fe,Le,se,ge,U,Ct,mt,Et,Mt,re,he,Ht,Oe],styles:["td[_ngcontent-%COMP%]:last-child{text-align:end}"],changeDetection:0})}return t})();var xf=["sublist"],vf=(t,a)=>({"p-submenu-list":t,"p-tieredmenu-root-list":a}),wa=t=>({"p-menuitem-link":!0,"p-disabled":t}),yf=()=>({exact:!1}),Tf=(t,a)=>({$implicit:t,hasSubmenu:a});function If(t,a){if(t&1&&x(0,"li",7),t&2){let e=s().$implicit,i=s();p("ngStyle",i.getItemProp(e,"style"))("ngClass",i.getSeparatorItemClass(e)),k("id",i.getItemId(e))("data-pc-section","separator")}}function Sf(t,a){if(t&1&&x(0,"span",18),t&2){let e=s(4).$implicit,i=s();p("ngClass",i.getItemProp(e,"icon"))("ngStyle",i.getItemProp(e,"iconStyle")),k("data-pc-section","icon")("tabindex",-1)}}function wf(t,a){if(t&1&&(r(0,"span",19),C(1),c()),t&2){let e=s(4).$implicit,i=s();k("data-pc-section","label"),l(),j(" ",i.getItemLabel(e)," ")}}function kf(t,a){if(t&1&&x(0,"span",20),t&2){let e=s(4).$implicit,i=s();p("innerHTML",i.getItemLabel(e),ft),k("data-pc-section","label")}}function Mf(t,a){if(t&1&&(r(0,"span",21),C(1),c()),t&2){let e=s(4).$implicit,i=s();p("ngClass",i.getItemProp(e,"badgeStyleClass")),l(),y(i.getItemProp(e,"badge"))}}function Ef(t,a){t&1&&x(0,"AngleRightIcon",24),t&2&&(p("styleClass","p-submenu-icon"),k("data-pc-section","submenuicon")("aria-hidden",!0))}function Of(t,a){}function Vf(t,a){t&1&&m(0,Of,0,0,"ng-template",25),t&2&&p("data-pc-section","submenuicon")("aria-hidden",!0)}function Bf(t,a){if(t&1&&(Q(0),m(1,Ef,1,3,"AngleRightIcon",22)(2,Vf,1,2,null,23),W()),t&2){let e=s(5);l(),p("ngIf",!e.tieredMenu.submenuIconTemplate),l(),p("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}function Pf(t,a){if(t&1&&(r(0,"a",14),m(1,Sf,1,4,"span",15)(2,wf,2,2,"span",16)(3,kf,1,2,"ng-template",null,2,O)(5,Mf,2,2,"span",17)(6,Bf,3,2,"ng-container",10),c()),t&2){let e=w(4),i=s(3).$implicit,n=s();p("target",n.getItemProp(i,"target"))("ngClass",N(11,wa,n.getItemProp(i,"disabled"))),k("href",n.getItemProp(i,"url"),Ft)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),l(),p("ngIf",n.getItemProp(i,"icon")),l(),p("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),l(3),p("ngIf",n.getItemProp(i,"badge")),l(),p("ngIf",n.isItemGroup(i))}}function Df(t,a){if(t&1&&x(0,"span",18),t&2){let e=s(4).$implicit,i=s();p("ngClass",i.getItemProp(e,"icon"))("ngStyle",i.getItemProp(e,"iconStyle")),k("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Ff(t,a){if(t&1&&(r(0,"span",19),C(1),c()),t&2){let e=s(4).$implicit,i=s();k("data-pc-section","label"),l(),j(" ",i.getItemLabel(e)," ")}}function Lf(t,a){if(t&1&&x(0,"span",20),t&2){let e=s(4).$implicit,i=s();p("innerHTML",i.getItemLabel(e),ft),k("data-pc-section","label")}}function Rf(t,a){if(t&1&&(r(0,"span",21),C(1),c()),t&2){let e=s(4).$implicit,i=s();p("ngClass",i.getItemProp(e,"badgeStyleClass")),l(),y(i.getItemProp(e,"badge"))}}function Af(t,a){t&1&&x(0,"AngleRightIcon",24),t&2&&(p("styleClass","p-submenu-icon"),k("data-pc-section","submenuicon")("aria-hidden",!0))}function zf(t,a){}function Hf(t,a){t&1&&m(0,zf,0,0,"ng-template",25),t&2&&p("data-pc-section","submenuicon")("aria-hidden",!0)}function jf(t,a){if(t&1&&(Q(0),m(1,Af,1,3,"AngleRightIcon",22)(2,Hf,1,2,null,23),W()),t&2){let e=s(5);l(),p("ngIf",!e.tieredMenu.submenuIconTemplate),l(),p("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}function $f(t,a){if(t&1&&(r(0,"a",26),m(1,Df,1,5,"span",15)(2,Ff,2,2,"span",16)(3,Lf,1,2,"ng-template",null,2,O)(5,Rf,2,2,"span",17)(6,jf,3,2,"ng-container",10),c()),t&2){let e=w(4),i=s(3).$implicit,n=s();p("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||J(20,yf))("target",n.getItemProp(i,"target"))("ngClass",N(21,wa,n.getItemProp(i,"disabled")))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),k("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),l(),p("ngIf",n.getItemProp(i,"icon")),l(),p("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),l(3),p("ngIf",n.getItemProp(i,"badge")),l(),p("ngIf",n.isItemGroup(i))}}function Nf(t,a){if(t&1&&(Q(0),m(1,Pf,7,13,"a",12)(2,$f,7,23,"a",13),W()),t&2){let e=s(2).$implicit,i=s();l(),p("ngIf",!i.getItemProp(e,"routerLink")),l(),p("ngIf",i.getItemProp(e,"routerLink"))}}function Kf(t,a){}function Qf(t,a){t&1&&m(0,Kf,0,0,"ng-template")}function Wf(t,a){if(t&1&&(Q(0),m(1,Qf,1,0,null,27),W()),t&2){let e=s(2).$implicit,i=s();l(),p("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",Y(2,Tf,e.item,i.getItemProp(e,"items")))}}function qf(t,a){if(t&1){let e=T();r(0,"p-tieredMenuSub",28),b("itemClick",function(n){g(e);let o=s(3);return h(o.itemClick.emit(n))})("itemMouseEnter",function(n){g(e);let o=s(3);return h(o.onItemMouseEnter(n))}),c()}if(t&2){let e=s(2).$implicit,i=s();p("items",e.items)("itemTemplate",i.itemTemplate)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath())("focusedItemId",i.focusedItemId)("ariaLabelledBy",i.getItemId(e))("level",i.level+1)}}function Uf(t,a){if(t&1){let e=T();r(0,"li",8,1)(2,"div",9),b("click",function(n){g(e);let o=s().$implicit,d=s();return h(d.onItemClick(n,o))})("mouseenter",function(n){g(e);let o=s().$implicit,d=s();return h(d.onItemMouseEnter({$event:n,processedItem:o}))}),m(3,Nf,3,2,"ng-container",10)(4,Wf,2,5,"ng-container",10),c(),m(5,qf,1,8,"p-tieredMenuSub",11),c()}if(t&2){let e=s(),i=e.$implicit,n=e.index,o=s();M(o.getItemProp(i,"styleClass")),p("ngStyle",o.getItemProp(i,"style"))("ngClass",o.getItemClass(i))("pTooltip",o.getItemProp(i,"tooltip"))("tooltipOptions",o.getItemProp(i,"tooltipOptions")),k("id",o.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",o.isItemActive(i))("data-p-focused",o.isItemFocused(i))("data-p-disabled",o.isItemDisabled(i))("aria-label",o.getItemLabel(i))("aria-disabled",o.isItemDisabled(i)||void 0)("aria-haspopup",o.isItemGroup(i)&&!o.getItemProp(i,"to")?"menu":void 0)("aria-expanded",o.isItemGroup(i)?o.isItemActive(i):void 0)("aria-setsize",o.getAriaSetSize())("aria-posinset",o.getAriaPosInset(n)),l(2),k("data-pc-section","content"),l(),p("ngIf",!o.itemTemplate),l(),p("ngIf",o.itemTemplate),l(),p("ngIf",o.isItemVisible(i)&&o.isItemGroup(i))}}function Gf(t,a){if(t&1&&m(0,If,1,4,"li",5)(1,Uf,6,21,"li",6),t&2){let e=a.$implicit,i=s();p("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),l(),p("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}var Zf=["rootmenu"],Xf=["container"],Yf=t=>({"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":t}),Jf=(t,a)=>({showTransitionParams:t,hideTransitionParams:a}),eg=t=>({value:"visible",params:t});function tg(t,a){if(t&1){let e=T();r(0,"div",3,0),b("click",function(n){g(e);let o=s();return h(o.onOverlayClick(n))})("@overlayAnimation.start",function(n){g(e);let o=s();return h(o.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){g(e);let o=s();return h(o.onOverlayAnimationEnd(n))}),r(2,"p-tieredMenuSub",4,1),b("itemClick",function(n){g(e);let o=s();return h(o.onItemClick(n))})("menuFocus",function(n){g(e);let o=s();return h(o.onMenuFocus(n))})("menuBlur",function(n){g(e);let o=s();return h(o.onMenuBlur(n))})("menuKeydown",function(n){g(e);let o=s();return h(o.onKeyDown(n))})("itemMouseEnter",function(n){g(e);let o=s();return h(o.onItemMouseEnter(n))}),c()()}if(t&2){let e=s();M(e.styleClass),p("id",e.id)("ngClass",N(22,Yf,e.popup))("ngStyle",e.style)("@overlayAnimation",N(27,eg,Y(24,Jf,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),k("data-pc-section","root")("data-pc-name","tieredmenu"),l(2),p("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var ig=(()=>{class t{el;renderer;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=pe([]);tabindex=0;itemClick=new L;itemMouseEnter=new L;menuFocus=new L;menuBlur=new L;menuKeydown=new L;sublistViewChild;constructor(e,i,n){this.el=e,this.renderer=i,this.tieredMenu=n,Vt(()=>{let o=this.activeItemPath();q.isNotEmpty(o)&&this.positionSubmenu()})}positionSubmenu(){if(ke(this.tieredMenu.platformId)){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(e){let i=e.parentElement.parentElement,n=I.getOffset(i),o=I.getViewport(),d=e.offsetParent?e.offsetWidth:I.getOuterWidth(e),f=I.getOuterWidth(i.children[0]),S="p-submenu-list-flipped";parseInt(n.left,10)+f+d>o.width-I.calculateScrollbarWidth()?I.addClass(e,S):I.hasClass(e,S)&&I.removeClass(e,S)}}}getItemProp(e,i,n=null){return e&&e.item?q.getItemValue(e.item[i],n):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return xt(be({},this.getItemProp(e,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return xt(be({},this.getItemProp(e,"class")),{"p-menuitem-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>{let n=this.isItemVisible(i),o=n&&this.getItemProp(i,"separator");return!n||o}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath())return this.activeItemPath().some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return q.isNotEmpty(e.items)}onItemMouseEnter(e){if(this.autoDisplay){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}static \u0275fac=function(i){return new(i||t)(B(Ve),B(at),B(_t(()=>An)))};static \u0275cmp=R({type:t,selectors:[["p-tieredMenuSub"]],viewQuery:function(i,n){if(i&1&&X(xf,7),i&2){let o;D(o=F())&&(n.sublistViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",V],autoDisplay:[2,"autoDisplay","autoDisplay",V],autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",_e],popup:[2,"popup","popup",V],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",_e],focusedItemId:"focusedItemId",activeItemPath:[1,"activeItemPath"],tabindex:[2,"tabindex","tabindex",_e]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[de],decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","ngClass","id","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem",3,"ngStyle","ngClass","class","pTooltip","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem",3,"ngStyle","ngClass","pTooltip","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level"]],template:function(i,n){if(i&1){let o=T();r(0,"ul",3,0),b("keydown",function(f){return g(o),h(n.menuKeydown.emit(f))})("focus",function(f){return g(o),h(n.menuFocus.emit(f))})("blur",function(f){return g(o),h(n.menuBlur.emit(f))}),m(2,Gf,2,2,"ng-template",4),c()}i&2&&(p("ngClass",Y(9,vf,!n.root,n.root))("id",n.menuId+"_list")("tabindex",n.tabindex),k("aria-label",n.ariaLabel)("aria-labelledBy",n.ariaLabelledBy)("aria-activedescendant",n.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),l(2),p("ngForOf",n.items))},dependencies:()=>[le,yt,ye,ie,ue,Tt,bi,qe,he,En,t],encapsulation:2})}return t})(),An=(()=>{class t{document;platformId;el;renderer;cd;config;overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;onShow=new L;onHide=new L;templates;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;dirty=!1;focused=!1;activeItemPath=ce([]);number=ce(0);focusedItemInfo=ce({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){let e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${q.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,i,n,o,d,f,S){this.document=e,this.platformId=i,this.el=n,this.renderer=o,this.cd=d,this.config=f,this.overlayService=S,Vt(()=>{let E=this.activeItemPath();q.isNotEmpty(E)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.id=this.id||je()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this.submenuIconTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}createProcessedItems(e,i=0,n={},o=""){let d=[];return e&&e.forEach((f,S)=>{let E=(o!==""?o+"_":"")+S,$={item:f,index:S,level:i,key:E,parent:n,parentKey:o};$.items=this.createProcessedItems(f.items,i+1,$,E),d.push($)}),d}getItemProp(e,i){return e?q.getItemValue(e[i]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&q.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&q.isNotEmpty(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:i,processedItem:n}=e,o=this.isProcessedItemGroup(n),d=q.isEmpty(n.parent);if(this.isSelected(n)){let{index:S,key:E,level:$,parentKey:z,item:Ce}=n;this.activeItemPath.set(this.activeItemPath().filter(Ke=>E!==Ke.key&&E.startsWith(Ke.key))),this.focusedItemInfo.set({index:S,level:$,parentKey:z,item:Ce}),this.dirty=!0,I.focus(this.rootmenu.sublistViewChild.nativeElement)}else if(o)this.onItemChange(e);else{let S=d?n:this.activeItemPath().find(E=>E.parentKey==="");this.hide(i),this.changeFocusedItemIndex(i,S?S.index:-1),I.focus(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(e){I.isTouchDevice()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay}):this.dirty&&this.onItemChange(e)}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&q.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let i=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}onArrowRightKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=this.isProccessedItemGroup(i),o=i?.item;n&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:o}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let i=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}}onArrowLeftKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=this.activeItemPath().find(f=>f.key===i.parentKey);q.isEmpty(i.parent)||(this.focusedItemInfo.set({index:-1,parentKey:n?n.parentKey:"",item:i.item}),this.searchValue="",this.onArrowDownKey(e));let d=this.activeItemPath().filter(f=>f.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(d),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=I.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&I.findSingle(i,'a[data-pc-section="action"]');if(n?n.click():i&&i.click(),!this.popup){let o=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(o)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e){let{processedItem:i,isFocus:n}=e;if(q.isEmpty(i))return;let{index:o,key:d,level:f,parentKey:S,items:E,item:$}=i,z=q.isNotEmpty(E),Ce=this.activeItemPath().filter(Ke=>Ke.parentKey!==S&&Ke.parentKey!==d);z&&Ce.push(i),this.focusedItemInfo.set({index:o,level:f,parentKey:S,item:$}),this.activeItemPath.set(Ce),z&&(this.dirty=!0),n&&I.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0,this.focusedItemInfo().index===-1&&this.popup}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),I.focus(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}alignOverlay(){this.relativeAlign?I.relativePosition(this.container,this.target):I.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(e){switch(e.toState){case"void":st.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):I.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&st.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,i){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),i&&I.focus(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,i){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),i&&I.focus(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,o=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(d=>this.isItemMatched(d)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(d=>this.isItemMatched(d)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(d=>this.isItemMatched(d)),n!==-1&&(o=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return q.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?q.findLastIndex(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,i){if(this.focusedItemInfo().index!==i){let n=this.focusedItemInfo();this.focusedItemInfo.set(xt(be({},n),{item:this.visibleItems[i].item,index:i})),this.scrollInView()}}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=I.findSingle(this.rootmenu.el.nativeElement,`li[id="${i}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ti(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){ke(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{I.isTouchDevice()||this.hide(e,!0)})))}bindOutsideClickListener(){ke(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let i=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),n=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;i&&n&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&st.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}static \u0275fac=function(i){return new(i||t)(B(ht),B(Ye),B(Ve),B(at),B(me),B(rt),B(ii))};static \u0275cmp=R({type:t,selectors:[["p-tieredMenu"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&(X(Zf,5),X(Xf,5)),i&2){let o;D(o=F())&&(n.rootmenu=o.first),D(o=F())&&(n.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",V],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",_e],autoDisplay:[2,"autoDisplay","autoDisplay",V],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",V],tabindex:[2,"tabindex","tabindex",_e]},outputs:{onShow:"onShow",onHide:"onHide"},features:[de],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(i,n){i&1&&m(0,tg,4,29,"div",2),i&2&&p("ngIf",!n.popup||n.visible)},dependencies:[le,ye,ue,ig],styles:[`@layer primeng{.p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-tieredmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}}
`],encapsulation:2,data:{animation:[wt("overlayAnimation",[Ge(":enter",[We({opacity:0,transform:"scaleY(0.8)"}),Ue("{{showTransitionParams}}")]),Ge(":leave",[Ue("{{hideTransitionParams}}",We({opacity:0}))])])]},changeDetection:0})}return t})(),zn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,Nt,Ze,re,En,Se,Nt,re,Se]})}return t})();var og=["container"],ag=["defaultbtn"],lg=["menu"];function sg(t,a){t&1&&P(0)}function rg(t,a){if(t&1){let e=T();Q(0),r(1,"button",10),b("click",function(n){g(e);let o=s();return h(o.onDefaultButtonClick(n))}),m(2,sg,1,0,"ng-container",8),c(),W()}if(t&2){let e=s();l(),p("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("disabled",e.disabled)("ariaLabel",(e.buttonProps==null?null:e.buttonProps.ariaLabel)||e.label)("autofocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),k("tabindex",e.tabindex),l(),p("ngTemplateOutlet",e.contentTemplate)}}function pg(t,a){if(t&1){let e=T();r(0,"button",11,3),b("click",function(n){g(e);let o=s();return h(o.onDefaultButtonClick(n))}),c()}if(t&2){let e=s();p("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.buttonDisabled)("ariaLabel",e.buttonProps==null?null:e.buttonProps.ariaLabel)("autofocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),k("tabindex",e.tabindex)}}function cg(t,a){t&1&&x(0,"ChevronDownIcon")}function dg(t,a){}function mg(t,a){t&1&&m(0,dg,0,0,"ng-template")}var ka=(()=>{class t{model;severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;icon;iconPos="left";label;tooltip;tooltipOptions;style;styleClass;menuStyle;menuStyleClass;appendTo;dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";buttonProps;menuButtonProps;autofocus;set disabled(e){this._disabled=e,this._buttonDisabled=e,this.menuButtonDisabled=e}get disabled(){return this._disabled}tabindex;set menuButtonDisabled(e){this.disabled?this._menuButtonDisabled=this.disabled:this._menuButtonDisabled=e}get menuButtonDisabled(){return this._menuButtonDisabled}set buttonDisabled(e){this.disabled?this.buttonDisabled=this.disabled:this._buttonDisabled=e}get buttonDisabled(){return this._buttonDisabled}onClick=new L;onMenuHide=new L;onMenuShow=new L;onDropdownClick=new L;containerViewChild;buttonViewChild;menu;templates;contentTemplate;dropdownIconTemplate;ariaId;isExpanded=ce(!1);_disabled;_buttonDisabled;_menuButtonDisabled;ngOnInit(){this.ariaId=je()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}get containerClass(){let e={"p-splitbutton p-component":!0,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-outlined":this.outlined,"p-button-text":this.text,[`p-button-${this.size==="small"?"sm":"lg"}`]:this.size};return be({},e)}onDefaultButtonClick(e){this.onClick.emit(e),this.menu.hide()}onDropdownButtonClick(e){this.onDropdownClick.emit(e),this.menu?.toggle({currentTarget:this.containerViewChild?.nativeElement,relativeAlign:this.appendTo==null})}onDropdownButtonKeydown(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())}onHide(){this.isExpanded.set(!1),this.onMenuHide.emit()}onShow(){this.isExpanded.set(!0),this.onMenuShow.emit()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["p-splitButton"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&(X(og,5),X(ag,5),X(lg,5)),i&2){let o;D(o=F())&&(n.containerViewChild=o.first),D(o=F())&&(n.buttonViewChild=o.first),D(o=F())&&(n.menu=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",severity:"severity",raised:[2,"raised","raised",V],rounded:[2,"rounded","rounded",V],text:[2,"text","text",V],outlined:[2,"outlined","outlined",V],size:"size",plain:[2,"plain","plain",V],icon:"icon",iconPos:"iconPos",label:"label",tooltip:"tooltip",tooltipOptions:"tooltipOptions",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonProps:"buttonProps",menuButtonProps:"menuButtonProps",autofocus:[2,"autofocus","autofocus",V],disabled:[2,"disabled","disabled",V],tabindex:[2,"tabindex","tabindex",_e],menuButtonDisabled:"menuButtonDisabled",buttonDisabled:"buttonDisabled"},outputs:{onClick:"onClick",onMenuHide:"onMenuHide",onMenuShow:"onMenuShow",onDropdownClick:"onDropdownClick"},features:[de],decls:10,vars:26,consts:[["container",""],["defaultButton",""],["menu",""],["defaultbtn",""],[3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["type","button","pButton","",1,"p-splitbutton-menubutton","p-button-icon-only",3,"click","keydown","size","severity","text","outlined","disabled","ariaLabel"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"onHide","onShow","id","popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","label","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"]],template:function(i,n){if(i&1){let o=T();r(0,"div",4,0),m(2,rg,3,13,"ng-container",5)(3,pg,2,13,"ng-template",null,1,O),r(5,"button",6),b("click",function(f){return g(o),h(n.onDropdownButtonClick(f))})("keydown",function(f){return g(o),h(n.onDropdownButtonKeydown(f))}),m(6,cg,1,0,"ChevronDownIcon",7)(7,mg,1,0,null,8),c(),r(8,"p-tieredMenu",9,2),b("onHide",function(){return g(o),h(n.onHide())})("onShow",function(){return g(o),h(n.onShow())}),c()()}if(i&2){let o=w(4);M(n.styleClass),p("ngClass",n.containerClass)("ngStyle",n.style),l(2),p("ngIf",n.contentTemplate)("ngIfElse",o),l(3),p("size",n.size)("severity",n.severity)("text",n.text)("outlined",n.outlined)("disabled",n.menuButtonDisabled)("ariaLabel",(n.menuButtonProps==null?null:n.menuButtonProps.ariaLabel)||n.expandAriaLabel),k("aria-haspopup",(n.menuButtonProps==null?null:n.menuButtonProps.ariaHasPopup)||!0)("aria-expanded",(n.menuButtonProps==null?null:n.menuButtonProps.ariaExpanded)||n.isExpanded())("aria-controls",(n.menuButtonProps==null?null:n.menuButtonProps.ariaControls)||n.ariaId),l(),p("ngIf",!n.dropdownIconTemplate),l(),p("ngTemplateOutlet",n.dropdownIconTemplate),l(),$e(n.menuStyle),p("id",n.ariaId)("popup",!0)("model",n.model)("styleClass",n.menuStyleClass)("appendTo",n.appendTo)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}},dependencies:()=>[le,ye,ie,ue,ge,An,he,oi,Kt],styles:[`@layer primeng{.p-splitbutton{display:inline-flex;position:relative}.p-splitbutton .p-splitbutton-defaultbutton,.p-splitbutton.p-button-rounded>.p-splitbutton-defaultbutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-defaultbutton.p-button{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0;border-right:0 none}.p-splitbutton-menubutton,.p-splitbutton.p-button-rounded>.p-splitbutton-menubutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-menubutton.p-button{display:flex;align-items:center;justify-content:center;border-top-left-radius:0;border-bottom-left-radius:0}.p-splitbutton .p-menu{min-width:100%}.p-fluid .p-splitbutton{display:flex}}
`],encapsulation:2,changeDetection:0})}return t})(),Ma=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,se,zn,ai,Kt,se,zn]})}return t})();var ug=(t,a)=>a.routerLink,fg=(t,a)=>a.href;function gg(t,a){if(t&1){let e=T();r(0,"button",8),_(1,"translate"),b("click",function(){g(e);let n=s();return h(n.contentSvc.toggleSettingsXl())}),c()}t&2&&p("label",u(1,1,"settings.header"))}function hg(t,a){if(t&1&&(r(0,"a",3),x(1,"button",9),_(2,"iconSmClass"),c()),t&2){let e,i=a.$implicit;p("routerLink",i.routerLink),l(),p("icon",u(2,3,i.icon))("pTooltip",(e=i.label)!==null&&e!==void 0?e:"")}}function Cg(t,a){if(t&1&&(r(0,"li")(1,"a",10),x(2,"button",11),_(3,"translate"),c()()),t&2){let e=a.$implicit;l(),p("href",e.href,Ft),l(),p("icon",e.icon)("label",u(3,3,e.label))}}var Kw=(()=>{class t{title=A(ro);store=A(we);translateSvc=A(At);contentSvc=A(Xe);sticky=!1;settingsXlHidden=!1;gameInfo=this.store.selectSignal(H.selectGameInfo);gameOptions=mo(Ot([this.store.select(H.selectGame),...Ri.map(e=>this.translateSvc.get(xi[e.value].label))]).pipe(ci(([e,...i])=>Ri.map((n,o)=>[n.value,i[o]]).filter(([n])=>n!==e).map(([n,o])=>({icon:"lab-icon small "+xi[n].icon,label:o,routerLink:xi[n].route})))));links=[{label:"header.source",icon:"fa-brands fa-github",href:"https://github.com/factoriolab/factoriolab"},{label:"header.discord",icon:"fa-brands fa-discord",href:"https://discord.gg/N4FKV687x2"},{label:"header.support",icon:"fa-solid fa-mug-hot",href:"https://ko-fi.com/dcbroad3"}];constructor(){Ot({objectives:this.store.select(ae.selectBaseObjectives),data:this.store.select(H.selectDataset),lang:this.translateSvc.lang$}).pipe(Jt()).subscribe(({objectives:e,data:i})=>{let n=e.map(o=>Oo(o)?i.recipeEntities[o.targetId]?.name:i.itemEntities[o.targetId]?.name).find(o=>o!=null);this.title.setTitle(n!=null?`${n} | ${vn}`:vn)})}cancelRouterLink(e){e.preventDefault(),e.stopPropagation()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["lab-header"]],hostVars:4,hostBindings:function(i,n){i&2&&Me("sticky",n.sticky)("settings-xl-hidden",n.settingsXlHidden)},inputs:{sticky:"sticky",settingsXlHidden:"settingsXlHidden"},standalone:!0,features:[ne],decls:17,vars:19,consts:[["pButton","","pRipple","","type","button","icon","fa-solid fa-bars",1,"d-inline-flex","d-none","d-xl-flex","p-button-lg","p-button-text","settings-button","me-3",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-bars",1,"d-inline-flex","d-xl-none","p-button-lg","p-button-text","settings-button",3,"click","label"],[1,"d-none","d-sm-flex","p-inputgroup","w-auto"],[3,"routerLink"],["type","button","pButton","","pRipple","","tooltipPosition","bottom",1,"p-button-lg","p-button-text","icon-btn-lg",3,"icon","label","pTooltip"],[1,"d-sm-none",3,"routerLink"],["styleClass","p-button-lg","text","","size","large",3,"onDropdownClick","icon","model"],[1,"header-menu","mb-1","mb-xl-0","px-0","px-sm-4","px-xl-0"],["pButton","","pRipple","","type","button","icon","fa-solid fa-bars",1,"d-inline-flex","d-none","d-xl-flex","p-button-lg","p-button-text","settings-button","me-3",3,"click","label"],["type","button","pButton","","pRipple","","tooltipPosition","bottom",1,"p-button-lg","p-button-text",3,"icon","pTooltip"],["target","_blank",1,"w-100",3,"href"],["pButton","","pRipple","","type","button",1,"p-button-text","p-button-secondary","p-button-sm","d-flex","justify-content-center","w-100",3,"icon","label"]],template:function(i,n){i&1&&(m(0,gg,2,3,"button",0),r(1,"button",1),_(2,"translate"),b("click",function(){return n.contentSvc.toggleSettings()}),c(),r(3,"div",2)(4,"a",3),x(5,"button",4),_(6,"iconSmClass"),_(7,"translate"),_(8,"translate"),c(),G(9,hg,3,5,"a",3,ug),c(),r(11,"a",5)(12,"p-splitButton",6),_(13,"iconSmClass"),b("onDropdownClick",function(d){return n.cancelRouterLink(d)}),c()(),r(14,"ul",7),G(15,Cg,4,5,"li",null,fg),c()),i&2&&(v(n.contentSvc.settingsXlHidden()?0:-1),l(),p("label",u(2,9,"settings.header")),l(3),p("routerLink",n.gameInfo().route),l(),p("icon",u(6,11,n.gameInfo().icon))("label",u(7,13,n.gameInfo().label))("pTooltip",u(8,15,"app.resetTooltip")),l(4),Z(n.gameOptions()),l(2),p("routerLink",n.gameInfo().route),l(),p("icon",u(13,17,n.gameInfo().icon))("model",n.gameOptions()),l(3),Z(n.links))},dependencies:[Tt,se,ge,Ma,ka,he,re,Ne,Oe],styles:["[_nghost-%COMP%]{display:flex;position:fixed;top:0;left:320px;align-items:center;transition:all .4s cubic-bezier(.05,.74,.2,.99);transition-property:width,left;z-index:2;padding:0 1.5rem;width:calc(100% - 320px);height:4rem}.sticky[_nghost-%COMP%]{background-color:var(--header-sticky-color);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}@media (max-width: 1199.98px){[_nghost-%COMP%]{left:0;flex-wrap:wrap;justify-content:space-between;width:100%;height:6rem}}@media (max-width: 575.98px){[_nghost-%COMP%]{padding:0 .25rem}}@media (min-width: 1200px){.settings-xl-hidden[_nghost-%COMP%]{left:0;width:100%}}.header-menu[_ngcontent-%COMP%]{display:flex;margin:0 0 0 auto}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:.5rem}@media (max-width: 1199.98px){.header-menu[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:25%}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin:0}}@media (max-width: 575.98px){.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:33%}}[_nghost-%COMP%]     .p-tieredmenu{right:0;left:unset!important}a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0})}return t})();var bg=(t,a)=>({showTransitionParams:t,hideTransitionParams:a}),xg=t=>({value:"visible",params:t});function vg(t,a){if(t&1&&x(0,"span"),t&2){let e=s().$implicit;M("p-message-icon pi "+e.icon),k("data-pc-section","icon")}}function yg(t,a){t&1&&x(0,"CheckIcon"),t&2&&k("data-pc-section","icon")}function Tg(t,a){t&1&&x(0,"InfoCircleIcon"),t&2&&k("data-pc-section","icon")}function Ig(t,a){t&1&&x(0,"TimesCircleIcon"),t&2&&k("data-pc-section","icon")}function Sg(t,a){t&1&&x(0,"ExclamationTriangleIcon"),t&2&&k("data-pc-section","icon")}function wg(t,a){if(t&1&&(r(0,"span",10),Q(1),m(2,yg,1,1,"CheckIcon",11)(3,Tg,1,1,"InfoCircleIcon",11)(4,Ig,1,1,"TimesCircleIcon",11)(5,Sg,1,1,"ExclamationTriangleIcon",11),W(),c()),t&2){let e=s().$implicit;l(2),p("ngIf",e.severity==="success"),l(),p("ngIf",e.severity==="info"),l(),p("ngIf",e.severity==="error"),l(),p("ngIf",e.severity==="warn")}}function kg(t,a){if(t&1&&x(0,"span",14),t&2){let e=s(2).$implicit;p("innerHTML",e.summary,ft),k("data-pc-section","summary")}}function Mg(t,a){if(t&1&&x(0,"span",15),t&2){let e=s(2).$implicit;p("innerHTML",e.detail,ft),k("data-pc-section","detail")}}function Eg(t,a){if(t&1&&(Q(0),m(1,kg,1,2,"span",12)(2,Mg,1,2,"span",13),W()),t&2){let e=s().$implicit;l(),p("ngIf",e.summary),l(),p("ngIf",e.detail)}}function Og(t,a){if(t&1&&(r(0,"span",18),C(1),c()),t&2){let e=s(2).$implicit;k("data-pc-section","summary"),l(),y(e.summary)}}function Vg(t,a){if(t&1&&(r(0,"span",19),C(1),c()),t&2){let e=s(2).$implicit;k("data-pc-section","detail"),l(),y(e.detail)}}function Bg(t,a){if(t&1&&m(0,Og,2,2,"span",16)(1,Vg,2,2,"span",17),t&2){let e=s().$implicit;p("ngIf",e.summary),l(),p("ngIf",e.detail)}}function Pg(t,a){if(t&1){let e=T();r(0,"button",20),b("click",function(){g(e);let n=s().index,o=s(2);return h(o.removeMessage(n))}),x(1,"TimesIcon",21),c()}if(t&2){let e=s(3);k("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),l(),p("styleClass","p-message-close-icon"),k("data-pc-section","closeicon")}}function Dg(t,a){if(t&1&&(r(0,"div",5)(1,"div",6),m(2,vg,1,3,"span",7)(3,wg,6,4,"span",8)(4,Eg,3,2,"ng-container",3)(5,Bg,2,2,"ng-template",null,1,O)(7,Pg,2,4,"button",9),c()()),t&2){let e,i=a.$implicit,n=w(6),o=s(2);M("p-message p-message-"+i.severity),p("@messageAnimation",N(13,xg,Y(10,bg,o.showTransitionOptions,o.hideTransitionOptions))),l(),k("data-pc-section","wrapper")("id",i.id||null),l(),p("ngIf",i.icon),l(),p("ngIf",!i.icon),l(),p("ngIf",!o.escape)("ngIfElse",n),l(3),p("ngIf",o.closable&&((e=i.closable)!==null&&e!==void 0?e:!0))}}function Fg(t,a){if(t&1&&(Q(0),m(1,Dg,8,15,"div",4),W()),t&2){let e=s();l(),p("ngForOf",e.messages)}}function Lg(t,a){t&1&&P(0)}function Rg(t,a){if(t&1&&(r(0,"div",22)(1,"div",6),m(2,Lg,1,0,"ng-container",23),c()()),t&2){let e=s();p("ngClass","p-message p-message-"+e.severity),l(2),p("ngTemplateOutlet",e.contentTemplate)}}var Ea=(()=>{class t{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new L;onClose=new L;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,i,n,o){this.messageService=e,this.el=i,this.cd=n,this.config=o}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);let i=e.filter(n=>this.key===n.key);this.messages=this.messages?[...this.messages,...i]:[...i],this.startMessageLifes(i),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return e&&e.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){let i=this.messages[e];this.messages=this.messages?.filter((n,o)=>o!==e),i&&this.onClose.emit(i),this.valueChange.emit(this.messages)}get icon(){let e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(i=>i.life&&this.startMessageLife(i))}startMessageLife(e){let i=Ki(e.life).subscribe(()=>{this.messages=this.messages?.filter(n=>n!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(n=>n!==i),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(i)}static \u0275fac=function(i){return new(i||t)(B(Po,8),B(Ve),B(me),B(rt))};static \u0275cmp=R({type:t,selectors:[["p-messages"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",V],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",V],key:"key",escape:[2,"escape","escape",V],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[de],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(i,n){if(i&1&&(r(0,"div",2),m(1,Fg,2,1,"ng-container",3)(2,Rg,3,2,"ng-template",null,0,O),c()),i&2){let o=w(3);M(n.styleClass),p("ngStyle",n.style),k("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),l(),p("ngIf",!n.contentTemplate)("ngIfElse",o)}},dependencies:()=>[le,yt,ye,ie,ue,qe,Pt,wn,Si,Sn,pt],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[wt("messageAnimation",[Ge(":enter",[We({opacity:0,transform:"translateY(-25%)"}),Ue("{{showTransitionParams}}")]),Ge(":leave",[Ue("{{hideTransitionParams}}",We({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return t})(),Oa=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,Ze,Pt,wn,Si,Sn,pt]})}return t})();var zg=(t,a,e)=>({"p-togglebutton p-button p-component":!0,"p-button-icon-only":t,"p-highlight":a,"p-disabled":e}),Hg=(t,a)=>({"p-button-icon":!0,"p-button-icon-left":t,"p-button-icon-right":a}),jg=t=>({$implicit:t});function $g(t,a){if(t&1&&x(0,"span",4),t&2){let e=s(2);M(e.checked?e.onIcon:e.offIcon),p("ngClass",Y(4,Hg,e.iconPos==="left",e.iconPos==="right")),k("data-pc-section","icon")}}function Ng(t,a){if(t&1&&m(0,$g,1,7,"span",3),t&2){let e=s();p("ngIf",e.onIcon||e.offIcon)}}function Kg(t,a){t&1&&P(0)}function Qg(t,a){if(t&1&&m(0,Kg,1,0,"ng-container",5),t&2){let e=s();p("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",N(2,jg,e.checked))}}function Wg(t,a){if(t&1&&(r(0,"span",6),C(1),c()),t&2){let e=s();k("data-pc-section","label"),l(),y(e.checked?e.hasOnLabel?e.onLabel:"":e.hasOffLabel?e.offLabel:"")}}var qg={provide:wi,useExisting:_t(()=>Hn),multi:!0},Hn=(()=>{class t{cd;onLabel;offLabel;onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;inputId;tabindex=0;iconPos="left";autofocus;onChange=new L;templates;iconTemplate;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.iconTemplate=e.template;break;default:this.iconTemplate=e.template;break}})}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onKeyDown(e){switch(e.code){case"Enter":this.toggle(e),e.preventDefault();break;case"Space":this.toggle(e),e.preventDefault();break}}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}static \u0275fac=function(i){return new(i||t)(B(me))};static \u0275cmp=R({type:t,selectors:[["p-toggleButton"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",V],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",_e],iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",V]},outputs:{onChange:"onChange"},features:[Xt([qg]),de],decls:4,vars:17,consts:[["role","switch","pRipple","","pAutoFocus","",3,"click","keydown","ngClass","ngStyle","autofocus"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(i,n){i&1&&(r(0,"div",0),b("click",function(d){return n.toggle(d)})("keydown",function(d){return n.onKeyDown(d)}),m(1,Ng,1,1,"span",1)(2,Qg,1,4,"ng-container")(3,Wg,2,2,"span",2),c()),i&2&&(M(n.styleClass),p("ngClass",lt(13,zg,n.onIcon&&n.offIcon&&!n.hasOnLabel&&!n.hasOffLabel,n.checked,n.disabled))("ngStyle",n.style)("autofocus",n.autofocus),k("tabindex",n.disabled?null:n.tabindex)("aria-checked",n.checked)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),l(),v(n.iconTemplate?2:1),l(2),p("ngIf",n.onLabel||n.offLabel))},dependencies:[le,ye,ie,ue,qe,oi],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%]{position:relative;z-index:1}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover, .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover{border-right:0 none}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%]{border-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0})}return t})(),Va=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,Ze,Se,ai,Se]})}return t})();function Zg(t,a){if(t&1&&(r(0,"span",26),C(1),c()),t&2){let e=s(2).$implicit,i=s();l(),y(i.data().recipeEntities[e.targetId].name)}}function Xg(t,a){if(t&1){let e=T();r(0,"button",24),_(1,"translate"),b("click",function(){g(e);let n=w(8),o=s().$implicit,d=s();return h(n.clickOpen("recipe",d.recipeIds(),o.targetId))}),r(2,"i",25),_(3,"iconSmClass"),r(4,"span"),C(5),c()(),m(6,Zg,2,1,"span",26),c(),r(7,"lab-picker",17,4),_(9,"translate"),b("selectId",function(n){g(e);let o=s().$implicit,d=s();return h(d.setTarget(o.id,n))}),c()}if(t&2){let e=s().$implicit,i=s();p("pTooltip",u(1,6,"objectives.selectARecipe")),l(2),M(K(3,8,e.targetId,"recipe")),l(3),j("#",e.id,""),l(),v(i.contentSvc.isMobile()?-1:6),l(),p("header",u(9,11,"objectives.selectARecipe"))}}function Yg(t,a){if(t&1){let e=T();r(0,"button",27),_(1,"iconSmClass"),_(2,"translate"),b("click",function(){g(e);let n=w(4),o=s().$implicit,d=s();return h(n.clickOpen("item",d.itemIds(),o.targetId))}),c(),r(3,"lab-picker",17,5),_(5,"translate"),b("selectId",function(n){g(e);let o=s().$implicit,d=s();return h(d.setTarget(o.id,n))}),c()}if(t&2){let e=s().$implicit,i=s();p("icon",u(1,4,e.targetId))("label",i.contentSvc.isMobile()?"":i.data().itemEntities[e.targetId].name)("pTooltip",u(2,6,"objectives.selectAnItem")),l(3),p("header",u(5,8,"objectives.selectAnItem"))}}function Jg(t,a){if(t&1){let e=T();r(0,"p-dropdown",22),_(1,"translate"),b("onChange",function(n){g(e);let o=s().$implicit,d=s(),f=w(23),S=w(26);return h(d.changeUnit(o,n.value,f,S))}),c()}if(t&2){let e=s().$implicit,i=s();p("pTooltip",u(1,3,"objectives.unitTooltip"))("options",i.rateUnitOptions())("ngModel",e.unit)}}function eh(t,a){if(t&1){let e=T();r(0,"div",18),x(1,"button",19),m(2,Xg,10,13)(3,Yg,6,10),r(4,"lab-input-number",20),_(5,"translate"),_(6,"translate"),_(7,"translate"),b("setValue",function(n){let o=g(e).$implicit,d=s();return h(d.setValue(o.id,n))}),c(),m(8,Jg,2,5,"p-dropdown",21),r(9,"p-dropdown",22),_(10,"translate"),b("onChange",function(n){let o=g(e).$implicit,d=s();return h(d.setType(o.id,n.value))}),c(),r(11,"button",23),_(12,"translate"),b("click",function(){let n=g(e).$implicit,o=s();return h(o.removeObjective(n.id))}),c()()}if(t&2){let e=a.$implicit,i=s();l(2),v(e.unit===i.ObjectiveUnit.Machines?2:3),l(2),p("pTooltip",e.type===i.ObjectiveType.Maximize?i.maximizeType()===i.MaximizeType.Weight?u(5,9,"objectives.valueWeightTooltip"):u(6,11,"objectives.valueRatioTooltip"):u(7,13,"objectives.valueTooltip"))("hideButtons",i.contentSvc.isMobile())("value",e.value),l(4),v(e.type!==i.ObjectiveType.Maximize?8:-1),l(),p("pTooltip",u(10,15,"objectives.typeTooltip"))("options",i.objectiveTypeOptions)("ngModel",e.type),l(2),p("pTooltip",u(12,17,"objectives.removeTooltip"))}}function th(t,a){if(t&1&&x(0,"lab-tooltip",34),t&2){let e=s(2);p("id",e)}}function ih(t,a){if(t&1){let e=T();r(0,"div")(1,"div",29)(2,"span",30),C(3),_(4,"translate"),c(),x(5,"i",31),_(6,"iconSmClass"),r(7,"span",32),C(8),c(),m(9,th,1,1,"ng-template",null,6,O),c(),r(11,"button",33),_(12,"translate"),b("click",function(){g(e);let n=s(),o=s();return h(o.addRecipeLimit(n))}),c()()}if(t&2){let e=w(10),i=s(),n=s();l(3),y(u(4,6,"objectives.errorSimplexUnboundedRecipe")),l(2),M(K(6,8,i,"recipe")),p("pTooltip",e),l(3),y(n.data().recipeEntities[i].name),l(3),p("label",u(12,11,"objectives.errorSimplexUnboundedAddRecipeLimit"))}}function nh(t,a){t&1&&(r(0,"p-messages",16),m(1,ih,13,13,"ng-template",28),c())}function oh(t,a){if(t&1&&x(0,"p-messages",35),t&2){let e=s();p("value",e)("closable",!1)("escape",!1)}}function ah(t,a){t&1&&m(0,oh,1,3,"p-messages",35),t&2&&v(a.length?0:-1)}function lh(t,a){if(t&1&&(m(0,ah,1,1),_(1,"async")),t&2){let e,i=s();v((e=u(1,1,i.messages$))?0:-1,e)}}var W4=(()=>{class t{store=A(we);translateSvc=A(At);contentSvc=A(Xe);trackSvc=A(en);_objectives=this.store.selectSignal(ae.selectObjectives);result=this.store.selectSignal(ae.selectMatrixResult);itemsState=this.store.selectSignal(Qe.selectItemsState);itemIds=this.store.selectSignal(Te.selectAvailableItems);data=this.store.selectSignal(Te.selectAdjustedDataset);maximizeType=this.store.selectSignal(H.selectMaximizeType);beltSpeed=this.store.selectSignal(H.selectBeltSpeed);dispRateInfo=this.store.selectSignal(H.selectDisplayRateInfo);rateUnitOptions=this.store.selectSignal(H.selectObjectiveUnitOptions);recipeIds=this.store.selectSignal(H.selectAvailableRecipes);paused=this.store.selectSignal(Ie.selectPaused);convertObjectiveValues=this.store.selectSignal(Ie.selectConvertObjectiveValues);objectives=Ee(()=>[...this._objectives()]);messages$=Ot({objectives:this.store.select(ae.selectObjectives),matrixResult:this.store.select(ae.selectMatrixResult),itemsState:this.store.select(Qe.selectItemsState),recipesState:this.store.select(Te.selectRecipesState)}).pipe(Yn(({objectives:e,matrixResult:i,itemsState:n,recipesState:o})=>this.getMessages(e,i,n,o)));objectiveTypeOptions=yo;displayRateOptions=Zi;MaximizeType=xo;ObjectiveUnit=St;ObjectiveType=Rt;getMessages(e,i,n,o){if(i.resultType===bn.Paused)return this.translateSvc.get("objectives.pausedMessage").pipe(ci(d=>[{severity:"info",detail:d}]));if(i.resultType!==bn.Failed)return Un;if(i.simplexStatus==="unbounded"){let d=e.filter(f=>f.type===Rt.Maximize);return d.length&&e.every(f=>f.type!==Rt.Limit)?this.buildErrorMessages("objectives.errorUnbounded","objectives.errorNoLimits",i):d.some(f=>f.unit===St.Machines?o[f.targetId].excluded:n[f.targetId].excluded)?this.buildErrorMessages("objectives.errorUnbounded","objectives.errorMaximizeExcluded",i):this.buildErrorMessages("objectives.errorUnbounded","objectives.errorUnboundedDetail",i)}else return i.simplexStatus==="no_feasible"?this.buildErrorMessages("objectives.errorInfeasible","objectives.errorInfeasibleDetail",i):this.buildErrorMessages("objectives.error","objectives.errorDetail",i)}buildErrorMessages(e,i,n){return Ot([this.translateSvc.get(e),this.translateSvc.get(i),this.translateSvc.get("objectives.errorSimplexInfo",{returnCode:n.returnCode??"unknown",simplexStatus:n.simplexStatus??"unknown"})]).pipe(ci(([o,d,f])=>[{severity:"error",summary:o,detail:`${d} ${f}`}]))}setObjectiveOrder(e){this.setOrder(e.map(i=>i.id))}changeUnit(e,i,n,o){let d=this.data();if(i===St.Machines){if(e.unit!==St.Machines){let f=d.itemRecipeIds[e.targetId],S=E=>this.convertItemsToMachines(e,E,d);f.length===1?S(f[0]):(o.selectId.pipe(ot()).subscribe(E=>S(E)),o.clickOpen("recipe",f))}}else if(e.unit===St.Machines){let f=Array.from(d.adjustedRecipe[e.targetId].produces),S=E=>this.convertMachinesToItems(e,E,i,d);f.length===1?S(f[0]):(n.selectId.pipe(ot()).subscribe(E=>S(E)),n.clickOpen("item",f))}else this.convertItemsToItems(e,e.targetId,i,d)}convertItemsToMachines(e,i,n){if(this.setUnit(e.id,{targetId:i,unit:St.Machines}),!this.convertObjectiveValues()||e.type===Rt.Maximize)return;let o=this.itemsState(),d=this.beltSpeed(),f=this.dispRateInfo(),S=Ai.objectiveNormalizedRate(e,o,d,f,n),E=n.adjustedRecipe[i],$=S.div(E.output[e.targetId]);this.setValue(e.id,$)}convertMachinesToItems(e,i,n,o){if(this.setUnit(e.id,{targetId:i,unit:n}),!this.convertObjectiveValues()||e.type===Rt.Maximize||e.recipe==null)return;let d=this.itemsState(),f=this.beltSpeed(),S=this.dispRateInfo(),E=Ai.objectiveNormalizedRate({id:"",targetId:i,value:oe.one,unit:n,type:Rt.Output},d,f,S,o),z=e.value.mul(e.recipe.output[i]).div(E);this.setValue(e.id,z)}convertItemsToItems(e,i,n,o){if(this.setUnit(e.id,{targetId:i,unit:n}),!this.convertObjectiveValues()||e.type===Rt.Maximize)return;let d=this.itemsState(),f=this.beltSpeed(),S=this.dispRateInfo(),E=Ai.objectiveNormalizedRate(e,d,f,S,o),$=Ai.objectiveNormalizedRate({id:"",targetId:i,value:oe.one,unit:n,type:Rt.Output},d,f,S,o),z=E.div($);this.setValue(e.id,z)}addItemObjective(e){this.addObjective({targetId:e,unit:St.Items})}addRecipeObjective(e){this.addObjective({targetId:e,unit:St.Machines})}addRecipeLimit(e){this.addObjective({targetId:e,unit:St.Machines,type:Rt.Limit})}removeObjective(e){this.store.dispatch(ae.remove({id:e}))}setOrder(e){this.store.dispatch(ae.setOrder({ids:e}))}setTarget(e,i){this.store.dispatch(ae.setTarget({id:e,value:i}))}setValue(e,i){this.store.dispatch(ae.setValue({id:e,value:i}))}setUnit(e,i){this.store.dispatch(ae.setUnit({id:e,objective:i}))}setType(e,i){this.store.dispatch(ae.setType({id:e,value:i}))}addObjective(e){this.store.dispatch(ae.add({objective:e}))}setDisplayRate(e,i){this.store.dispatch(H.setDisplayRate({displayRate:e,previous:i}))}setPaused(e){this.store.dispatch(Ie.setPaused({paused:e}))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["lab-objectives"]],standalone:!0,features:[ne],decls:28,vars:35,consts:[["addItemPicker",""],["addRecipePicker",""],["chooseItemPicker",""],["chooseRecipePicker",""],["editRecipePicker",""],["editItemPicker",""],["tooltip",""],[3,"header"],[1,"objectives-content"],[3,"onReorder","value","dragdrop","trackBy"],["pTemplate","item"],[1,"objectives-buttons","d-flex","flex-wrap","mt-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box","tooltipPosition","top",1,"flex-grow-1","p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry","tooltipPosition","top",1,"flex-grow-1","p-button-outlined",3,"click","label"],["labDropdownTranslate","","styleClass","h-100",3,"onChange","pTooltip","ngModel","options"],["offIcon","fa-solid fa-pause",3,"onChange","ngModel","onIcon","pTooltip"],["severity","warn","styleClass","mt-2"],[3,"selectId","header"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-grip-lines",1,"p-button-outlined","border-end-0","cursor-grab"],["labNoDrag","","tooltipPosition","top",3,"setValue","pTooltip","hideButtons","value"],["labDropdownTranslate","","labNoDrag","","tooltipPosition","top",3,"pTooltip","options","ngModel"],["labDropdownTranslate","","labNoDrag","","tooltipPosition","top",3,"onChange","pTooltip","options","ngModel"],["pButton","","pRipple","","labNoDrag","","type","button","icon","fa-solid fa-xmark","tooltipPosition","left",1,"p-button-outlined",3,"click","pTooltip"],["pButton","","pRipple","","labNoDrag","","type","button","tooltipPosition","top",1,"p-button-outlined","lab-button-icon-only","text-truncate",3,"click","pTooltip"],[1,"p-button-icon"],[1,"p-button-label"],["labNoDrag","","pButton","","pRipple","","type","button","tooltipPosition","top",1,"p-button-outlined","text-truncate",3,"click","icon","label","pTooltip"],["pTemplate",""],[1,"d-flex","align-items-center"],[1,"me-3"],[3,"pTooltip"],[1,"ms-3"],["type","button","pButton","","pRipple","","icon","fa-solid fa-plus",1,"mt-2","p-button-rounded",3,"click","label"],["type","recipe",3,"id"],["styleClass","mt-2",3,"value","closable","escape"]],template:function(i,n){if(i&1){let o=T();r(0,"p-card",7),_(1,"translate"),r(2,"div",8)(3,"p-orderList",9),b("onReorder",function(){return g(o),h(n.setObjectiveOrder(n.objectives()))}),m(4,eh,13,19,"ng-template",10),c(),r(5,"div",11)(6,"button",12),_(7,"translate"),b("click",function(){g(o);let f=w(17);return h(f.clickOpen("item",n.itemIds()))}),c(),r(8,"button",13),_(9,"translate"),b("click",function(){g(o);let f=w(20);return h(f.clickOpen("recipe",n.recipeIds()))}),c(),r(10,"p-dropdown",14),_(11,"translate"),b("onChange",function(f){return g(o),h(n.setDisplayRate(f.value,n.dispRateInfo().option))}),c(),r(12,"p-toggleButton",15),_(13,"translate"),b("onChange",function(f){let S;return g(o),h(n.setPaused((S=f.checked)!==null&&S!==void 0?S:!1))}),c()(),m(14,nh,2,0,"p-messages",16)(15,lh,2,3),c(),r(16,"lab-picker",17,0),_(18,"translate"),b("selectId",function(f){return g(o),h(n.addItemObjective(f))}),c(),r(19,"lab-picker",17,1),_(21,"translate"),b("selectId",function(f){return g(o),h(n.addRecipeObjective(f))}),c(),x(22,"lab-picker",7,2),_(24,"translate"),x(25,"lab-picker",7,3),_(27,"translate"),c()}if(i&2){let o;p("header",u(1,17,"objectives.title")),l(3),p("value",n.objectives())("dragdrop",!0)("trackBy",n.trackSvc.trackById),l(3),p("label",u(7,19,"objectives.addItems")),l(2),p("label",u(9,21,"objectives.addMachines")),l(2),p("pTooltip",u(11,23,"objectives.selectDisplayRate"))("ngModel",n.dispRateInfo().option)("options",n.displayRateOptions),l(2),p("ngModel",n.paused())("onIcon","fa-solid fa-play")("pTooltip",u(13,25,"objectives.pauseTooltip")),l(2),v((o=n.result().unboundedRecipeId)?14:15,o),l(2),p("header",u(18,27,"objectives.selectAnItem")),l(3),p("header",u(21,29,"objectives.selectARecipe")),l(3),p("header",u(24,31,"objectives.selectAnItem")),l(3),p("header",u(27,33,"objectives.selectARecipe"))}},dependencies:[so,Re,Fe,Le,se,ge,U,oa,na,kt,nt,Oa,Ea,Yi,Xi,Va,Hn,re,he,Oi,Vi,dn,Ne,Ht,bt,Oe],styles:[".objectives-content[_ngcontent-%COMP%]{max-width:1000px}.objectives-buttons[_ngcontent-%COMP%]{gap:.25rem}.p-inputgroup[_ngcontent-%COMP%]   p-dropdown.icon[_ngcontent-%COMP%]{flex:0 0 36px}@media (min-width: 576px){button.text-truncate[_ngcontent-%COMP%], .p-inputgroup[_ngcontent-%COMP%]   lab-input-number.p-inputwrapper[_ngcontent-%COMP%]{flex:0 0 25%}}@media (max-width: 575.98px){.p-inputgroup[_ngcontent-%COMP%]   lab-input-number.p-inputwrapper[_ngcontent-%COMP%]{flex:0 0 15%}}@media (max-width: 575.98px){[_nghost-%COMP%]     button.lab-button-icon-only{justify-content:center;padding:.5rem 0;width:2.571rem}[_nghost-%COMP%]     button.lab-button-icon-only .p-button-icon{margin:0}[_nghost-%COMP%]     button.lab-button-icon-only .p-button-label{flex:0 0 auto;visibility:hidden;width:0}}"],changeDetection:0})}return t})();var sh=["*",[["p-header"]]],rh=["*","p-header"],ph=t=>({$implicit:t}),Ba=t=>({transitionParams:t}),ch=t=>({value:"visible",params:t}),dh=t=>({value:"hidden",params:t});function mh(t,a){if(t&1&&x(0,"span",11),t&2){let e=s(3);M(e.accordion.collapseIcon),p("ngClass",e.iconClass),k("aria-hidden",!0)}}function _h(t,a){if(t&1&&x(0,"ChevronDownIcon",11),t&2){let e=s(3);p("ngClass",e.iconClass),k("aria-hidden",!0)}}function uh(t,a){if(t&1&&(Q(0),m(1,mh,1,4,"span",9)(2,_h,1,2,"ChevronDownIcon",10),W()),t&2){let e=s(2);l(),p("ngIf",e.accordion.collapseIcon),l(),p("ngIf",!e.accordion.collapseIcon)}}function fh(t,a){if(t&1&&x(0,"span",11),t&2){let e=s(3);M(e.accordion.expandIcon),p("ngClass",e.iconClass),k("aria-hidden",!0)}}function gh(t,a){if(t&1&&x(0,"ChevronRightIcon",11),t&2){let e=s(3);p("ngClass",e.iconClass),k("aria-hidden",!0)}}function hh(t,a){if(t&1&&(Q(0),m(1,fh,1,4,"span",9)(2,gh,1,2,"ChevronRightIcon",10),W()),t&2){let e=s(2);l(),p("ngIf",e.accordion.expandIcon),l(),p("ngIf",!e.accordion.expandIcon)}}function Ch(t,a){if(t&1&&(Q(0),m(1,uh,3,2,"ng-container",3)(2,hh,3,2,"ng-container",3),W()),t&2){let e=s();l(),p("ngIf",e.selected),l(),p("ngIf",!e.selected)}}function bh(t,a){}function xh(t,a){t&1&&m(0,bh,0,0,"ng-template")}function vh(t,a){if(t&1&&(r(0,"span",12),C(1),c()),t&2){let e=s();l(),j(" ",e.header," ")}}function yh(t,a){t&1&&P(0)}function Th(t,a){t&1&&He(0,1,["*ngIf","hasHeaderFacet"])}function Ih(t,a){t&1&&P(0)}function Sh(t,a){if(t&1&&(Q(0),m(1,Ih,1,0,"ng-container",6),W()),t&2){let e=s();l(),p("ngTemplateOutlet",e.contentTemplate)}}var wh=["*"],jn=(()=>{class t{el;changeDetector;id;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}headerAriaLevel=2;selectedChange=new L;headerFacet;templates;_selected=!1;get iconClass(){return this.iconPos==="end"?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;loaded=!1;accordion;constructor(e,i,n){this.el=i,this.changeDetector=n,this.accordion=e,this.id=je()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}toggle(e){if(this.disabled)return!1;let i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:i});else{if(!this.accordion.multiple)for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected&&(this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1),this.accordion.tabs[n].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e?.preventDefault()}findTabIndex(){let e=-1;for(var i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){e=i;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){switch(e.code){case"Enter":case"Space":this.toggle(e),e.preventDefault();break;default:break}}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(i){return new(i||t)(B(_t(()=>$n)),B(Ve),B(me))};static \u0275cmp=R({type:t,selectors:[["p-accordionTab"]],contentQueries:function(i,n,o){if(i&1&&(te(o,ni,4),te(o,U,4)),i&2){let d;D(d=F())&&(n.headerFacet=d),D(d=F())&&(n.templates=d)}},hostAttrs:[1,"p-element"],inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:[2,"disabled","disabled",V],cache:[2,"cache","cache",V],transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:[2,"headerAriaLevel","headerAriaLevel",_e]},outputs:{selectedChange:"selectedChange"},features:[de],ngContentSelectors:rh,decls:12,vars:44,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],["role","heading",1,"p-accordion-header"],["role","button",1,"p-accordion-header-link",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(i,n){i&1&&(tt(sh),r(0,"div",0)(1,"div",1)(2,"a",2),b("click",function(d){return n.toggle(d)})("keydown",function(d){return n.onKeydown(d)}),m(3,Ch,3,2,"ng-container",3)(4,xh,1,0,null,4)(5,vh,2,1,"span",5)(6,yh,1,0,"ng-container",6)(7,Th,1,0,"ng-content",3),c()(),r(8,"div",7)(9,"div",8),He(10),m(11,Sh,2,1,"ng-container",3),c()()()),i&2&&(Me("p-accordion-tab-active",n.selected),p("ngClass",n.tabStyleClass)("ngStyle",n.tabStyle),k("data-pc-name","accordiontab"),l(),Me("p-highlight",n.selected)("p-disabled",n.disabled),k("aria-level",n.headerAriaLevel)("data-p-disabled",n.disabled)("data-pc-section","header"),l(),p("ngClass",n.headerStyleClass)("ngStyle",n.headerStyle),k("tabindex",n.disabled?null:0)("id",n.getTabHeaderActionId(n.id))("aria-controls",n.getTabContentId(n.id))("aria-expanded",n.selected)("aria-disabled",n.disabled)("data-pc-section","headeraction"),l(),p("ngIf",!n.iconTemplate),l(),p("ngTemplateOutlet",n.iconTemplate)("ngTemplateOutletContext",N(34,ph,n.selected)),l(),p("ngIf",!n.hasHeaderFacet),l(),p("ngTemplateOutlet",n.headerTemplate),l(),p("ngIf",n.hasHeaderFacet),l(),p("@tabContent",n.selected?N(38,ch,N(36,Ba,n.transitionOptions)):N(42,dh,N(40,Ba,n.transitionOptions))),k("id",n.getTabContentId(n.id))("aria-hidden",!n.selected)("aria-labelledby",n.getTabHeaderActionId(n.id))("data-pc-section","toggleablecontent"),l(),p("ngClass",n.contentStyleClass)("ngStyle",n.contentStyle),l(2),p("ngIf",n.contentTemplate&&(n.cache?n.loaded:n.selected)))},dependencies:()=>[le,ye,ie,ue,Qt,Kt],styles:[`@layer primeng{.p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}}
`],encapsulation:2,data:{animation:[wt("tabContent",[_i("hidden",We({height:"0",visibility:"hidden"})),_i("visible",We({height:"*",visibility:"visible"})),Ge("visible <=> hidden",[Ue("{{transitionParams}}")]),Ge("void => *",Ue(0))])]},changeDetection:0})}return t})(),$n=(()=>{class t{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.updateSelectionState()}selectOnFocus=!1;get headerAriaLevel(){return this._headerAriaLevel}set headerAriaLevel(e){typeof e=="number"&&e>0?this._headerAriaLevel=e:this._headerAriaLevel!==2&&(this._headerAriaLevel=2)}onClose=new L;onOpen=new L;activeIndexChange=new L;tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];constructor(e,i){this.el=e,this.changeDetector=i}onKeydown(e){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":e.shiftKey||this.onTabHomeKey(e);break;case"End":e.shiftKey||this.onTabEndKey(e);break}}focusedElementIsAccordionHeader(){return document.activeElement.tagName.toLowerCase()==="a"&&document.activeElement.classList.contains("p-accordion-header-link")}onTabArrowDownKey(e){if(this.focusedElementIsAccordionHeader()){let i=this.findNextHeaderAction(e.target.parentElement.parentElement.parentElement);i?this.changeFocusedTab(i):this.onTabHomeKey(e),e.preventDefault()}}onTabArrowUpKey(e){if(this.focusedElementIsAccordionHeader()){let i=this.findPrevHeaderAction(e.target.parentElement.parentElement.parentElement);i?this.changeFocusedTab(i):this.onTabEndKey(e),e.preventDefault()}}onTabHomeKey(e){let i=this.findFirstHeaderAction();this.changeFocusedTab(i),e.preventDefault()}changeFocusedTab(e){e&&(I.focus(e),this.selectOnFocus&&this.tabs.forEach((i,n)=>{let o=this.multiple?this._activeIndex.includes(n):n===this._activeIndex;this.multiple?(this._activeIndex||(this._activeIndex=[]),i.id==e.id&&(i.selected=!i.selected,this._activeIndex.includes(n)?this._activeIndex=this._activeIndex.filter(d=>d!==n):this._activeIndex.push(n))):i.id==e.id?(i.selected=!i.selected,this._activeIndex=n):i.selected=!1,i.selectedChange.emit(o),this.activeIndexChange.emit(this._activeIndex),i.changeDetector.markForCheck()}))}findNextHeaderAction(e,i=!1){let n=i?e:e.nextElementSibling,o=I.findSingle(n,'[data-pc-section="header"]');return o?I.getAttribute(o,"data-p-disabled")?this.findNextHeaderAction(o.parentElement.parentElement):I.findSingle(o,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,i=!1){let n=i?e:e.previousElementSibling,o=I.findSingle(n,'[data-pc-section="header"]');return o?I.getAttribute(o,"data-p-disabled")?this.findPrevHeaderAction(o.parentElement.parentElement):I.findSingle(o,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes[0];return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes,i=e[e.length-1];return this.findPrevHeaderAction(i,!0)}onTabEndKey(e){let i=this.findLastHeaderAction();this.changeFocusedTab(i),e.preventDefault()}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(e=>{e.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&this._activeIndex!=null)for(let e=0;e<this.tabs.length;e++){let i=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;i!==this.tabs[e].selected&&(this.tabs[e].selected=i,this.tabs[e].selectedChange.emit(i),this.tabs[e].changeDetector.markForCheck())}}isTabActive(e){return this.multiple?this._activeIndex&&this._activeIndex.includes(e):this._activeIndex===e}getTabProp(e,i){return e.props?e.props[i]:void 0}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((i,n)=>{if(i.selected)if(this.multiple)e.push(n);else{e=n;return}}),this.preventActiveIndexPropagation=!0,this._activeIndex=e,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(B(Ve),B(me))};static \u0275cmp=R({type:t,selectors:[["p-accordion"]],contentQueries:function(i,n,o){if(i&1&&te(o,jn,5),i&2){let d;D(d=F())&&(n.tabList=d)}},hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&b("keydown",function(d){return n.onKeydown(d)})},inputs:{multiple:[2,"multiple","multiple",V],style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",V],headerAriaLevel:"headerAriaLevel"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},features:[de],ngContentSelectors:wh,decls:2,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(tt(),r(0,"div",0),He(1),c()),i&2&&(M(n.styleClass),p("ngClass","p-accordion p-component")("ngStyle",n.style))},dependencies:[le,ue],encapsulation:2,changeDetection:0})}return t})(),Pa=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,Qt,Kt,Se]})}return t})();var Mh=["pMenuItemContent",""],Da=t=>({"p-disabled":t}),hn=t=>({$implicit:t}),Eh=()=>({exact:!1});function Oh(t,a){t&1&&P(0)}function Vh(t,a){if(t&1&&(r(0,"a",6),m(1,Oh,1,0,"ng-container",7),c()),t&2){let e=s(2),i=w(4);p("target",e.item.target)("ngClass",N(10,Da,e.item.disabled)),k("title",e.item.title)("href",e.item.url||null,Ft)("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("aria-hidden",!0),l(),p("ngTemplateOutlet",i)("ngTemplateOutletContext",N(12,hn,e.item))}}function Bh(t,a){t&1&&P(0)}function Ph(t,a){if(t&1&&(r(0,"a",8),m(1,Bh,1,0,"ng-container",7),c()),t&2){let e=s(2),i=w(4);p("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||J(18,Eh))("target",e.item.target)("ngClass",N(19,Da,e.item.disabled))("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),k("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("aria-hidden",!0)("title",e.item.title),l(),p("ngTemplateOutlet",i)("ngTemplateOutletContext",N(21,hn,e.item))}}function Dh(t,a){if(t&1&&(Q(0),m(1,Vh,2,14,"a",4)(2,Ph,2,23,"a",5),W()),t&2){let e=s();l(),p("ngIf",!(e.item!=null&&e.item.routerLink)),l(),p("ngIf",e.item==null?null:e.item.routerLink)}}function Fh(t,a){}function Lh(t,a){t&1&&m(0,Fh,0,0,"ng-template")}function Rh(t,a){if(t&1&&(Q(0),m(1,Lh,1,0,null,7),W()),t&2){let e=s();l(),p("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",N(2,hn,e.item))}}function Ah(t,a){if(t&1&&x(0,"span",12),t&2){let e=s(2);M(e.item.iconClass),p("ngClass",e.item.icon)("ngStyle",e.item.iconStyle)}}function zh(t,a){if(t&1&&(r(0,"span",13),C(1),c()),t&2){let e=s(2);l(),y(e.item.label)}}function Hh(t,a){if(t&1&&(x(0,"span",14),_(1,"safeHtml")),t&2){let e=s(2);p("innerHTML",u(1,1,e.item.label),ft)}}function jh(t,a){if(t&1&&(r(0,"span",15),C(1),c()),t&2){let e=s(2);p("ngClass",e.item.badgeStyleClass),l(),y(e.item.badge)}}function $h(t,a){if(t&1&&m(0,Ah,1,4,"span",9)(1,zh,2,1,"span",10)(2,Hh,2,3,"ng-template",null,1,O)(4,jh,2,2,"span",11),t&2){let e=w(3),i=s();p("ngIf",i.item.icon),l(),p("ngIf",i.item.escape!==!1)("ngIfElse",e),l(3),p("ngIf",i.item.badge)}}var Nh=["list"],Kh=["container"],Qh=t=>({"p-menu p-component":!0,"p-menu-overlay":t}),Wh=(t,a)=>({showTransitionParams:t,hideTransitionParams:a}),qh=t=>({value:"visible",params:t}),Nn=t=>({"p-hidden":t}),Uh=(t,a)=>({"p-hidden":t,flex:a}),Fa=(t,a,e)=>({"p-hidden":t,"p-focus":a,"p-disabled":e});function Gh(t,a){t&1&&P(0)}function Zh(t,a){if(t&1&&(r(0,"div",9),m(1,Gh,1,0,"ng-container",10),c()),t&2){let e=s(2);k("data-pc-section","start"),l(),p("ngTemplateOutlet",e.startTemplate)}}function Xh(t,a){if(t&1&&x(0,"li",14),t&2){let e=s().$implicit;p("ngClass",N(1,Nn,e.visible===!1))}}function Yh(t,a){if(t&1&&(r(0,"span"),C(1),c()),t&2){let e=s(3).$implicit;l(),y(e.label)}}function Jh(t,a){if(t&1&&(x(0,"span",18),_(1,"safeHtml")),t&2){let e=s(3).$implicit;p("innerHTML",u(1,1,e.label),ft)}}function eC(t,a){if(t&1&&(Q(0),m(1,Yh,2,1,"span",17)(2,Jh,2,3,"ng-template",null,2,O),W()),t&2){let e=w(3),i=s(2).$implicit;l(),p("ngIf",i.escape!==!1)("ngIfElse",e)}}function tC(t,a){t&1&&P(0)}function iC(t,a){if(t&1&&(r(0,"li",15),m(1,eC,4,2,"ng-container",7)(2,tC,1,0,"ng-container",16),c()),t&2){let e=s(),i=e.$implicit,n=e.index,o=s(3);p("ngClass",Y(7,Uh,i.visible===!1,i.visible))("tooltipOptions",i.tooltipOptions),k("data-automationid",i.automationId)("id",o.menuitemId(i,o.id,n)),l(),p("ngIf",!o.submenuHeaderTemplate),l(),p("ngTemplateOutlet",o.submenuHeaderTemplate)("ngTemplateOutletContext",N(10,hn,i))}}function nC(t,a){if(t&1&&x(0,"li",14),t&2){let e=s().$implicit,i=s().$implicit;p("ngClass",N(1,Nn,e.visible===!1||i.visible===!1))}}function oC(t,a){if(t&1){let e=T();r(0,"li",20),b("onMenuItemClick",function(n){g(e);let o=s(),d=o.$implicit,f=o.index,S=s().index,E=s(3);return h(E.itemClick(n,E.menuitemId(d,E.id,S,f)))}),c()}if(t&2){let e=s(),i=e.$implicit,n=e.index,o=s(),d=o.$implicit,f=o.index,S=s(3);M(i.styleClass),p("pMenuItemContent",i)("itemTemplate",S.itemTemplate)("ngClass",lt(13,Fa,i.visible===!1||d.visible===!1,S.focusedOptionId()&&S.menuitemId(i,S.id,f,n)===S.focusedOptionId(),S.disabled(i.disabled)))("ngStyle",i.style)("tooltipOptions",i.tooltipOptions),k("data-pc-section","menuitem")("aria-label",S.label(i.label))("data-p-focused",S.isItemFocused(S.menuitemId(i,S.id,f,n)))("data-p-disabled",S.disabled(i.disabled))("aria-disabled",S.disabled(i.disabled))("id",S.menuitemId(i,S.id,f,n))}}function aC(t,a){if(t&1&&m(0,nC,1,3,"li",12)(1,oC,1,17,"li",19),t&2){let e=a.$implicit;p("ngIf",e.separator),l(),p("ngIf",!e.separator)}}function lC(t,a){if(t&1&&m(0,Xh,1,3,"li",12)(1,iC,3,12,"li",13)(2,aC,2,2,"ng-template",11),t&2){let e=a.$implicit;p("ngIf",e.separator),l(),p("ngIf",!e.separator),l(),p("ngForOf",e.items)}}function sC(t,a){if(t&1&&m(0,lC,3,3,"ng-template",11),t&2){let e=s(2);p("ngForOf",e.model)}}function rC(t,a){if(t&1&&x(0,"li",14),t&2){let e=s().$implicit;p("ngClass",N(1,Nn,e.visible===!1))}}function pC(t,a){if(t&1){let e=T();r(0,"li",20),b("onMenuItemClick",function(n){g(e);let o=s(),d=o.$implicit,f=o.index,S=s(3);return h(S.itemClick(n,S.menuitemId(d,S.id,f)))}),c()}if(t&2){let e=s(),i=e.$implicit,n=e.index,o=s(3);M(i.styleClass),p("pMenuItemContent",i)("itemTemplate",o.itemTemplate)("ngClass",lt(13,Fa,i.visible===!1,o.focusedOptionId()&&o.menuitemId(i,o.id,n,o.j)===o.focusedOptionId(),o.disabled(i.disabled)))("ngStyle",i.style)("tooltipOptions",i.tooltipOptions),k("data-pc-section","menuitem")("aria-label",o.label(i.label))("data-p-focused",o.isItemFocused(o.menuitemId(i,o.id,n)))("data-p-disabled",o.disabled(i.disabled))("aria-disabled",o.disabled(i.disabled))("id",o.menuitemId(i,o.id,n))}}function cC(t,a){if(t&1&&m(0,rC,1,3,"li",12)(1,pC,1,17,"li",19),t&2){let e=a.$implicit;p("ngIf",e.separator),l(),p("ngIf",!e.separator)}}function dC(t,a){if(t&1&&m(0,cC,2,2,"ng-template",11),t&2){let e=s(2);p("ngForOf",e.model)}}function mC(t,a){t&1&&P(0)}function _C(t,a){if(t&1&&(r(0,"div",21),m(1,mC,1,0,"ng-container",10),c()),t&2){let e=s(2);k("data-pc-section","end"),l(),p("ngTemplateOutlet",e.endTemplate)}}function uC(t,a){if(t&1){let e=T();r(0,"div",4,0),b("click",function(n){g(e);let o=s();return h(o.onOverlayClick(n))})("@overlayAnimation.start",function(n){g(e);let o=s();return h(o.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){g(e);let o=s();return h(o.onOverlayAnimationEnd(n))}),m(2,Zh,2,2,"div",5),r(3,"ul",6,1),b("focus",function(n){g(e);let o=s();return h(o.onListFocus(n))})("blur",function(n){g(e);let o=s();return h(o.onListBlur(n))})("keydown",function(n){g(e);let o=s();return h(o.onListKeyDown(n))}),m(5,sC,1,1,null,7)(6,dC,1,1,null,7),c(),m(7,_C,2,2,"div",8),c()}if(t&2){let e=s();M(e.styleClass),p("ngClass",N(18,Qh,e.popup))("ngStyle",e.style)("@overlayAnimation",N(23,qh,Y(20,Wh,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),k("data-pc-name","menu")("id",e.id),l(2),p("ngIf",e.startTemplate),l(),k("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),l(2),p("ngIf",e.hasSubMenu()),l(),p("ngIf",!e.hasSubMenu()),l(),p("ngIf",e.endTemplate)}}var La=(()=>{class t{platformId;sanitizer;constructor(e,i){this.platformId=e,this.sanitizer=i}transform(e){return!e||!ke(this.platformId)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(i){return new(i||t)(B(Ye,16),B(po,16))};static \u0275pipe=eo({name:"safeHtml",type:t,pure:!0})}return t})(),fC=(()=>{class t{item;itemTemplate;onMenuItemClick=new L;menu;constructor(e){this.menu=e}onItemClick(e,i){this.onMenuItemClick.emit({originalEvent:e,item:i})}static \u0275fac=function(i){return new(i||t)(B(_t(()=>Kn)))};static \u0275cmp=R({type:t,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},attrs:Mh,decls:5,vars:3,consts:[["itemContent",""],["htmlLabel",""],[1,"p-menuitem-content",3,"click"],[4,"ngIf"],["class","p-menuitem-link","pRipple","",3,"target","ngClass",4,"ngIf"],["routerLinkActive","p-menuitem-link-active","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",1,"p-menuitem-link",3,"target","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menuitem-link-active","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"]],template:function(i,n){if(i&1){let o=T();r(0,"div",2),b("click",function(f){return g(o),h(n.onItemClick(f,n.item))}),m(1,Dh,3,2,"ng-container",3)(2,Rh,2,4,"ng-container",3)(3,$h,5,4,"ng-template",null,0,O),c()}i&2&&(k("data-pc-section","content"),l(),p("ngIf",!n.itemTemplate),l(),p("ngIf",n.itemTemplate))},dependencies:[le,ye,ie,ue,Tt,bi,qe,La],encapsulation:2})}return t})(),Kn=(()=>{class t{document;platformId;el;renderer;cd;config;overlayService;model;popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;onShow=new L;onHide=new L;onBlur=new L;onFocus=new L;listViewChild;containerViewChild;templates;startTemplate;endTemplate;itemTemplate;submenuHeaderTemplate;container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=Ee(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=ce(-1);selectedOptionIndex=ce(-1);focused=!1;overlayVisible=!1;relativeAlign;constructor(e,i,n,o,d,f,S){this.document=e,this.platformId=i,this.el=n,this.renderer=o,this.cd=d,this.config=f,this.overlayService=S,this.id=this.id||je()}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.markForCheck()}ngOnInit(){this.popup||this.bindDocumentClickListener()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template;break;case"itemTemplate":this.itemTemplate=e.template;break;case"submenuheader":this.submenuHeaderTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),I.focus(this.listViewChild.nativeElement));break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&st.clear(e.element);break}}alignOverlay(){this.relativeAlign?I.relativePosition(this.container,this.target):I.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):I.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&st.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!I.isTouchDevice()&&this.hide()}menuitemId(e,i,n,o){return e?.id??`${i}_${n}${o!==void 0?"_"+o:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&(I.focus(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let i=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(i),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)I.focus(this.target),this.hide(),e.preventDefault();else{let i=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(i),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(I.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let i=I.findSingle(this.containerViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),n=i&&I.findSingle(i,"a");this.popup&&I.focus(this.target),n?n.click():i&&i.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let n=[...I.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(o=>o.id===e);return n>-1?n+1:0}findPrevOptionIndex(e){let n=[...I.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(o=>o.id===e);return n>-1?n-1:0}changeFocusedOptionIndex(e){let i=I.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(i.length>0){let n=e>=i.length?i.length-1:e<0?0:e;n>-1&&this.focusedOptionIndex.set(i[n].getAttribute("id"))}}itemClick(e,i){let{originalEvent:n,item:o}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),o.disabled){n.preventDefault();return}!o.url&&!o.routerLink&&n.preventDefault(),o.command&&o.command({originalEvent:n,item:o}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==i&&this.focusedOptionIndex.set(i)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&ke(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",i=>{let n=this.containerViewChild.nativeElement&&!this.containerViewChild.nativeElement.contains(i.target),o=!(this.target&&(this.target===i.target||this.target.contains(i.target)));!this.popup&&n&&o&&this.onListBlur(i),this.preventDocumentDefault&&this.overlayVisible&&n&&o&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&ke(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&ke(this.platformId)&&(this.scrollHandler=new Ti(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&st.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener()}hasSubMenu(){if(this.model){for(var e of this.model)if(e.items)return!0}return!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(i=>i.visible!==!1):e.visible===!1}static \u0275fac=function(i){return new(i||t)(B(ht),B(Ye),B(Ve),B(at),B(me),B(rt),B(ii))};static \u0275cmp=R({type:t,selectors:[["p-menu"]],contentQueries:function(i,n,o){if(i&1&&te(o,U,4),i&2){let d;D(d=F())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&(X(Nh,5),X(Kh,5)),i&2){let o;D(o=F())&&(n.listViewChild=o.first),D(o=F())&&(n.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",V],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",_e],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",_e]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[de],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","ngClass","ngStyle"],["class","p-menu-start",4,"ngIf"],["role","menu",1,"p-menu-list","p-reset",3,"focus","blur","keydown"],[4,"ngIf"],["class","p-menu-end",4,"ngIf"],[1,"p-menu-start"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["class","p-menuitem-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menuitem-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","menuitem",3,"pMenuItemContent","itemTemplate","ngClass","ngStyle","class","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",1,"p-menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngClass","ngStyle","tooltipOptions"],[1,"p-menu-end"]],template:function(i,n){i&1&&m(0,uC,8,25,"div",3),i&2&&p("ngIf",!n.popup||n.visible)},dependencies:[le,yt,ye,ie,ue,he,fC,La],styles:[`@layer primeng{.p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}}
`],encapsulation:2,data:{animation:[wt("overlayAnimation",[Ge(":enter",[We({opacity:0,transform:"scaleY(0.8)"}),Ue("{{showTransitionParams}}")]),Ge(":leave",[Ue("{{hideTransitionParams}}",We({opacity:0}))])])]},changeDetection:0})}return t})(),Ra=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ve({type:t});static \u0275inj=xe({imports:[fe,Nt,Ze,re,Se,Nt,re,Se]})}return t})();var hC=["filterInput"],CC=()=>({minHeight:"528px",height:"80vh",width:"50vw"}),bC=()=>({"768px":"80vw","576px":"100vw"}),xC=()=>({width:"30vw"}),vC=()=>({"768px":"50vw","576px":"90vw"}),yC=()=>({height:"calc(80vh - 165px)",minHeight:"363px"}),TC=t=>({title:"techPicker.available",ids:t,class:"p-button-text"}),IC=t=>({title:"techPicker.locked",ids:t,class:"p-button-danger"}),SC=t=>({title:"techPicker.researched",ids:t,class:"p-button-success"}),wC=(t,a)=>({id:t,class:a});function kC(t,a){if(t&1){let e=T();r(0,"div",15)(1,"span",7),C(2),_(3,"translate"),c(),r(4,"button",19),_(5,"translate"),b("click",function(){g(e);let n=s();return h(n.copyScriptToClipboard())}),c(),x(6,"a",20),_(7,"translate"),c()}t&2&&(l(2),y(u(3,3,"techPicker.exportFromFactorio")),l(2),p("label",u(5,5,"techPicker.exportCopyScript")),l(2),p("label",u(7,7,"techPicker.exportUseMod")))}function MC(t,a){if(t&1){let e=T();r(0,"button",21),_(1,"translate"),b("click",function(){g(e);let n=s();return h(n.importTechs())}),c(),r(2,"button",22),_(3,"translate"),b("click",function(){g(e);let n=s();return h(n.importVisible=!1)}),c()}t&2&&(p("label",u(1,2,"ok")),l(2),p("label",u(3,4,"cancel")))}function EC(t,a){t&1&&P(0)}function OC(t,a){t&1&&P(0)}function VC(t,a){t&1&&P(0)}function BC(t,a){t&1&&(r(0,"i"),C(1),_(2,"translate"),c()),t&2&&(l(),y(u(2,1,"none")))}function PC(t,a){t&1&&P(0)}function DC(t,a){if(t&1&&m(0,PC,1,0,"ng-container",23),t&2){let e=a.$implicit,i=s().class;s();let n=w(7);p("ngTemplateOutlet",n)("ngTemplateOutletContext",Y(2,wC,e,i))}}function FC(t,a){if(t&1&&(r(0,"h3"),C(1),_(2,"translate"),c(),r(3,"div",24),m(4,BC,3,3,"i"),G(5,DC,1,5,"ng-container",null,gt),c()),t&2){let e=a.title,i=a.ids;l(),y(u(2,2,e)),l(3),v(i.length===0?4:-1),l(),Z(i)}}function LC(t,a){if(t&1&&x(0,"lab-tooltip",26),t&2){let e=s().id;p("id",e)}}function RC(t,a){if(t&1){let e=T();r(0,"button",25),_(1,"iconSmClass"),b("click",function(){let n=g(e).id,o=s(2);return h(o.clickId(n))}),m(2,LC,1,1,"ng-template",null,4,O),c()}if(t&2){let e,i=a.id,n=a.class,o=w(3),d=s(2);M(n),Me("hover-active",d.selection().indexOf(i)===-1),p("label",d.showTechLabels()&&((e=d.data().itemEntities[i])==null?null:e.name)||"")("icon",u(1,7,i))("pTooltip",o)}}function AC(t,a){if(t&1&&(r(0,"p-scrollPanel"),m(1,EC,1,0,"ng-container",23)(2,OC,1,0,"ng-container",23)(3,VC,1,0,"ng-container",23)(4,FC,7,4,"ng-template",null,2,O)(6,RC,4,9,"ng-template",null,3,O),c()),t&2){let e=w(5),i=s();$e(J(8,yC)),l(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",N(9,TC,i.status().available)),l(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",N(11,IC,i.status().locked)),l(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",N(13,SC,i.status().researched))}}function zC(t,a){if(t&1){let e=T();r(0,"button",21),_(1,"translate"),b("click",function(){g(e);let n=s();return h(n.hide())}),c(),r(2,"button",22),_(3,"translate"),b("click",function(){g(e);let n=s();return h(n.hide(!0))}),c()}t&2&&(p("label",u(1,2,"ok")),l(2),p("label",u(3,4,"cancel")))}var Aa=(()=>{class t extends jt{filterSvc=A(vi);translateSvc=A(At);store=A(we);contentSvc=A(Xe);filterInput=Ut.required("filterInput");selectIds=new L;data=this.store.selectSignal(Te.selectAdjustedDataset);showTechLabels=this.store.selectSignal(Ie.selectShowTechLabels);filter=ce("");selection=ce([]);allSelected=Ee(()=>this.selection().length===this.data().technologyIds.length);status=Ee(()=>{let e=this.data(),i=this.filter(),n=this.selection(),o=new Set(n),d=[],f=[],S=e.technologyIds;if(i){let $=S.map(z=>e.itemEntities[z]);S=this.filterSvc.filter($,["name"],i,"contains").map(z=>z.id),n=n.filter(z=>S.includes(z))}let E=n;for(let $ of S)if(!o.has($)){let z=e.technologyEntities[$];z.prerequisites==null||z.prerequisites.every(Ce=>o.has(Ce))?d.push($):f.push($)}return{available:d,locked:f,researched:E}});importVisible=!1;importValue="";Game=ei;clickOpen(e){e=[...e??this.data().technologyIds],this.selection.set(e),this.show(),this.contentSvc.isMobile()||setTimeout(()=>{this.filterInput().nativeElement.focus()})}selectAll(e){this.selection.set(e?[...this.data().technologyIds]:[])}openImport(e){this.importVisible=!0,this.importValue="",setTimeout(()=>e.focus())}copyScriptToClipboard(){window.navigator.clipboard.writeText(`/c local list = {}
for _, tech in pairs(game.player.force.technologies) do
    if tech.researched then
        list[#list + 1] = tech.name
    end
end
game.write_file("techs.txt", table.concat(list, ","))
`),this.translateSvc.get("techPicker.exportScriptCopied").pipe(ot()).subscribe(i=>{this.contentSvc.showToast$.next({severity:"success",detail:i,contentStyleClass:"detail-only"})})}importTechs(){let e=this.importValue.split(",").map(n=>n.trim()).map(n=>{if(!n)return"";let o=`${n}-technology`;return this.data().technologyIds.includes(o)?o:this.data().technologyIds.includes(n)?n:""}).filter(n=>!!n),i=new Set(e);this.addPrerequisites(i),this.selection.set(Array.from(i)),this.importValue="",this.importVisible=!1}clickId(e){let i=new Set(this.selection());if(i.has(e)){i.delete(e);let n;do{n=new Set;for(let o of i)this.data().technologyEntities[o].prerequisites?.some(f=>!i.has(f))&&n.add(o);n.forEach(o=>i.delete(o))}while(n.size)}else i.add(e),this.addPrerequisites(i);this.selection.set(Array.from(i))}addPrerequisites(e){let i;do{i=new Set;for(let n of e)this.data().technologyEntities[n].prerequisites?.filter(d=>!e.has(d)).forEach(d=>i.add(d));i.forEach(n=>e.add(n))}while(i.size)}save(){let e=this.selection(),i=this.data();e.length===i.technologyIds.length&&this.selectIds.emit(null);let n=e.filter(o=>!e.some(d=>{let f=i.technologyEntities[d];return f.prerequisites&&f.prerequisites.indexOf(o)!==-1}));this.selectIds.emit(n)}setShowTechLabels(e){this.store.dispatch(Ie.setShowTechLabels({showTechLabels:e}))}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ae(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["lab-tech-picker"]],viewQuery:function(i,n){i&1&&Gt(n.filterInput,hC,5),i&2&&Zt()},outputs:{selectIds:"selectIds"},standalone:!0,features:[ze,ne],decls:28,vars:50,consts:[["filterInput",""],["importInput",""],["techSet",""],["techButton",""],["tooltip",""],["styleClass","picker-dialog","appendTo","body",3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","header","breakpoints"],[1,"d-flex","w-100","my-1","p-inputgroup"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-magnifying-glass"],["pInputText","","type","text",1,"w-100",3,"input","ngModel"],[1,"p-inputgroup-addon","flex-shrink-0"],["labelStyleClass","text-nowrap",3,"onChange","binary","label","ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-file-import",1,"flex-shrink-0",3,"click","label","pTooltip"],["appendTo","body",3,"visibleChange","visible","modal","dismissableMask","draggable","resizable","breakpoints","header"],[1,"d-flex","flex-column"],[1,"p-inputgroup","mb-3"],["rows","10","pInputTextarea","",1,"mt-2","w-100",3,"ngModelChange","keydown.enter","ngModel"],["pTemplate","footer"],[3,"style"],["pButton","","pRipple","","type","button","icon","fa-solid fa-copy",1,"p-button-outlined",3,"click","label"],["href","https://mods.factorio.com/mod/export-researched-technologies","target","_blank","pButton","","pRipple","","icon","fa-solid fa-link",1,"text-decoration-none","p-inputgroup-addon","p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-wrap","invert"],["pButton","","pRipple","","type","button","tooltipPosition","bottom",1,"me-1","mb-1",3,"click","label","icon","pTooltip"],["type","technology",3,"id"]],template:function(i,n){if(i&1){let o=T();r(0,"p-dialog",5),_(1,"translate"),De("visibleChange",function(f){return g(o),Pe(n.visible,f)||(n.visible=f),h(f)}),b("onHide",function(){return g(o),h(n.onHide())}),r(2,"div",6)(3,"span",7),x(4,"i",8),c(),r(5,"input",9,0),b("input",function(){g(o);let f=w(6);return h(n.filter.set(f.value))}),c(),r(7,"span",10)(8,"p-checkbox",11),_(9,"translate"),b("onChange",function(f){return g(o),h(n.selectAll(f.checked))}),c()(),r(10,"span",10)(11,"p-checkbox",11),_(12,"translate"),b("onChange",function(f){return g(o),h(n.setShowTechLabels(f.checked))}),c()(),r(13,"button",12),_(14,"translate"),_(15,"translate"),b("click",function(){g(o);let f=w(24);return h(n.openImport(f))}),c(),r(16,"p-dialog",13),_(17,"translate"),De("visibleChange",function(f){return g(o),Pe(n.importVisible,f)||(n.importVisible=f),h(f)}),r(18,"div",14),m(19,kC,8,9,"div",15),r(20,"div"),C(21),_(22,"translate"),c(),r(23,"textarea",16,1),De("ngModelChange",function(f){return g(o),Pe(n.importValue,f)||(n.importValue=f),h(f)}),b("keydown.enter",function(){return g(o),h(n.importTechs())}),c()(),m(25,MC,4,6,"ng-template",17),c()(),m(26,AC,8,15,"p-scrollPanel",18)(27,zC,4,6,"ng-template",17),c()}i&2&&($e(J(46,CC)),Be("visible",n.visible),p("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("header",u(1,32,"techPicker.header"))("breakpoints",J(47,bC)),l(5),p("ngModel",n.filter()),l(3),p("binary",!0)("label",u(9,34,"techPicker.unlockAll"))("ngModel",n.allSelected()),l(3),p("binary",!0)("label",u(12,36,"techPicker.showLabels"))("ngModel",n.showTechLabels()),l(2),p("label",u(14,38,"techPicker.import"))("pTooltip",u(15,40,"techPicker.importTooltip")),l(3),$e(J(48,xC)),Be("visible",n.importVisible),p("modal",!0)("dismissableMask",!0)("draggable",!0)("resizable",!1)("breakpoints",J(49,vC))("header",u(17,42,"techPicker.importHeader")),l(3),v(n.data().game===n.Game.Factorio?19:-1),l(2),y(u(22,44,"techPicker.importInstructions")),l(2),Be("ngModel",n.importValue),l(3),v(n.visible?26:-1))},dependencies:[Re,li,Fe,Le,ie,se,ge,U,Ct,mt,Et,Mt,Di,Pi,re,he,Ne,bt,Oe],encapsulation:2,changeDetection:0})}return t})();var HC=(t,a)=>a.key,Cn=(t,a)=>a.id,jC=()=>({height:"100%"}),Qn=t=>({count:t}),$C=()=>({width:"400px",maxHeight:"500px"}),NC=()=>({"400px":"100vw"}),KC=()=>[];function QC(t,a){if(t&1&&(r(0,"div"),C(1),c()),t&2){let e=s(2);l(),y(e.state)}}function WC(t,a){if(t&1&&(r(0,"div",63)(1,"div"),C(2),_(3,"translate"),c(),m(4,QC,2,1,"div"),c()),t&2){let e=s();l(2),y(u(3,2,"settings.savedStates")),l(2),v(e.state?4:-1)}}function qC(t,a){if(t&1){let e=T();r(0,"div",24)(1,"button",64),b("click",function(){g(e);let n=w(3),o=s();return h(o.setSearch(n.value))}),c(),x(2,"input",65,5),r(4,"button",66),b("click",function(){g(e);let n=w(3),o=s();return h(o.copySearchToClipboard(n.value))}),c()()}if(t&2){let e=s();l(2),p("ngModel",e.BrowserUtility.search)}}function UC(t,a){if(t&1){let e=T();r(0,"div",24)(1,"input",67,6),_(3,"translate"),_(4,"translate"),De("ngModelChange",function(n){g(e);let o=s();return Pe(o.editValue,n)||(o.editValue=n),h(n)}),b("keydown.enter",function(){g(e);let n=s();return h(n.clickSaveState(n.data().game))}),c(),r(5,"button",68),_(6,"translate"),b("click",function(){g(e);let n=s();return h(n.clickSaveState(n.data().game))}),c(),r(7,"button",69),_(8,"translate"),b("click",function(){g(e);let n=s();return h(n.editState=null)}),c()()}if(t&2){let e=w(2),i=s();l(),p("autofocus",!0)("placeholder",u(3,7,"settings.nameSavedState"))("pTooltip",u(4,9,"settings.nameSavedState")),Be("ngModel",i.editValue),l(4),p("pTooltip",u(6,11,"settings.saveState"))("disabled",e.invalid),l(2),p("pTooltip",u(8,13,"cancel"))}}function GC(t,a){if(t&1&&(r(0,"a",75),x(1,"span",76),r(2,"span",77),C(3),_(4,"translate"),c()()),t&2){let e=a.$implicit;l(),p("ngClass",e.icon),l(2),y(u(4,2,e.label))}}function ZC(t,a){if(t&1){let e=T();r(0,"button",73),b("click",function(n){g(e);let o=w(2);return h(o.toggle(n))}),r(1,"p-menu",74,7),m(3,GC,5,4,"ng-template",45),c()()}if(t&2){let e=s(2);l(),p("popup",!0)("model",e.editStateMenu)}}function XC(t,a){if(t&1){let e=T();r(0,"button",78),_(1,"translate"),b("click",function(){g(e);let n=s(2);return h(n.openCreateState())}),c()}t&2&&p("pTooltip",u(1,1,"settings.createSavedState"))}function YC(t,a){if(t&1){let e=T();r(0,"div",25)(1,"p-dropdown",70),_(2,"translate"),_(3,"translate"),b("onChange",function(n){g(e);let o=s();return h(o.setState(n.value,o.gameStates()))}),c(),m(4,ZC,4,2,"button",71)(5,XC,2,3,"button",72),c()}if(t&2){let e=s();l(),p("placeholder",u(2,5,"settings.selectSavedState"))("pTooltip",u(3,7,"settings.selectSavedState"))("ngModel",e.state)("options",e.savedStates()),l(3),v(e.state?4:5)}}function JC(t,a){if(t&1){let e=T();r(0,"button",79),_(1,"translate"),b("click",function(){g(e);let n=s();return h(n.openCreateState())}),c()}t&2&&p("label",u(1,1,"settings.createSavedState"))}function eb(t,a){if(t&1&&(r(0,"div",63)(1,"div"),C(2),_(3,"translate"),c(),r(4,"div"),C(5),c()()),t&2){let e,i=s();l(2),y(u(3,2,"settings.game")),l(3),y((e=i.modRecord()[i.settings().modId])==null?null:e.id)}}function tb(t,a){if(t&1&&(r(0,"small",53),C(1),c()),t&2){let e=a.$implicit;l(),j(" ",e.value," ")}}function ib(t,a){if(t&1&&(G(0,tb,2,1,"small",53,HC),_(2,"keyvalue")),t&2){let e=s();Z(u(2,0,e.data().version))}}function nb(t,a){t&1&&(r(0,"tr")(1,"th"),C(2),_(3,"translate"),c(),r(4,"th"),C(5),_(6,"translate"),c()()),t&2&&(l(2),y(u(3,2,"settings.mod")),l(3),y(u(6,4,"settings.version")))}function ob(t,a){if(t&1&&(r(0,"tr")(1,"td"),C(2),c(),r(3,"td"),C(4),c()()),t&2){let e=a.$implicit;l(2),y(e.key),l(2),y(e.value)}}function ab(t,a){if(t&1){let e=T();r(0,"button",89),_(1,"translate"),b("click",function(){g(e);let n=s(2);return h(n.versionsVisible=!1)}),c()}t&2&&p("label",u(1,1,"ok"))}function lb(t,a){if(t&1){let e=T();r(0,"div",32)(1,"label",80),C(2),_(3,"translate"),c(),r(4,"small",81)(5,"a",82),C(6),_(7,"translate"),c()(),r(8,"span",25)(9,"p-dropdown",83),_(10,"translate"),b("onChange",function(n){g(e);let o=s();return h(o.setMod(n.value))}),c(),r(11,"button",84),_(12,"translate"),b("click",function(){g(e);let n=s();return h(n.versionsVisible=!0)}),r(13,"p-dialog",85),_(14,"translate"),De("visibleChange",function(n){g(e);let o=s();return Pe(o.versionsVisible,n)||(o.versionsVisible=n),h(n)}),r(15,"p-table",86),_(16,"keyvalue"),m(17,nb,7,6,"ng-template",23)(18,ob,5,2,"ng-template",87),c(),m(19,ab,2,3,"ng-template",88),c()()()()}if(t&2){let e=s();l(2),y(u(3,18,"settings.modSet")),l(4),y(u(7,20,"settings.requestMod")),l(3),p("filter",!0)("autofocusFilter",!e.contentSvc.isMobile())("pTooltip",u(10,22,"settings.modSetTooltip"))("ngModel",e.settings().modId)("options",e.modOptions()),l(2),p("pTooltip",u(12,24,"settings.modVersions")),l(2),$e(J(30,$C)),Be("visible",e.versionsVisible),p("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("breakpoints",J(31,NC))("header",u(14,26,"settings.modVersions")),l(2),p("value",u(16,28,e.data().version))}}function sb(t,a){t&1&&(r(0,"div"),C(1),_(2,"translate"),c()),t&2&&(l(),y(u(2,1,a)))}function rb(t,a){if(t&1&&(r(0,"div",63)(1,"div"),C(2),_(3,"translate"),c(),m(4,sb,3,3,"div"),c()),t&2){let e;s();let i=w(58);l(2),y(u(3,2,"settings.factory")),l(2),v((e=i.label())?4:-1,e)}}function pb(t,a){if(t&1&&(x(0,"i",95),_(1,"iconSmClass")),t&2){let e=a.$implicit;M(u(1,2,e))}}function cb(t,a){if(t&1&&(r(0,"div",93),G(1,pb,2,4,"i",94,gt),c()),t&2){let e=a.$implicit;l(),Z(e)}}function db(t,a){if(t&1&&x(0,"lab-tooltip",98),t&2){let e=s().$implicit;p("id",e.value)}}function mb(t,a){if(t&1&&(r(0,"div",96),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,db,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function _b(t,a){if(t&1){let e=T();r(0,"div",33)(1,"div",29)(2,"p-multiSelect",90),_(3,"translate"),b("onChange",function(n){let o;g(e);let d=s();return h(d.setModuleRank(n.value,(o=d.data().defaults)==null?null:o.moduleRankIds))}),m(4,cb,3,0,"ng-template",91)(5,mb,7,6,"ng-template",45),c(),r(6,"label",92),C(7),_(8,"translate"),c()()()}if(t&2){let e=s();l(2),p("pTooltip",u(3,4,"settings.modifierRankTooltip"))("ngModel",e.machinesState().moduleRankIds)("options",e.options().modules),l(5),y(u(8,6,"settings.modifierRank"))}}function ub(t,a){if(t&1&&(x(0,"i",95),_(1,"iconSmClass")),t&2){let e=a.$implicit;M(u(1,2,e))}}function fb(t,a){if(t&1&&(r(0,"div",93),G(1,ub,2,4,"i",94,gt),c()),t&2){let e=a.$implicit;l(),Z(e)}}function gb(t,a){if(t&1&&x(0,"lab-tooltip",98),t&2){let e=s().$implicit;p("id",e.value)}}function hb(t,a){if(t&1&&(r(0,"div",96),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,gb,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function Cb(t,a){if(t&1){let e=T();r(0,"div",33)(1,"div",29)(2,"p-multiSelect",99),_(3,"translate"),b("onChange",function(n){let o;g(e);let d=s();return h(d.setFuelRank(n.value,(o=d.data().defaults)==null?null:o.fuelRankIds))}),m(4,fb,3,0,"ng-template",91)(5,hb,7,6,"ng-template",45),c(),r(6,"label",100),C(7),_(8,"translate"),c()()()}if(t&2){let e=s();l(2),p("pTooltip",u(3,4,"settings.fuelRankTooltip"))("ngModel",e.machinesState().fuelRankIds)("options",e.options().fuels),l(5),y(u(8,6,"settings.fuelRank"))}}function bb(t,a){t&1&&(r(0,"div",108),x(1,"i",109),c())}function xb(t,a){if(t&1&&x(0,"lab-tooltip",111),t&2){let e=s().$implicit;p("id",e.value)}}function vb(t,a){if(t&1&&(r(0,"div",110),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,xb,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function yb(t,a){if(t&1){let e=T();r(0,"p-inputNumber",112,9),_(2,"translate"),b("onBlur",function(){let n;g(e);let o=w(1),d=s(2);return h(d.setDefaultOverclock(d.rational((n=o.value)!==null&&n!==void 0?n:100)))}),c()}if(t&2){let e,i=s(2);p("min",1)("max",250)("step",10)("maxFractionDigits",2)("showButtons",!0)("pTooltip",u(2,7,"settings.overclockTooltip"))("ngModel",(e=i.machinesState().overclock)==null?null:e.toNumber())}}function Tb(t,a){if(t&1&&(r(0,"i",116),_(1,"iconSmClass"),r(2,"span"),C(3),c()()),t&2){let e=a.$implicit;M(u(1,3,e.id)),l(3),y(e.count)}}function Ib(t,a){if(t&1&&(r(0,"div",93)(1,"i",116),_(2,"iconSmClass"),r(3,"span"),C(4),c()(),G(5,Tb,4,5,"i",117,Cn),c()),t&2){let e=a.$implicit;l(),M(u(2,3,e.id)),l(3),y(e.count),l(),Z(e.modules)}}function Sb(t,a){t&1&&x(0,"lab-tooltip",118),t&2&&p("id",a)}function wb(t,a){if(t&1&&m(0,Sb,1,1,"lab-tooltip",118),t&2){let e,i=s();v((e=i==null||i[0]==null?null:i[0].id)?0:-1,e)}}function kb(t,a){if(t&1){let e=T();r(0,"button",113),b("click",function(n){let o=g(e),d=w(5);return h(d.show(n,o))}),G(1,Ib,7,5,"div",93,$t),x(3,"i",114),c(),r(4,"lab-beacons-overlay",115,10),b("setValue",function(n){g(e);let o=s(2);return h(o.changeDefaultBeacons(n))}),c(),m(6,wb,1,1,"ng-template",null,8,O)}if(t&2){let e=w(7);p("pTooltip",e),l(),Z(a)}}function Mb(t,a){if(t&1&&(r(0,"div",93),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=s().$implicit;l(),M(u(2,2,e.value))}}function Eb(t,a){if(t&1&&(r(0,"div"),C(1),c()),t&2){let e=s(4).$implicit;l(),y(e)}}function Ob(t,a){if(t&1&&m(0,Mb,3,4,"div",93)(1,Eb,2,1,"div"),t&2){let e=a.$implicit;v(e?0:1)}}function Vb(t,a){if(t&1&&x(0,"lab-tooltip",111),t&2){let e=s().$implicit;p("id",e.value)}}function Bb(t,a){if(t&1&&(r(0,"div",110),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,Vb,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function Pb(t,a){if(t&1&&(r(0,"div",93),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=a.$implicit;l(),M(u(2,2,e.value))}}function Db(t,a){if(t&1&&x(0,"lab-tooltip",98),t&2){let e=s().$implicit;p("id",e.value)}}function Fb(t,a){if(t&1&&(r(0,"div",110),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,Db,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function Lb(t,a){if(t&1){let e=T();r(0,"p-dropdown",121),_(1,"translate"),b("onChange",function(n){g(e);let o=s(2),d=s().$implicit,f=s(2);return h(f.changeFuel(d,n.value,o,f.machinesState().fuelRankIds))}),m(2,Pb,3,4,"ng-template",44)(3,Fb,7,6,"ng-template",45),c()}if(t&2){let e=s(2);p("pTooltip",u(1,3,"settings.fuelTooltip"))("ngModel",e.fuelId)("options",e.fuelOptions)}}function Rb(t,a){if(t&1&&(r(0,"div",93),x(1,"i"),_(2,"iconSmClass"),c()),t&2){let e=a.$implicit;l(),M(u(2,2,e.value))}}function Ab(t,a){if(t&1&&x(0,"lab-tooltip",124),t&2){let e=s().$implicit;p("id",e.value)}}function zb(t,a){if(t&1&&(r(0,"div",110),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,Ab,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",e.value!=="module"?i:void 0),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function Hb(t,a){if(t&1){let e=T();r(0,"p-dropdown",121),_(1,"translate"),b("onChange",function(n){g(e);let o=s(4).$implicit,d=s(2);return h(d.changeModules(o,[{id:n.value,count:d.rational.one}]))}),m(2,Rb,3,4,"ng-template",44)(3,zb,7,6,"ng-template",45),c()}if(t&2){let e,i=s(3);p("pTooltip",u(1,3,"settings.modifierTooltip"))("ngModel",i.modules[0].id)("options",(e=i.moduleOptions)!==null&&e!==void 0?e:J(5,KC))}}function jb(t,a){if(t&1&&(r(0,"i",116),_(1,"iconSmClass"),r(2,"span"),C(3),c()()),t&2){let e=a.$implicit;M(u(1,3,e.id)),l(3),y(e.count)}}function $b(t,a){if(t&1&&x(0,"lab-tooltip",124),t&2){let e=s().$implicit;p("id",e.id)}}function Nb(t,a){if(t&1&&m(0,$b,1,1,"lab-tooltip",124),t&2){let e=a.$implicit;v(e.id?0:-1)}}function Kb(t,a){if(t&1&&G(0,Nb,1,1,null,null,Cn),t&2){let e=s(4);Z(e.modules)}}function Qb(t,a){if(t&1){let e=T();r(0,"button",125),b("click",function(n){g(e);let o=w(5),d=s(2),f=s();return h(o.show(n,f.modules,d))}),G(1,jb,4,5,"i",117,Cn),x(3,"i",114),c(),r(4,"lab-modules-overlay",115,11),b("setValue",function(n){g(e);let o=s(4).$implicit,d=s(2);return h(d.changeModules(o,n))}),c(),m(6,Kb,2,0,"ng-template",null,8,O)}if(t&2){let e=w(7),i=s(3);p("pTooltip",e),l(),Z(i.modules)}}function Wb(t,a){if(t&1&&m(0,Hb,4,6,"p-dropdown",122)(1,Qb,8,1),t&2){let e=s();v(e.modules!==!0&&(e.modules!=null&&e.modules.isOne())?0:1)}}function qb(t,a){if(t&1){let e=T();r(0,"p-inputNumber",112,9),_(2,"translate"),b("onBlur",function(){let n;g(e);let o=w(1),d=s(3).$implicit,f=s(2);return h(f.setOverclock(d,f.rational((n=o.value)!==null&&n!==void 0?n:100),d?f.machinesState().entities[""].overclock:f.rational(100)))}),c()}if(t&2){let e=s(2);p("min",1)("max",250)("step",10)("maxFractionDigits",2)("showButtons",!0)("pTooltip",u(2,7,"settings.overclockTooltip"))("ngModel",e.overclock==null?null:e.overclock.toNumber())}}function Ub(t,a){if(t&1&&(r(0,"i",116),_(1,"iconSmClass"),r(2,"span"),C(3),c()()),t&2){let e=a.$implicit;M(u(1,3,e.id)),l(3),y(e.count)}}function Gb(t,a){if(t&1&&(r(0,"div",93)(1,"i",116),_(2,"iconSmClass"),r(3,"span"),C(4),c()(),G(5,Ub,4,5,"i",117,Cn),c()),t&2){let e=a.$implicit;l(),M(u(2,3,e.id)),l(3),y(e.count),l(),Z(e.modules)}}function Zb(t,a){t&1&&x(0,"lab-tooltip",118),t&2&&p("id",a)}function Xb(t,a){if(t&1&&m(0,Zb,1,1,"lab-tooltip",118),t&2){let e,i=s(3);v((e=i.beacons==null||i.beacons[0]==null?null:i.beacons[0].id)?0:-1,e)}}function Yb(t,a){if(t&1){let e=T();r(0,"button",113),b("click",function(n){g(e);let o=w(5),d=s(2);return h(o.show(n,d.beacons))}),G(1,Gb,7,5,"div",93,$t),x(3,"i",114),c(),r(4,"lab-beacons-overlay",115,10),b("setValue",function(n){g(e);let o=s(3).$implicit,d=s(2);return h(d.changeBeacons(o,n))}),c(),m(6,Xb,1,1,"ng-template",null,8,O)}if(t&2){let e=w(7),i=s(2);p("pTooltip",e),l(),Z(i.beacons)}}function Jb(t,a){if(t&1){let e=T();r(0,"div",119),x(1,"button",120),r(2,"p-dropdown",121),_(3,"translate"),_(4,"filterOptions"),b("onChange",function(n){let o;g(e);let d=s(2).$implicit,f=s(2);return h(f.setMachine(d,n.value,(o=f.data().defaults)==null?null:o.machineRankIds))}),m(5,Ob,2,1,"ng-template",44)(6,Bb,7,6,"ng-template",45),c(),m(7,Lb,4,5,"p-dropdown",122)(8,Wb,2,1)(9,qb,3,9,"p-inputNumber",105)(10,Yb,8,1),r(11,"button",123),_(12,"translate"),b("click",function(){let n;g(e);let o=s(2).$implicit,d=s(2);return h(d.removeMachine(o,(n=d.data().defaults)==null?null:n.machineRankIds))}),c()()}if(t&2){let e=s(),i=s().$implicit,n=s(2);l(2),p("pTooltip",u(3,10,"settings.machineTooltip"))("ngModel",i)("options",Lt(4,12,n.options().machines,n.machineIds(),i)),l(5),v(e.fuelId?7:-1),l(),v(e.modules&&a.modules?8:-1),l(),v(n.data().game===n.Game.Satisfactory?9:-1),l(),v(e.beacons&&e.beacons.length?10:-1),l(),Me("invisible",i===""),p("pTooltip",u(12,16,"settings.removeMachinePreference"))}}function ex(t,a){if(t&1&&m(0,Jb,13,18,"div",119),t&2){let e,i=s().$implicit,n=s(2);v((e=n.data().machineEntities[i])?0:-1,e)}}function tx(t,a){if(t&1&&m(0,ex,1,1),t&2){let e,i=a.$implicit,n=s(2);v((e=n.machinesState().entities[i])?0:-1,e)}}function ix(t,a){if(t&1){let e=T();r(0,"div",101)(1,"span",102),_(2,"translate"),x(3,"i",103),c(),r(4,"p-dropdown",104),_(5,"translate"),_(6,"filterOptions"),b("onChange",function(n){let o;g(e);let d=s();return h(d.addMachine(n.value,(o=d.data().defaults)==null?null:o.machineRankIds))}),m(7,bb,2,0,"ng-template",44)(8,vb,7,6,"ng-template",45),c(),m(9,yb,3,9,"p-inputNumber",105)(10,kb,8,1),c(),r(11,"p-orderList",106),b("onReorder",function(){let n;g(e);let o=s();return h(o.setMachineRank(o.machineIds(),(n=o.data().defaults)==null?null:n.machineRankIds))}),m(12,tx,1,1,"ng-template",45),c(),x(13,"div",107)}if(t&2){let e,i,n=s();l(),p("pTooltip",u(2,10,"settings.machineDefaults")),l(3),Me("invisible",!n.options().machines.length),p("ngModel",(e=n.options().machines[0])==null?null:e.value)("pTooltip",u(5,12,"settings.addMachineTooltip"))("options",K(6,14,n.options().machines,n.machineIds())),l(5),v(n.data().game===n.Game.Satisfactory?9:-1),l(),v((i=n.data().game===n.Game.Factorio&&n.machinesState().beacons)?10:-1,i),l(),p("value",n.machineIds())("dragdrop",!0)}}function nx(t,a){if(t&1){let e=T();r(0,"div",36)(1,"p-checkbox",126),_(2,"translate"),_(3,"translate"),b("onChange",function(n){g(e);let o=s();return h(o.toggleBeaconReceivers(n.checked))}),c()()}if(t&2){let e=s();l(),p("ngModel",e.settings().beaconReceivers!=null)("binary",!0)("label",u(2,4,"settings.estimateBeaconPowerUsage"))("pTooltip",u(3,6,"settings.estimateBeaconPowerUsageTooltip"))}}function ox(t,a){if(t&1){let e=T();r(0,"div",36)(1,"label",127),C(2),_(3,"translate"),c(),r(4,"lab-input-number",128),_(5,"translate"),b("setValue",function(n){g(e);let o=s();return h(o.setBeaconReceivers(n))}),c()()}t&2&&(l(2),y(u(3,3,"settings.averageBeaconReceivers")),l(2),p("pTooltip",u(5,5,"settings.averageBeaconReceiversTooltip"))("value",a))}function ax(t,a){if(t&1&&(r(0,"div",131),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c()()),t&2){let e=a.$implicit;l(),M(u(2,3,e.value)),l(3),j(" ",e.label," ")}}function lx(t,a){if(t&1&&x(0,"lab-tooltip",124),t&2){let e=s().$implicit;p("id",e.value)}}function sx(t,a){if(t&1&&(r(0,"div",110),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,lx,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",e.value!=="module"?i:void 0),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function rx(t,a){if(t&1){let e=T();r(0,"div",33)(1,"div",29)(2,"p-dropdown",129),_(3,"translate"),b("onChange",function(n){g(e);let o=s();return h(o.setProliferatorSpray(n.value))}),m(4,ax,5,5,"ng-template",44)(5,sx,7,6,"ng-template",45),c(),r(6,"label",130),C(7),_(8,"translate"),c()()()}if(t&2){let e=s();l(2),p("autoDisplayFirst",!1)("pTooltip",u(3,5,"settings.proliferatorSelfSprayTooltip"))("ngModel",e.settings().proliferatorSprayId)("options",e.options().proliferatorModules),l(5),y(u(8,7,"settings.proliferatorSelfSpray"))}}function px(t,a){if(t&1&&(r(0,"div",131),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c()()),t&2){let e=s().$implicit;l(),M(u(2,3,e.value)),l(3),j(" ",e.label," ")}}function cx(t,a){if(t&1&&m(0,px,5,5,"div",131),t&2){let e=a.$implicit;v(e?0:-1)}}function dx(t,a){if(t&1&&x(0,"lab-tooltip",132),t&2){let e=s().$implicit;p("id",e.value)}}function mx(t,a){if(t&1&&(r(0,"div",110),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,dx,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function _x(t,a){if(t&1&&(r(0,"div",131),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c()()),t&2){let e=a.$implicit;l(),M(u(2,3,e.value)),l(3),j(" ",e.label," ")}}function ux(t,a){if(t&1&&x(0,"lab-tooltip",135),t&2){let e=s().$implicit;p("id",e.value)}}function fx(t,a){if(t&1&&(r(0,"div",110),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,ux,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function gx(t,a){if(t&1){let e=T();r(0,"div",33)(1,"div",29)(2,"p-dropdown",133),_(3,"translate"),b("onChange",function(n){let o;g(e);let d=s();return h(d.setPipe(n.value,(o=d.data().defaults)==null?null:o.pipeId))}),m(4,_x,5,5,"ng-template",44)(5,fx,7,6,"ng-template",45),c(),r(6,"label",134),C(7),_(8,"translate"),c()()()}if(t&2){let e=s();l(2),p("pTooltip",u(3,4,"settings.defaultPipeTooltip"))("ngModel",e.settings().pipeId)("options",e.options().pipes),l(5),y(u(8,6,"settings.defaultPipe"))}}function hx(t,a){if(t&1&&(r(0,"div",131),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c()()),t&2){let e=a.$implicit;l(),M(u(2,3,e.value)),l(3),j(" ",e.label," ")}}function Cx(t,a){if(t&1&&x(0,"lab-tooltip",138),t&2){let e=s().$implicit;p("id",e.value)}}function bx(t,a){if(t&1&&(r(0,"div",110),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,Cx,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function xx(t,a){if(t&1){let e=T();r(0,"div",33)(1,"div",29)(2,"p-dropdown",136),_(3,"translate"),b("onChange",function(n){let o;g(e);let d=s();return h(d.setCargoWagon(n.value,(o=d.data().defaults)==null?null:o.cargoWagonId))}),m(4,hx,5,5,"ng-template",44)(5,bx,7,6,"ng-template",45),c(),r(6,"label",137),C(7),_(8,"translate"),c()()()}if(t&2){let e=s();l(2),p("pTooltip",u(3,4,"settings.defaultCargoWagonTooltip"))("ngModel",e.settings().cargoWagonId)("options",e.options().cargoWagons),l(5),y(u(8,6,"settings.defaultCargoWagon"))}}function vx(t,a){if(t&1&&(r(0,"div",131),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c()()),t&2){let e=a.$implicit;l(),M(u(2,3,e.value)),l(3),j(" ",e.label," ")}}function yx(t,a){if(t&1&&x(0,"lab-tooltip",141),t&2){let e=s().$implicit;p("id",e.value)}}function Tx(t,a){if(t&1&&(r(0,"div",110),x(1,"i"),_(2,"iconSmClass"),r(3,"div",97),C(4),c(),m(5,yx,1,1,"ng-template",null,8,O),c()),t&2){let e=a.$implicit,i=w(6);p("pTooltip",i),l(),M(u(2,4,e.value)),l(3),j(" ",e.label," ")}}function Ix(t,a){if(t&1){let e=T();r(0,"div",33)(1,"div",29)(2,"p-dropdown",139),_(3,"translate"),b("onChange",function(n){let o;g(e);let d=s();return h(d.setFluidWagon(n.value,(o=d.data().defaults)==null?null:o.fluidWagonId))}),m(4,vx,5,5,"ng-template",44)(5,Tx,7,6,"ng-template",45),c(),r(6,"label",140),C(7),_(8,"translate"),c()()()}if(t&2){let e=s();l(2),p("pTooltip",u(3,4,"settings.defaultFluidWagonTooltip"))("ngModel",e.settings().fluidWagonId)("options",e.options().fluidWagons),l(5),y(u(8,6,"settings.defaultFluidWagon"))}}function Sx(t,a){if(t&1){let e=T();r(0,"div",33)(1,"div",29)(2,"p-inputNumber",142,12),_(4,"translate"),_(5,"translate"),b("onBlur",function(){let n;g(e);let o=w(3),d=s();return h(d.setFlowRate(d.rational((n=o.value)!==null&&n!==void 0?n:1500)))}),c(),r(6,"label",143),C(7),_(8,"translate"),c(),r(9,"small",53)(10,"a",144),C(11),_(12,"translate"),c()()()(),r(13,"div",28)(14,"div",29)(15,"p-dropdown",145),_(16,"translate"),b("onChange",function(n){g(e);let o=s();return h(o.setInserterTarget(n.value))}),c(),r(17,"label",146),C(18),_(19,"translate"),c()()()}if(t&2){let e=s();l(2),p("suffix"," "+u(4,12,"settings.flowRateUnit"))("min",1)("step",100)("showButtons",!0)("pTooltip",u(5,14,"settings.pipeFlowRateTooltip"))("ngModel",e.settings().flowRate.toNumber()),l(5),y(u(8,16,"settings.pipeFlowRate")),l(4),y(u(12,18,"settings.wiki")),l(4),p("pTooltip",u(16,20,"settings.inserterTargetTooltip"))("ngModel",e.settings().inserterTarget)("options",e.inserterTargetOptions),l(3),y(u(19,22,"settings.inserterTarget"))}}function wx(t,a){if(t&1){let e=T();r(0,"div",28)(1,"div",29)(2,"p-inputNumber",147,13),_(4,"translate"),b("onBlur",function(){let n;g(e);let o=w(3),d=s();return h(d.setMiningBonus(d.rational(((n=o.value)!==null&&n!==void 0?n:100)-100)))}),c(),r(5,"label",148),C(6),_(7,"translate"),c()()()}if(t&2){let e=s();l(2),p("min",100)("step",10)("showButtons",!0)("pTooltip",u(4,6,"settings.miningSpeedTooltip"))("ngModel",e.settings().miningBonus.add(e.rational(100)).toNumber()),l(4),y(u(7,8,"settings.miningSpeed"))}}function kx(t,a){if(t&1){let e=T();r(0,"p-accordionTab",47),_(1,"translate"),r(2,"div",27)(3,"div",33)(4,"div",29)(5,"p-inputNumber",149,14),_(7,"translate"),b("onBlur",function(){let n;g(e);let o=w(6),d=s();return h(d.setMiningBonus(d.rational((n=o.value)!==null&&n!==void 0?n:0)))}),c(),r(8,"label",150),C(9),_(10,"translate"),c()()(),r(11,"div",33)(12,"div",29)(13,"p-dropdown",151),_(14,"translate"),b("onChange",function(n){g(e);let o=s();return h(o.setResearchSpeed(n.value))}),c(),r(15,"label",152),C(16),_(17,"translate"),c()()(),r(18,"div",28)(19,"div",29)(20,"p-dropdown",153),_(21,"translate"),b("onChange",function(n){g(e);let o=s();return h(o.setInserterCapacity(n.value))}),c(),r(22,"label",154),C(23),_(24,"translate"),c()()()()()}if(t&2){let e=s();p("header",u(1,15,"settings.bonuses")),l(5),p("min",0)("step",10)("showButtons",!0)("pTooltip",u(7,17,"settings.miningProductivityTooltip"))("ngModel",e.settings().miningBonus.toNumber()),l(4),y(u(10,19,"settings.miningProductivity")),l(4),p("pTooltip",u(14,21,"settings.researchSpeedTooltip"))("ngModel",e.settings().researchBonus)("options",e.researchSpeedOptions),l(3),y(u(17,23,"settings.researchSpeed")),l(4),p("pTooltip",u(21,25,"settings.inserterCapacityTooltip"))("ngModel",e.settings().inserterCapacity)("options",e.inserterCapacityOptions),l(3),y(u(24,27,"settings.inserterCapacity"))}}function Mx(t,a){if(t&1){let e=T();r(0,"div",33)(1,"span",29)(2,"p-dropdown",155),_(3,"translate"),b("onChange",function(n){g(e);let o=s();return h(o.setPowerUnit(n.value))}),c(),r(4,"label",156),C(5),_(6,"translate"),c()()()}if(t&2){let e=s();l(2),p("pTooltip",u(3,4,"settings.powerUnitTooltip"))("ngModel",e.preferences().powerUnit)("options",e.powerUnitOptions),l(3),y(u(6,6,"settings.powerUnit"))}}var DM=(()=>{class t{contentSvc=A(Xe);router=A(Ui);store=A(we);translateSvc=A(At);routerSvc=A(Ji);active=!1;hidden=!1;itemsState=this.store.selectSignal(Qe.selectItemsState);excludedItemIds=this.store.selectSignal(Qe.selectExcludedItemIds);recipesState=this.store.selectSignal(Te.selectRecipesState);excludedRecipeIds=this.store.selectSignal(Te.selectExcludedRecipeIds);itemIds=this.store.selectSignal(Te.selectAvailableItems);data=this.store.selectSignal(Te.selectAdjustedDataset);machinesState=this.store.selectSignal(Je.selectMachinesState);settings=this.store.selectSignal(H.selectSettings);columnsState=this.store.selectSignal(H.selectColumnsState);options=this.store.selectSignal(H.selectOptions);modOptions=this.store.selectSignal(H.selectModOptions);presetOptions=this.store.selectSignal(H.selectPresetOptions);researchedTechnologyIds=this.store.selectSignal(H.selectAllResearchedTechnologyIds);recipeIds=this.store.selectSignal(H.selectAvailableRecipes);gameStates=this.store.selectSignal(H.selectGameStates);savedStates=this.store.selectSignal(H.selectSavedStates);preferences=this.store.selectSignal(Ie.preferencesState);modRecord=this.store.selectSignal(Bo.selectModEntities);machineIds=Ee(()=>[...it(this.store.selectSignal(Je.selectMachinesState)().ids,[])]);defaults=this.store.selectSignal(H.selectDefaults);state="";editValue="";editState=null;editStateMenu=[{label:"settings.createSavedState",icon:"fa-solid fa-plus",command:()=>this.openCreateState()},{label:"settings.saveSavedState",icon:"fa-solid fa-floppy-disk",command:()=>this.overwriteState()},{label:"settings.editSavedState",icon:"fa-solid fa-pencil",command:()=>this.openEditState()},{label:"settings.deleteSavedState",icon:"fa-solid fa-trash",command:()=>this.clickDeleteState()}];versionsVisible=!1;displayRateOptions=Zi;gameOptions=Ri;inserterCapacityOptions=ho;inserterTargetOptions=Co;languageOptions=bo;powerUnitOptions=To;researchSpeedOptions=Io;themeOptions=Mo;maximizeTypeOptions=vo;Game=ei;ItemId=It;BrowserUtility=ti;rational=oe;ngOnInit(){this.store.select(H.selectGameStates).pipe(ot()).subscribe(e=>{this.state=it(Object.keys(e).find(i=>e[i]===ti.search),"")})}clickResetSettings(){this.translateSvc.multi(["settings.reset","settings.resetWarning","yes","cancel"]).pipe(ot()).subscribe(([e,i,n,o])=>{this.contentSvc.confirm({icon:"fa-solid fa-exclamation-triangle",header:e,message:i,acceptLabel:n,rejectLabel:o,accept:()=>{localStorage.clear(),this.resetSettings()}})})}setSearch(e){let i=this.router.parseUrl(this.router.url);new URLSearchParams(e).forEach((o,d)=>i.queryParams[d]=o),this.router.navigateByUrl(i)}copySearchToClipboard(e){navigator.clipboard.writeText(e)}setState(e,i){let n=i[e];if(n){let o=this.routerSvc.getParams(n);this.state=e,this.router.navigate([],{queryParams:o})}}clickSaveState(e){!this.editValue||!this.editState||(this.saveState(e,this.editValue,ti.search),this.editState==="edit"&&this.state&&this.removeState(e,this.state),this.editState=null,this.state=this.editValue)}openCreateState(){this.editValue="",this.editState="create"}overwriteState(){this.store.select(H.selectGame).pipe(ot()).subscribe(e=>{this.saveState(e,this.state,ti.search)})}openEditState(){this.editValue=this.state,this.editState="edit"}clickDeleteState(){this.store.select(H.selectGame).pipe(ot()).subscribe(e=>{this.removeState(e,this.state),this.state=""})}setGame(e){this.setMod(xi[e].modId)}setExcludedRecipes(e,i,n){let o=[];for(let d of n.recipeIds){let f=e.some(S=>S===d);if(f!==i[d].excluded){let S=it(n.defaults?.excludedRecipeIds,[]).some(E=>E===d);o.push({id:d,value:f,def:S})}}this.setRecipeExcludedBatch(o)}setExcludedItems(e,i,n){let o=[];for(let d of n.itemIds){let f=e.some(S=>S===d);f!==i[d].excluded&&o.push({id:d,value:f})}this.setItemExcludedBatch(o)}changeFuel(e,i,n,o){let d=Bt.bestMatch(it(n.fuelOptions?.map(f=>f.value),[]),o);this.setFuel(e,i,d)}changeModules(e,i){let n=this.machinesState(),o=this.data().machineEntities[e];this.setModules(e,Bt.dehydrateModules(i,it(n.entities[e].moduleOptions,[]),n.moduleRankIds,o.modules))}changeBeacons(e,i){let n=this.machinesState().beacons;this.setBeacons(e,Bt.dehydrateBeacons(i,n))}changeDefaultBeacons(e){let i=this.defaults()?.beacons;this.setDefaultBeacons(Bt.dehydrateBeacons(e,i))}toggleBeaconReceivers(e){this.setBeaconReceivers(e?oe.one:null)}resetSettings(){this.store.dispatch(_o.reset())}saveState(e,i,n){this.store.dispatch(Ie.saveState({key:e,id:i,value:n}))}removeState(e,i){this.store.dispatch(Ie.removeState({key:e,id:i}))}setMod(e){this.store.dispatch(H.setMod({modId:e}))}setResearchedTechnologies(e){this.store.dispatch(H.setResearchedTechnologies({researchedTechnologyIds:e}))}setRecipeExcludedBatch(e){this.store.dispatch(Te.setExcludedBatch({values:e}))}setItemExcludedBatch(e){this.store.dispatch(Qe.setExcludedBatch({values:e}))}setPreset(e){this.store.dispatch(H.setPreset({preset:e}))}setFuelRank(e,i){this.store.dispatch(Je.setFuelRank({value:e,def:i}))}setModuleRank(e,i){this.store.dispatch(Je.setModuleRank({value:e,def:i}))}addMachine(e,i){this.store.dispatch(Je.add({id:e,def:i}))}setDefaultBeacons(e){this.store.dispatch(Je.setDefaultBeacons({beacons:e}))}setDefaultOverclock(e){this.store.dispatch(Je.setDefaultOverclock({overclock:e}))}setMachineRank(e,i){this.store.dispatch(Je.setRank({value:e,def:i}))}setMachine(e,i,n){this.store.dispatch(Je.setMachine({id:e,value:i,def:n}))}setFuel(e,i,n){this.store.dispatch(Je.setFuel({id:e,value:i,def:n}))}setModules(e,i){this.store.dispatch(Je.setModules({id:e,value:i}))}setBeacons(e,i){this.store.dispatch(Je.setBeacons({id:e,value:i}))}setOverclock(e,i,n){this.store.dispatch(Je.setOverclock({id:e,value:i,def:n}))}removeMachine(e,i){this.store.dispatch(Je.remove({id:e,def:i}))}setBeaconReceivers(e){this.store.dispatch(H.setBeaconReceivers({beaconReceivers:e}))}setProliferatorSpray(e){this.store.dispatch(H.setProliferatorSpray({proliferatorSprayId:e}))}setBelt(e,i){this.store.dispatch(H.setBelt({id:e,def:i}))}setPipe(e,i){this.store.dispatch(H.setPipe({id:e,def:i}))}setCargoWagon(e,i){this.store.dispatch(H.setCargoWagon({id:e,def:i}))}setFluidWagon(e,i){this.store.dispatch(H.setFluidWagon({id:e,def:i}))}setFlowRate(e){this.store.dispatch(H.setFlowRate({flowRate:e}))}setInserterTarget(e){this.store.dispatch(H.setInserterTarget({inserterTarget:e}))}setMiningBonus(e){this.store.dispatch(H.setMiningBonus({miningBonus:e}))}setResearchSpeed(e){this.store.dispatch(H.setResearchBonus({researchBonus:e}))}setInserterCapacity(e){this.store.dispatch(H.setInserterCapacity({inserterCapacity:e}))}setDisplayRate(e,i){this.store.dispatch(H.setDisplayRate({displayRate:e,previous:i}))}setPowerUnit(e){this.store.dispatch(Ie.setPowerUnit({powerUnit:e}))}setLanguage(e){this.store.dispatch(Ie.setLanguage({language:e}))}setTheme(e){this.store.dispatch(Ie.setTheme({theme:e}))}setBypassLanding(e){this.store.dispatch(Ie.setBypassLanding({bypassLanding:e}))}setHideDuplicateIcons(e){this.store.dispatch(Ie.setHideDuplicateIcons({hideDuplicateIcons:e}))}setDisablePaginator(e){this.store.dispatch(Ie.setDisablePaginator({disablePaginator:e}))}setMaximizeType(e){this.store.dispatch(H.setMaximizeType({maximizeType:e}))}setNetProductionOnly(e){this.store.dispatch(H.setNetProductionOnly({netProductionOnly:e}))}setSurplusMachinesOutput(e){this.store.dispatch(H.setSurplusMachinesOutput({surplusMachinesOutput:e}))}setConvertObjectiveValues(e){this.store.dispatch(Ie.setConvertObjectiveValues({convertObjectiveValues:e}))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["lab-settings"]],hostVars:4,hostBindings:function(i,n){i&2&&Me("active",n.active)("hidden",n.hidden)},inputs:{active:"active",hidden:"hidden"},standalone:!0,features:[ne],decls:149,vars:172,consts:[["techPicker",""],["recipesPicker",""],["itemsPicker",""],["presetDropdown",""],["costsDlg",""],["search",""],["nameCtrl","ngModel"],["stateMenu",""],["tooltip",""],["overclockInput",""],["beaconsOverlay",""],["modulesOverlay",""],["flowRateInput",""],["miningBonusInput",""],["miningProdInput",""],[1,"p-3"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-trash","tooltipPosition","bottom",1,"p-button-rounded","p-button-text",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-rounded","p-button-text","d-inline-flex","d-none","d-xl-inline-flex",3,"click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-rounded","p-button-text","d-inline-flex","d-sm-none",3,"click"],[1,"flex-grow-1","overflow-hidden"],["styleClass","mb-5"],[3,"multiple"],["pTemplate","header"],[1,"p-inputgroup","mb-2"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined","p-button-rounded","w-100",3,"label"],[1,"p-fluid"],[1,"mt-3"],[1,"p-float-label"],["labDropdownTranslate","","inputId","game",3,"onChange","pTooltip","ngModel","options"],["for","game"],[1,"position-relative"],[1,"mt-3","pb-3"],["pButton","","pRipple","","type","button","icon","fa-solid fa-microchip",1,"p-button-rounded","p-button-outlined",3,"click","pTooltip","label"],[3,"selectIds"],[1,"pb-3"],["pButton","","pRipple","","type","button","icon","fa-solid fa-flask-vial",1,"p-button-rounded","p-button-outlined",3,"click","pTooltip","label"],[3,"selectIds","header"],["pButton","","pRipple","","type","button","icon","fa-solid fa-boxes-stacked",1,"p-button-rounded","p-button-outlined",3,"click","pTooltip","label"],[3,"selected"],["labDropdownTranslate","","inputId","preset",3,"onChange","pTooltip","ngModel","options"],["for","preset"],["labDropdownBase","","inputId","default-transport-belt",3,"onChange","pTooltip","ngModel","options"],["pTemplate","selectedItem"],["pTemplate","item"],["for","default-transport-belt"],[3,"header"],["labDropdownTranslate","","inputId","display-rate",3,"onChange","pTooltip","ngModel","options"],["for","display-rate"],[1,"text-end"],["labDropdownTranslate","","inputId","language",3,"onChange","pTooltip","ngModel","options"],["for","language"],[1,"position-absolute","end-0","bottom-100","me-1","mb-1"],["href","https://github.com/factoriolab/factoriolab/wiki/Translating-FactorioLab","target","_blank"],["labDropdownTranslate","","inputId","theme",3,"onChange","pTooltip","ngModel","options"],["for","theme"],[3,"onChange","binary","label","ngModel"],[3,"onChange","ngModel","binary","label"],["labDropdownTranslate","","inputId","maximize-type",3,"onChange","pTooltip","ngModel","options"],["for","maximize-type"],["tooltipPosition","top",3,"onChange","ngModel","binary","label","pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-dollar-sign",1,"p-button-rounded","p-button-outlined","mb-4",3,"click","label"],[1,"d-flex","align-items-center","justify-content-between","flex-grow-1"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-up-right-from-square",1,"p-button-outlined",3,"click"],["pInputText","","type","text",3,"ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-copy",1,"p-button-outlined",3,"click"],["pInputText","","pAutoFocus","","type","text","tooltipPosition","top","required","",3,"ngModelChange","keydown.enter","autofocus","placeholder","pTooltip","ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-floppy-disk","tooltipPosition","top",1,"p-button-outlined",3,"click","pTooltip","disabled"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined",3,"click","pTooltip"],["tooltipPosition","top",3,"onChange","placeholder","pTooltip","ngModel","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-ellipsis-vertical",1,"p-button-outlined"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined",3,"pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-ellipsis-vertical",1,"p-button-outlined",3,"click"],["appendTo","body",3,"popup","model"],["pRipple","",1,"p-menuitem-link"],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined","p-button-rounded","w-100",3,"click","label"],[1,"p-static-label"],[1,"position-absolute","end-0","top-0","me-1","mb-1"],["href","https://github.com/factoriolab/factoriolab/issues/new?assignees=&labels=mod+support&template=mod-request.md&title=","target","_blank"],["inputId","mod","styleClass","w-100",3,"onChange","filter","autofocusFilter","pTooltip","ngModel","options"],["pButton","","pRipple","","icon","fa-solid fa-info",1,"p-button-outlined",3,"click","pTooltip"],["appendTo","body",3,"visibleChange","visible","modal","dismissableMask","draggable","resizable","breakpoints","header"],["responsiveLayout","scroll","styleClass","p-datatable-sm",3,"value"],["pTemplate","body"],["pTemplate","footer"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["inputId","modifier-rank","styleClass","icons","appendTo","body","scrollHeight","40vh","panelStyleClass","tooltip",3,"onChange","pTooltip","ngModel","options"],["pTemplate","selectedItems"],["for","modifier-rank"],[1,"d-flex"],[1,"mx-2",3,"class"],[1,"mx-2"],[1,"d-flex","align-items-center","p-2","w-100","h-100",3,"pTooltip"],[1,"ms-3","text-truncate"],["type","fuel",3,"id"],["inputId","fuel-rank","styleClass","icons","appendTo","body","scrollHeight","40vh","panelStyleClass","tooltip",3,"onChange","pTooltip","ngModel","options"],["for","fuel-rank"],[1,"p-inputgroup","flex-wrap","machine-preference","mb-1"],[1,"p-inputgroup-addon",3,"pTooltip"],[1,"fa-solid","fa-industry"],["labDropdownBase","icon",3,"onChange","ngModel","pTooltip","options"],["labNoDrag","","suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","showButtons","pTooltip","ngModel"],[3,"onReorder","value","dragdrop"],[1,"pt-2"],[1,"d-flex","align-items-center","justify-content-center","h-100"],[1,"fa-solid","fa-plus"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip"],["type","machine",3,"id"],["labNoDrag","","suffix","%","inputStyleClass","text-end",3,"onBlur","min","max","step","maxFractionDigits","showButtons","pTooltip","ngModel"],["pButton","","pRipple","","type","button",1,"hover-action","icons","p-button-text","flex-column",3,"click","pTooltip"],[1,"hover-icon","fa-solid","fa-gear"],[3,"setValue"],[1,"p-button-icon"],[1,"p-button-icon",3,"class"],["type","beacon",3,"id"],[1,"p-inputgroup","flex-wrap","machine-preference"],["pButton","","pRipple","","type","button","icon","fa-solid fa-grip-lines",1,"p-button-outlined","cursor-grab"],["labDropdownBase","icon","labNoDrag","",3,"onChange","pTooltip","ngModel","options"],["labDropdownBase","icon","labNoDrag","",3,"pTooltip","ngModel","options"],["pButton","","pRipple","","labNoDrag","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","ms-auto",3,"click","pTooltip"],["type","module",3,"id"],["pButton","","pRipple","","type","button",1,"hover-action","icons","p-button-text",3,"click","pTooltip"],["tooltipPosition","bottom",3,"onChange","ngModel","binary","label","pTooltip"],["for","beacon-receivers",1,"p-static-label"],["inputId","beacon-receivers",1,"w-100",3,"setValue","pTooltip","value"],["labDropdownBase","","inputId","proliferator-self-spray",3,"onChange","autoDisplayFirst","pTooltip","ngModel","options"],["for","proliferator-self-spray"],[1,"d-flex","align-items-center","h-100"],["type","belt",3,"id"],["labDropdownBase","","inputId","default-pipe",3,"onChange","pTooltip","ngModel","options"],["for","default-pipe"],["type","pipe",3,"id"],["labDropdownBase","","inputId","default-cargo-wagon",3,"onChange","pTooltip","ngModel","options"],["for","default-cargo-wagon"],["type","cargo-wagon",3,"id"],["labDropdownBase","","inputId","default-fluid-wagon",3,"onChange","pTooltip","ngModel","options"],["for","default-fluid-wagon"],["type","fluid-wagon",3,"id"],["inputId","pipe-flow-rate","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","suffix","min","step","showButtons","pTooltip","ngModel"],["for","pipe-flow-rate"],["href","https://wiki.factorio.com/Fluid_system#Pipelines","target","_blank"],["labDropdownTranslate","","inputId","inserter-target",3,"onChange","pTooltip","ngModel","options"],["for","inserter-target"],["inputId","mining-speed","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","min","step","showButtons","pTooltip","ngModel"],["for","mining-speed"],["inputId","mining-productivity","prefix","+","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","min","step","showButtons","pTooltip","ngModel"],["for","mining-productivity"],["labDropdownTranslate","","inputId","research-bonus",3,"onChange","pTooltip","ngModel","options"],["for","research-speed"],["labDropdownTranslate","","inputId","inserter-capacity",3,"onChange","pTooltip","ngModel","options"],["for","inserter-capacity"],["labDropdownTranslate","","inputId","power-unit",3,"onChange","pTooltip","ngModel","options"],["for","power-unit"]],template:function(i,n){if(i&1){let o=T();r(0,"div",15)(1,"div",16)(2,"h2"),C(3),_(4,"translate"),c(),r(5,"div")(6,"button",17),_(7,"translate"),b("click",function(){return g(o),h(n.clickResetSettings())}),c(),r(8,"button",18),b("click",function(){return g(o),h(n.contentSvc.toggleSettingsXl())}),c(),r(9,"button",19),b("click",function(){return g(o),h(n.contentSvc.toggleSettings())}),c()()()(),r(10,"div",20)(11,"p-scrollPanel",21)(12,"p-accordion",22)(13,"p-accordionTab"),m(14,WC,5,4,"ng-template",23)(15,qC,5,1,"div",24)(16,UC,9,15,"div",24)(17,YC,6,9,"div",25)(18,JC,2,3,"button",26),c(),r(19,"p-accordionTab"),m(20,eb,6,4,"ng-template",23),r(21,"div",27)(22,"div",28)(23,"span",29)(24,"p-dropdown",30),_(25,"translate"),b("onChange",function(f){return g(o),h(n.setGame(f.value))}),c(),r(26,"label",31),C(27),_(28,"translate"),c(),m(29,ib,3,2),c()(),m(30,lb,20,32,"div",32),r(31,"div",33)(32,"button",34),_(33,"translate"),_(34,"translate"),_(35,"translate"),b("click",function(){g(o);let f=w(37);return h(f.clickOpen(n.researchedTechnologyIds()))}),c(),r(36,"lab-tech-picker",35,0),b("selectIds",function(f){return g(o),h(n.setResearchedTechnologies(f))}),c()(),r(38,"div",36)(39,"button",37),_(40,"translate"),_(41,"translate"),b("click",function(){g(o);let f=w(43);return h(f.clickOpen("recipe",n.recipeIds(),n.excludedRecipeIds()))}),c(),r(42,"lab-picker",38,1),_(44,"translate"),b("selectIds",function(f){return g(o),h(n.setExcludedRecipes(f,n.recipesState(),n.data()))}),c()(),r(45,"div")(46,"button",39),_(47,"translate"),_(48,"translate"),b("click",function(){g(o);let f=w(50);return h(f.clickOpen("item",n.itemIds(),n.excludedItemIds()))}),c(),r(49,"lab-picker",38,2),_(51,"translate"),b("selectIds",function(f){return g(o),h(n.setExcludedItems(f,n.itemsState(),n.data()))}),c()()()(),r(52,"p-accordionTab",40),m(53,rb,5,4,"ng-template",23),r(54,"div",27)(55,"div",33)(56,"span",29)(57,"p-dropdown",41,3),_(59,"translate"),b("onChange",function(f){return g(o),h(n.setPreset(f.value))}),c(),r(60,"label",42),C(61),_(62,"translate"),c()()(),m(63,_b,9,8,"div",33)(64,Cb,9,8,"div",33)(65,ix,14,17)(66,nx,4,8,"div",36)(67,ox,6,7,"div",36)(68,rx,9,9,"div",33),r(69,"div",33)(70,"div",29)(71,"p-dropdown",43),_(72,"translate"),b("onChange",function(f){let S;return g(o),h(n.setBelt(f.value,(S=n.data().defaults)==null?null:S.beltId))}),m(73,cx,1,1,"ng-template",44)(74,mx,7,6,"ng-template",45),c(),r(75,"label",46),C(76),_(77,"translate"),c()()(),m(78,gx,9,8,"div",33)(79,xx,9,8,"div",33)(80,Ix,9,8,"div",33)(81,Sx,20,24)(82,wx,8,10,"div",28),c()(),m(83,kx,25,29,"p-accordionTab",47),r(84,"p-accordionTab",47),_(85,"translate"),r(86,"div",27)(87,"div",33)(88,"span",29)(89,"p-dropdown",48),_(90,"translate"),b("onChange",function(f){return g(o),h(n.setDisplayRate(f.value,n.settings().displayRate))}),c(),r(91,"label",49),C(92),_(93,"translate"),c()()(),m(94,Mx,7,8,"div",33),r(95,"div",33),x(96,"div",50),r(97,"div",29)(98,"p-dropdown",51),_(99,"translate"),b("onChange",function(f){return g(o),h(n.setLanguage(f.value))}),c(),r(100,"label",52),C(101),_(102,"translate"),c(),r(103,"small",53)(104,"a",54),C(105),_(106,"translate"),c()()()(),r(107,"div",33)(108,"div",29)(109,"p-dropdown",55),_(110,"translate"),b("onChange",function(f){return g(o),h(n.setTheme(f.value))}),c(),r(111,"label",56),C(112),_(113,"translate"),c()()(),r(114,"div",36)(115,"p-checkbox",57),_(116,"translate"),b("onChange",function(f){return g(o),h(n.setBypassLanding(f.checked))}),c()(),r(117,"div",36)(118,"p-checkbox",58),_(119,"translate"),b("onChange",function(f){return g(o),h(n.setHideDuplicateIcons(f.checked))}),c()(),r(120,"div")(121,"p-checkbox",58),_(122,"translate"),b("onChange",function(f){return g(o),h(n.setDisablePaginator(f.checked))}),c()()()(),r(123,"p-accordionTab",47),_(124,"translate"),r(125,"div",27)(126,"div",33)(127,"span",29)(128,"p-dropdown",59),_(129,"translate"),b("onChange",function(f){return g(o),h(n.setMaximizeType(f.value))}),c(),r(130,"label",60),C(131),_(132,"translate"),c()()(),r(133,"div",36)(134,"p-checkbox",61),_(135,"translate"),_(136,"translate"),b("onChange",function(f){return g(o),h(n.setNetProductionOnly(f.checked))}),c()(),r(137,"div",36)(138,"p-checkbox",61),_(139,"translate"),_(140,"translate"),b("onChange",function(f){return g(o),h(n.setSurplusMachinesOutput(f.checked))}),c()(),r(141,"div",36)(142,"p-checkbox",61),_(143,"translate"),_(144,"translate"),b("onChange",function(f){return g(o),h(n.setConvertObjectiveValues(f.checked))}),c()(),r(145,"button",62),_(146,"translate"),b("click",function(){g(o);let f=w(148);return h(f.open(n.settings().costs))}),c()()()()()(),x(147,"lab-costs",null,4)}if(i&2){let o;l(3),y(u(4,86,"settings.header")),l(3),p("pTooltip",u(7,88,"settings.reset")),l(5),$e(J(165,jC)),l(),p("multiple",!0),l(3),v(n.BrowserUtility.isStandalone?15:-1),l(),v(n.editState?16:n.savedStates().length?17:18),l(6),Me("pb-3",n.data().game===n.Game.Factorio),l(2),p("pTooltip",u(25,90,"settings.gameTooltip"))("ngModel",n.data().game)("options",n.gameOptions),l(3),y(u(28,92,"settings.game")),l(2),v(n.data().game!==n.Game.Factorio?29:-1),l(),v(n.data().game===n.Game.Factorio?30:-1),l(2),p("pTooltip",u(33,94,"settings.techsTooltip"))("label",n.researchedTechnologyIds()?K(34,96,"settings.techsResearched",N(166,Qn,n.researchedTechnologyIds().length)):u(35,99,"settings.allTechsResearched")),l(7),p("pTooltip",u(40,101,"settings.recipesTooltip"))("label",K(41,103,"settings.recipesExcluded",N(168,Qn,n.excludedRecipeIds().length))),l(3),p("header",u(44,106,"settings.recipesHeader")),l(4),p("pTooltip",u(47,108,"settings.itemsTooltip"))("label",K(48,110,"settings.itemsExcluded",N(170,Qn,n.excludedItemIds().length))),l(3),p("header",u(51,113,"settings.itemsHeader")),l(3),p("selected",!0),l(5),p("pTooltip",u(59,115,"settings.presetTooltip"))("ngModel",n.settings().preset)("options",n.presetOptions()),l(4),y(u(62,117,"settings.preset")),l(2),v(n.data().moduleIds.length>1?63:-1),l(),v(n.data().fuelIds.length&&n.data().game!==n.Game.Satisfactory?64:-1),l(),v(n.data().game!==n.Game.CaptainOfIndustry?65:-1),l(),v(n.data().game===n.Game.Factorio?66:-1),l(),v((o=n.settings().beaconReceivers)?67:-1,o),l(),v(n.data().game===n.Game.DysonSphereProgram?68:-1),l(3),p("pTooltip",u(72,119,"settings.defaultTransportBeltTooltip"))("ngModel",n.settings().beltId)("options",n.options().belts),l(5),y(u(77,121,"settings.defaultTransportBelt")),l(2),v(n.data().pipeIds.length>1?78:-1),l(),v(n.data().cargoWagonIds.length>1?79:-1),l(),v(n.data().fluidWagonIds.length>1?80:-1),l(),v(n.data().game===n.Game.Factorio?81:-1),l(),v(n.data().game===n.Game.DysonSphereProgram?82:-1),l(),v(n.data().game===n.Game.Factorio?83:-1),l(),p("header",u(85,123,"settings.display")),l(5),p("pTooltip",u(90,125,"settings.displayRateTooltip"))("ngModel",n.settings().displayRate)("options",n.displayRateOptions),l(3),y(u(93,127,"settings.displayRate")),l(2),v(n.columnsState().power.show?94:-1),l(4),p("pTooltip",u(99,129,"settings.languageTooltip"))("ngModel",n.preferences().language)("options",n.languageOptions),l(3),y(u(102,131,"settings.language")),l(4),y(u(106,133,"settings.helpTranslate")),l(4),p("pTooltip",u(110,135,"settings.themeTooltip"))("ngModel",n.preferences().theme)("options",n.themeOptions),l(3),y(u(113,137,"settings.theme")),l(3),p("binary",!0)("label",u(116,139,"settings.bypassLanding"))("ngModel",n.preferences().bypassLanding),l(3),p("ngModel",n.preferences().hideDuplicateIcons)("binary",!0)("label",u(119,141,"settings.hideDuplicateIcons")),l(3),p("ngModel",n.preferences().disablePaginator)("binary",!0)("label",u(122,143,"settings.disablePaginator")),l(2),p("header",u(124,145,"settings.advanced")),l(5),p("pTooltip",u(129,147,"settings.maximizeTypeTooltip"))("ngModel",n.settings().maximizeType)("options",n.maximizeTypeOptions),l(3),y(u(132,149,"settings.maximizeType")),l(3),p("ngModel",n.settings().netProductionOnly)("binary",!0)("label",u(135,151,"settings.netProductionOnly"))("pTooltip",u(136,153,"settings.netProductionOnlyTooltip")),l(4),p("ngModel",n.settings().surplusMachinesOutput)("binary",!0)("label",u(139,155,"settings.surplusMachinesOutput"))("pTooltip",u(140,157,"settings.surplusMachinesOutputTooltip")),l(4),p("ngModel",n.preferences().convertObjectiveValues)("binary",!0)("label",u(143,159,"settings.convertObjectiveValues"))("pTooltip",u(144,161,"settings.convertObjectiveValuesTooltip")),l(3),p("label",u(146,163,"settings.openCosts"))}},dependencies:[Re,li,Fe,Yo,Le,Ci,le,Pa,$n,jn,U,se,ge,Ct,mt,Et,Mt,kt,nt,Ei,Mi,Ra,Kn,he,rn,$i,Yi,Xi,Di,Pi,si,zt,re,_n,Sa,ri,Oi,tn,Ne,Ht,un,Vi,dn,Aa,bt,Oe],styles:["[_nghost-%COMP%]{display:flex;position:fixed;top:0;left:0;flex-direction:column;transition:transform .4s cubic-bezier(.05,.74,.2,.99);z-index:4;background-color:var(--surface-overlay);width:322px;height:100%}@media (max-width: 1199.98px){[_nghost-%COMP%]{transform:translate(-100%)}.active[_nghost-%COMP%]{transform:translate(0)}}@media (min-width: 1200px){.hidden[_nghost-%COMP%]{transform:translate(-100%)}}[_nghost-%COMP%]     .p-scrollpanel .p-scrollpanel-content{overflow-y:scroll}[_nghost-%COMP%]     .p-scrollpanel .p-scrollpanel-bar-x{visibility:hidden}[_nghost-%COMP%]     .p-accordion{width:323px}"],changeDetection:0})}return t})();export{na as a,oa as b,Oi as c,Ht as d,Kv as e,mt as f,Ct as g,Mt as h,Et as i,wT as j,Kw as k,dn as l,W4 as m,DM as n,xa as o,va as p,S3 as q};
