"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[886],{7886:(dt,x,l)=>{l.r(x),l.d(x,{WizardComponent:()=>m,WizardState:()=>_});var c=l(6895),t=l(4650),f=l(4006);const b=["rb"],C=function(n,a,e){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":a,"p-radiobutton-label-focus":e}};function y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"label",4),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.select(o))}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(),i=t.MAs(3);t.Tol(e.labelStyleClass),t.Q6J("ngClass",t.kEZ(5,C,i.checked,e.disabled,e.focused)),t.uIk("for",e.inputId),t.xp6(1),t.Oqu(e.label)}}const k=function(n,a,e){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":a,"p-radiobutton-focused":e}},T=function(n,a,e){return{"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":a,"p-focus":e}},Z={provide:f.JU,useExisting:(0,t.Gpc)(()=>A),multi:!0};let I=(()=>{class n{constructor(){this.accessors=[]}add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return!!e[0].control&&e[0].control.root===i.control.control.root&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A=(()=>{class n{constructor(e,i,o){this.cd=e,this.injector=i,this.registry=o,this.onClick=new t.vpe,this.onFocus=new t.vpe,this.onBlur=new t.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(f.a5),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,o){e.preventDefault(),!this.disabled&&(this.select(e),o&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(t.zs3),t.Y36(I))},n.\u0275cmp=t.Xpm({type:n,selectors:[["p-radioButton"]],viewQuery:function(e,i){if(1&e&&t.Gf(b,5),2&e){let o;t.iGM(o=t.CRH())&&(i.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[t._Bn([Z])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),t.NdJ("change",function(s){return i.onChange(s)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)}),t.qZA()(),t.TgZ(4,"div",4),t.NdJ("click",function(s){t.CHM(o);const p=t.MAs(3);return t.KtG(i.handleClick(s,p,!0))}),t._UZ(5,"span",5),t.qZA()(),t.YNc(6,y,2,9,"label",6)}2&e&&(t.Tol(i.styleClass),t.Q6J("ngStyle",i.style)("ngClass",t.kEZ(15,k,i.checked,i.disabled,i.focused)),t.xp6(2),t.Q6J("checked",i.checked)("disabled",i.disabled),t.uIk("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy),t.xp6(2),t.Q6J("ngClass",t.kEZ(19,T,i.checked,i.disabled,i.focused)),t.xp6(2),t.Q6J("ngIf",i.label))},dependencies:[c.mk,c.O5,c.PC],encapsulation:2,changeDetection:0}),n})(),w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez]}),n})();var h=l(4258),v=l(3608);let B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,h.Bz,v.z,h.Bz,v.z]}),n})();var N=l(9841),E=l(4004),W=l(2518),g=l(8298),u=l(3087),F=l(2997),Q=l(5593),U=l(4247),H=l(5108),q=l(2210),D=l(1795),V=l(5439),G=l(8290),Y=l(3989),$=l(6188),K=l(1969);function P(n,a){1&n&&t.GkF(0)}function X(n,a){if(1&n&&(t.ynx(0),t.YNc(1,P,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(10);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function tt(n,a){1&n&&t.GkF(0)}function et(n,a){if(1&n&&(t.ynx(0),t.YNc(1,tt,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function nt(n,a){1&n&&t.GkF(0)}function it(n,a){if(1&n&&(t.ynx(0),t.YNc(1,nt,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(14);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function ot(n,a){1&n&&t.GkF(0)}function at(n,a){if(1&n&&(t.ynx(0),t.YNc(1,ot,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(16);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function rt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._UZ(3,"p-divider"),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(10),r=t.oxw().ngIf;return t.KtG(o.clickOpen(r.data,"item"))}),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"lab-picker",11,12),t.NdJ("selectId",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectId(o,r.WizardState.ItemObjectiveType))}),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"p-divider"),t.TgZ(13,"span"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",13),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(19),r=t.oxw().ngIf;return t.KtG(o.clickOpen(r.data,"recipe"))}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"lab-picker",11,14),t.NdJ("selectId",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectId(o,r.WizardState.RecipeObjective))}),t.ALo(20,"translate"),t.qZA(),t._UZ(21,"p-divider")}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,7,"wizard.objectiveType")," "),t.xp6(4),t.Oqu(t.lcZ(6,9,"wizard.produceItems")),t.xp6(2),t.Q6J("label",t.lcZ(8,11,"wizard.produceItemsButton")),t.xp6(2),t.Q6J("header",t.lcZ(11,13,"wizard.produceItemsButton")),t.xp6(5),t.Oqu(t.lcZ(15,15,"wizard.runMachines")),t.xp6(2),t.Q6J("label",t.lcZ(17,17,"wizard.runMachinesButton")),t.xp6(2),t.Q6J("header",t.lcZ(20,19,"wizard.runMachinesButton")))}function lt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._UZ(3,"p-divider"),t.TgZ(4,"div",15)(5,"i"),t.ALo(6,"iconClass"),t.qZA(),t.TgZ(7,"span",16),t._uU(8),t.qZA()(),t.TgZ(9,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.state=o.WizardState.ItemObjectiveItems)}),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"p-divider"),t.TgZ(12,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.state=o.WizardState.ObjectiveType)}),t.ALo(13,"translate"),t.qZA()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,6,"wizard.itemObjectiveType")," "),t.xp6(4),t.Tol(t.lcZ(6,8,i.id)),t.xp6(3),t.Oqu(e.data.itemEntities[i.id].name),t.xp6(1),t.Q6J("label",t.lcZ(10,10,"wizard.itemObjectiveTypeItems")),t.xp6(3),t.Q6J("label",t.lcZ(13,12,"wizard.back"))}}function st(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._UZ(3,"p-divider"),t.TgZ(4,"div",15)(5,"i"),t.ALo(6,"iconClass"),t.qZA(),t.TgZ(7,"span",16),t._uU(8),t.qZA()(),t.TgZ(9,"lab-input-number",19),t.NdJ("setValue",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.rate=o)}),t.qZA(),t.TgZ(10,"p-dropdown",20),t.NdJ("onChange",function(o){t.CHM(e);const r=t.oxw().ngIf,s=t.oxw();return t.KtG(s.setDisplayRate(o.value,r.displayRate))}),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.createItemObjective(o.id,o.rate,o.RateUnit.Items))}),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"p-divider"),t.TgZ(15,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.state=o.WizardState.ItemObjectiveType)}),t.ALo(16,"translate"),t.qZA()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,10,"wizard.itemObjectiveItems")),t.xp6(4),t.Tol(t.lcZ(6,12,i.id)),t.xp6(3),t.Oqu(e.data.itemEntities[i.id].name),t.xp6(1),t.Q6J("value",i.rate),t.xp6(1),t.Q6J("tooltip",t.lcZ(11,14,"objectives.selectDisplayRate"))("ngModel",e.displayRate)("options",i.displayRateOptions),t.xp6(2),t.Q6J("label",t.lcZ(13,16,"ok")),t.xp6(3),t.Q6J("label",t.lcZ(16,18,"wizard.back"))}}function ct(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._UZ(3,"p-divider"),t.TgZ(4,"div",15)(5,"i"),t.ALo(6,"iconClass"),t.qZA(),t.TgZ(7,"span",16),t._uU(8),t.qZA()(),t.TgZ(9,"lab-input-number",19),t.NdJ("setValue",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.count=o)}),t.qZA(),t.TgZ(10,"button",21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.createRecipeObjective(o.id,o.count))}),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"p-divider"),t.TgZ(13,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.state=o.WizardState.ObjectiveType)}),t.ALo(14,"translate"),t.qZA()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,7,"wizard.recipeObjectiveMachines")),t.xp6(4),t.Tol(t.lcZ(6,9,i.id)),t.xp6(3),t.Oqu(e.data.recipeEntities[i.id].name),t.xp6(1),t.Q6J("value",i.count),t.xp6(1),t.Q6J("label",t.lcZ(11,11,"ok")),t.xp6(3),t.Q6J("label",t.lcZ(14,13,"wizard.back"))}}function pt(n,a){if(1&n&&(t.TgZ(0,"p-card")(1,"div",1),t.ynx(2,2),t.YNc(3,X,2,1,"ng-container",3),t.YNc(4,et,2,1,"ng-container",3),t.YNc(5,it,2,1,"ng-container",3),t.YNc(6,at,2,1,"ng-container",3),t.BQk(),t._UZ(7,"button",4),t.ALo(8,"translate"),t.qZA(),t.YNc(9,rt,22,21,"ng-template",null,5,t.W1O),t.YNc(11,lt,14,14,"ng-template",null,6,t.W1O),t.YNc(13,st,17,20,"ng-template",null,7,t.W1O),t.YNc(15,ct,15,15,"ng-template",null,8,t.W1O),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngSwitch",e.state),t.xp6(1),t.Q6J("ngSwitchCase",e.WizardState.ObjectiveType),t.xp6(1),t.Q6J("ngSwitchCase",e.WizardState.ItemObjectiveType),t.xp6(1),t.Q6J("ngSwitchCase",e.WizardState.ItemObjectiveItems),t.xp6(1),t.Q6J("ngSwitchCase",e.WizardState.RecipeObjective),t.xp6(1),t.Q6J("label",t.lcZ(8,6,"cancel"))}}var _=(()=>{return(n=_||(_={}))[n.ObjectiveType=0]="ObjectiveType",n[n.ItemObjectiveType=1]="ItemObjectiveType",n[n.ItemObjectiveItems=2]="ItemObjectiveItems",n[n.RecipeObjective=3]="RecipeObjective",_;var n})();class m{constructor(a){this.store=a,this.vm$=(0,N.a)([this.store.select(u.Zr.pY),this.store.select(u.Zr.P7),this.store.select(u.Zr.VS)]).pipe((0,E.U)(([e,i,o])=>({data:e,displayRate:i,rateUnitOptions:o}))),this.id="",this.rate="1",this.count="1",this.state=_.ObjectiveType,this.displayRateOptions=g.g6,this.RateUnit=g.Wx,this.WizardState=_}selectId(a,e){this.id=a,this.state=e}setDisplayRate(a,e){this.store.dispatch(new u.Zr.MO({value:a,prev:e}))}createItemObjective(a,e,i){this.store.dispatch(new u.Hs.$f({id:"0",itemId:a,rate:e,rateUnit:i,type:g.S5.Output}))}createRecipeObjective(a,e){this.store.dispatch(new u.xR.$f({id:"0",recipeId:a,count:e,type:g.S5.Output}))}}m.\u0275fac=function(a){return new(a||m)(t.Y36(F.yh))},m.\u0275cmp=t.Xpm({type:m,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"d-flex","flex-column","p-fluid"],[3,"ngSwitch"],[4,"ngSwitchCase"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark","routerLink","/","queryParamsHandling","preserve",1,"p-button-outlined",3,"label"],["objectiveType",""],["itemObjectiveType",""],["itemObjectiveItems",""],["recipeObjective",""],[4,"ngTemplateOutlet"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",1,"mt-2",3,"label","click"],[3,"header","selectId"],["addItemObjectivePicker",""],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"label","click"],["addRecipePicker",""],[1,"d-flex","align-items-center","justify-content-center"],[1,"ms-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-gauge",1,"mt-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-left",1,"mb-2","p-button-outlined",3,"label","click"],["tooltipPosition","top",1,"mt-2","w-100",3,"value","setValue"],["labDropdownTranslate","","styleClass","mt-2 h-100",3,"tooltip","ngModel","options","onChange"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check","routerLink","/list",1,"mt-2",3,"label","click"]],template:function(a,e){1&a&&(t.YNc(0,pt,17,8,"p-card",0),t.ALo(1,"async")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,e.vm$))},dependencies:[c.ez,c.O5,c.tP,c.RF,c.n9,c.Ov,w,B,h.rH,W.o,f.JJ,f.On,Q.Hq,U.Z,H.i,q.Lt,D.H,V.l,G.q,Y.l,$.X$,K.Y],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"],changeDetection:0})}}]);