import{a as nt,b as ot,d as at}from"./chunk-IYTE45TH.js";import{$ as s,Aa as d,Be as it,Ca as f,Da as S,Ed as U,Ga as g,Jd as J,Kc as q,La as o,Ma as a,Na as p,Pa as y,Pc as N,Qa as M,Qc as Z,Qd as K,Ra as l,Sd as Q,Wa as u,Xa as v,Y as P,Ya as b,Yb as A,ba as k,ca as E,cb as B,cd as $,ed as G,fa as C,fb as m,ga as h,gb as _,ge as W,hb as D,mc as F,nc as V,r as R,re as Y,sb as H,sc as X,ta as n,tc as z,ub as j,va as I,vd as T,ya as O,yc as L,ye as tt,ze as et}from"./chunk-HHGV666P.js";function pt(t,e){t&1&&(o(0,"div",7),p(1,"i",8),o(2,"span"),u(3),m(4,"translate"),a()()),t&2&&(n(3),v(_(4,1,"app.error")))}function mt(t,e){if(t&1){let i=y();o(0,"p-dialog",1),d(1,pt,5,3,"ng-template",2),o(2,"div",3)(3,"div"),u(4),m(5,"translate"),a(),o(6,"div",4),u(7),a(),o(8,"div",5)(9,"button",6),M("click",function(){C(i);let r=l();return h(r.reset())}),m(10,"translate"),a()()()()}if(t&2){let i=l();f("visible",!0)("modal",!0)("draggable",!1)("resizable",!1)("closable",!1)("closeOnEscape",!1),n(4),v(_(5,10,"app.errorDetail")),n(3),v(e),n(2),f("label",_(10,12,"reset"))("loading",i.isResetting)}}function ct(t,e){t&1&&p(0,"p-tabMenu",14),t&2&&f("model",e)}var dt=(t,e)=>({time:t,cost:e});function ft(t,e){if(t&1&&(o(0,"div"),u(1),m(2,"translate"),a()),t&2){let i=l(4);n(),b(" ",D(2,1,"app.simplexSolved",B(4,dt,i.result().time,i.result().cost==null?null:i.result().cost.toPrecision(2)))," ")}}function ut(t,e){if(t&1&&(o(0,"div"),u(1),m(2,"translate"),a()),t&2){let i=l(4);n(),b(" ",_(2,1,"options.simplexResultType."+i.result().resultType)," ")}}function _t(t,e){if(t&1&&(o(0,"div",16),d(1,ft,3,7,"div")(2,ut,3,3),o(3,"span"),u(4),a()()),t&2){let i=l(3);n(),g(1,i.result().resultType===i.SimplexResultType.Solved?1:2),n(3),v(i.contentSvc.version)}}function gt(t,e){if(t&1&&(p(0,"lab-objectives"),o(1,"p-card",13),m(2,"translate"),d(3,ct,1,1,"p-tabMenu",14),m(4,"async"),p(5,"router-outlet"),d(6,_t,5,2,"ng-template",15),a()),t&2){let i=l(2),c;n(),f("header",_(2,2,"app.factory")),n(2),g(3,(c=_(4,4,i.tabItems$))?3:-1,c)}}function vt(t,e){t&1&&(o(0,"div",17),p(1,"p-progressSpinner"),a())}function xt(t,e){if(t&1){let i=y();p(0,"lab-settings",9),o(1,"div",10),M("click",function(){C(i);let r=l();return h(r.contentSvc.toggleSettings())}),a(),o(2,"div",11)(3,"main",12),d(4,gt,7,6)(5,vt,2,0),a()()}if(t&2){let i=l();f("active",i.contentSvc.settingsActive())("hidden",i.contentSvc.settingsXlHidden()),n(),S("active",i.contentSvc.settingsActive()),n(),S("settings-xl-hidden",i.contentSvc.settingsXlHidden()),n(2),g(4,i.mod()?4:5)}}var rt=(()=>{let e=class e{constructor(){this.contentSvc=s($),this.ngZone=s(O),this.ref=s(I),this.router=s(z),this.store=s(q),this.errorSvc=s(J),this.translateSvc=s(N),this.gameInfo=this.store.selectSignal(T.getGameInfo),this.mod=this.store.selectSignal(T.getMod),this.result=this.store.selectSignal(U.getMatrixResult),this.isResetting=!1,this.tabItems$=this.contentSvc.lang$.pipe(R(()=>[{label:this.translateSvc.instant("app.list"),icon:"fa-solid fa-list",routerLink:"list",queryParamsHandling:"preserve"},{label:this.translateSvc.instant("app.flow"),icon:"fa-solid fa-diagram-project",routerLink:"flow",queryParamsHandling:"preserve"},{label:this.translateSvc.instant("app.data"),icon:"fa-solid fa-database",routerLink:"data",queryParamsHandling:"preserve"}])),this.SimplexResultType=A}reset(){this.isResetting=!0,setTimeout(()=>{this.ngZone.run(()=>{this.errorSvc.message.set(null),this.router.navigateByUrl(this.gameInfo().route),this.store.dispatch(new G.ResetAction),this.isResetting=!1})},10)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=k({type:e,selectors:[["lab-main"]],decls:3,vars:3,consts:[[3,"sticky","settingsXlHidden"],[3,"visible","modal","draggable","resizable","closable","closeOnEscape"],["pTemplate","header"],[1,"p-error"],[1,"mt-4"],[1,"text-end","mt-4"],["pButton","","pRipple","","type","button",1,"p-button-outlined",3,"label","loading","click"],[1,"p-dialog-title","p-error"],[1,"fa-solid","fa-circle-exclamation","me-2"],[3,"active","hidden"],[1,"layout-mask",3,"click"],[1,"layout-content"],[1,"px-sm-4","py-4"],["styleClass","mt-4",3,"header"],[3,"model"],["pTemplate","footer"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","flex-column","align-items-center","mt-5"]],template:function(r,x){if(r&1&&(p(0,"lab-header",0),d(1,mt,11,14,"p-dialog",1)(2,xt,6,7)),r&2){let w;f("sticky",x.contentSvc.scrollTop()>16)("settingsXlHidden",x.contentSvc.settingsXlHidden()),n(),g(1,(w=x.errorSvc.message())?1:2,w)}},dependencies:[F,X,K,Y,Q,tt,V,et,W,nt,ot,H,Z],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}main[_ngcontent-%COMP%]{overflow-x:hidden}.layout-content[_ngcontent-%COMP%]{transition:margin .4s cubic-bezier(.05,.74,.2,.99);margin-left:320px;padding-top:4rem}@media (max-width: 1199.98px){.layout-content[_ngcontent-%COMP%]{margin-left:0;padding-top:6rem}}@media (min-width: 1200px){.layout-content.settings-xl-hidden[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1199.98px){.layout-mask.active[_ngcontent-%COMP%]{position:fixed;z-index:3;top:0;left:0;width:100%;height:100%;background-color:var(--maskbg)}}"],changeDetection:0});let t=e;return t})();var Ct=[{path:"",component:rt,children:[{path:"list",loadComponent:()=>import("./chunk-W5O3WGJV.js").then(t=>t.ListComponent)},{path:"flow",loadComponent:()=>import("./chunk-6OGUVOTV.js").then(t=>t.FlowComponent)},{path:"data",loadChildren:()=>import("./chunk-EXNNEL2X.js").then(t=>t.DataModule)}]}],lt=L.forChild(Ct);var Yt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=E({type:e}),e.\u0275inj=P({imports:[j,it,at,lt]});let t=e;return t})();export{Yt as MainModule};
