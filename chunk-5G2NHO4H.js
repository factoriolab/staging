import{Od as b,Qd as i,Se as m,Uc as r,Ue as d,Ye as h,Zc as I}from"./chunk-UVK4FVHI.js";import{a as p}from"./chunk-TWZW5B45.js";var S=o=>o.itemsState,k=r(S,m,d,(o,s,c)=>{let n={};if(s?.itemIds?.length)for(let l of s.itemIds.map(e=>s.itemEntities[e])){let e=p({},o[l.id]);e.beltId||(l.stack?e.beltId=c.beltId:c.pipeId?e.beltId=c.pipeId:e.beltId=I.Pipe),e.wagonId||(e.wagonId=l.stack?c.cargoWagonId:c.fluidWagonId),n[l.id]=e}return n}),w=r(S,o=>({belts:Object.keys(o).some(s=>o[s].beltId!=null),wagons:Object.keys(o).some(s=>o[s].wagonId!=null)}));var v=o=>o.machinesState,O=r(v,d,m,(o,s,c)=>{let n={};for(let l of c.machineIds){let e=p({},o[l]),t=c.machineEntities[l];t.type===b.Burner&&(e.fuelOptions=i.fuelOptions(t,c),e.fuelId=e.fuelId??i.bestMatch(e.fuelOptions.map(a=>a.value),s.fuelRankIds)),t.modules&&(e.moduleOptions=i.moduleOptions(t,c),e.modules=i.hydrateModules(e.modules,e.moduleOptions,s.moduleRankIds,t.modules),e.beacons=i.hydrateBeacons(e.beacons,s.beacons)),e.overclock=e.overclock??s.overclock,n[l]=e}return n});var y=o=>o.recipesState,x=r(y,O,d,m,(o,s,c,n)=>{let l={};for(let e of n.recipeIds.map(t=>n.recipeEntities[t])){let t=p({},o[e.id]);t.machineId==null&&(t.machineId=i.bestMatch(e.producers,c.machineRankIds));let a=n.machineEntities[t.machineId],u=s[t.machineId];if(e.isBurn?t.fuelId=Object.keys(e.in)[0]:t.fuelId=t.fuelId??u?.fuelId,t.fuelOptions=u?.fuelOptions,a!=null&&i.allowsModules(e,a)?(t.moduleOptions=i.moduleOptions(a,n,e.id),t.modules=i.hydrateModules(t.modules,t.moduleOptions,c.moduleRankIds,a.modules,u.modules),t.beacons=i.hydrateBeacons(t.beacons,u.beacons)):(delete t.modules,delete t.beacons),t.beacons)for(let f of t.beacons)f.total!=null&&(f.count==null||f.count.isZero())&&delete f.total;t.overclock=t.overclock??u?.overclock,l[e.id]=t}return l}),R=r(x,k,h,d,m,(o,s,c,n,l)=>i.adjustDataset(c,o,s,n,l)),G=r(R,o=>o.itemIds.filter(s=>o.itemRecipeIds[s].length));export{S as a,k as b,w as c,v as d,O as e,y as f,x as g,R as h,G as i};
