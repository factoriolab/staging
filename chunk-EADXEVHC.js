import{a as pe}from"./chunk-MBZZ6XYN.js";import{a as Y,b as Z}from"./chunk-VUS6KXWI.js";import{a as W,b as X,e as ae}from"./chunk-AOO3CJQQ.js";import{a as re,b as le}from"./chunk-BRLHXHEH.js";import{b as $}from"./chunk-ILBMNUOA.js";import"./chunk-I5ODA6M6.js";import"./chunk-DYXZY7GG.js";import{a as ie,b as ne}from"./chunk-F65PXVU4.js";import{a as H,c as L,s as U}from"./chunk-JBCIDLZ3.js";import{b as oe}from"./chunk-P6BXSMW5.js";import{f as ee,g as te}from"./chunk-M7CB5KCW.js";import{e as J,f as K,h as Q}from"./chunk-YUHQR5EJ.js";import"./chunk-H2KQMONE.js";import{B as F,n as E,y as j,z as D}from"./chunk-Q3BEIYQL.js";import{c as N}from"./chunk-AE2N2QA3.js";import{$ as u,Ad as T,Ba as h,Ea as m,Hd as z,Ia as y,Ja as C,Oa as l,Pa as p,Qa as f,S as v,T as M,Ua as x,Va as g,Wa as s,_,cd as q,db as w,dd as G,eb as b,fb as S,fc as O,hc as P,ic as R,ma as B,mb as V,pd as A,qa as a,wb as d,wc as I,xb as c,yd as k}from"./chunk-LHCZA2LZ.js";import"./chunk-TWZW5B45.js";function se(i,r){if(i&1&&(l(0,"div",19),f(1,"i",20),d(2,"iconSmClass"),l(3,"span",21),b(4),d(5,"translate"),p()()),i&2){let t=r;a(),y(c(2,3,t.icon)),a(3),S(c(5,5,t.label))}}function de(i,r){if(i&1&&h(0,se,6,7,"div",19),i&2){let t,e=s(2);C((t=e.gameInfo[e.data().game])?0:-1,t)}}function ce(i,r){if(i&1&&(l(0,"div",19),f(1,"i"),d(2,"iconSmClass"),l(3,"span",21),b(4),d(5,"translate"),p()()),i&2){let t=r;a(),y(c(2,3,t.icon)),a(3),S(c(5,5,t.label))}}function me(i,r){if(i&1&&h(0,ce,6,7,"div",19),i&2){let t,e=r.$implicit,n=s(2);C((t=n.gameInfo[e.value])?0:-1,t)}}function _e(i,r){if(i&1){let t=x();l(0,"p-dropdown",22),g("onChange",function(n){_(t);let o=s(2);return u(o.setMod(n.value))}),p()}if(i&2){let t=s(2);m("filter",!0)("autofocusFilter",!t.contentSvc.isMobile())("ngModel",t.modId())("options",t.modOptions)}}function ue(i,r){i&1&&f(0,"p-divider")}function fe(i,r){if(i&1){let t=x();l(0,"span",14)(1,"span",23),f(2,"i",24),p(),l(3,"p-dropdown",25),d(4,"translate"),g("onChange",function(n){_(t);let o=s(2);return u(o.setState(o.states()[n.value]))}),p()()}if(i&2){let t=s(2);a(3),m("placeholder",c(4,2,"landing.loadSavedState"))("options",t.stateOptions())}}function ge(i,r){if(i&1){let t=x();l(0,"button",26),d(1,"translate"),g("click",function(){let n=_(t),o=s(2);return u(o.router.navigateByUrl(n))}),p()}i&2&&m("label",c(1,1,"landing.loadLastState"))}function ve(i,r){if(i&1){let t=x();l(0,"p-card")(1,"div",3)(2,"div",4),f(3,"img",5),p(),f(4,"div",6),d(5,"translate"),l(6,"p-dropdown",7),g("onChange",function(n){_(t);let o=s();return u(o.setGame(n.value))}),h(7,de,1,1,"ng-template",8)(8,me,1,1,"ng-template",9),p(),h(9,_e,1,4,"p-dropdown",10),l(10,"button",11),d(11,"translate"),g("click",function(){_(t);let n=w(15),o=s();return u(n.clickOpen("item",o.itemIds()))}),p(),l(12,"button",12),d(13,"translate"),g("click",function(){_(t);let n=w(18),o=s();return u(n.clickOpen("recipe",o.recipeIds()))}),p(),l(14,"lab-picker",13,0),d(16,"translate"),g("selectId",function(n){_(t);let o=s();return u(o.selectItem(n))}),p(),l(17,"lab-picker",13,1),d(19,"translate"),g("selectId",function(n){_(t);let o=s();return u(o.selectRecipe(n))}),p(),h(20,ue,1,0,"p-divider")(21,fe,5,4,"span",14)(22,ge,2,3,"button",15),f(23,"p-divider")(24,"button",16),d(25,"translate"),f(26,"button",17),d(27,"translate"),l(28,"p-checkbox",18),d(29,"translate"),g("onChange",function(n){_(t);let o=s();return u(o.preferencesSvc.apply({bypassLanding:n.checked}))}),p()()()}if(i&2){let t,e=s();a(4),m("innerHTML",c(5,16,"landing.welcome"),B),a(2),m("ngModel",e.data().game)("options",e.gameOptions),a(3),C(e.data().game===e.Game.Factorio?9:-1),a(),m("label",c(11,18,"landing.addItems")),a(2),m("label",c(13,20,"landing.addMachines")),a(2),m("header",c(16,22,"landing.selectAnItem")),a(3),m("header",c(19,24,"landing.selectARecipe")),a(3),C(e.stateOptions().length||e.routerSvc.stored()?20:-1),a(),C(e.stateOptions().length?21:-1),a(),C((t=e.routerSvc.stored())?22:-1,t),a(2),m("label",c(25,26,"landing.help")),a(2),m("label",c(27,28,"landing.skip")),a(2),m("binary",!0)("label",c(29,30,"landing.bypass"))("ngModel",e.preferencesSvc.state().bypassLanding)}}function Ce(i,r){i&1&&f(0,"p-progressSpinner")}var et=(()=>{let r=class r{constructor(){this.router=v(P),this.route=v(O),this.contentSvc=v(H),this.objectivesSvc=v(U),this.preferencesSvc=v(A),this.recipesSvc=v(N),this.routerSvc=v($),this.settingsSvc=v(z),this.modId=this.settingsSvc.modId,this.mod=this.settingsSvc.mod,this.data=this.settingsSvc.dataset,this.recipeIds=this.settingsSvc.availableRecipeIds,this.itemIds=this.recipesSvc.availableItemIds,this.states=this.settingsSvc.gameStates,this.stateOptions=this.settingsSvc.stateOptions,this.gameInfo=T,this.gameOptions=G,this.modOptions=pe,this.Game=q}selectItem(e){this.objectivesSvc.create({targetId:e,value:I.one,unit:k.Items,type:L.Output}),this.router.navigate(["list"],{relativeTo:this.route,queryParamsHandling:"preserve"})}selectRecipe(e){this.objectivesSvc.create({targetId:e,value:I.one,unit:k.Machines,type:L.Output}),this.router.navigate(["list"],{relativeTo:this.route,queryParamsHandling:"preserve"})}setState(e){e&&this.router.navigate(["list"],{queryParams:this.routerSvc.toParams(e),relativeTo:this.route})}setGame(e){this.setMod(T[e].modId)}setMod(e){this.router.navigate([e])}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=M({type:r,selectors:[["lab-landing"]],standalone:!0,features:[V],decls:4,vars:2,consts:[["addItemPicker",""],["addRecipePicker",""],[1,"position-absolute","bottom-0","mb-3"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-center"],["src","factoriolab.webp","alt","FactorioLab","height","128","width","128"],[1,"mt-2",3,"innerHTML"],["styleClass","my-2 w-100",3,"onChange","ngModel","options"],["pTemplate","selectedItem"],["pTemplate","item"],["styleClass","mb-2 w-100",3,"filter","autofocusFilter","ngModel","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"click","label"],[3,"selectId","header"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-question","routerLink","wizard","queryParamsHandling","preserve",1,"mt-2","p-button-help",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-forward","routerLink","list","queryParamsHandling","preserve",1,"mt-2","mb-3","p-button-outlined",3,"label"],[3,"onChange","binary","label","ngModel"],[1,"d-flex","align-items-center"],[1,"mx-1"],[1,"ms-3"],["styleClass","mb-2 w-100",3,"onChange","filter","autofocusFilter","ngModel","options"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-file-import"],["styleClass","w-100",3,"onChange","placeholder","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"click","label"]],template:function(n,o){n&1&&(h(0,ve,30,32,"p-card")(1,Ce,1,0,"p-progressSpinner"),l(2,"span",2),b(3),p()),n&2&&(C(o.mod()!=null?0:1),a(3),S(o.contentSvc.version))},dependencies:[Q,J,K,R,D,j,E,X,W,ne,ie,Z,Y,te,ee,le,re,oe,ae,F],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}"],changeDetection:0});let i=r;return i})();export{et as LandingComponent};
