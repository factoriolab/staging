"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[592],{5156:(T,c,e)=>{e.d(c,{F:()=>g});var i=e(4707),r=e(9841),p=e(4004),m=e(3087),t=e(4650),_=e(2997),E=e(6895),M=e(4006),h=e(805),P=e(4258),D=e(5593),O=e(5722),b=e(1795),u=e(403),A=e(8829),v=e(6188),y=e(1969);function L(n,a){1&n&&(t.TgZ(0,"th",9)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"p-sortIcon",10),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"data.category")))}function I(n,a){if(1&n){const o=t.EpF();t.TgZ(0,"p-multiSelect",13),t.NdJ("onChange",function(s){const d=t.CHM(o).filterCallback;return t.KtG(d(s.value))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.qZA()}if(2&n){const o=a.$implicit,l=t.oxw(3).ngIf;t.Q6J("ngModel",o)("options",l.options.categories)("maxSelectedLabels",1)("selectedItemsLabel",t.lcZ(1,5,"data.selectedLabel"))("placeholder",t.lcZ(2,7,"data.any"))}}function x(n,a){1&n&&(t.TgZ(0,"th")(1,"p-columnFilter",11),t.YNc(2,I,3,9,"ng-template",12),t.qZA()())}function U(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"th",4)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"p-sortIcon",5),t.qZA(),t.YNc(6,L,5,3,"th",6),t.qZA(),t.TgZ(7,"tr")(8,"th"),t._UZ(9,"p-columnFilter",7),t.qZA(),t.YNc(10,x,3,0,"th",8),t.qZA()),2&n){const o=t.oxw().ngIf;t.xp6(3),t.Oqu(t.lcZ(4,3,"data.name")),t.xp6(3),t.Q6J("ngIf","category"!==o.type),t.xp6(4),t.Q6J("ngIf","category"!==o.type)}}function Z(n,a){if(1&n&&(t.TgZ(0,"td")(1,"a",14),t._UZ(2,"button",15),t.ALo(3,"iconClass"),t.qZA()()),2&n){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink","/data/categories/"+o.category.id),t.xp6(1),t.Q6J("label",o.category.name)("icon",t.xi3(3,3,o.category.id,"category"))}}function R(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"a",14),t._UZ(3,"button",15),t.ALo(4,"iconClass"),t.qZA()(),t.YNc(5,Z,4,6,"td",8),t.qZA()),2&n){const o=a.$implicit,l=t.oxw().ngIf;t.xp6(2),t.Q6J("routerLink",l.route+o.id),t.xp6(1),t.Q6J("label",o.name)("icon",t.xi3(4,4,o.id,l.type)),t.xp6(2),t.Q6J("ngIf","category"!==l.type)}}const B=function(){return["category.id"]};function K(n,a){1&n&&(t.TgZ(0,"p-table",1),t.YNc(1,U,11,5,"ng-template",2),t.YNc(2,R,6,7,"ng-template",3),t.qZA()),2&n&&t.Q6J("value",a.ngIf.value)("globalFilterFields",t.DdM(2,B))}class g{set ids(a){this.ids$.next(a)}set type(a){this.type$.next(a)}constructor(a){this.store=a,this.ids$=new i.t,this.type$=new i.t,this.vm$=(0,r.a)([this.ids$,this.type$,this.store.select(m.Zr.FW),this.store.select(m.Zr.pY)]).pipe((0,p.U)(([o,l,s,C])=>({type:l,value:this.getValue(o,l,C),route:this.getCollectionRoute(l),options:s})))}getCollectionRoute(a){switch(a){case"category":return"/data/categories/";case"item":return"/data/items/";case"recipe":return"/data/recipes/"}}getValue(a,o,l){let s;switch(o){case"category":s=l.categoryEntities;break;case"item":s=l.itemEntities;break;case"recipe":s=l.recipeEntities}return a.map(C=>{const d=s[C],f={id:d.id,name:d.name};return"category"!==o&&(f.category=l.categoryEntities[d.category]),f})}}g.\u0275fac=function(a){return new(a||g)(t.Y36(_.yh))},g.\u0275cmp=t.Xpm({type:g,selectors:[["lab-collection-table"]],inputs:{ids:"ids",type:"type"},decls:2,vars:3,consts:[["labPagedTable","","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","globalFilterFields",4,"ngIf"],["labPagedTable","","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","category.name",4,"ngIf"],["type","text","field","name","matchMode","contains"],[4,"ngIf"],["pSortableColumn","category.name"],["field","category.name"],["field","category.id","matchMode","in"],["pTemplate","filter"],["appendTo","body",3,"ngModel","options","maxSelectedLabels","selectedItemsLabel","placeholder","onChange"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-link",3,"label","icon"]],template:function(a,o){1&a&&(t.YNc(0,K,3,3,"p-table",0),t.ALo(1,"async")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,o.vm$))},dependencies:[E.O5,M.JJ,M.On,h.jx,P.rH,D.Hq,O.NU,b.H,u.iA,u.lQ,u.fz,u.xl,A.A,E.Ov,v.X$,y.Y],changeDetection:0})},1232:(T,c,e)=>{e.d(c,{r:()=>t});var i=e(6895),r=e(2518),p=e(4650);e(5156);class t{}t.\u0275fac=function(E){return new(E||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[i.ez,r.o]})},8909:(T,c,e)=>{e.d(c,{J:()=>r});var i=e(4004);class r{constructor(m,t){this.route=m,this.translateSvc=t,this.id$=this.route.params.pipe((0,i.U)(_=>_.id)),this.detail$=this.route.data.pipe((0,i.U)(_=>_)),this.parent$=this.detail$.pipe((0,i.U)(_=>({label:this.translateSvc.instant(_.collectionLabel),routerLink:"..",queryParamsHandling:"preserve"})))}}}}]);