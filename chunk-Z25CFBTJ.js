import{a as Q,b as W}from"./chunk-VBU2KYGI.js";import{d as C,e as X,f as Y,h as Z,i as ee}from"./chunk-UEVZRP67.js";import{b as K}from"./chunk-XKSLUKGI.js";import{e as A,f as G,h as J}from"./chunk-JX3YAFU2.js";import{B as U,n as O,y as V,z as N}from"./chunk-LYIDVOBE.js";import{$ as k,Ba as s,Ea as m,Fb as j,Hd as z,Ib as E,Ja as _,Mc as H,Oa as r,Pa as a,Qa as g,S as c,T as R,Ua as D,V as M,Va as B,Wa as d,_ as F,da as w,eb as T,fb as S,ia as y,ic as $,mb as I,nb as L,qa as l,rc as q,wb as u,xb as h,yb as x}from"./chunk-LVJHIGHJ.js";var te=(()=>{let t=class t{constructor(){this.ref=c(j),this.destroyRef=c(w),this.translateSvc=c(H),this.pTable=c(C,{self:!0})}ngOnInit(){this.pTable.styleClass="p-datatable-sm",this.pTable.rows=10,this.pTable.rowsPerPageOptions=[10,25,50,100,250],this.pTable.showCurrentPageReport=!0,this.translateSvc.get("data.currentPageReportTemplate").pipe(q(this.destroyRef)).subscribe(n=>{this.pTable.currentPageReportTemplate=n,this.ref.markForCheck()})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=M({type:t,selectors:[["","labPagedTable",""]],standalone:!0});let e=t;return e})();var ne=()=>["category.id"];function ae(e,t){e&1&&(r(0,"th",5)(1,"span"),T(2),u(3,"translate"),a(),g(4,"p-sortIcon",6),a()),e&2&&(l(2),S(h(3,1,"data.category")))}function oe(e,t){if(e&1){let i=D();r(0,"p-multiSelect",10),u(1,"translate"),u(2,"translate"),B("onChange",function(o){let p=F(i).filterCallback;return k(p(o.value))}),a()}if(e&2){let i=t.$implicit,n=d(4);m("ngModel",i)("options",n.options().categories)("maxSelectedLabels",1)("selectedItemsLabel",h(1,5,"data.selectedLabel"))("placeholder",h(2,7,"data.any"))}}function le(e,t){e&1&&(r(0,"th")(1,"p-columnFilter",8),s(2,oe,3,9,"ng-template",9),a()())}function re(e,t){if(e&1&&(r(0,"tr")(1,"th"),g(2,"p-columnFilter",7),a(),s(3,le,3,0,"th"),a()),e&2){let i=d(2);l(3),_(i.type()!=="category"?3:-1)}}function pe(e,t){if(e&1&&(r(0,"tr")(1,"th",3)(2,"span"),T(3),u(4,"translate"),a(),g(5,"p-sortIcon",4),a(),s(6,ae,5,3,"th",5),a(),s(7,re,4,1,"tr")),e&2){let i=d();l(3),S(h(4,3,"data.name")),l(3),_(i.type()!=="category"?6:-1),l(),_(i.value().length>10?7:-1)}}function se(e,t){if(e&1&&(r(0,"a",11),g(1,"button",12),u(2,"iconSmClass"),a()),e&2){let i=d(2).$implicit;m("routerLink","/data/categories/"+i.category.id),l(),m("label",i.category.name)("icon",x(2,3,i.category.id,"category"))}}function ce(e,t){if(e&1&&(r(0,"td"),s(1,se,3,6,"a",11),a()),e&2){let i=d().$implicit;l(),_(i.category?1:-1)}}function me(e,t){if(e&1&&(r(0,"tr")(1,"td")(2,"a",11),g(3,"button",12),u(4,"iconSmClass"),a()(),s(5,ce,2,1,"td"),a()),e&2){let i=t.$implicit,n=d();l(2),m("routerLink",n.route()+i.id),l(),m("label",i.name)("icon",x(4,4,i.id,n.type())),l(2),_(n.type()!=="category"?5:-1)}}var Le=(()=>{let t=class t{constructor(){this.settingsSvc=c(z),this.ids=y.required(),this.type=y.required(),this.useRelativePath=y(!1),this.options=this.settingsSvc.options,this.data=this.settingsSvc.dataset,this.route=E(()=>{let n=this.type();if(this.useRelativePath())return"";switch(n){case"category":return"/data/categories/";case"item":return"/data/items/";case"recipe":return"/data/recipes/"}}),this.value=E(()=>{let n=this.ids(),o=this.type(),p=this.data(),f;switch(o){case"category":f=p.categoryEntities;break;case"item":f=p.itemEntities;break;case"recipe":f=p.recipeEntities}return n.filter(b=>f[b]).map(b=>{let v=f[b],P={id:v.id,name:v.name};return o!=="category"&&(P.category=p.categoryEntities[v.category]),P})})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=R({type:t,selectors:[["lab-collection-table"]],inputs:{ids:[1,"ids"],type:[1,"type"],useRelativePath:[1,"useRelativePath"]},standalone:!0,features:[I],decls:3,vars:4,consts:[["labPagedTable","",3,"value","paginator","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","category.name"],["field","category.name"],["type","text","field","name","matchMode","contains"],["field","category.id","matchMode","in"],["pTemplate","filter"],["appendTo","body",3,"onChange","ngModel","options","maxSelectedLabels","selectedItemsLabel","placeholder"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-link",3,"label","icon"]],template:function(o,p){o&1&&(r(0,"p-table",0),s(1,pe,8,5,"ng-template",1)(2,me,6,7,"ng-template",2),a()),o&2&&m("value",p.value())("paginator",p.value().length>10)("globalFilterFields",L(3,ne))},dependencies:[J,A,G,$,N,V,O,W,Q,ee,C,X,Y,Z,K,te,U],styles:["th[_ngcontent-%COMP%]{width:50%}"],changeDetection:0});let e=t;return e})();export{Le as a};
