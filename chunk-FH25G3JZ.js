import{Ad as rt,Dd as _i,E as ni,Ec as mr,Ed as jt,Fd as di,G as dr,Gc as ae,Gd as mi,Hc as cn,Hd as hi,Ib as Ae,Id as gi,K as an,Kb as ln,Kc as me,Kd as vr,Lc as si,Nc as li,O as kt,Rc as Ne,S as Fe,Sc as hr,Uc as ui,Xc as ci,Zc as It,_b as ii,ad as fi,bd as pi,c as rn,d as nn,fd as Lt,g as Jn,l as _r,m as ei,q as on,rc as oi,rd as gr,sc as un,tc as ai,td as fn,v as ti,x as ri,xa as sn,yd as _t}from"./chunk-VYXNFTVK.js";import{a as Qn,b as Zn,f as zt,h as Hf}from"./chunk-TWZW5B45.js";var Ia=zt(()=>{"use strict"});var Sa=zt(()=>{"use strict"});var Aa=zt(()=>{"use strict"});var Ta=zt((Yr,jn)=>{"use strict";var Ln=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e){e=e||{};var e=typeof e<"u"?e:{},i,a;e.ready=new Promise(function(n,o){i=n,a=o});var p=Object.assign({},e),f=[],l="./this.program",h=(n,o)=>{throw o},d=typeof window=="object",v=typeof importScripts=="function",A=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S="";function R(n){return e.locateFile?e.locateFile(n,S):S+n}var j,Z,ee,U;function Q(n){if(n instanceof Un)return;G("exiting due to exception: "+n)}if(A){var J=Ia(),B=Sa();v?S=B.dirname(S)+"/":S=__dirname+"/",j=(n,o)=>(n=ur(n)?new URL(n):B.normalize(n),J.readFileSync(n,o?void 0:"utf8")),ee=n=>{var o=j(n,!0);return o.buffer||(o=new Uint8Array(o)),o},Z=(n,o,u)=>{n=ur(n)?new URL(n):B.normalize(n),J.readFile(n,function(_,m){_?u(_):o(m.buffer)})},process.argv.length>1&&(l=process.argv[1].replace(/\\/g,"/")),f=process.argv.slice(2),process.on("uncaughtException",function(n){if(!(n instanceof Un))throw n}),process.on("unhandledRejection",function(n){throw n}),h=(n,o)=>{if(lt())throw process.exitCode=n,o;Q(o),process.exit(n)},e.inspect=function(){return"[Emscripten Module object]"}}else(d||v)&&(v?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),t&&(S=t),S.indexOf("blob:")!==0?S=S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):S="",j=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.send(null),o.responseText},v&&(ee=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),Z=(n,o,u)=>{var _=new XMLHttpRequest;_.open("GET",n,!0),_.responseType="arraybuffer",_.onload=()=>{if(_.status==200||_.status==0&&_.response){o(_.response);return}u()},_.onerror=u,_.send(null)},U=n=>document.title=n);var Y=e.print||console.log.bind(console),G=e.printErr||console.warn.bind(console);Object.assign(e,p),p=null,e.arguments&&(f=e.arguments),e.thisProgram&&(l=e.thisProgram),e.quit&&(h=e.quit);var oe;e.wasmBinary&&(oe=e.wasmBinary);var fe=e.noExitRuntime||!0;typeof WebAssembly!="object"&&qe("no native wasm support detected");var pe,de=!1,ge;function N(n,o){n||qe(o)}var W=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function x(n,o,u){for(var _=o+u,m=o;n[m]&&!(m>=_);)++m;if(m-o>16&&n.buffer&&W)return W.decode(n.subarray(o,m));for(var g="";o<m;){var b=n[o++];if(!(b&128)){g+=String.fromCharCode(b);continue}var k=n[o++]&63;if((b&224)==192){g+=String.fromCharCode((b&31)<<6|k);continue}var C=n[o++]&63;if((b&240)==224?b=(b&15)<<12|k<<6|C:b=(b&7)<<18|k<<12|C<<6|n[o++]&63,b<65536)g+=String.fromCharCode(b);else{var K=b-65536;g+=String.fromCharCode(55296|K>>10,56320|K&1023)}}return g}function F(n,o){return n?x(E,n,o):""}function T(n,o,u,_){if(!(_>0))return 0;for(var m=u,g=u+_-1,b=0;b<n.length;++b){var k=n.charCodeAt(b);if(k>=55296&&k<=57343){var C=n.charCodeAt(++b);k=65536+((k&1023)<<10)|C&1023}if(k<=127){if(u>=g)break;o[u++]=k}else if(k<=2047){if(u+1>=g)break;o[u++]=192|k>>6,o[u++]=128|k&63}else if(k<=65535){if(u+2>=g)break;o[u++]=224|k>>12,o[u++]=128|k>>6&63,o[u++]=128|k&63}else{if(u+3>=g)break;o[u++]=240|k>>18,o[u++]=128|k>>12&63,o[u++]=128|k>>6&63,o[u++]=128|k&63}}return o[u]=0,u-m}function L(n,o,u){return T(n,E,o,u)}function w(n){for(var o=0,u=0;u<n.length;++u){var _=n.charCodeAt(u);_<=127?o++:_<=2047?o+=2:_>=55296&&_<=57343?(o+=4,++u):o+=3}return o}var s,y,E,D,$,P,O,M,I;function z(n){s=n,e.HEAP8=y=new Int8Array(n),e.HEAP16=D=new Int16Array(n),e.HEAP32=P=new Int32Array(n),e.HEAPU8=E=new Uint8Array(n),e.HEAPU16=$=new Uint16Array(n),e.HEAPU32=O=new Uint32Array(n),e.HEAPF32=M=new Float32Array(n),e.HEAPF64=I=new Float64Array(n)}var H=e.INITIAL_MEMORY||16777216,q,V=[],re=[],be=[],ve=!1;function lt(){return fe}function Ge(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Dt(e.preRun.shift());Jr(V)}function ut(){ve=!0,!e.noFSInit&&!c.init.initialized&&c.init(),c.ignorePermissions=!1,et.init(),Jr(re)}function ct(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Pa(e.postRun.shift());Jr(be)}function Dt(n){V.unshift(n)}function ft(n){re.unshift(n)}function Pa(n){be.unshift(n)}var pt=0,Qr=null,Pt=null;function wd(n){return n}function Zr(n){pt++,e.monitorRunDependencies&&e.monitorRunDependencies(pt)}function lr(n){if(pt--,e.monitorRunDependencies&&e.monitorRunDependencies(pt),pt==0&&(Qr!==null&&(clearInterval(Qr),Qr=null),Pt)){var o=Pt;Pt=null,o()}}function qe(n){e.onAbort&&e.onAbort(n),n="Aborted("+n+")",G(n),de=!0,ge=1,n+=". Build with -sASSERTIONS for more info.";var o=new WebAssembly.RuntimeError(n);throw a(o),o}var Fa="data:application/octet-stream;base64,";function Cn(n){return n.startsWith(Fa)}function ur(n){return n.startsWith("file://")}var De;De="glpk.all.wasm",Cn(De)||(De=R(De));function Vn(n){try{if(n==De&&oe)return new Uint8Array(oe);if(ee)return ee(n);throw"both async and sync fetching of the wasm failed"}catch(o){qe(o)}}function Ba(){if(!oe&&(d||v)){if(typeof fetch=="function"&&!ur(De))return fetch(De,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+De+"'";return n.arrayBuffer()}).catch(function(){return Vn(De)});if(Z)return new Promise(function(n,o){Z(De,function(u){n(new Uint8Array(u))},o)})}return Promise.resolve().then(function(){return Vn(De)})}function za(){var n={a:gs};function o(b,k){var C=b.exports;e.asm=C,pe=e.asm.D,z(pe.buffer),q=e.asm.N,ft(e.asm.E),lr("wasm-instantiate")}Zr("wasm-instantiate");function u(b){o(b.instance)}function _(b){return Ba().then(function(k){return WebAssembly.instantiate(k,n)}).then(function(k){return k}).then(b,function(k){G("failed to asynchronously prepare wasm: "+k),qe(k)})}function m(){return!oe&&typeof WebAssembly.instantiateStreaming=="function"&&!Cn(De)&&!ur(De)&&!A&&typeof fetch=="function"?fetch(De,{credentials:"same-origin"}).then(function(b){var k=WebAssembly.instantiateStreaming(b,n);return k.then(u,function(C){return G("wasm streaming compile failed: "+C),G("falling back to ArrayBuffer instantiation"),_(u)})}):_(u)}if(e.instantiateWasm)try{var g=e.instantiateWasm(n,o);return g}catch(b){G("Module.instantiateWasm callback failed with error: "+b),a(b)}return m().catch(a),{}}var ne,ye;function Un(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function Jr(n){for(;n.length>0;)n.shift()(e)}function La(n,o="i8"){switch(o.endsWith("*")&&(o="*"),o){case"i1":return y[n>>0];case"i8":return y[n>>0];case"i16":return D[n>>1];case"i32":return P[n>>2];case"i64":return P[n>>2];case"float":return M[n>>2];case"double":return I[n>>3];case"*":return O[n>>2];default:qe("invalid type for getValue: "+o)}return null}function ja(n,o,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":y[n>>0]=o;break;case"i8":y[n>>0]=o;break;case"i16":D[n>>1]=o;break;case"i32":P[n>>2]=o;break;case"i64":ye=[o>>>0,(ne=o,+Math.abs(ne)>=1?ne>0?(Math.min(+Math.floor(ne/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ne-+(~~ne>>>0))/4294967296)>>>0:0)],P[n>>2]=ye[0],P[n+4>>2]=ye[1];break;case"float":M[n>>2]=o;break;case"double":I[n>>3]=o;break;case"*":O[n>>2]=o;break;default:qe("invalid type for setValue: "+u)}}function Ca(n,o,u,_){qe("Assertion failed: "+F(n)+", at: "+[o?F(o):"unknown filename",u,_?F(_):"unknown function"])}function Va(n){return P[Yn()>>2]=n,n}var ce={isAbs:n=>n.charAt(0)==="/",splitPath:n=>{var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return o.exec(n).slice(1)},normalizeArray:(n,o)=>{for(var u=0,_=n.length-1;_>=0;_--){var m=n[_];m==="."?n.splice(_,1):m===".."?(n.splice(_,1),u++):u&&(n.splice(_,1),u--)}if(o)for(;u;u--)n.unshift("..");return n},normalize:n=>{var o=ce.isAbs(n),u=n.substr(-1)==="/";return n=ce.normalizeArray(n.split("/").filter(_=>!!_),!o).join("/"),!n&&!o&&(n="."),n&&u&&(n+="/"),(o?"/":"")+n},dirname:n=>{var o=ce.splitPath(n),u=o[0],_=o[1];return!u&&!_?".":(_&&(_=_.substr(0,_.length-1)),u+_)},basename:n=>{if(n==="/")return"/";n=ce.normalize(n),n=n.replace(/\/$/,"");var o=n.lastIndexOf("/");return o===-1?n:n.substr(o+1)},join:function(){var n=Array.prototype.slice.call(arguments);return ce.normalize(n.join("/"))},join2:(n,o)=>ce.normalize(n+"/"+o)};function Ua(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}else if(A)try{var o=Aa();return()=>o.randomBytes(1)[0]}catch{}return()=>qe("randomDevice")}var Ye={resolve:function(){for(var n="",o=!1,u=arguments.length-1;u>=-1&&!o;u--){var _=u>=0?arguments[u]:c.cwd();if(typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";n=_+"/"+n,o=ce.isAbs(_)}return n=ce.normalizeArray(n.split("/").filter(m=>!!m),!o).join("/"),(o?"/":"")+n||"."},relative:(n,o)=>{n=Ye.resolve(n).substr(1),o=Ye.resolve(o).substr(1);function u(K){for(var se=0;se<K.length&&K[se]==="";se++);for(var ue=K.length-1;ue>=0&&K[ue]==="";ue--);return se>ue?[]:K.slice(se,ue-se+1)}for(var _=u(n.split("/")),m=u(o.split("/")),g=Math.min(_.length,m.length),b=g,k=0;k<g;k++)if(_[k]!==m[k]){b=k;break}for(var C=[],k=b;k<_.length;k++)C.push("..");return C=C.concat(m.slice(b)),C.join("/")}};function en(n,o,u){var _=u>0?u:w(n)+1,m=new Array(_),g=T(n,m,0,m.length);return o&&(m.length=g),m}var et={ttys:[],init:function(){},shutdown:function(){},register:function(n,o){et.ttys[n]={input:[],output:[],ops:o},c.registerDevice(n,et.stream_ops)},stream_ops:{open:function(n){var o=et.ttys[n.node.rdev];if(!o)throw new c.ErrnoError(43);n.tty=o,n.seekable=!1},close:function(n){n.tty.ops.fsync(n.tty)},fsync:function(n){n.tty.ops.fsync(n.tty)},read:function(n,o,u,_,m){if(!n.tty||!n.tty.ops.get_char)throw new c.ErrnoError(60);for(var g=0,b=0;b<_;b++){var k;try{k=n.tty.ops.get_char(n.tty)}catch{throw new c.ErrnoError(29)}if(k===void 0&&g===0)throw new c.ErrnoError(6);if(k==null)break;g++,o[u+b]=k}return g&&(n.node.timestamp=Date.now()),g},write:function(n,o,u,_,m){if(!n.tty||!n.tty.ops.put_char)throw new c.ErrnoError(60);try{for(var g=0;g<_;g++)n.tty.ops.put_char(n.tty,o[u+g])}catch{throw new c.ErrnoError(29)}return _&&(n.node.timestamp=Date.now()),g}},default_tty_ops:{get_char:function(n){if(!n.input.length){var o=null;if(A){var u=256,_=Buffer.alloc(u),m=0;try{m=J.readSync(process.stdin.fd,_,0,u,-1)}catch(g){if(g.toString().includes("EOF"))m=0;else throw g}m>0?o=_.slice(0,m).toString("utf-8"):o=null}else typeof window<"u"&&typeof window.prompt=="function"?(o=window.prompt("Input: "),o!==null&&(o+=`
`)):typeof readline=="function"&&(o=readline(),o!==null&&(o+=`
`));if(!o)return null;n.input=en(o,!0)}return n.input.shift()},put_char:function(n,o){o===null||o===10?(Y(x(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&n.output.length>0&&(Y(x(n.output,0)),n.output=[])}},default_tty1_ops:{put_char:function(n,o){o===null||o===10?(G(x(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&n.output.length>0&&(G(x(n.output,0)),n.output=[])}}};function $n(n){qe()}var ie={ops_table:null,mount:function(n){return ie.createNode(null,"/",16895,0)},createNode:function(n,o,u,_){if(c.isBlkdev(u)||c.isFIFO(u))throw new c.ErrnoError(63);ie.ops_table||(ie.ops_table={dir:{node:{getattr:ie.node_ops.getattr,setattr:ie.node_ops.setattr,lookup:ie.node_ops.lookup,mknod:ie.node_ops.mknod,rename:ie.node_ops.rename,unlink:ie.node_ops.unlink,rmdir:ie.node_ops.rmdir,readdir:ie.node_ops.readdir,symlink:ie.node_ops.symlink},stream:{llseek:ie.stream_ops.llseek}},file:{node:{getattr:ie.node_ops.getattr,setattr:ie.node_ops.setattr},stream:{llseek:ie.stream_ops.llseek,read:ie.stream_ops.read,write:ie.stream_ops.write,allocate:ie.stream_ops.allocate,mmap:ie.stream_ops.mmap,msync:ie.stream_ops.msync}},link:{node:{getattr:ie.node_ops.getattr,setattr:ie.node_ops.setattr,readlink:ie.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ie.node_ops.getattr,setattr:ie.node_ops.setattr},stream:c.chrdev_stream_ops}});var m=c.createNode(n,o,u,_);return c.isDir(m.mode)?(m.node_ops=ie.ops_table.dir.node,m.stream_ops=ie.ops_table.dir.stream,m.contents={}):c.isFile(m.mode)?(m.node_ops=ie.ops_table.file.node,m.stream_ops=ie.ops_table.file.stream,m.usedBytes=0,m.contents=null):c.isLink(m.mode)?(m.node_ops=ie.ops_table.link.node,m.stream_ops=ie.ops_table.link.stream):c.isChrdev(m.mode)&&(m.node_ops=ie.ops_table.chrdev.node,m.stream_ops=ie.ops_table.chrdev.stream),m.timestamp=Date.now(),n&&(n.contents[o]=m,n.timestamp=m.timestamp),m},getFileDataAsTypedArray:function(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage:function(n,o){var u=n.contents?n.contents.length:0;if(!(u>=o)){var _=1024*1024;o=Math.max(o,u*(u<_?2:1.125)>>>0),u!=0&&(o=Math.max(o,256));var m=n.contents;n.contents=new Uint8Array(o),n.usedBytes>0&&n.contents.set(m.subarray(0,n.usedBytes),0)}},resizeFileStorage:function(n,o){if(n.usedBytes!=o)if(o==0)n.contents=null,n.usedBytes=0;else{var u=n.contents;n.contents=new Uint8Array(o),u&&n.contents.set(u.subarray(0,Math.min(o,n.usedBytes))),n.usedBytes=o}},node_ops:{getattr:function(n){var o={};return o.dev=c.isChrdev(n.mode)?n.id:1,o.ino=n.id,o.mode=n.mode,o.nlink=1,o.uid=0,o.gid=0,o.rdev=n.rdev,c.isDir(n.mode)?o.size=4096:c.isFile(n.mode)?o.size=n.usedBytes:c.isLink(n.mode)?o.size=n.link.length:o.size=0,o.atime=new Date(n.timestamp),o.mtime=new Date(n.timestamp),o.ctime=new Date(n.timestamp),o.blksize=4096,o.blocks=Math.ceil(o.size/o.blksize),o},setattr:function(n,o){o.mode!==void 0&&(n.mode=o.mode),o.timestamp!==void 0&&(n.timestamp=o.timestamp),o.size!==void 0&&ie.resizeFileStorage(n,o.size)},lookup:function(n,o){throw c.genericErrors[44]},mknod:function(n,o,u,_){return ie.createNode(n,o,u,_)},rename:function(n,o,u){if(c.isDir(n.mode)){var _;try{_=c.lookupNode(o,u)}catch{}if(_)for(var m in _.contents)throw new c.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=u,o.contents[u]=n,o.timestamp=n.parent.timestamp,n.parent=o},unlink:function(n,o){delete n.contents[o],n.timestamp=Date.now()},rmdir:function(n,o){var u=c.lookupNode(n,o);for(var _ in u.contents)throw new c.ErrnoError(55);delete n.contents[o],n.timestamp=Date.now()},readdir:function(n){var o=[".",".."];for(var u in n.contents)n.contents.hasOwnProperty(u)&&o.push(u);return o},symlink:function(n,o,u){var _=ie.createNode(n,o,41471,0);return _.link=u,_},readlink:function(n){if(!c.isLink(n.mode))throw new c.ErrnoError(28);return n.link}},stream_ops:{read:function(n,o,u,_,m){var g=n.node.contents;if(m>=n.node.usedBytes)return 0;var b=Math.min(n.node.usedBytes-m,_);if(b>8&&g.subarray)o.set(g.subarray(m,m+b),u);else for(var k=0;k<b;k++)o[u+k]=g[m+k];return b},write:function(n,o,u,_,m,g){if(o.buffer===y.buffer&&(g=!1),!_)return 0;var b=n.node;if(b.timestamp=Date.now(),o.subarray&&(!b.contents||b.contents.subarray)){if(g)return b.contents=o.subarray(u,u+_),b.usedBytes=_,_;if(b.usedBytes===0&&m===0)return b.contents=o.slice(u,u+_),b.usedBytes=_,_;if(m+_<=b.usedBytes)return b.contents.set(o.subarray(u,u+_),m),_}if(ie.expandFileStorage(b,m+_),b.contents.subarray&&o.subarray)b.contents.set(o.subarray(u,u+_),m);else for(var k=0;k<_;k++)b.contents[m+k]=o[u+k];return b.usedBytes=Math.max(b.usedBytes,m+_),_},llseek:function(n,o,u){var _=o;if(u===1?_+=n.position:u===2&&c.isFile(n.node.mode)&&(_+=n.node.usedBytes),_<0)throw new c.ErrnoError(28);return _},allocate:function(n,o,u){ie.expandFileStorage(n.node,o+u),n.node.usedBytes=Math.max(n.node.usedBytes,o+u)},mmap:function(n,o,u,_,m){if(!c.isFile(n.node.mode))throw new c.ErrnoError(43);var g,b,k=n.node.contents;if(!(m&2)&&k.buffer===s)b=!1,g=k.byteOffset;else{if((u>0||u+o<k.length)&&(k.subarray?k=k.subarray(u,u+o):k=Array.prototype.slice.call(k,u,u+o)),b=!0,g=$n(o),!g)throw new c.ErrnoError(48);y.set(k,g)}return{ptr:g,allocated:b}},msync:function(n,o,u,_,m){return ie.stream_ops.write(n,o,0,_,u,!1),0}}};function $a(n,o,u,_){var m=_?"":"al "+n;Z(n,g=>{N(g,'Loading data file "'+n+'" failed (no arrayBuffer).'),o(new Uint8Array(g)),m&&lr(m)},g=>{if(u)u();else throw'Loading data file "'+n+'" failed.'}),m&&Zr(m)}var c={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(n,o={})=>{if(n=Ye.resolve(n),!n)return{path:"",node:null};var u={follow_mount:!0,recurse_count:0};if(o=Object.assign(u,o),o.recurse_count>8)throw new c.ErrnoError(32);for(var _=n.split("/").filter(ue=>!!ue),m=c.root,g="/",b=0;b<_.length;b++){var k=b===_.length-1;if(k&&o.parent)break;if(m=c.lookupNode(m,_[b]),g=ce.join2(g,_[b]),c.isMountpoint(m)&&(!k||k&&o.follow_mount)&&(m=m.mounted.root),!k||o.follow)for(var C=0;c.isLink(m.mode);){var K=c.readlink(g);g=Ye.resolve(ce.dirname(g),K);var se=c.lookupPath(g,{recurse_count:o.recurse_count+1});if(m=se.node,C++>40)throw new c.ErrnoError(32)}}return{path:g,node:m}},getPath:n=>{for(var o;;){if(c.isRoot(n)){var u=n.mount.mountpoint;return o?u[u.length-1]!=="/"?u+"/"+o:u+o:u}o=o?n.name+"/"+o:n.name,n=n.parent}},hashName:(n,o)=>{for(var u=0,_=0;_<o.length;_++)u=(u<<5)-u+o.charCodeAt(_)|0;return(n+u>>>0)%c.nameTable.length},hashAddNode:n=>{var o=c.hashName(n.parent.id,n.name);n.name_next=c.nameTable[o],c.nameTable[o]=n},hashRemoveNode:n=>{var o=c.hashName(n.parent.id,n.name);if(c.nameTable[o]===n)c.nameTable[o]=n.name_next;else for(var u=c.nameTable[o];u;){if(u.name_next===n){u.name_next=n.name_next;break}u=u.name_next}},lookupNode:(n,o)=>{var u=c.mayLookup(n);if(u)throw new c.ErrnoError(u,n);for(var _=c.hashName(n.id,o),m=c.nameTable[_];m;m=m.name_next){var g=m.name;if(m.parent.id===n.id&&g===o)return m}return c.lookup(n,o)},createNode:(n,o,u,_)=>{var m=new c.FSNode(n,o,u,_);return c.hashAddNode(m),m},destroyNode:n=>{c.hashRemoveNode(n)},isRoot:n=>n===n.parent,isMountpoint:n=>!!n.mounted,isFile:n=>(n&61440)===32768,isDir:n=>(n&61440)===16384,isLink:n=>(n&61440)===40960,isChrdev:n=>(n&61440)===8192,isBlkdev:n=>(n&61440)===24576,isFIFO:n=>(n&61440)===4096,isSocket:n=>(n&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:n=>{var o=c.flagModes[n];if(typeof o>"u")throw new Error("Unknown file open mode: "+n);return o},flagsToPermissionString:n=>{var o=["r","w","rw"][n&3];return n&512&&(o+="w"),o},nodePermissions:(n,o)=>c.ignorePermissions?0:o.includes("r")&&!(n.mode&292)||o.includes("w")&&!(n.mode&146)||o.includes("x")&&!(n.mode&73)?2:0,mayLookup:n=>{var o=c.nodePermissions(n,"x");return o||(n.node_ops.lookup?0:2)},mayCreate:(n,o)=>{try{var u=c.lookupNode(n,o);return 20}catch{}return c.nodePermissions(n,"wx")},mayDelete:(n,o,u)=>{var _;try{_=c.lookupNode(n,o)}catch(g){return g.errno}var m=c.nodePermissions(n,"wx");if(m)return m;if(u){if(!c.isDir(_.mode))return 54;if(c.isRoot(_)||c.getPath(_)===c.cwd())return 10}else if(c.isDir(_.mode))return 31;return 0},mayOpen:(n,o)=>n?c.isLink(n.mode)?32:c.isDir(n.mode)&&(c.flagsToPermissionString(o)!=="r"||o&512)?31:c.nodePermissions(n,c.flagsToPermissionString(o)):44,MAX_OPEN_FDS:4096,nextfd:(n=0,o=c.MAX_OPEN_FDS)=>{for(var u=n;u<=o;u++)if(!c.streams[u])return u;throw new c.ErrnoError(33)},getStream:n=>c.streams[n],createStream:(n,o,u)=>{c.FSStream||(c.FSStream=function(){this.shared={}},c.FSStream.prototype={},Object.defineProperties(c.FSStream.prototype,{object:{get:function(){return this.node},set:function(m){this.node=m}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(m){this.shared.flags=m}},position:{get:function(){return this.shared.position},set:function(m){this.shared.position=m}}})),n=Object.assign(new c.FSStream,n);var _=c.nextfd(o,u);return n.fd=_,c.streams[_]=n,n},closeStream:n=>{c.streams[n]=null},chrdev_stream_ops:{open:n=>{var o=c.getDevice(n.node.rdev);n.stream_ops=o.stream_ops,n.stream_ops.open&&n.stream_ops.open(n)},llseek:()=>{throw new c.ErrnoError(70)}},major:n=>n>>8,minor:n=>n&255,makedev:(n,o)=>n<<8|o,registerDevice:(n,o)=>{c.devices[n]={stream_ops:o}},getDevice:n=>c.devices[n],getMounts:n=>{for(var o=[],u=[n];u.length;){var _=u.pop();o.push(_),u.push.apply(u,_.mounts)}return o},syncfs:(n,o)=>{typeof n=="function"&&(o=n,n=!1),c.syncFSRequests++,c.syncFSRequests>1&&G("warning: "+c.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var u=c.getMounts(c.root.mount),_=0;function m(b){return c.syncFSRequests--,o(b)}function g(b){if(b)return g.errored?void 0:(g.errored=!0,m(b));++_>=u.length&&m(null)}u.forEach(b=>{if(!b.type.syncfs)return g(null);b.type.syncfs(b,n,g)})},mount:(n,o,u)=>{var _=u==="/",m=!u,g;if(_&&c.root)throw new c.ErrnoError(10);if(!_&&!m){var b=c.lookupPath(u,{follow_mount:!1});if(u=b.path,g=b.node,c.isMountpoint(g))throw new c.ErrnoError(10);if(!c.isDir(g.mode))throw new c.ErrnoError(54)}var k={type:n,opts:o,mountpoint:u,mounts:[]},C=n.mount(k);return C.mount=k,k.root=C,_?c.root=C:g&&(g.mounted=k,g.mount&&g.mount.mounts.push(k)),C},unmount:n=>{var o=c.lookupPath(n,{follow_mount:!1});if(!c.isMountpoint(o.node))throw new c.ErrnoError(28);var u=o.node,_=u.mounted,m=c.getMounts(_);Object.keys(c.nameTable).forEach(b=>{for(var k=c.nameTable[b];k;){var C=k.name_next;m.includes(k.mount)&&c.destroyNode(k),k=C}}),u.mounted=null;var g=u.mount.mounts.indexOf(_);u.mount.mounts.splice(g,1)},lookup:(n,o)=>n.node_ops.lookup(n,o),mknod:(n,o,u)=>{var _=c.lookupPath(n,{parent:!0}),m=_.node,g=ce.basename(n);if(!g||g==="."||g==="..")throw new c.ErrnoError(28);var b=c.mayCreate(m,g);if(b)throw new c.ErrnoError(b);if(!m.node_ops.mknod)throw new c.ErrnoError(63);return m.node_ops.mknod(m,g,o,u)},create:(n,o)=>(o=o!==void 0?o:438,o&=4095,o|=32768,c.mknod(n,o,0)),mkdir:(n,o)=>(o=o!==void 0?o:511,o&=1023,o|=16384,c.mknod(n,o,0)),mkdirTree:(n,o)=>{for(var u=n.split("/"),_="",m=0;m<u.length;++m)if(u[m]){_+="/"+u[m];try{c.mkdir(_,o)}catch(g){if(g.errno!=20)throw g}}},mkdev:(n,o,u)=>(typeof u>"u"&&(u=o,o=438),o|=8192,c.mknod(n,o,u)),symlink:(n,o)=>{if(!Ye.resolve(n))throw new c.ErrnoError(44);var u=c.lookupPath(o,{parent:!0}),_=u.node;if(!_)throw new c.ErrnoError(44);var m=ce.basename(o),g=c.mayCreate(_,m);if(g)throw new c.ErrnoError(g);if(!_.node_ops.symlink)throw new c.ErrnoError(63);return _.node_ops.symlink(_,m,n)},rename:(n,o)=>{var u=ce.dirname(n),_=ce.dirname(o),m=ce.basename(n),g=ce.basename(o),b,k,C;if(b=c.lookupPath(n,{parent:!0}),k=b.node,b=c.lookupPath(o,{parent:!0}),C=b.node,!k||!C)throw new c.ErrnoError(44);if(k.mount!==C.mount)throw new c.ErrnoError(75);var K=c.lookupNode(k,m),se=Ye.relative(n,_);if(se.charAt(0)!==".")throw new c.ErrnoError(28);if(se=Ye.relative(o,u),se.charAt(0)!==".")throw new c.ErrnoError(55);var ue;try{ue=c.lookupNode(C,g)}catch{}if(K!==ue){var te=c.isDir(K.mode),X=c.mayDelete(k,m,te);if(X)throw new c.ErrnoError(X);if(X=ue?c.mayDelete(C,g,te):c.mayCreate(C,g),X)throw new c.ErrnoError(X);if(!k.node_ops.rename)throw new c.ErrnoError(63);if(c.isMountpoint(K)||ue&&c.isMountpoint(ue))throw new c.ErrnoError(10);if(C!==k&&(X=c.nodePermissions(k,"w"),X))throw new c.ErrnoError(X);c.hashRemoveNode(K);try{k.node_ops.rename(K,C,g)}catch(le){throw le}finally{c.hashAddNode(K)}}},rmdir:n=>{var o=c.lookupPath(n,{parent:!0}),u=o.node,_=ce.basename(n),m=c.lookupNode(u,_),g=c.mayDelete(u,_,!0);if(g)throw new c.ErrnoError(g);if(!u.node_ops.rmdir)throw new c.ErrnoError(63);if(c.isMountpoint(m))throw new c.ErrnoError(10);u.node_ops.rmdir(u,_),c.destroyNode(m)},readdir:n=>{var o=c.lookupPath(n,{follow:!0}),u=o.node;if(!u.node_ops.readdir)throw new c.ErrnoError(54);return u.node_ops.readdir(u)},unlink:n=>{var o=c.lookupPath(n,{parent:!0}),u=o.node;if(!u)throw new c.ErrnoError(44);var _=ce.basename(n),m=c.lookupNode(u,_),g=c.mayDelete(u,_,!1);if(g)throw new c.ErrnoError(g);if(!u.node_ops.unlink)throw new c.ErrnoError(63);if(c.isMountpoint(m))throw new c.ErrnoError(10);u.node_ops.unlink(u,_),c.destroyNode(m)},readlink:n=>{var o=c.lookupPath(n),u=o.node;if(!u)throw new c.ErrnoError(44);if(!u.node_ops.readlink)throw new c.ErrnoError(28);return Ye.resolve(c.getPath(u.parent),u.node_ops.readlink(u))},stat:(n,o)=>{var u=c.lookupPath(n,{follow:!o}),_=u.node;if(!_)throw new c.ErrnoError(44);if(!_.node_ops.getattr)throw new c.ErrnoError(63);return _.node_ops.getattr(_)},lstat:n=>c.stat(n,!0),chmod:(n,o,u)=>{var _;if(typeof n=="string"){var m=c.lookupPath(n,{follow:!u});_=m.node}else _=n;if(!_.node_ops.setattr)throw new c.ErrnoError(63);_.node_ops.setattr(_,{mode:o&4095|_.mode&-4096,timestamp:Date.now()})},lchmod:(n,o)=>{c.chmod(n,o,!0)},fchmod:(n,o)=>{var u=c.getStream(n);if(!u)throw new c.ErrnoError(8);c.chmod(u.node,o)},chown:(n,o,u,_)=>{var m;if(typeof n=="string"){var g=c.lookupPath(n,{follow:!_});m=g.node}else m=n;if(!m.node_ops.setattr)throw new c.ErrnoError(63);m.node_ops.setattr(m,{timestamp:Date.now()})},lchown:(n,o,u)=>{c.chown(n,o,u,!0)},fchown:(n,o,u)=>{var _=c.getStream(n);if(!_)throw new c.ErrnoError(8);c.chown(_.node,o,u)},truncate:(n,o)=>{if(o<0)throw new c.ErrnoError(28);var u;if(typeof n=="string"){var _=c.lookupPath(n,{follow:!0});u=_.node}else u=n;if(!u.node_ops.setattr)throw new c.ErrnoError(63);if(c.isDir(u.mode))throw new c.ErrnoError(31);if(!c.isFile(u.mode))throw new c.ErrnoError(28);var m=c.nodePermissions(u,"w");if(m)throw new c.ErrnoError(m);u.node_ops.setattr(u,{size:o,timestamp:Date.now()})},ftruncate:(n,o)=>{var u=c.getStream(n);if(!u)throw new c.ErrnoError(8);if(!(u.flags&2097155))throw new c.ErrnoError(28);c.truncate(u.node,o)},utime:(n,o,u)=>{var _=c.lookupPath(n,{follow:!0}),m=_.node;m.node_ops.setattr(m,{timestamp:Math.max(o,u)})},open:(n,o,u)=>{if(n==="")throw new c.ErrnoError(44);o=typeof o=="string"?c.modeStringToFlags(o):o,u=typeof u>"u"?438:u,o&64?u=u&4095|32768:u=0;var _;if(typeof n=="object")_=n;else{n=ce.normalize(n);try{var m=c.lookupPath(n,{follow:!(o&131072)});_=m.node}catch{}}var g=!1;if(o&64)if(_){if(o&128)throw new c.ErrnoError(20)}else _=c.mknod(n,u,0),g=!0;if(!_)throw new c.ErrnoError(44);if(c.isChrdev(_.mode)&&(o&=-513),o&65536&&!c.isDir(_.mode))throw new c.ErrnoError(54);if(!g){var b=c.mayOpen(_,o);if(b)throw new c.ErrnoError(b)}o&512&&!g&&c.truncate(_,0),o&=-131713;var k=c.createStream({node:_,path:c.getPath(_),flags:o,seekable:!0,position:0,stream_ops:_.stream_ops,ungotten:[],error:!1});return k.stream_ops.open&&k.stream_ops.open(k),e.logReadFiles&&!(o&1)&&(c.readFiles||(c.readFiles={}),n in c.readFiles||(c.readFiles[n]=1)),k},close:n=>{if(c.isClosed(n))throw new c.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(o){throw o}finally{c.closeStream(n.fd)}n.fd=null},isClosed:n=>n.fd===null,llseek:(n,o,u)=>{if(c.isClosed(n))throw new c.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new c.ErrnoError(70);if(u!=0&&u!=1&&u!=2)throw new c.ErrnoError(28);return n.position=n.stream_ops.llseek(n,o,u),n.ungotten=[],n.position},read:(n,o,u,_,m)=>{if(_<0||m<0)throw new c.ErrnoError(28);if(c.isClosed(n))throw new c.ErrnoError(8);if((n.flags&2097155)===1)throw new c.ErrnoError(8);if(c.isDir(n.node.mode))throw new c.ErrnoError(31);if(!n.stream_ops.read)throw new c.ErrnoError(28);var g=typeof m<"u";if(!g)m=n.position;else if(!n.seekable)throw new c.ErrnoError(70);var b=n.stream_ops.read(n,o,u,_,m);return g||(n.position+=b),b},write:(n,o,u,_,m,g)=>{if(_<0||m<0)throw new c.ErrnoError(28);if(c.isClosed(n))throw new c.ErrnoError(8);if(!(n.flags&2097155))throw new c.ErrnoError(8);if(c.isDir(n.node.mode))throw new c.ErrnoError(31);if(!n.stream_ops.write)throw new c.ErrnoError(28);n.seekable&&n.flags&1024&&c.llseek(n,0,2);var b=typeof m<"u";if(!b)m=n.position;else if(!n.seekable)throw new c.ErrnoError(70);var k=n.stream_ops.write(n,o,u,_,m,g);return b||(n.position+=k),k},allocate:(n,o,u)=>{if(c.isClosed(n))throw new c.ErrnoError(8);if(o<0||u<=0)throw new c.ErrnoError(28);if(!(n.flags&2097155))throw new c.ErrnoError(8);if(!c.isFile(n.node.mode)&&!c.isDir(n.node.mode))throw new c.ErrnoError(43);if(!n.stream_ops.allocate)throw new c.ErrnoError(138);n.stream_ops.allocate(n,o,u)},mmap:(n,o,u,_,m)=>{if(_&2&&!(m&2)&&(n.flags&2097155)!==2)throw new c.ErrnoError(2);if((n.flags&2097155)===1)throw new c.ErrnoError(2);if(!n.stream_ops.mmap)throw new c.ErrnoError(43);return n.stream_ops.mmap(n,o,u,_,m)},msync:(n,o,u,_,m)=>n.stream_ops.msync?n.stream_ops.msync(n,o,u,_,m):0,munmap:n=>0,ioctl:(n,o,u)=>{if(!n.stream_ops.ioctl)throw new c.ErrnoError(59);return n.stream_ops.ioctl(n,o,u)},readFile:(n,o={})=>{if(o.flags=o.flags||0,o.encoding=o.encoding||"binary",o.encoding!=="utf8"&&o.encoding!=="binary")throw new Error('Invalid encoding type "'+o.encoding+'"');var u,_=c.open(n,o.flags),m=c.stat(n),g=m.size,b=new Uint8Array(g);return c.read(_,b,0,g,0),o.encoding==="utf8"?u=x(b,0):o.encoding==="binary"&&(u=b),c.close(_),u},writeFile:(n,o,u={})=>{u.flags=u.flags||577;var _=c.open(n,u.flags,u.mode);if(typeof o=="string"){var m=new Uint8Array(w(o)+1),g=T(o,m,0,m.length);c.write(_,m,0,g,void 0,u.canOwn)}else if(ArrayBuffer.isView(o))c.write(_,o,0,o.byteLength,void 0,u.canOwn);else throw new Error("Unsupported data type");c.close(_)},cwd:()=>c.currentPath,chdir:n=>{var o=c.lookupPath(n,{follow:!0});if(o.node===null)throw new c.ErrnoError(44);if(!c.isDir(o.node.mode))throw new c.ErrnoError(54);var u=c.nodePermissions(o.node,"x");if(u)throw new c.ErrnoError(u);c.currentPath=o.path},createDefaultDirectories:()=>{c.mkdir("/tmp"),c.mkdir("/home"),c.mkdir("/home/web_user")},createDefaultDevices:()=>{c.mkdir("/dev"),c.registerDevice(c.makedev(1,3),{read:()=>0,write:(o,u,_,m,g)=>m}),c.mkdev("/dev/null",c.makedev(1,3)),et.register(c.makedev(5,0),et.default_tty_ops),et.register(c.makedev(6,0),et.default_tty1_ops),c.mkdev("/dev/tty",c.makedev(5,0)),c.mkdev("/dev/tty1",c.makedev(6,0));var n=Ua();c.createDevice("/dev","random",n),c.createDevice("/dev","urandom",n),c.mkdir("/dev/shm"),c.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{c.mkdir("/proc");var n=c.mkdir("/proc/self");c.mkdir("/proc/self/fd"),c.mount({mount:()=>{var o=c.createNode(n,"fd",16895,73);return o.node_ops={lookup:(u,_)=>{var m=+_,g=c.getStream(m);if(!g)throw new c.ErrnoError(8);var b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>g.path}};return b.parent=b,b}},o}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?c.createDevice("/dev","stdin",e.stdin):c.symlink("/dev/tty","/dev/stdin"),e.stdout?c.createDevice("/dev","stdout",null,e.stdout):c.symlink("/dev/tty","/dev/stdout"),e.stderr?c.createDevice("/dev","stderr",null,e.stderr):c.symlink("/dev/tty1","/dev/stderr");var n=c.open("/dev/stdin",0),o=c.open("/dev/stdout",1),u=c.open("/dev/stderr",1)},ensureErrnoError:()=>{c.ErrnoError||(c.ErrnoError=function(o,u){this.node=u,this.setErrno=function(_){this.errno=_},this.setErrno(o),this.message="FS error"},c.ErrnoError.prototype=new Error,c.ErrnoError.prototype.constructor=c.ErrnoError,[44].forEach(n=>{c.genericErrors[n]=new c.ErrnoError(n),c.genericErrors[n].stack="<generic error, no stack>"}))},staticInit:()=>{c.ensureErrnoError(),c.nameTable=new Array(4096),c.mount(ie,{},"/"),c.createDefaultDirectories(),c.createDefaultDevices(),c.createSpecialDirectories(),c.filesystems={MEMFS:ie}},init:(n,o,u)=>{c.init.initialized=!0,c.ensureErrnoError(),e.stdin=n||e.stdin,e.stdout=o||e.stdout,e.stderr=u||e.stderr,c.createStandardStreams()},quit:()=>{c.init.initialized=!1;for(var n=0;n<c.streams.length;n++){var o=c.streams[n];o&&c.close(o)}},getMode:(n,o)=>{var u=0;return n&&(u|=365),o&&(u|=146),u},findObject:(n,o)=>{var u=c.analyzePath(n,o);return u.exists?u.object:null},analyzePath:(n,o)=>{try{var u=c.lookupPath(n,{follow:!o});n=u.path}catch{}var _={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=c.lookupPath(n,{parent:!0});_.parentExists=!0,_.parentPath=u.path,_.parentObject=u.node,_.name=ce.basename(n),u=c.lookupPath(n,{follow:!o}),_.exists=!0,_.path=u.path,_.object=u.node,_.name=u.node.name,_.isRoot=u.path==="/"}catch(m){_.error=m.errno}return _},createPath:(n,o,u,_)=>{n=typeof n=="string"?n:c.getPath(n);for(var m=o.split("/").reverse();m.length;){var g=m.pop();if(g){var b=ce.join2(n,g);try{c.mkdir(b)}catch{}n=b}}return b},createFile:(n,o,u,_,m)=>{var g=ce.join2(typeof n=="string"?n:c.getPath(n),o),b=c.getMode(_,m);return c.create(g,b)},createDataFile:(n,o,u,_,m,g)=>{var b=o;n&&(n=typeof n=="string"?n:c.getPath(n),b=o?ce.join2(n,o):n);var k=c.getMode(_,m),C=c.create(b,k);if(u){if(typeof u=="string"){for(var K=new Array(u.length),se=0,ue=u.length;se<ue;++se)K[se]=u.charCodeAt(se);u=K}c.chmod(C,k|146);var te=c.open(C,577);c.write(te,u,0,u.length,0,g),c.close(te),c.chmod(C,k)}return C},createDevice:(n,o,u,_)=>{var m=ce.join2(typeof n=="string"?n:c.getPath(n),o),g=c.getMode(!!u,!!_);c.createDevice.major||(c.createDevice.major=64);var b=c.makedev(c.createDevice.major++,0);return c.registerDevice(b,{open:k=>{k.seekable=!1},close:k=>{_&&_.buffer&&_.buffer.length&&_(10)},read:(k,C,K,se,ue)=>{for(var te=0,X=0;X<se;X++){var le;try{le=u()}catch{throw new c.ErrnoError(29)}if(le===void 0&&te===0)throw new c.ErrnoError(6);if(le==null)break;te++,C[K+X]=le}return te&&(k.node.timestamp=Date.now()),te},write:(k,C,K,se,ue)=>{for(var te=0;te<se;te++)try{_(C[K+te])}catch{throw new c.ErrnoError(29)}return se&&(k.node.timestamp=Date.now()),te}}),c.mkdev(m,g,b)},forceLoadFile:n=>{if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(j)try{n.contents=en(j(n.url),!0),n.usedBytes=n.contents.length}catch{throw new c.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(n,o,u,_,m)=>{function g(){this.lengthKnown=!1,this.chunks=[]}if(g.prototype.get=function(X){if(!(X>this.length-1||X<0)){var le=X%this.chunkSize,Ee=X/this.chunkSize|0;return this.getter(Ee)[le]}},g.prototype.setDataGetter=function(X){this.getter=X},g.prototype.cacheLength=function(){var X=new XMLHttpRequest;if(X.open("HEAD",u,!1),X.send(null),!(X.status>=200&&X.status<300||X.status===304))throw new Error("Couldn't load "+u+". Status: "+X.status);var le=Number(X.getResponseHeader("Content-length")),Ee,Ke=(Ee=X.getResponseHeader("Accept-Ranges"))&&Ee==="bytes",je=(Ee=X.getResponseHeader("Content-Encoding"))&&Ee==="gzip",Ce=1024*1024;Ke||(Ce=le);var Ve=(Xe,Et)=>{if(Xe>Et)throw new Error("invalid range ("+Xe+", "+Et+") or no bytes requested!");if(Et>le-1)throw new Error("only "+le+" bytes available! programmer error!");var ke=new XMLHttpRequest;if(ke.open("GET",u,!1),le!==Ce&&ke.setRequestHeader("Range","bytes="+Xe+"-"+Et),ke.responseType="arraybuffer",ke.overrideMimeType&&ke.overrideMimeType("text/plain; charset=x-user-defined"),ke.send(null),!(ke.status>=200&&ke.status<300||ke.status===304))throw new Error("Couldn't load "+u+". Status: "+ke.status);return ke.response!==void 0?new Uint8Array(ke.response||[]):en(ke.responseText||"",!0)},Bt=this;Bt.setDataGetter(Xe=>{var Et=Xe*Ce,ke=(Xe+1)*Ce-1;if(ke=Math.min(ke,le-1),typeof Bt.chunks[Xe]>"u"&&(Bt.chunks[Xe]=Ve(Et,ke)),typeof Bt.chunks[Xe]>"u")throw new Error("doXHR failed!");return Bt.chunks[Xe]}),(je||!le)&&(Ce=le=1,le=this.getter(0).length,Ce=le,Y("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=le,this._chunkSize=Ce,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!v)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var b=new g;Object.defineProperties(b,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var k={isDevice:!1,contents:b}}else var k={isDevice:!1,url:u};var C=c.createFile(n,o,k,_,m);k.contents?C.contents=k.contents:k.url&&(C.contents=null,C.url=k.url),Object.defineProperties(C,{usedBytes:{get:function(){return this.contents.length}}});var K={},se=Object.keys(C.stream_ops);se.forEach(te=>{var X=C.stream_ops[te];K[te]=function(){return c.forceLoadFile(C),X.apply(null,arguments)}});function ue(te,X,le,Ee,Ke){var je=te.node.contents;if(Ke>=je.length)return 0;var Ce=Math.min(je.length-Ke,Ee);if(je.slice)for(var Ve=0;Ve<Ce;Ve++)X[le+Ve]=je[Ke+Ve];else for(var Ve=0;Ve<Ce;Ve++)X[le+Ve]=je.get(Ke+Ve);return Ce}return K.read=(te,X,le,Ee,Ke)=>(c.forceLoadFile(C),ue(te,X,le,Ee,Ke)),K.mmap=(te,X,le,Ee,Ke)=>{c.forceLoadFile(C);var je=$n(X);if(!je)throw new c.ErrnoError(48);return ue(te,y,je,X,le),{ptr:je,allocated:!0}},C.stream_ops=K,C},createPreloadedFile:(n,o,u,_,m,g,b,k,C,K)=>{var se=o?Ye.resolve(ce.join2(n,o)):n,ue="cp "+se;function te(X){function le(Ee){K&&K(),k||c.createDataFile(n,o,Ee,_,m,C),g&&g(),lr(ue)}Browser.handledByPreloadPlugin(X,se,le,()=>{b&&b(),lr(ue)})||le(X)}Zr(ue),typeof u=="string"?$a(u,X=>te(X),b):te(u)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(n,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var _=c.indexedDB();try{var m=_.open(c.DB_NAME(),c.DB_VERSION)}catch(g){return u(g)}m.onupgradeneeded=()=>{Y("creating db");var g=m.result;g.createObjectStore(c.DB_STORE_NAME)},m.onsuccess=()=>{var g=m.result,b=g.transaction([c.DB_STORE_NAME],"readwrite"),k=b.objectStore(c.DB_STORE_NAME),C=0,K=0,se=n.length;function ue(){K==0?o():u()}n.forEach(te=>{var X=k.put(c.analyzePath(te).object.contents,te);X.onsuccess=()=>{C++,C+K==se&&ue()},X.onerror=()=>{K++,C+K==se&&ue()}}),b.onerror=u},m.onerror=u},loadFilesFromDB:(n,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var _=c.indexedDB();try{var m=_.open(c.DB_NAME(),c.DB_VERSION)}catch(g){return u(g)}m.onupgradeneeded=u,m.onsuccess=()=>{var g=m.result;try{var b=g.transaction([c.DB_STORE_NAME],"readonly")}catch(te){u(te);return}var k=b.objectStore(c.DB_STORE_NAME),C=0,K=0,se=n.length;function ue(){K==0?o():u()}n.forEach(te=>{var X=k.get(te);X.onsuccess=()=>{c.analyzePath(te).exists&&c.unlink(te),c.createDataFile(ce.dirname(te),ce.basename(te),X.result,!0,!0,!0),C++,C+K==se&&ue()},X.onerror=()=>{K++,C+K==se&&ue()}}),b.onerror=u},m.onerror=u}},we={DEFAULT_POLLMASK:5,calculateAt:function(n,o,u){if(ce.isAbs(o))return o;var _;if(n===-100)_=c.cwd();else{var m=we.getStreamFromFD(n);_=m.path}if(o.length==0){if(!u)throw new c.ErrnoError(44);return _}return ce.join2(_,o)},doStat:function(n,o,u){try{var _=n(o)}catch(k){if(k&&k.node&&ce.normalize(o)!==ce.normalize(c.getPath(k.node)))return-54;throw k}P[u>>2]=_.dev,P[u+8>>2]=_.ino,P[u+12>>2]=_.mode,O[u+16>>2]=_.nlink,P[u+20>>2]=_.uid,P[u+24>>2]=_.gid,P[u+28>>2]=_.rdev,ye=[_.size>>>0,(ne=_.size,+Math.abs(ne)>=1?ne>0?(Math.min(+Math.floor(ne/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ne-+(~~ne>>>0))/4294967296)>>>0:0)],P[u+40>>2]=ye[0],P[u+44>>2]=ye[1],P[u+48>>2]=4096,P[u+52>>2]=_.blocks;var m=_.atime.getTime(),g=_.mtime.getTime(),b=_.ctime.getTime();return ye=[Math.floor(m/1e3)>>>0,(ne=Math.floor(m/1e3),+Math.abs(ne)>=1?ne>0?(Math.min(+Math.floor(ne/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ne-+(~~ne>>>0))/4294967296)>>>0:0)],P[u+56>>2]=ye[0],P[u+60>>2]=ye[1],O[u+64>>2]=m%1e3*1e3,ye=[Math.floor(g/1e3)>>>0,(ne=Math.floor(g/1e3),+Math.abs(ne)>=1?ne>0?(Math.min(+Math.floor(ne/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ne-+(~~ne>>>0))/4294967296)>>>0:0)],P[u+72>>2]=ye[0],P[u+76>>2]=ye[1],O[u+80>>2]=g%1e3*1e3,ye=[Math.floor(b/1e3)>>>0,(ne=Math.floor(b/1e3),+Math.abs(ne)>=1?ne>0?(Math.min(+Math.floor(ne/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ne-+(~~ne>>>0))/4294967296)>>>0:0)],P[u+88>>2]=ye[0],P[u+92>>2]=ye[1],O[u+96>>2]=b%1e3*1e3,ye=[_.ino>>>0,(ne=_.ino,+Math.abs(ne)>=1?ne>0?(Math.min(+Math.floor(ne/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ne-+(~~ne>>>0))/4294967296)>>>0:0)],P[u+104>>2]=ye[0],P[u+108>>2]=ye[1],0},doMsync:function(n,o,u,_,m){if(!c.isFile(o.node.mode))throw new c.ErrnoError(43);if(_&2)return 0;var g=E.slice(n,n+u);c.msync(o,g,m,u,_)},varargs:void 0,get:function(){we.varargs+=4;var n=P[we.varargs-4>>2];return n},getStr:function(n){var o=F(n);return o},getStreamFromFD:function(n){var o=c.getStream(n);if(!o)throw new c.ErrnoError(8);return o}};function Ha(n,o,u){we.varargs=u;try{var _=we.getStreamFromFD(n);switch(o){case 0:{var m=we.get();if(m<0)return-28;var g;return g=c.createStream(_,m),g.fd}case 1:case 2:return 0;case 3:return _.flags;case 4:{var m=we.get();return _.flags|=m,0}case 5:{var m=we.get(),b=0;return D[m+b>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Va(28),-1;default:return-28}}catch(k){if(typeof c>"u"||!(k instanceof c.ErrnoError))throw k;return-k.errno}}function qa(n,o,u){we.varargs=u;try{var _=we.getStreamFromFD(n);switch(o){case 21509:case 21505:return _.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return _.tty?0:-59;case 21519:{if(!_.tty)return-59;var m=we.get();return P[m>>2]=0,0}case 21520:return _.tty?-28:-59;case 21531:{var m=we.get();return c.ioctl(_,o,m)}case 21523:return _.tty?0:-59;case 21524:return _.tty?0:-59;default:return-28}}catch(g){if(typeof c>"u"||!(g instanceof c.ErrnoError))throw g;return-g.errno}}function Xa(n,o,u,_){we.varargs=_;try{o=we.getStr(o),o=we.calculateAt(n,o);var m=_?we.get():0;return c.open(o,u,m).fd}catch(g){if(typeof c>"u"||!(g instanceof c.ErrnoError))throw g;return-g.errno}}function Wa(){throw 1/0}function Ga(n){return O[n>>2]+P[n+4>>2]*4294967296}function Ya(n,o){var u=new Date(Ga(n)*1e3);P[o>>2]=u.getUTCSeconds(),P[o+4>>2]=u.getUTCMinutes(),P[o+8>>2]=u.getUTCHours(),P[o+12>>2]=u.getUTCDate(),P[o+16>>2]=u.getUTCMonth(),P[o+20>>2]=u.getUTCFullYear()-1900,P[o+24>>2]=u.getUTCDay();var _=Date.UTC(u.getUTCFullYear(),0,1,0,0,0,0),m=(u.getTime()-_)/(1e3*60*60*24)|0;P[o+28>>2]=m}function Hn(n){var o=w(n)+1,u=Gn(o);return u&&T(n,y,u,o),u}function Ka(n,o,u){var _=new Date().getFullYear(),m=new Date(_,0,1),g=new Date(_,6,1),b=m.getTimezoneOffset(),k=g.getTimezoneOffset(),C=Math.max(b,k);O[n>>2]=C*60,P[o>>2]=+(b!=k);function K(le){var Ee=le.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Ee?Ee[1]:"GMT"}var se=K(m),ue=K(g),te=Hn(se),X=Hn(ue);k<b?(O[u>>2]=te,O[u+4>>2]=X):(O[u>>2]=X,O[u+4>>2]=te)}function Qa(){qe("")}function Za(){return Date.now()}function Ja(n,o,u){E.copyWithin(n,o,o+u)}function es(){return 2147483648}function ts(n){try{return pe.grow(n-s.byteLength+65535>>>16),z(pe.buffer),1}catch{}}function rs(n){var o=E.length;n=n>>>0;var u=es();if(n>u)return!1;let _=(C,K)=>C+(K-C%K)%K;for(var m=1;m<=4;m*=2){var g=o*(1+.2/m);g=Math.min(g,n+100663296);var b=Math.min(u,_(Math.max(n,g),65536)),k=ts(b);if(k)return!0}return!1}function ns(n){try{var o=we.getStreamFromFD(n);return c.close(o),0}catch(u){if(typeof c>"u"||!(u instanceof c.ErrnoError))throw u;return u.errno}}function is(n,o,u,_){for(var m=0,g=0;g<u;g++){var b=O[o>>2],k=O[o+4>>2];o+=8;var C=c.read(n,y,b,k,_);if(C<0)return-1;if(m+=C,C<k)break}return m}function os(n,o,u,_){try{var m=we.getStreamFromFD(n),g=is(m,o,u);return O[_>>2]=g,0}catch(b){if(typeof c>"u"||!(b instanceof c.ErrnoError))throw b;return b.errno}}function as(n,o){return o+2097152>>>0<4194305-!!n?(n>>>0)+o*4294967296:NaN}function ss(n,o,u,_,m){try{var g=as(o,u);if(isNaN(g))return 61;var b=we.getStreamFromFD(n);return c.llseek(b,g,_),ye=[b.position>>>0,(ne=b.position,+Math.abs(ne)>=1?ne>0?(Math.min(+Math.floor(ne/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ne-+(~~ne>>>0))/4294967296)>>>0:0)],P[m>>2]=ye[0],P[m+4>>2]=ye[1],b.getdents&&g===0&&_===0&&(b.getdents=null),0}catch(k){if(typeof c>"u"||!(k instanceof c.ErrnoError))throw k;return k.errno}}function ls(n,o,u,_){for(var m=0,g=0;g<u;g++){var b=O[o>>2],k=O[o+4>>2];o+=8;var C=c.write(n,y,b,k,_);if(C<0)return-1;m+=C}return m}function us(n,o,u,_){try{var m=we.getStreamFromFD(n),g=ls(m,o,u);return O[_>>2]=g,0}catch(b){if(typeof c>"u"||!(b instanceof c.ErrnoError))throw b;return b.errno}}var Ft=[];function Se(n){var o=Ft[n];return o||(n>=Ft.length&&(Ft.length=n+1),Ft[n]=o=q.get(n)),o}function qn(n,o){n<128?o.push(n):o.push(n%128|128,n>>7)}function cs(n){for(var o={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},u={parameters:[],results:n[0]=="v"?[]:[o[n[0]]]},_=1;_<n.length;++_)u.parameters.push(o[n[_]]),n[_]==="j"&&u.parameters.push("i32");return u}function fs(n,o){var u=n.slice(0,1),_=n.slice(1),m={i:127,p:127,j:126,f:125,d:124};o.push(96),qn(_.length,o);for(var g=0;g<_.length;++g)o.push(m[_[g]]);u=="v"?o.push(0):o.push(1,m[u])}function ps(n,o){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(cs(o),n);var u=[1];fs(o,u);var _=[0,97,115,109,1,0,0,0,1];qn(u.length,_),_.push.apply(_,u),_.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var m=new WebAssembly.Module(new Uint8Array(_)),g=new WebAssembly.Instance(m,{e:{f:n}}),b=g.exports.f;return b}function _s(n,o){if(tt)for(var u=n;u<n+o;u++){var _=Se(u);_&&tt.set(_,u)}}var tt=void 0,tn=[];function ds(){if(tn.length)return tn.pop();try{q.grow(1)}catch(n){throw n instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":n}return q.length-1}function Xn(n,o){q.set(n,o),Ft[n]=q.get(n)}function ms(n,o){if(tt||(tt=new WeakMap,_s(0,q.length)),tt.has(n))return tt.get(n);var u=ds();try{Xn(u,n)}catch(m){if(!(m instanceof TypeError))throw m;var _=ps(n,o);Xn(u,_)}return tt.set(n,u),u}function hs(n){tt.delete(Se(n)),tn.push(n)}var Wn=function(n,o,u,_){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=c.nextInode++,this.name=o,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=_},cr=365,fr=146;Object.defineProperties(Wn.prototype,{read:{get:function(){return(this.mode&cr)===cr},set:function(n){n?this.mode|=cr:this.mode&=~cr}},write:{get:function(){return(this.mode&fr)===fr},set:function(n){n?this.mode|=fr:this.mode&=~fr}},isFolder:{get:function(){return c.isDir(this.mode)}},isDevice:{get:function(){return c.isChrdev(this.mode)}}}),c.FSNode=Wn,c.staticInit();var gs={i:Ca,q:Ha,x:qa,y:Xa,u:Wa,z:Ya,A:Ka,j:Qa,r:Za,B:Ja,v:rs,o:ns,w:os,t:ss,p:us,n:Cf,s:$f,g:Df,e:Ff,c:Nf,f:zf,C:Uf,b:Rf,l:Vf,d:Mf,k:Bf,a:Pf,h:jf,m:Lf},bd=za(),vs=e.___wasm_call_ctors=function(){return(vs=e.___wasm_call_ctors=e.asm.E).apply(null,arguments)},ys=e._glp_printf=function(){return(ys=e._glp_printf=e.asm.F).apply(null,arguments)},ws=e._glp_alloc=function(){return(ws=e._glp_alloc=e.asm.G).apply(null,arguments)},bs=e._glp_free=function(){return(bs=e._glp_free=e.asm.H).apply(null,arguments)},xs=e._glp_adv_basis=function(){return(xs=e._glp_adv_basis=e.asm.I).apply(null,arguments)},Es=e._glp_std_basis=function(){return(Es=e._glp_std_basis=e.asm.J).apply(null,arguments)},ks=e._glp_set_row_stat=function(){return(ks=e._glp_set_row_stat=e.asm.K).apply(null,arguments)},Is=e._glp_set_col_stat=function(){return(Is=e._glp_set_col_stat=e.asm.L).apply(null,arguments)},Ss=e._glp_assert_=function(){return(Ss=e._glp_assert_=e.asm.M).apply(null,arguments)},As=e._glp_asnprob_hall=function(){return(As=e._glp_asnprob_hall=e.asm.O).apply(null,arguments)},Ts=e._glp_check_asnprob=function(){return(Ts=e._glp_check_asnprob=e.asm.P).apply(null,arguments)},Os=e._glp_asnprob_lp=function(){return(Os=e._glp_asnprob_lp=e.asm.Q).apply(null,arguments)},Ms=e._glp_erase_prob=function(){return(Ms=e._glp_erase_prob=e.asm.R).apply(null,arguments)},Ns=e._glp_set_prob_name=function(){return(Ns=e._glp_set_prob_name=e.asm.S).apply(null,arguments)},Rs=e._glp_set_obj_dir=function(){return(Rs=e._glp_set_obj_dir=e.asm.T).apply(null,arguments)},Ds=e._glp_add_rows=function(){return(Ds=e._glp_add_rows=e.asm.U).apply(null,arguments)},Ps=e._glp_set_row_name=function(){return(Ps=e._glp_set_row_name=e.asm.V).apply(null,arguments)},Fs=e._glp_set_row_bnds=function(){return(Fs=e._glp_set_row_bnds=e.asm.W).apply(null,arguments)},Bs=e._glp_add_cols=function(){return(Bs=e._glp_add_cols=e.asm.X).apply(null,arguments)},zs=e._glp_set_col_name=function(){return(zs=e._glp_set_col_name=e.asm.Y).apply(null,arguments)},Ls=e._glp_set_mat_col=function(){return(Ls=e._glp_set_mat_col=e.asm.Z).apply(null,arguments)},js=e._glp_set_col_bnds=function(){return(js=e._glp_set_col_bnds=e.asm._).apply(null,arguments)},Cs=e._glp_set_obj_coef=function(){return(Cs=e._glp_set_obj_coef=e.asm.$).apply(null,arguments)},Vs=e._glp_asnprob_okalg=function(){return(Vs=e._glp_asnprob_okalg=e.asm.aa).apply(null,arguments)},Us=e._glp_check_cnfsat=function(){return(Us=e._glp_check_cnfsat=e.asm.ba).apply(null,arguments)},$s=e._glp_init_cpxcp=function(){return($s=e._glp_init_cpxcp=e.asm.ca).apply(null,arguments)},Hs=e._glp_read_lp=function(){return(Hs=e._glp_read_lp=e.asm.da).apply(null,arguments)},Gn=e._malloc=function(){return(Gn=e._malloc=e.asm.ea).apply(null,arguments)},qs=e._glp_create_index=function(){return(qs=e._glp_create_index=e.asm.fa).apply(null,arguments)},Xs=e._glp_set_obj_name=function(){return(Xs=e._glp_set_obj_name=e.asm.ga).apply(null,arguments)},Ws=e._glp_find_row=function(){return(Ws=e._glp_find_row=e.asm.ha).apply(null,arguments)},Gs=e._glp_set_mat_row=function(){return(Gs=e._glp_set_mat_row=e.asm.ia).apply(null,arguments)},Ys=e._glp_get_col_name=function(){return(Ys=e._glp_get_col_name=e.asm.ja).apply(null,arguments)},Ks=e._glp_get_num_int=function(){return(Ks=e._glp_get_num_int=e.asm.ka).apply(null,arguments)},Qs=e._glp_get_num_bin=function(){return(Qs=e._glp_get_num_bin=e.asm.la).apply(null,arguments)},Zs=e._glp_delete_index=function(){return(Zs=e._glp_delete_index=e.asm.ma).apply(null,arguments)},Js=e._glp_sort_matrix=function(){return(Js=e._glp_sort_matrix=e.asm.na).apply(null,arguments)},el=e._glp_set_col_kind=function(){return(el=e._glp_set_col_kind=e.asm.oa).apply(null,arguments)},tl=e._free=function(){return(tl=e._free=e.asm.pa).apply(null,arguments)},rl=e._glp_write_lp=function(){return(rl=e._glp_write_lp=e.asm.qa).apply(null,arguments)},nl=e._glp_get_obj_name=function(){return(nl=e._glp_get_obj_name=e.asm.ra).apply(null,arguments)},il=e._glp_get_row_name=function(){return(il=e._glp_get_row_name=e.asm.sa).apply(null,arguments)},ol=e._glp_find_col=function(){return(ol=e._glp_find_col=e.asm.ta).apply(null,arguments)},al=e._glp_cpp=function(){return(al=e._glp_cpp=e.asm.ua).apply(null,arguments)},sl=e._glp_top_sort=function(){return(sl=e._glp_top_sort=e.asm.va).apply(null,arguments)},ll=e._glp_cpx_basis=function(){return(ll=e._glp_cpx_basis=e.asm.wa).apply(null,arguments)},ul=e._glp_get_num_rows=function(){return(ul=e._glp_get_num_rows=e.asm.xa).apply(null,arguments)},cl=e._glp_get_num_cols=function(){return(cl=e._glp_get_num_cols=e.asm.ya).apply(null,arguments)},fl=e._glp_get_row_type=function(){return(fl=e._glp_get_row_type=e.asm.za).apply(null,arguments)},pl=e._glp_get_row_lb=function(){return(pl=e._glp_get_row_lb=e.asm.Aa).apply(null,arguments)},_l=e._glp_get_row_ub=function(){return(_l=e._glp_get_row_ub=e.asm.Ba).apply(null,arguments)},dl=e._glp_get_col_type=function(){return(dl=e._glp_get_col_type=e.asm.Ca).apply(null,arguments)},ml=e._glp_get_col_lb=function(){return(ml=e._glp_get_col_lb=e.asm.Da).apply(null,arguments)},hl=e._glp_get_col_ub=function(){return(hl=e._glp_get_col_ub=e.asm.Ea).apply(null,arguments)},gl=e._glp_get_obj_coef=function(){return(gl=e._glp_get_obj_coef=e.asm.Fa).apply(null,arguments)},vl=e._glp_get_obj_dir=function(){return(vl=e._glp_get_obj_dir=e.asm.Ga).apply(null,arguments)},yl=e._glp_get_mat_col=function(){return(yl=e._glp_get_mat_col=e.asm.Ha).apply(null,arguments)},wl=e._glp_create_graph=function(){return(wl=e._glp_create_graph=e.asm.Ia).apply(null,arguments)},bl=e._glp_set_graph_name=function(){return(bl=e._glp_set_graph_name=e.asm.Ja).apply(null,arguments)},xl=e._glp_add_vertices=function(){return(xl=e._glp_add_vertices=e.asm.Ka).apply(null,arguments)},El=e._glp_set_vertex_name=function(){return(El=e._glp_set_vertex_name=e.asm.La).apply(null,arguments)},kl=e._glp_add_arc=function(){return(kl=e._glp_add_arc=e.asm.Ma).apply(null,arguments)},Il=e._glp_del_vertices=function(){return(Il=e._glp_del_vertices=e.asm.Na).apply(null,arguments)},Sl=e._glp_del_arc=function(){return(Sl=e._glp_del_arc=e.asm.Oa).apply(null,arguments)},Al=e._glp_erase_graph=function(){return(Al=e._glp_erase_graph=e.asm.Pa).apply(null,arguments)},Tl=e._glp_delete_graph=function(){return(Tl=e._glp_delete_graph=e.asm.Qa).apply(null,arguments)},Ol=e._glp_create_v_index=function(){return(Ol=e._glp_create_v_index=e.asm.Ra).apply(null,arguments)},Ml=e._glp_find_vertex=function(){return(Ml=e._glp_find_vertex=e.asm.Sa).apply(null,arguments)},Nl=e._glp_delete_v_index=function(){return(Nl=e._glp_delete_v_index=e.asm.Ta).apply(null,arguments)},Rl=e._glp_gridgen=function(){return(Rl=e._glp_gridgen=e.asm.Ua).apply(null,arguments)},Dl=e._glp_intfeas1=function(){return(Dl=e._glp_intfeas1=e.asm.Va).apply(null,arguments)},Pl=e._glp_create_prob=function(){return(Pl=e._glp_create_prob=e.asm.Wa).apply(null,arguments)},Fl=e._glp_minisat1=function(){return(Fl=e._glp_minisat1=e.asm.Xa).apply(null,arguments)},Bl=e._glp_delete_prob=function(){return(Bl=e._glp_delete_prob=e.asm.Ya).apply(null,arguments)},zl=e._glp_del_rows=function(){return(zl=e._glp_del_rows=e.asm.Za).apply(null,arguments)},Ll=e._glp_maxflow_ffalg=function(){return(Ll=e._glp_maxflow_ffalg=e.asm._a).apply(null,arguments)},jl=e._glp_maxflow_lp=function(){return(jl=e._glp_maxflow_lp=e.asm.$a).apply(null,arguments)},Cl=e._glp_mincost_lp=function(){return(Cl=e._glp_mincost_lp=e.asm.ab).apply(null,arguments)},Vl=e._glp_mincost_okalg=function(){return(Vl=e._glp_mincost_okalg=e.asm.bb).apply(null,arguments)},Ul=e._glp_mincost_relax4=function(){return(Ul=e._glp_mincost_relax4=e.asm.cb).apply(null,arguments)},$l=e._glp_mpl_alloc_wksp=function(){return($l=e._glp_mpl_alloc_wksp=e.asm.db).apply(null,arguments)},Hl=e._glp_mpl_init_rand=function(){return(Hl=e._glp_mpl_init_rand=e.asm.eb).apply(null,arguments)},ql=e._glp_mpl_read_model=function(){return(ql=e._glp_mpl_read_model=e.asm.fb).apply(null,arguments)},Xl=e._glp_mpl_read_data=function(){return(Xl=e._glp_mpl_read_data=e.asm.gb).apply(null,arguments)},Wl=e._glp_mpl_generate=function(){return(Wl=e._glp_mpl_generate=e.asm.hb).apply(null,arguments)},Gl=e._glp_mpl_build_prob=function(){return(Gl=e._glp_mpl_build_prob=e.asm.ib).apply(null,arguments)},Yl=e._glp_mpl_postsolve=function(){return(Yl=e._glp_mpl_postsolve=e.asm.jb).apply(null,arguments)},Kl=e._glp_get_row_stat=function(){return(Kl=e._glp_get_row_stat=e.asm.kb).apply(null,arguments)},Ql=e._glp_get_row_prim=function(){return(Ql=e._glp_get_row_prim=e.asm.lb).apply(null,arguments)},Zl=e._glp_get_row_dual=function(){return(Zl=e._glp_get_row_dual=e.asm.mb).apply(null,arguments)},Jl=e._glp_ipt_row_prim=function(){return(Jl=e._glp_ipt_row_prim=e.asm.nb).apply(null,arguments)},eu=e._glp_ipt_row_dual=function(){return(eu=e._glp_ipt_row_dual=e.asm.ob).apply(null,arguments)},tu=e._glp_mip_row_val=function(){return(tu=e._glp_mip_row_val=e.asm.pb).apply(null,arguments)},ru=e._glp_get_col_stat=function(){return(ru=e._glp_get_col_stat=e.asm.qb).apply(null,arguments)},nu=e._glp_get_col_prim=function(){return(nu=e._glp_get_col_prim=e.asm.rb).apply(null,arguments)},iu=e._glp_get_col_dual=function(){return(iu=e._glp_get_col_dual=e.asm.sb).apply(null,arguments)},ou=e._glp_ipt_col_prim=function(){return(ou=e._glp_ipt_col_prim=e.asm.tb).apply(null,arguments)},au=e._glp_ipt_col_dual=function(){return(au=e._glp_ipt_col_dual=e.asm.ub).apply(null,arguments)},su=e._glp_mip_col_val=function(){return(su=e._glp_mip_col_val=e.asm.vb).apply(null,arguments)},lu=e._glp_mpl_free_wksp=function(){return(lu=e._glp_mpl_free_wksp=e.asm.wb).apply(null,arguments)},uu=e._glp_init_mpscp=function(){return(uu=e._glp_init_mpscp=e.asm.xb).apply(null,arguments)},cu=e._glp_read_mps=function(){return(cu=e._glp_read_mps=e.asm.yb).apply(null,arguments)},fu=e._glp_write_mps=function(){return(fu=e._glp_write_mps=e.asm.zb).apply(null,arguments)},pu=e._glp_netgen=function(){return(pu=e._glp_netgen=e.asm.Ab).apply(null,arguments)},_u=e._glp_npp_alloc_wksp=function(){return(_u=e._glp_npp_alloc_wksp=e.asm.Bb).apply(null,arguments)},du=e._glp_npp_load_prob=function(){return(du=e._glp_npp_load_prob=e.asm.Cb).apply(null,arguments)},mu=e._glp_npp_preprocess1=function(){return(mu=e._glp_npp_preprocess1=e.asm.Db).apply(null,arguments)},hu=e._glp_npp_build_prob=function(){return(hu=e._glp_npp_build_prob=e.asm.Eb).apply(null,arguments)},gu=e._glp_npp_postprocess=function(){return(gu=e._glp_npp_postprocess=e.asm.Fb).apply(null,arguments)},vu=e._glp_get_status=function(){return(vu=e._glp_get_status=e.asm.Gb).apply(null,arguments)},yu=e._glp_ipt_status=function(){return(yu=e._glp_ipt_status=e.asm.Hb).apply(null,arguments)},wu=e._glp_mip_status=function(){return(wu=e._glp_mip_status=e.asm.Ib).apply(null,arguments)},bu=e._glp_npp_obtain_sol=function(){return(bu=e._glp_npp_obtain_sol=e.asm.Jb).apply(null,arguments)},xu=e._glp_npp_free_wksp=function(){return(xu=e._glp_npp_free_wksp=e.asm.Kb).apply(null,arguments)},Eu=e._glp_print_ipt=function(){return(Eu=e._glp_print_ipt=e.asm.Lb).apply(null,arguments)},ku=e._glp_print_mip=function(){return(ku=e._glp_print_mip=e.asm.Mb).apply(null,arguments)},Iu=e._glp_load_matrix=function(){return(Iu=e._glp_load_matrix=e.asm.Nb).apply(null,arguments)},Su=e._glp_check_dup=function(){return(Su=e._glp_check_dup=e.asm.Ob).apply(null,arguments)},Au=e._glp_del_cols=function(){return(Au=e._glp_del_cols=e.asm.Pb).apply(null,arguments)},Tu=e._glp_copy_prob=function(){return(Tu=e._glp_copy_prob=e.asm.Qb).apply(null,arguments)},Ou=e._glp_get_bfcp=function(){return(Ou=e._glp_get_bfcp=e.asm.Rb).apply(null,arguments)},Mu=e._glp_set_bfcp=function(){return(Mu=e._glp_set_bfcp=e.asm.Sb).apply(null,arguments)},Nu=e._glp_get_prob_name=function(){return(Nu=e._glp_get_prob_name=e.asm.Tb).apply(null,arguments)},Ru=e._glp_get_num_nz=function(){return(Ru=e._glp_get_num_nz=e.asm.Ub).apply(null,arguments)},Du=e._glp_get_mat_row=function(){return(Du=e._glp_get_mat_row=e.asm.Vb).apply(null,arguments)},Pu=e._glp_set_rii=function(){return(Pu=e._glp_set_rii=e.asm.Wb).apply(null,arguments)},Fu=e._glp_set_sjj=function(){return(Fu=e._glp_set_sjj=e.asm.Xb).apply(null,arguments)},Bu=e._glp_get_rii=function(){return(Bu=e._glp_get_rii=e.asm.Yb).apply(null,arguments)},zu=e._glp_get_sjj=function(){return(zu=e._glp_get_sjj=e.asm.Zb).apply(null,arguments)},Lu=e._glp_unscale_prob=function(){return(Lu=e._glp_unscale_prob=e.asm._b).apply(null,arguments)},ju=e._glp_print_ranges=function(){return(ju=e._glp_print_ranges=e.asm.$b).apply(null,arguments)},Cu=e._glp_bf_exists=function(){return(Cu=e._glp_bf_exists=e.asm.ac).apply(null,arguments)},Vu=e._glp_version=function(){return(Vu=e._glp_version=e.asm.bc).apply(null,arguments)},Uu=e._glp_analyze_bound=function(){return(Uu=e._glp_analyze_bound=e.asm.cc).apply(null,arguments)},$u=e._glp_analyze_coef=function(){return($u=e._glp_analyze_coef=e.asm.dc).apply(null,arguments)},Hu=e._glp_print_sol=function(){return(Hu=e._glp_print_sol=e.asm.ec).apply(null,arguments)},qu=e._glp_read_asnprob=function(){return(qu=e._glp_read_asnprob=e.asm.fc).apply(null,arguments)},Xu=e._glp_read_ccdata=function(){return(Xu=e._glp_read_ccdata=e.asm.gc).apply(null,arguments)},Wu=e._glp_read_graph=function(){return(Wu=e._glp_read_graph=e.asm.hc).apply(null,arguments)},Gu=e._glp_read_cnfsat=function(){return(Gu=e._glp_read_cnfsat=e.asm.ic).apply(null,arguments)},Yu=e._glp_read_ipt=function(){return(Yu=e._glp_read_ipt=e.asm.jc).apply(null,arguments)},Ku=e._glp_read_maxflow=function(){return(Ku=e._glp_read_maxflow=e.asm.kc).apply(null,arguments)},Qu=e._glp_read_mincost=function(){return(Qu=e._glp_read_mincost=e.asm.lc).apply(null,arguments)},Zu=e._glp_read_mip=function(){return(Zu=e._glp_read_mip=e.asm.mc).apply(null,arguments)},Ju=e._glp_read_prob=function(){return(Ju=e._glp_read_prob=e.asm.nc).apply(null,arguments)},ec=e._glp_read_sol=function(){return(ec=e._glp_read_sol=e.asm.oc).apply(null,arguments)},tc=e._glp_rmfgen=function(){return(tc=e._glp_rmfgen=e.asm.pc).apply(null,arguments)},rc=e._glp_strong_comp=function(){return(rc=e._glp_strong_comp=e.asm.qc).apply(null,arguments)},nc=e._glp_weak_comp=function(){return(nc=e._glp_weak_comp=e.asm.rc).apply(null,arguments)},ic=e._glp_wclique_exact=function(){return(ic=e._glp_wclique_exact=e.asm.sc).apply(null,arguments)},oc=e._glp_write_asnprob=function(){return(oc=e._glp_write_asnprob=e.asm.tc).apply(null,arguments)},ac=e._glp_write_ccdata=function(){return(ac=e._glp_write_ccdata=e.asm.uc).apply(null,arguments)},sc=e._glp_write_graph=function(){return(sc=e._glp_write_graph=e.asm.vc).apply(null,arguments)},lc=e._glp_write_cnfsat=function(){return(lc=e._glp_write_cnfsat=e.asm.wc).apply(null,arguments)},uc=e._glp_write_ipt=function(){return(uc=e._glp_write_ipt=e.asm.xc).apply(null,arguments)},cc=e._glp_write_maxflow=function(){return(cc=e._glp_write_maxflow=e.asm.yc).apply(null,arguments)},fc=e._glp_write_mincost=function(){return(fc=e._glp_write_mincost=e.asm.zc).apply(null,arguments)},pc=e._glp_write_mip=function(){return(pc=e._glp_write_mip=e.asm.Ac).apply(null,arguments)},_c=e._glp_write_prob=function(){return(_c=e._glp_write_prob=e.asm.Bc).apply(null,arguments)},dc=e._glp_write_sol=function(){return(dc=e._glp_write_sol=e.asm.Cc).apply(null,arguments)},mc=e._glp_realloc=function(){return(mc=e._glp_realloc=e.asm.Dc).apply(null,arguments)},hc=e._glp_simplex=function(){return(hc=e._glp_simplex=e.asm.Ec).apply(null,arguments)},gc=e._glp_scale_prob=function(){return(gc=e._glp_scale_prob=e.asm.Fc).apply(null,arguments)},vc=e._glp_init_smcp=function(){return(vc=e._glp_init_smcp=e.asm.Gc).apply(null,arguments)},yc=e._glp_factorize=function(){return(yc=e._glp_factorize=e.asm.Hc).apply(null,arguments)},wc=e._glp_get_prim_stat=function(){return(wc=e._glp_get_prim_stat=e.asm.Ic).apply(null,arguments)},bc=e._glp_get_dual_stat=function(){return(bc=e._glp_get_dual_stat=e.asm.Jc).apply(null,arguments)},xc=e._glp_get_obj_val=function(){return(xc=e._glp_get_obj_val=e.asm.Kc).apply(null,arguments)},Ec=e._glp_get_unbnd_ray=function(){return(Ec=e._glp_get_unbnd_ray=e.asm.Lc).apply(null,arguments)},kc=e._glp_get_it_cnt=function(){return(kc=e._glp_get_it_cnt=e.asm.Mc).apply(null,arguments)},Ic=e._glp_set_it_cnt=function(){return(Ic=e._glp_set_it_cnt=e.asm.Nc).apply(null,arguments)},Sc=e._glp_exact=function(){return(Sc=e._glp_exact=e.asm.Oc).apply(null,arguments)},Ac=e._glp_time=function(){return(Ac=e._glp_time=e.asm.Pc).apply(null,arguments)},Tc=e._glp_interior=function(){return(Tc=e._glp_interior=e.asm.Qc).apply(null,arguments)},Oc=e._glp_init_iptcp=function(){return(Oc=e._glp_init_iptcp=e.asm.Rc).apply(null,arguments)},Mc=e._glp_ipt_obj_val=function(){return(Mc=e._glp_ipt_obj_val=e.asm.Sc).apply(null,arguments)},Nc=e._glp_get_col_kind=function(){return(Nc=e._glp_get_col_kind=e.asm.Tc).apply(null,arguments)},Rc=e._glp_intopt=function(){return(Rc=e._glp_intopt=e.asm.Uc).apply(null,arguments)},Dc=e._glp_init_iocp=function(){return(Dc=e._glp_init_iocp=e.asm.Vc).apply(null,arguments)},Pc=e._glp_mip_obj_val=function(){return(Pc=e._glp_mip_obj_val=e.asm.Wc).apply(null,arguments)},Fc=e._glp_bf_updated=function(){return(Fc=e._glp_bf_updated=e.asm.Xc).apply(null,arguments)},Bc=e._glp_get_bhead=function(){return(Bc=e._glp_get_bhead=e.asm.Yc).apply(null,arguments)},zc=e._glp_get_row_bind=function(){return(zc=e._glp_get_row_bind=e.asm.Zc).apply(null,arguments)},Lc=e._glp_get_col_bind=function(){return(Lc=e._glp_get_col_bind=e.asm._c).apply(null,arguments)},jc=e._glp_ftran=function(){return(jc=e._glp_ftran=e.asm.$c).apply(null,arguments)},Cc=e._glp_btran=function(){return(Cc=e._glp_btran=e.asm.ad).apply(null,arguments)},Vc=e._glp_warm_up=function(){return(Vc=e._glp_warm_up=e.asm.bd).apply(null,arguments)},Uc=e._glp_eval_tab_row=function(){return(Uc=e._glp_eval_tab_row=e.asm.cd).apply(null,arguments)},$c=e._glp_eval_tab_col=function(){return($c=e._glp_eval_tab_col=e.asm.dd).apply(null,arguments)},Hc=e._glp_transform_row=function(){return(Hc=e._glp_transform_row=e.asm.ed).apply(null,arguments)},qc=e._glp_transform_col=function(){return(qc=e._glp_transform_col=e.asm.fd).apply(null,arguments)},Xc=e._glp_prim_rtest=function(){return(Xc=e._glp_prim_rtest=e.asm.gd).apply(null,arguments)},Wc=e._glp_dual_rtest=function(){return(Wc=e._glp_dual_rtest=e.asm.hd).apply(null,arguments)},Gc=e._glp_ios_reason=function(){return(Gc=e._glp_ios_reason=e.asm.id).apply(null,arguments)},Yc=e._glp_ios_get_prob=function(){return(Yc=e._glp_ios_get_prob=e.asm.jd).apply(null,arguments)},Kc=e._glp_ios_tree_size=function(){return(Kc=e._glp_ios_tree_size=e.asm.kd).apply(null,arguments)},Qc=e._glp_ios_curr_node=function(){return(Qc=e._glp_ios_curr_node=e.asm.ld).apply(null,arguments)},Zc=e._glp_ios_next_node=function(){return(Zc=e._glp_ios_next_node=e.asm.md).apply(null,arguments)},Jc=e._glp_ios_prev_node=function(){return(Jc=e._glp_ios_prev_node=e.asm.nd).apply(null,arguments)},ef=e._glp_ios_up_node=function(){return(ef=e._glp_ios_up_node=e.asm.od).apply(null,arguments)},tf=e._glp_ios_node_level=function(){return(tf=e._glp_ios_node_level=e.asm.pd).apply(null,arguments)},rf=e._glp_ios_node_bound=function(){return(rf=e._glp_ios_node_bound=e.asm.qd).apply(null,arguments)},nf=e._glp_ios_best_node=function(){return(nf=e._glp_ios_best_node=e.asm.rd).apply(null,arguments)},of=e._glp_ios_mip_gap=function(){return(of=e._glp_ios_mip_gap=e.asm.sd).apply(null,arguments)},af=e._glp_ios_node_data=function(){return(af=e._glp_ios_node_data=e.asm.td).apply(null,arguments)},sf=e._glp_ios_row_attr=function(){return(sf=e._glp_ios_row_attr=e.asm.ud).apply(null,arguments)},lf=e._glp_ios_pool_size=function(){return(lf=e._glp_ios_pool_size=e.asm.vd).apply(null,arguments)},uf=e._glp_ios_add_row=function(){return(uf=e._glp_ios_add_row=e.asm.wd).apply(null,arguments)},cf=e._glp_ios_del_row=function(){return(cf=e._glp_ios_del_row=e.asm.xd).apply(null,arguments)},ff=e._glp_ios_clear_pool=function(){return(ff=e._glp_ios_clear_pool=e.asm.yd).apply(null,arguments)},pf=e._glp_ios_can_branch=function(){return(pf=e._glp_ios_can_branch=e.asm.zd).apply(null,arguments)},_f=e._glp_ios_branch_upon=function(){return(_f=e._glp_ios_branch_upon=e.asm.Ad).apply(null,arguments)},df=e._glp_ios_select_node=function(){return(df=e._glp_ios_select_node=e.asm.Bd).apply(null,arguments)},mf=e._glp_ios_heur_sol=function(){return(mf=e._glp_ios_heur_sol=e.asm.Cd).apply(null,arguments)},hf=e._glp_ios_terminate=function(){return(hf=e._glp_ios_terminate=e.asm.Dd).apply(null,arguments)},gf=e._glp_difftime=function(){return(gf=e._glp_difftime=e.asm.Ed).apply(null,arguments)},vf=e._glp_mem_usage=function(){return(vf=e._glp_mem_usage=e.asm.Fd).apply(null,arguments)},yf=e._glp_mem_limit=function(){return(yf=e._glp_mem_limit=e.asm.Gd).apply(null,arguments)},wf=e._glp_init_env=function(){return(wf=e._glp_init_env=e.asm.Hd).apply(null,arguments)},bf=e._glp_config=function(){return(bf=e._glp_config=e.asm.Id).apply(null,arguments)},xf=e._glp_free_env=function(){return(xf=e._glp_free_env=e.asm.Jd).apply(null,arguments)},Ef=e._glp_at_error=function(){return(Ef=e._glp_at_error=e.asm.Kd).apply(null,arguments)},kf=e._glp_error_hook=function(){return(kf=e._glp_error_hook=e.asm.Ld).apply(null,arguments)},If=e._glp_puts=function(){return(If=e._glp_puts=e.asm.Md).apply(null,arguments)},Sf=e._glp_term_out=function(){return(Sf=e._glp_term_out=e.asm.Nd).apply(null,arguments)},Af=e._glp_term_hook=function(){return(Af=e._glp_term_hook=e.asm.Od).apply(null,arguments)},Tf=e._glp_open_tee=function(){return(Tf=e._glp_open_tee=e.asm.Pd).apply(null,arguments)},Of=e._glp_close_tee=function(){return(Of=e._glp_close_tee=e.asm.Qd).apply(null,arguments)},Yn=e.___errno_location=function(){return(Yn=e.___errno_location=e.asm.Rd).apply(null,arguments)},Te=e._setThrew=function(){return(Te=e._setThrew=e.asm.Sd).apply(null,arguments)},Oe=e.stackSave=function(){return(Oe=e.stackSave=e.asm.Td).apply(null,arguments)},Me=e.stackRestore=function(){return(Me=e.stackRestore=e.asm.Ud).apply(null,arguments)};function Mf(n,o,u){var _=Oe();try{Se(n)(o,u)}catch(m){if(Me(_),m!==m+0)throw m;Te(1,0)}}function Nf(n,o,u){var _=Oe();try{return Se(n)(o,u)}catch(m){if(Me(_),m!==m+0)throw m;Te(1,0)}}function Rf(n,o){var u=Oe();try{Se(n)(o)}catch(_){if(Me(u),_!==_+0)throw _;Te(1,0)}}function Df(n){var o=Oe();try{return Se(n)()}catch(u){if(Me(o),u!==u+0)throw u;Te(1,0)}}function Pf(n,o,u,_){var m=Oe();try{Se(n)(o,u,_)}catch(g){if(Me(m),g!==g+0)throw g;Te(1,0)}}function Ff(n,o){var u=Oe();try{return Se(n)(o)}catch(_){if(Me(u),_!==_+0)throw _;Te(1,0)}}function Bf(n,o,u,_){var m=Oe();try{Se(n)(o,u,_)}catch(g){if(Me(m),g!==g+0)throw g;Te(1,0)}}function zf(n,o,u,_){var m=Oe();try{return Se(n)(o,u,_)}catch(g){if(Me(m),g!==g+0)throw g;Te(1,0)}}function Lf(n,o,u,_,m,g){var b=Oe();try{Se(n)(o,u,_,m,g)}catch(k){if(Me(b),k!==k+0)throw k;Te(1,0)}}function jf(n,o,u,_,m,g){var b=Oe();try{Se(n)(o,u,_,m,g)}catch(k){if(Me(b),k!==k+0)throw k;Te(1,0)}}function Cf(n,o){var u=Oe();try{return Se(n)(o)}catch(_){if(Me(u),_!==_+0)throw _;Te(1,0)}}function Vf(n,o,u){var _=Oe();try{Se(n)(o,u)}catch(m){if(Me(_),m!==m+0)throw m;Te(1,0)}}function Uf(n,o,u,_,m,g){var b=Oe();try{return Se(n)(o,u,_,m,g)}catch(k){if(Me(b),k!==k+0)throw k;Te(1,0)}}function $f(n,o,u){var _=Oe();try{return Se(n)(o,u)}catch(m){if(Me(_),m!==m+0)throw m;Te(1,0)}}e.UTF8ToString=F,e.stringToUTF8=L,e.lengthBytesUTF8=w,e.addFunction=ms,e.removeFunction=hs,e.setValue=ja,e.getValue=La,e.FS=c;var pr;Pt=function n(){pr||Kn(),pr||(Pt=n)};function Kn(n){if(n=n||f,pt>0||(Ge(),pt>0))return;function o(){pr||(pr=!0,e.calledRun=!0,!de&&(ut(),i(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),ct()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),o()},1)):o()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Kn(),e.ready}})();typeof Yr=="object"&&typeof jn=="object"?jn.exports=Ln:typeof define=="function"&&define.amd?define([],function(){return Ln}):typeof Yr=="object"&&(Yr.Module=Ln)});var Ma=zt((Kr,Oa)=>{"use strict";(function(t,r){typeof Kr=="object"&&typeof Oa<"u"?r(Kr,Ta()):typeof define=="function"&&define.amd?define(["exports","glpk-wasm"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.GLPK={},t.glpkWasm))})(Kr,function(t,r){"use strict";function e(w){return w&&typeof w=="object"&&"default"in w?w:{default:w}}var i=e(r);function a(w,s){var y={};for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&s.indexOf(E)<0&&(y[E]=w[E]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,E=Object.getOwnPropertySymbols(w);D<E.length;D++)s.indexOf(E[D])<0&&Object.prototype.propertyIsEnumerable.call(w,E[D])&&(y[E[D]]=w[E[D]]);return y}function p(w,s,y,E){function D($){return $ instanceof y?$:new y(function(P){P($)})}return new(y||(y=Promise))(function($,P){function O(z){try{I(E.next(z))}catch(H){P(H)}}function M(z){try{I(E.throw(z))}catch(H){P(H)}}function I(z){z.done?$(z.value):D(z.value).then(O,M)}I((E=E.apply(w,s||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;let f,l;function h(w){return p(this,void 0,void 0,function*(){return f===void 0&&(f=w===void 0?i.default():i.default({locateFile(){return w}})),l=yield f,l})}var d;(function(w){(function(s){s[s.MIN=1]="MIN",s[s.MAX=2]="MAX"})(w.ObjectiveDirection||(w.ObjectiveDirection={})),function(s){s[s.FREE=1]="FREE",s[s.LB=2]="LB",s[s.UB=3]="UB",s[s.BOUNDED=4]="BOUNDED",s[s.FIXED=5]="FIXED"}(w.BoundType||(w.BoundType={})),function(s){s[s.BASIC=1]="BASIC",s[s.LB=2]="LB",s[s.UB=3]="UB",s[s.FREE=4]="FREE",s[s.FIXED=5]="FIXED"}(w.VariableStatus||(w.VariableStatus={})),function(s){s[s.CONTINUOUS=1]="CONTINUOUS",s[s.INTEGER=2]="INTEGER",s[s.BINARY=3]="BINARY"}(w.VariableType||(w.VariableType={})),function(s){s[s.GEOMETRIC_MEAN=1]="GEOMETRIC_MEAN",s[s.EQUILIBRATION=16]="EQUILIBRATION",s[s.POWER_TWO=32]="POWER_TWO",s[s.SKIP=64]="SKIP",s[s.AUTO=128]="AUTO"}(w.Scaling||(w.Scaling={})),function(s){s[s.BASIC=1]="BASIC",s[s.INTERIOR_POINT=2]="INTERIOR_POINT",s[s.MIXED_INTEGER=3]="MIXED_INTEGER"}(w.SolutionIndicator||(w.SolutionIndicator={})),function(s){s[s.UNDEFINED=1]="UNDEFINED",s[s.FEASIBLE=2]="FEASIBLE",s[s.INFEASIBLE=3]="INFEASIBLE",s[s.NO_FEASIBLE=4]="NO_FEASIBLE",s[s.OPTIMAL=5]="OPTIMAL",s[s.UNBOUNDED=6]="UNBOUNDED"}(w.Status||(w.Status={})),function(s){s[s.OFF=0]="OFF",s[s.ERR=1]="ERR",s[s.ON=2]="ON",s[s.ALL=3]="ALL",s[s.DBG=4]="DBG"}(w.MessageLevel||(w.MessageLevel={})),function(s){s[s.PRIMAL=1]="PRIMAL",s[s.DUALP=2]="DUALP",s[s.DUAL=3]="DUAL"}(w.Method||(w.Method={})),function(s){s[s.STD=17]="STD",s[s.PSE=34]="PSE"}(w.Pricing||(w.Pricing={})),function(s){s[s.STD=17]="STD",s[s.HAR=34]="HAR",s[s.FLIP=51]="FLIP"}(w.RatioTest||(w.RatioTest={})),function(s){s[s.NONE=0]="NONE",s[s.QMD=1]="QMD",s[s.AMD=2]="AMD",s[s.SYMAMD=3]="SYMAMD"}(w.OrderingAlgorithm||(w.OrderingAlgorithm={})),function(s){s[s.OK=0]="OK",s[s.EBADB=1]="EBADB",s[s.ESING=2]="ESING",s[s.ECOND=3]="ECOND",s[s.EBOUND=4]="EBOUND",s[s.EFAIL=5]="EFAIL",s[s.EOBJLL=6]="EOBJLL",s[s.EOBJUL=7]="EOBJUL",s[s.EITLIM=8]="EITLIM",s[s.ETMLIM=9]="ETMLIM",s[s.ENOPFS=10]="ENOPFS",s[s.ENODFS=11]="ENODFS",s[s.EROOT=12]="EROOT",s[s.ESTOP=13]="ESTOP",s[s.EMIPGAP=14]="EMIPGAP",s[s.ENOFEAS=15]="ENOFEAS",s[s.ENOCVG=16]="ENOCVG",s[s.EINSTAB=17]="EINSTAB",s[s.EDATA=18]="EDATA",s[s.ERANGE=19]="ERANGE"}(w.ReturnCode||(w.ReturnCode={})),function(s){s[s.FFV=1]="FFV",s[s.LFV=2]="LFV",s[s.MFV=3]="MFV",s[s.DTH=4]="DTH",s[s.PCH=5]="PCH"}(w.BranchingTechnique||(w.BranchingTechnique={})),function(s){s[s.DFS=1]="DFS",s[s.BFS=2]="BFS",s[s.BLB=3]="BLB",s[s.BPH=4]="BPH"}(w.BacktrackingTechnique||(w.BacktrackingTechnique={})),function(s){s[s.NONE=0]="NONE",s[s.ROOT=1]="ROOT",s[s.ALL=2]="ALL"}(w.PreprocessingTechnique||(w.PreprocessingTechnique={})),function(s){s[s.PE=1]="PE",s[s.PB=2]="PB",s[s.DE=3]="DE",s[s.DB=4]="DB",s[s.CS=5]="CS"}(w.ConditionIndicator||(w.ConditionIndicator={})),function(s){s[s.ROWGEN=1]="ROWGEN",s[s.BINGO=2]="BINGO",s[s.HEUR=3]="HEUR",s[s.CUTGEN=4]="CUTGEN",s[s.BRANCH=5]="BRANCH",s[s.SELECT=6]="SELECT",s[s.PREPRO=7]="PREPRO"}(w.ReasonCode||(w.ReasonCode={})),function(s){s[s.NO_BRNCH=0]="NO_BRNCH",s[s.DN_BRNCH=1]="DN_BRNCH",s[s.UP_BRNCH=2]="UP_BRNCH"}(w.BranchSelection||(w.BranchSelection={})),function(s){s[s.REG=0]="REG",s[s.LAZY=1]="LAZY",s[s.CUT=2]="CUT"}(w.RowOrigin||(w.RowOrigin={})),function(s){s[s.GMI=1]="GMI",s[s.MIR=2]="MIR",s[s.COV=3]="COV",s[s.CLQ=4]="CLQ"}(w.RowClass||(w.RowClass={})),function(s){s[s.DECK=1]="DECK",s[s.FILE=2]="FILE"}(w.MPSFormat||(w.MPSFormat={}))})(d||(d={}));function v(w,s){return w===void 0?s===void 0?d.BoundType.FREE:d.BoundType.UB:s===void 0?d.BoundType.LB:w===s?d.BoundType.FIXED:d.BoundType.BOUNDED}function A(w){let s=w.model.numConstrs,y=w.model.numVars,E=l._malloc((y+1)*12),D=new Float64Array(l.HEAPU8.buffer,E,y+1),$=new Int32Array(l.HEAPU8.buffer,E+(y+1)*8,y+1);l._glp_eval_tab_row(w.model.ptr,w instanceof Q?s+w.id:w.id,E+(y+1)*8,E);let P=Array.from($.slice(1).filter(O=>O>0),(O,M)=>[O<=s?w.model.constrs[O-1]:w.model.vars[O-1-s],D[M+1]]);return l._free(E),P}function S(w){let s=w.model.numConstrs,y=l._malloc((s+1)*12),E=new Float64Array(l.HEAPU8.buffer,y,s+1),D=new Int32Array(l.HEAPU8.buffer,y+(s+1)*8,s+1);l._glp_eval_tab_col(w.model.ptr,w instanceof Q?s+w.id:w.id,y+(s+1)*8,y);let $=Array.from(D.slice(1).filter(P=>P>0),(P,O)=>[P<=s?w.model.constrs[P-1]:w.model.vars[P-1-s],E[O+1]]);return l._free(y),$}let R=new Map([[void 0,d.VariableType.CONTINUOUS],["c",d.VariableType.CONTINUOUS],["cont",d.VariableType.CONTINUOUS],["continuous",d.VariableType.CONTINUOUS],["i",d.VariableType.INTEGER],["int",d.VariableType.INTEGER],["integer",d.VariableType.INTEGER],["b",d.VariableType.BINARY],["bin",d.VariableType.BINARY],["binary",d.VariableType.BINARY]]),j=new Map(Array.from(R.entries(),([w,s])=>[s,w]));function Z(w){let s=R.get(w);if(s===void 0)throw new Error(`unknown variable type '${w}'`);return s}let ee=new Map([["basic",d.VariableStatus.BASIC],["lower-bound",d.VariableStatus.LB],["upper-bound",d.VariableStatus.UB],["free",d.VariableStatus.FREE],["fixed",d.VariableStatus.FIXED]]),U=new Map(Array.from(ee.entries(),([w,s])=>[s,w]));class Q{get ptr(){return this.model.ptr}constructor(s,y,E){if(this._lb=0,this._ub=0,this.model=s,this._idx=y,E===void 0)return;let{obj:D,lb:$,ub:P,type:O,name:M}=E;D!==void 0&&(this.obj=D),this.setBounds($,P),O!==void 0&&(this.type=O),M!==void 0&&(this.name=M)}get id(){return this._idx}setBounds(s,y){if(s===this._lb&&y===this._ub)return;this._lb=s,this._ub=y;let E=v(s,y);l._glp_set_col_bnds(this.ptr,this._idx,E,s||0,y||0)}set bounds([s,y]){this.setBounds(s,y)}set name(s){let y=l.lengthBytesUTF8(s)+1,E=l._malloc(y);l.stringToUTF8(s,E,y),l._glp_set_col_name(this.ptr,this._idx,E),l._free(E)}get name(){let s=l._glp_get_col_name(this.ptr,this._idx);return l.UTF8ToString(s)}set lb(s){this.setBounds(s,this.ub)}set ub(s){this.setBounds(this.lb,s)}get lb(){return this._lb}get ub(){return this._ub}get obj(){return l._glp_get_obj_coef(this.ptr,this._idx)}set obj(s){if(typeof s!="number")throw new Error("obj should be a number");l._glp_set_obj_coef(this.ptr,this._idx,s)}set type(s){l._glp_set_col_kind(this.ptr,this._idx,Z(s))}get type(){return j.get(l._glp_get_col_kind(this.ptr,this._idx))}get value(){return l._glp_get_col_prim(this.ptr,this._idx)}get dual(){return l._glp_get_col_dual(this.ptr,this._idx)}get valueInt(){return l._glp_ipt_col_prim(this.ptr,this._idx)}get dualInt(){return l._glp_ipt_col_dual(this.ptr,this._idx)}get valueMIP(){return l._glp_mip_col_val(this.ptr,this._idx)}get status(){return U.get(l._glp_get_col_stat(this.ptr,this._idx))}get row(){return A(this)}get column(){return S(this)}}class J{get ptr(){return this.model.ptr}constructor(s,y,E){if(this._needsUpdate=!1,this.model=s,this._idx=y,this._coeffs=new Map,!E)return;let{lb:D,ub:$,coeffs:P,name:O}=E;this.setBounds(D,$),P!==void 0&&this.addCollection(P),O!==void 0&&(this.name=O)}get id(){return this._idx}set name(s){let y=l.lengthBytesUTF8(s)+1,E=l._malloc(y);l.stringToUTF8(s,E,y),l._glp_set_row_name(this.ptr,this._idx,E),l._free(E)}get name(){let s=l._glp_get_row_name(this.ptr,this._idx);return l.UTF8ToString(s)}setBounds(s,y){if(s===this._lb&&y===this._ub)return;let E=v(s,y);this._lb=s,this._ub=y,l._glp_set_row_bnds(this.ptr,this._idx,E,s||0,y||0)}set bounds([s,y]){this.setBounds(s,y)}set lb(s){this.setBounds(s,this._ub)}set ub(s){this.setBounds(this.lb,s)}get lb(){return this._lb}get ub(){return this._ub}add(s,y){if(y===void 0)return this.addCollection(s);if(!(s instanceof Q))throw new Error("variable should have type Variable");if(!y)return this;let E=(this._coeffs.get(s.id)||0)+y;return E?this._coeffs.set(s.id,E):this._coeffs.delete(s.id),this._needsUpdate=!0,this}addCollection(s){let y=s instanceof Array?s:s instanceof Map?s.entries():void 0;if(y===void 0)throw new Error("coeffs should have type Array or Map");for(let[E,D]of y){if(!(E instanceof Q))throw new Error("variable should have type Variable");if(!D)continue;let $=(this._coeffs.get(E.id)||0)+D;$?this._coeffs.set(E.id,$):this._coeffs.delete(E.id),this._needsUpdate=!0}return this}update(){if(!this._needsUpdate)return this;let s=this._coeffs.size+1,y=l._malloc(s*4),E=l._malloc(s*8),D=new Int32Array(l.HEAPU8.buffer,y,s),$=new Float64Array(l.HEAPU8.buffer,E,s);D[0]=0,$[0]=0;let P=0;for(let[O,M]of this._coeffs.entries())P++,D[P]=O,$[P]=M;return l._glp_set_mat_row(this.ptr,this._idx,s-1,y,E),l._free(y),l._free(E),this._needsUpdate=!1,this}get value(){return l._glp_get_row_prim(this.ptr,this._idx)}get dual(){return l._glp_get_row_dual(this.ptr,this._idx)}get valueInt(){return l._glp_ipt_row_prim(this.ptr,this._idx)}get dualInt(){return l._glp_ipt_row_dual(this.ptr,this._idx)}get valueMIP(){return l._glp_mip_row_val(this.ptr,this._idx)}get status(){return U.get(l._glp_get_row_stat(this.ptr,this._idx))}get row(){return A(this)}get column(){return S(this)}}let B=new Map([["optimal",d.Status.OPTIMAL],["feasible",d.Status.FEASIBLE],["infeasible",d.Status.INFEASIBLE],["no_feasible",d.Status.NO_FEASIBLE],["unbounded",d.Status.UNBOUNDED],["undefined",d.Status.UNDEFINED]]),Y=new Map(Array.from(B.entries(),([w,s])=>[s,w]));function G(w){return Y.get(w)}function oe(w){let s={all:d.MessageLevel.ALL,on:d.MessageLevel.ON,off:d.MessageLevel.OFF,debug:d.MessageLevel.DBG,error:d.MessageLevel.ERR}[w];if(s===void 0)throw new Error(`unknown message level '${w}'`);return s}t.Interior=void 0,function(w){function s(E){let D={none:d.OrderingAlgorithm.NONE,qmd:d.OrderingAlgorithm.QMD,amd:d.OrderingAlgorithm.AMD,symamd:d.OrderingAlgorithm.SYMAMD}[E];if(D===void 0)throw new Error(`unknown ordering '${E}'`);return D}function y(E,D){let $=l._malloc(392);l._glp_init_iptcp($),D.msgLevel!==void 0&&l.setValue($,oe(D.msgLevel),"i32"),D.ordering!==void 0&&l.setValue($+4,s(D.ordering),"i32");let P=l._glp_interior(E.ptr,$);switch(l._free($),P){case d.ReturnCode.OK:return"ok";case d.ReturnCode.EFAIL:return"no_data";case d.ReturnCode.ENOCVG:return"no_convergence";case d.ReturnCode.EITLIM:return"iteration_limit";case d.ReturnCode.EINSTAB:return"instability";default:throw new Error(`unknown return code from interior: ${P}`)}}w.solve=y}(t.Interior||(t.Interior={})),t.Simplex=void 0,function(w){function s(M){let I={primal:d.Method.PRIMAL,dual:d.Method.DUAL,dual_primal:d.Method.DUALP}[M];if(I===void 0)throw new Error(`unknown method '${M}'`);return I}function y(M){let I={std:d.Pricing.STD,pse:d.Pricing.PSE}[M];if(I===void 0)throw new Error(`unknown pricing '${M}'`);return I}function E(M){let I={std:d.RatioTest.STD,harris:d.RatioTest.HAR,flipflop:d.RatioTest.FLIP}[M];if(I===void 0)throw new Error(`unknown ratioTest '${M}'`);return I}function D(M){switch(M){case d.ReturnCode.OK:return"ok";case d.ReturnCode.EBADB:return"basis_invalid";case d.ReturnCode.ESING:return"basis_singular";case d.ReturnCode.ECOND:return"basis_ill_conditioned";case d.ReturnCode.EBOUND:return"bounds_incorrect";case d.ReturnCode.EFAIL:return"failure";case d.ReturnCode.EOBJLL:return"objective_lower";case d.ReturnCode.EOBJUL:return"objective_upper";case d.ReturnCode.EITLIM:return"iteration_limit";case d.ReturnCode.ETMLIM:return"time_limit";case d.ReturnCode.ENOPFS:return"no_primal_feasible";case d.ReturnCode.ENODFS:return"no_dual_feasible";default:throw new Error(`unknown return code from simplex: ${M}`)}}function $(M){let I=l._malloc(352);return l._glp_init_smcp(I),M.msgLevel!==void 0&&l.setValue(I,oe(M.msgLevel),"i32"),M.method!==void 0&&l.setValue(I+4,s(M.method),"i32"),M.pricing!==void 0&&l.setValue(I+8,y(M.pricing),"i32"),M.ratioTest!==void 0&&l.setValue(I+12,E(M.ratioTest),"i32"),M.tolPrimal!==void 0&&l.setValue(I+16,M.tolPrimal,"double"),M.tolDual!==void 0&&l.setValue(I+24,M.tolDual,"double"),M.tolPivot!==void 0&&l.setValue(I+32,M.tolPivot,"double"),M.objLower!==void 0&&l.setValue(I+40,M.objLower,"double"),M.objUpper!==void 0&&l.setValue(I+48,M.objUpper,"double"),M.limitIter!==void 0&&l.setValue(I+56,M.limitIter,"i32"),M.limitTime!==void 0&&l.setValue(I+60,M.limitTime,"i32"),M.logFreq!==void 0&&l.setValue(I+64,M.logFreq,"i32"),M.logDelay!==void 0&&l.setValue(I+68,M.logDelay,"i32"),M.presolve!==void 0&&l.setValue(I+72,M.presolve?1:0,"i32"),I}function P(M,I){let z=$(I),H=l._glp_simplex(M.ptr,z);return l._free(z),D(H)}w.solve=P;function O(M,I){let z=$(I),H=l._glp_exact(M.ptr,z);return l._free(z),D(H)}w.solveExact=O}(t.Simplex||(t.Simplex={}));let fe={row:d.ReasonCode.ROWGEN,improved:d.ReasonCode.BINGO,heuristic:d.ReasonCode.HEUR,cut:d.ReasonCode.CUTGEN,branch:d.ReasonCode.BRANCH,select:d.ReasonCode.SELECT,preprocessing:d.ReasonCode.PREPRO},pe=new Map(Object.entries(fe).map(([w,s])=>[s,w])),de={regular:d.RowOrigin.REG,lazy:d.RowOrigin.LAZY,cut:d.RowOrigin.CUT},ge=new Map(Object.entries(de).map(([w,s])=>[s,w])),N={gomory:d.RowClass.GMI,mir:d.RowClass.MIR,cover:d.RowClass.COV,clique:d.RowClass.CLQ},W=new Map(Object.entries(N).map(([w,s])=>[s,w])),x={down:d.BranchSelection.DN_BRNCH,up:d.BranchSelection.UP_BRNCH,general:d.BranchSelection.NO_BRNCH};class F{constructor(s,y){this.tree=s,this.idx=y}select(){l._glp_ios_select_node(this.tree.ptr,this.idx)}get next(){let s=l._glp_ios_next_node(this.tree.ptr,this.idx);if(s!==0)return new F(this.tree,s)}get previous(){let s=l._glp_ios_prev_node(this.tree.ptr,this.idx);if(s!==0)return new F(this.tree,s)}get parent(){let s=l._glp_ios_up_node(this.tree.ptr,this.idx);if(s!==0)return new F(this.tree,s)}get level(){return l._glp_ios_node_level(this.tree.ptr,this.idx)}get bound(){return l._glp_ios_node_bound(this.tree.ptr,this.idx)}}class T{constructor(s){this.ptr=s}static _alloc(){T._data===void 0&&(T._data=l._malloc(72))}get reason(){let s=l._glp_ios_reason(this.ptr),y=pe.get(s);if(y===void 0)throw new Error(`unknown reason code '${s}'`);return y}get model(){let s=l._glp_ios_get_prob(this.ptr);return L.fromPointer(s)}rowAttribute(s){return T._alloc(),l._glp_ios_row_attr(this.ptr,s,T._data),{level:l.getValue(T._data+0,"i32"),origin:ge.get(l.getValue(T._data+4,"i32")),cls:W.get(l.getValue(T._data+8,"i32"))}}get gap(){return l._glp_ios_mip_gap(this.ptr)}setHeuristicSolution(s){let y=s.length,E=l._malloc(y*8),D=new Float64Array(l.HEAPU8.buffer,E,y);if(s instanceof Float64Array)s.set(D);else for(let[$,P]of s.entries())D[$]=P;l._glp_ios_heur_sol(this.ptr,E),l._free(E)}canBranch(s){return l._glp_ios_can_branch(this.ptr,s)}branchUpon(s,y){let E=x[y];if(E===void 0)throw new Error(`unknown branch selection '${y}'`);l._glp_ios_branch_upon(this.ptr,s,E)}terminate(){l._glp_ios_terminate(this.ptr)}get size(){T._alloc();let s=T._data;return l._glp_ios_tree_size(this.ptr,s,s+4,s+8),{active:l.getValue(s,"i32"),current:l.getValue(s+4,"i32"),total:l.getValue(s+8,"i32")}}get currentNode(){let s=l._glp_ios_curr_node(this.ptr);if(s!==0)return new F(this,s)}get bestNode(){let s=l._glp_ios_best_node(this.ptr);if(s!==0)return new F(this,s)}get firstNode(){let s=l._glp_ios_next_node(this.ptr,0);if(s!==0)return new F(this,s)}get lastNode(){let s=l._glp_ios_prev_node(this.ptr,0);if(s!==0)return new F(this,s)}get cutPoolSize(){return l._glp_ios_pool_size(this.ptr)}clearCutPool(){l._glp_ios_clear_pool(this.ptr)}}t.MIP=void 0,function(w){let s={ffv:d.BranchingTechnique.FFV,lfv:d.BranchingTechnique.LFV,mfv:d.BranchingTechnique.MFV,dth:d.BranchingTechnique.DTH,pch:d.BranchingTechnique.PCH,first_fractional:d.BranchingTechnique.FFV,last_fractional:d.BranchingTechnique.LFV,most_fractional:d.BranchingTechnique.MFV,driebeck_tomlin:d.BranchingTechnique.DTH,hybrid_pseudocost:d.BranchingTechnique.PCH},y={dfs:d.BacktrackingTechnique.DFS,bfs:d.BacktrackingTechnique.BFS,blb:d.BacktrackingTechnique.BLB,bph:d.BacktrackingTechnique.BPH,depth_first:d.BacktrackingTechnique.DFS,breadth_first:d.BacktrackingTechnique.BFS,best_bound:d.BacktrackingTechnique.BLB,best_projection:d.BacktrackingTechnique.BPH},E={none:d.PreprocessingTechnique.NONE,root:d.PreprocessingTechnique.ROOT,all:d.PreprocessingTechnique.ALL};function D(O){switch(O){case d.ReturnCode.OK:return"ok";case d.ReturnCode.EBOUND:return"bounds_incorrect";case d.ReturnCode.EROOT:return"no_root_basis";case d.ReturnCode.ENOPFS:return"no_primal_feasible";case d.ReturnCode.ENODFS:return"no_dual_feasible";case d.ReturnCode.EFAIL:return"failure";case d.ReturnCode.EMIPGAP:return"mip_gap_tolerance";case d.ReturnCode.ETMLIM:return"time_limit";case d.ReturnCode.ESTOP:return"stopped";default:throw new Error(`unknown return code from intopt: ${O}`)}}function $(O){let M=l._malloc(328);l._glp_init_iocp(M);let I;if(O.msgLevel!==void 0&&l.setValue(M,oe(O.msgLevel),"i32"),O.branching!==void 0){if(I=s[O.branching],I===void 0)throw new Error(`unknown branching technique '${O.branching}'`);l.setValue(M+4,I,"i32")}if(O.backtracking!==void 0){if(I=y[O.backtracking],I===void 0)throw new Error(`unknown backtracking technique '${O.backtracking}'`);l.setValue(M+8,I,"i32")}if(O.tolInt!==void 0&&l.setValue(M+16,O.tolInt,"double"),O.tolObj!==void 0&&l.setValue(M+24,O.tolObj,"double"),O.limitTime!==void 0&&l.setValue(M+32,O.limitTime,"i32"),O.logFreq!==void 0&&l.setValue(M+36,O.logFreq,"i32"),O.logDelay!==void 0&&l.setValue(M+40,O.logDelay,"i32"),O.callbackPtr!==void 0&&l.setValue(M+44,O.callbackPtr,"*"),O.preprocessing!==void 0){if(I=E[O.preprocessing],I===void 0)throw new Error(`unknown preprocessing technique '${O.preprocessing}'`);l.setValue(M+56,I,"i32")}return O.gapMIP!==void 0&&l.setValue(M+64,O.gapMIP,"double"),O.cutsMIR!==void 0&&l.setValue(M+72,O.cutsMIR?1:0,"i32"),O.cutsGomory!==void 0&&l.setValue(M+76,O.cutsGomory?1:0,"i32"),O.cutsCover!==void 0&&l.setValue(M+80,O.cutsCover?1:0,"i32"),O.cutsClique!==void 0&&l.setValue(M+84,O.cutsClique?1:0,"i32"),O.presolve!==void 0&&l.setValue(M+88,O.presolve?1:0,"i32"),O.binarize!==void 0&&l.setValue(M+92,O.binarize?1:0,"i32"),O.heuristicFP!==void 0&&l.setValue(M+96,O.heuristicFP?1:0,"i32"),O.heuristicPS!==void 0&&l.setValue(M+100,O.heuristicPS?1:0,"i32"),O.limitProxy!==void 0&&l.setValue(M+104,O.limitProxy,"i32"),O.heuristicRound!==void 0&&l.setValue(M+108,O.heuristicRound?1:0,"i32"),M}function P(O,M){if(M.callback!==void 0){let H=M.callback;M.callbackPtr=l.addFunction(q=>H(new T(q)),"vii")}let I=$(M||{}),z=l._glp_intopt(O.ptr,I);return l._free(I),M.callback!==void 0&&(l.removeFunction(M.callbackPtr),M.callbackPtr=void 0),D(z)}w.solve=P}(t.MIP||(t.MIP={}));class L{get vars(){return this._vars}get constrs(){return this._constrs}constructor(s){if(this._vars=[],this._constrs=[],l===void 0)throw new Error("wasm module not loaded");if(this.ptr=l._glp_create_prob(),s===void 0)return;let{name:y,sense:E}=s;y!==void 0&&(this.name=y),E!==void 0&&(this.sense=E)}set name(s){let y=l.lengthBytesUTF8(s)+1,E=l._malloc(y);l.stringToUTF8(s,E,y),l._glp_set_prob_name(this.ptr,E),l._free(E)}get name(){let s=l._glp_get_prob_name(this.ptr);return l.UTF8ToString(s)}static fromPointer(s){let y=Object.create(L.prototype);return y.ptr=s,y}get value(){return l._glp_get_obj_val(this.ptr)}get valueInt(){return l._glp_ipt_obj_val(this.ptr)}get valueMIP(){return l._glp_mip_obj_val(this.ptr)}get numVars(){return l._glp_get_num_cols(this.ptr)}get numConstrs(){return l._glp_get_num_rows(this.ptr)}get numNZs(){return l._glp_get_num_nz(this.ptr)}get numBinary(){return l._glp_get_num_bin(this.ptr)}get numInteger(){return l._glp_get_num_int(this.ptr)}get status(){let s=l._glp_get_status(this.ptr);return G(s)}get statusPrimal(){let s=l._glp_get_prim_stat(this.ptr);return G(s)}get statusDual(){let s=l._glp_get_dual_stat(this.ptr);return G(s)}get statusInt(){let s=l._glp_ipt_status(this.ptr);return G(s)}get statusMIP(){let s=l._glp_mip_status(this.ptr);return G(s)}addVars(s,y){return Number.isInteger(s)?this.addVarsByCount(s,y):Array.isArray(s)?s.length===0||typeof s[0]=="string"?this.addVarsByKeys(s,y):this.addVarsByProperties(s):this.addVarsFromPropertiesArray(s)}addVar(s){let y=l._glp_add_cols(this.ptr,1),E=new Q(this,y,s);return this._vars.push(E),E}addVarsByProperties(s){let y=l._glp_add_cols(this.ptr,s.length),E=s.map((D,$)=>new Q(this,y+$,D));return this._vars=this._vars.concat(E),E}addVarsByCount(s,y){let E=l._glp_add_cols(this.ptr,s),D=Array.from(Array(s).keys(),$=>new Q(this,E+$,y&&y.name?Object.assign(Object.assign({},y),{name:`${y.name}_${$}`}):y));return this._vars=this._vars.concat(D),D}addVarsByKeys(s,y){let E=y||{},{name:D}=E,$=a(E,["name"]);return this.addVarsFromPropertiesArray(Object.fromEntries(s.map(P=>[P,Object.assign(Object.assign({},$),{name:`${D}[${P}]`})])))}addVarsFromPropertiesArray(s){let y=[...Object.keys(s)];return Object.fromEntries(this.addVarsByProperties(Object.values(s)).map((E,D)=>[y[D],E]))}addConstrs(s,y){return Number.isInteger(s)?this.addConstrsByCount(s,y):this.addConstrsByProperties(s)}addConstr(s){let y=l._glp_add_rows(this.ptr,1),E=new J(this,y,s);return this._constrs.push(E),E}addConstrsByProperties(s){let y=l._glp_add_rows(this.ptr,s.length),E=s.map((D,$)=>new J(this,y+$,D));return this._constrs=this._constrs.concat(E),E}addConstrsByCount(s,y){let E=l._glp_add_rows(this.ptr,s),D=Array.from(Array(s).keys(),$=>new J(this,E+$,y&&y.name?Object.assign(Object.assign({},y),{name:`${y.name}_${$}`}):y));return this._constrs=this._constrs.concat(D),D}update(){for(let s of this._constrs)s.update()}get sense(){return l._glp_get_obj_dir(this.ptr)===d.ObjectiveDirection.MIN?"min":"max"}set sense(s){if(s!=="min"&&s!=="max")throw new Error(`unknown sense '${s}'`);l._glp_set_obj_dir(this.ptr,s==="min"?d.ObjectiveDirection.MIN:d.ObjectiveDirection.MAX)}toModelLP(){this.update();let s="_tmp.lp",y=l._malloc(s.length+1);return l.stringToUTF8(s,y,s.length+1),l._glp_write_lp(this.ptr,0,y),l._free(y),l.FS.readFile(s,{encoding:"utf8"})}_refreshVariables(){let s=l._glp_get_num_cols(this.ptr);this._vars=Array.from(Array(s).keys(),y=>new Q(this,y+1,{lb:l._glp_get_col_lb(this.ptr,y+1),ub:l._glp_get_col_ub(this.ptr,y+1)}))}_refreshConstraints(){let s=l._glp_get_num_rows(this.ptr);this._constrs=Array.from(Array(s).keys(),y=>new J(this,y+1,{lb:l._glp_get_row_lb(this.ptr,y+1),ub:l._glp_get_row_ub(this.ptr,y+1)}))}static fromModelLP(s){let y=new L,E="_tmp.lp";l.FS.writeFile(E,s);let D=l._malloc(E.length+1);return l.stringToUTF8(E,D,E.length+1),l._glp_read_lp(y.ptr,0,D),l._free(D),y._refreshVariables(),y._refreshConstraints(),y}toMPS(){this.update();let s="_tmp.mps",y=l._malloc(s.length+1);return l.stringToUTF8(s,y,s.length+1),l._glp_write_mps(this.ptr,d.MPSFormat.FILE,0,y),l._free(y),l.FS.readFile(s,{encoding:"utf8"})}static fromMPS(s,y){let E=new L,D="_tmp.mps";l.FS.writeFile(D,s);let $=l._malloc(D.length+1);l.stringToUTF8(D,$,D.length+1);let P=y==="deck"?d.MPSFormat.DECK:d.MPSFormat.FILE,O=l._glp_read_mps(E.ptr,P,0,$);if(l._free($),O!==0)throw new Error("mps reading failed");return E._refreshVariables(),E._refreshConstraints(),E}simplex(s){return this.update(),t.Simplex.solve(this,s||{})}exact(s){return this.update(),t.Simplex.solveExact(this,s||{})}interior(s){return this.update(),t.Interior.solve(this,s||{})}intopt(s){return this.update(),t.MIP.solve(this,s||{})}get solution(){switch(this.status){case"undefined":case"infeasible":throw new Error(`status is '${this.status}', run simplex first`);case"feasible":case"optimal":return[`status = ${this.status}`,...this._vars.map(s=>`${s.name} = ${s.value}`),`value = ${this.value}`].join(`
`);case"unbounded":return"problem is unbounded";case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionInt(){switch(this.statusInt){case"undefined":case"infeasible":throw new Error(`status is '${this.statusInt}', run interior first`);case"optimal":return[`status = ${this.statusInt}`,...this._vars.map(s=>`${s.name} = ${Number(s.valueInt.toFixed(6))}`),`value = ${Number(this.valueInt.toFixed(6))}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionMIP(){switch(this.statusMIP){case"undefined":throw new Error(`status is '${this.statusMIP}', run intopt first`);case"feasible":case"optimal":return[`status = ${this.statusMIP}`,...this._vars.map(s=>`${s.name} = ${s.valueMIP}`),`value = ${this.valueMIP}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get ray(){let s=l._glp_get_unbnd_ray(this.ptr);if(s===0)throw new Error("no unbounded ray");return s<=this.numConstrs?this._constrs[s-1]:this._vars[s-1-this.numConstrs]}getTableau(s){let y=s===void 0?s=E=>E.toString():s;return[...[...this.vars,...this.constrs].filter(E=>E.status==="basic").map(E=>E.name+" = "+[...E.row.map(([D,$])=>`${y(D instanceof Q?$:-$)} ${D.name}`),y(E.value)].join(" + ")),"z = "+[...[...this.vars,...this.constrs].filter(E=>E.status!=="basic").map(E=>`${y(E instanceof Q?E.dual:-E.dual)} ${E.name}`),y(this.value)].join(" + ")].join(`
`)}}t.Constraint=J,t.Model=L,t.Node=F,t.Tree=T,t.Variable=Q,t.loadModule=h,Object.defineProperty(t,"__esModule",{value:!0})})});var yi=(()=>{class t{constructor(){this.http=Fe(ii),this.datasetsSvc=Fe(pi),this.preferencesSvc=Fe(gr),this.settingsSvc=Fe(vr),this.cacheData={},this.cacheI18n={},this.config$=this.http.get("assets/release.json").pipe(dr(1)),ln(()=>{let e=this.settingsSvc.modId();e!=null&&this.requestData(e).subscribe()}),ln(()=>{let e=this.settingsSvc.modId(),i=this.preferencesSvc.language();e==null||i===ci.English||this.requestI18n(e,i).subscribe()})}requestData(e){return this.cacheData[e]||(this.cacheData[e]=ei([this.http.get(`data/${e}/data.json`),this.http.get(`data/${e}/hash.json`)]).pipe(an(([i,a])=>{this.datasetsSvc.loadData(e,i,a)}),dr())),this.cacheData[e]}requestI18n(e,i){return this.cacheI18n[e]||(this.cacheI18n[e]={}),this.cacheI18n[e][i]||(this.cacheI18n[e][i]=this.http.get(`data/${e}/i18n/${i}.json`).pipe(ri(()=>Jn),an(a=>{this.datasetsSvc.loadI18n(e,i,a)}),dr())),this.cacheI18n[e][i]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var qf=576,zd=(()=>{class t{constructor(){this.dataSvc=Fe(yi),this.windowScrollY=()=>window.scrollY,this.windowInnerWidth=()=>window.innerWidth,this.scrollTop=un(on(window,"scroll").pipe(_r(this.windowScrollY)),{initialValue:window.scrollY}),this.width=un(on(window,"resize").pipe(_r(this.windowInnerWidth)),{initialValue:window.innerWidth}),this.isMobile=Ae(()=>this.width()<qf),this.showToast$=new rn,this.showConfirm$=new rn,this.translateSelectedItem$=new nn(void 0),this.translateItem$=new nn(void 0),this.settingsActive=sn(!1),this.settingsXlHidden=sn(!1),this.version$=this.dataSvc.config$.pipe(_r(e=>ui(e.version)))}confirm(e){this.showConfirm$.next(e)}toggleSettings(){this.settingsActive.set(!this.settingsActive())}toggleSettingsXl(){this.settingsXlHidden.set(!this.settingsXlHidden())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _e=function(t){return t[t.Output=0]="Output",t[t.Input=1]="Input",t[t.Maximize=2]="Maximize",t[t.Limit=3]="Limit",t}(_e||{}),jd=[{value:_e.Output,label:"options.objectiveType.output"},{value:_e.Input,label:"options.objectiveType.input"},{value:_e.Maximize,label:"options.objectiveType.maximize"},{value:_e.Limit,label:"options.objectiveType.limit"}];function Xf(){}function dt(t){return t==null?Xf:function(){return this.querySelector(t)}}function wi(t){typeof t!="function"&&(t=dt(t));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var p=r[a],f=p.length,l=i[a]=new Array(f),h,d,v=0;v<f;++v)(h=p[v])&&(d=t.call(h,h.__data__,v,p))&&("__data__"in h&&(d.__data__=h.__data__),l[v]=d);return new he(i,this._parents)}function pn(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Wf(){return[]}function Ct(t){return t==null?Wf:function(){return this.querySelectorAll(t)}}function Gf(t){return function(){return pn(t.apply(this,arguments))}}function bi(t){typeof t=="function"?t=Gf(t):t=Ct(t);for(var r=this._groups,e=r.length,i=[],a=[],p=0;p<e;++p)for(var f=r[p],l=f.length,h,d=0;d<l;++d)(h=f[d])&&(i.push(t.call(h,h.__data__,d,f)),a.push(h));return new he(i,a)}function Vt(t){return function(){return this.matches(t)}}function yr(t){return function(r){return r.matches(t)}}var Yf=Array.prototype.find;function Kf(t){return function(){return Yf.call(this.children,t)}}function Qf(){return this.firstElementChild}function xi(t){return this.select(t==null?Qf:Kf(typeof t=="function"?t:yr(t)))}var Zf=Array.prototype.filter;function Jf(){return Array.from(this.children)}function ep(t){return function(){return Zf.call(this.children,t)}}function Ei(t){return this.selectAll(t==null?Jf:ep(typeof t=="function"?t:yr(t)))}function ki(t){typeof t!="function"&&(t=Vt(t));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var p=r[a],f=p.length,l=i[a]=[],h,d=0;d<f;++d)(h=p[d])&&t.call(h,h.__data__,d,p)&&l.push(h);return new he(i,this._parents)}function wr(t){return new Array(t.length)}function Ii(){return new he(this._enter||this._groups.map(wr),this._parents)}function Ut(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}Ut.prototype={constructor:Ut,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Si(t){return function(){return t}}function tp(t,r,e,i,a,p){for(var f=0,l,h=r.length,d=p.length;f<d;++f)(l=r[f])?(l.__data__=p[f],i[f]=l):e[f]=new Ut(t,p[f]);for(;f<h;++f)(l=r[f])&&(a[f]=l)}function rp(t,r,e,i,a,p,f){var l,h,d=new Map,v=r.length,A=p.length,S=new Array(v),R;for(l=0;l<v;++l)(h=r[l])&&(S[l]=R=f.call(h,h.__data__,l,r)+"",d.has(R)?a[l]=h:d.set(R,h));for(l=0;l<A;++l)R=f.call(t,p[l],l,p)+"",(h=d.get(R))?(i[l]=h,h.__data__=p[l],d.delete(R)):e[l]=new Ut(t,p[l]);for(l=0;l<v;++l)(h=r[l])&&d.get(S[l])===h&&(a[l]=h)}function np(t){return t.__data__}function Ai(t,r){if(!arguments.length)return Array.from(this,np);var e=r?rp:tp,i=this._parents,a=this._groups;typeof t!="function"&&(t=Si(t));for(var p=a.length,f=new Array(p),l=new Array(p),h=new Array(p),d=0;d<p;++d){var v=i[d],A=a[d],S=A.length,R=ip(t.call(v,v&&v.__data__,d,i)),j=R.length,Z=l[d]=new Array(j),ee=f[d]=new Array(j),U=h[d]=new Array(S);e(v,A,Z,ee,U,R,r);for(var Q=0,J=0,B,Y;Q<j;++Q)if(B=Z[Q]){for(Q>=J&&(J=Q+1);!(Y=ee[J])&&++J<j;);B._next=Y||null}}return f=new he(f,i),f._enter=l,f._exit=h,f}function ip(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ti(){return new he(this._exit||this._groups.map(wr),this._parents)}function Oi(t,r,e){var i=this.enter(),a=this,p=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),r!=null&&(a=r(a),a&&(a=a.selection())),e==null?p.remove():e(p),i&&a?i.merge(a).order():a}function Mi(t){for(var r=t.selection?t.selection():t,e=this._groups,i=r._groups,a=e.length,p=i.length,f=Math.min(a,p),l=new Array(a),h=0;h<f;++h)for(var d=e[h],v=i[h],A=d.length,S=l[h]=new Array(A),R,j=0;j<A;++j)(R=d[j]||v[j])&&(S[j]=R);for(;h<a;++h)l[h]=e[h];return new he(l,this._parents)}function Ni(){for(var t=this._groups,r=-1,e=t.length;++r<e;)for(var i=t[r],a=i.length-1,p=i[a],f;--a>=0;)(f=i[a])&&(p&&f.compareDocumentPosition(p)^4&&p.parentNode.insertBefore(f,p),p=f);return this}function Ri(t){t||(t=op);function r(A,S){return A&&S?t(A.__data__,S.__data__):!A-!S}for(var e=this._groups,i=e.length,a=new Array(i),p=0;p<i;++p){for(var f=e[p],l=f.length,h=a[p]=new Array(l),d,v=0;v<l;++v)(d=f[v])&&(h[v]=d);h.sort(r)}return new he(a,this._parents).order()}function op(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function Di(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Pi(){return Array.from(this)}function Fi(){for(var t=this._groups,r=0,e=t.length;r<e;++r)for(var i=t[r],a=0,p=i.length;a<p;++a){var f=i[a];if(f)return f}return null}function Bi(){let t=0;for(let r of this)++t;return t}function zi(){return!this.node()}function Li(t){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var a=r[e],p=0,f=a.length,l;p<f;++p)(l=a[p])&&t.call(l,l.__data__,p,a);return this}var br="http://www.w3.org/1999/xhtml",_n={svg:"http://www.w3.org/2000/svg",xhtml:br,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qe(t){var r=t+="",e=r.indexOf(":");return e>=0&&(r=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),_n.hasOwnProperty(r)?{space:_n[r],local:t}:t}function ap(t){return function(){this.removeAttribute(t)}}function sp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lp(t,r){return function(){this.setAttribute(t,r)}}function up(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function cp(t,r){return function(){var e=r.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function fp(t,r){return function(){var e=r.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function ji(t,r){var e=Qe(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((r==null?e.local?sp:ap:typeof r=="function"?e.local?fp:cp:e.local?up:lp)(e,r))}function xr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pp(t){return function(){this.style.removeProperty(t)}}function _p(t,r,e){return function(){this.style.setProperty(t,r,e)}}function dp(t,r,e){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Ci(t,r,e){return arguments.length>1?this.each((r==null?pp:typeof r=="function"?dp:_p)(t,r,e??"")):nt(this.node(),t)}function nt(t,r){return t.style.getPropertyValue(r)||xr(t).getComputedStyle(t,null).getPropertyValue(r)}function mp(t){return function(){delete this[t]}}function hp(t,r){return function(){this[t]=r}}function gp(t,r){return function(){var e=r.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Vi(t,r){return arguments.length>1?this.each((r==null?mp:typeof r=="function"?gp:hp)(t,r)):this.node()[t]}function Ui(t){return t.trim().split(/^|\s+/)}function dn(t){return t.classList||new $i(t)}function $i(t){this._node=t,this._names=Ui(t.getAttribute("class")||"")}$i.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Hi(t,r){for(var e=dn(t),i=-1,a=r.length;++i<a;)e.add(r[i])}function qi(t,r){for(var e=dn(t),i=-1,a=r.length;++i<a;)e.remove(r[i])}function vp(t){return function(){Hi(this,t)}}function yp(t){return function(){qi(this,t)}}function wp(t,r){return function(){(r.apply(this,arguments)?Hi:qi)(this,t)}}function Xi(t,r){var e=Ui(t+"");if(arguments.length<2){for(var i=dn(this.node()),a=-1,p=e.length;++a<p;)if(!i.contains(e[a]))return!1;return!0}return this.each((typeof r=="function"?wp:r?vp:yp)(e,r))}function bp(){this.textContent=""}function xp(t){return function(){this.textContent=t}}function Ep(t){return function(){var r=t.apply(this,arguments);this.textContent=r??""}}function Wi(t){return arguments.length?this.each(t==null?bp:(typeof t=="function"?Ep:xp)(t)):this.node().textContent}function kp(){this.innerHTML=""}function Ip(t){return function(){this.innerHTML=t}}function Sp(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r??""}}function Gi(t){return arguments.length?this.each(t==null?kp:(typeof t=="function"?Sp:Ip)(t)):this.node().innerHTML}function Ap(){this.nextSibling&&this.parentNode.appendChild(this)}function Yi(){return this.each(Ap)}function Tp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ki(){return this.each(Tp)}function Op(t){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===br&&r.documentElement.namespaceURI===br?r.createElement(t):r.createElementNS(e,t)}}function Mp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Er(t){var r=Qe(t);return(r.local?Mp:Op)(r)}function Qi(t){var r=typeof t=="function"?t:Er(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function Np(){return null}function Zi(t,r){var e=typeof t=="function"?t:Er(t),i=r==null?Np:typeof r=="function"?r:dt(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function Rp(){var t=this.parentNode;t&&t.removeChild(this)}function Ji(){return this.each(Rp)}function Dp(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Pp(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function eo(t){return this.select(t?Pp:Dp)}function to(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Fp(t){return function(r){t.call(this,r,this.__data__)}}function Bp(t){return t.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function zp(t){return function(){var r=this.__on;if(r){for(var e=0,i=-1,a=r.length,p;e<a;++e)p=r[e],(!t.type||p.type===t.type)&&p.name===t.name?this.removeEventListener(p.type,p.listener,p.options):r[++i]=p;++i?r.length=i:delete this.__on}}}function Lp(t,r,e){return function(){var i=this.__on,a,p=Fp(r);if(i){for(var f=0,l=i.length;f<l;++f)if((a=i[f]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=p,a.options=e),a.value=r;return}}this.addEventListener(t.type,p,e),a={type:t.type,name:t.name,value:r,listener:p,options:e},i?i.push(a):this.__on=[a]}}function ro(t,r,e){var i=Bp(t+""),a,p=i.length,f;if(arguments.length<2){var l=this.node().__on;if(l){for(var h=0,d=l.length,v;h<d;++h)for(a=0,v=l[h];a<p;++a)if((f=i[a]).type===v.type&&f.name===v.name)return v.value}return}for(l=r?Lp:zp,a=0;a<p;++a)this.each(l(i[a],r,e));return this}function no(t,r,e){var i=xr(t),a=i.CustomEvent;typeof a=="function"?a=new a(r,e):(a=i.document.createEvent("Event"),e?(a.initEvent(r,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(r,!1,!1)),t.dispatchEvent(a)}function jp(t,r){return function(){return no(this,t,r)}}function Cp(t,r){return function(){return no(this,t,r.apply(this,arguments))}}function io(t,r){return this.each((typeof r=="function"?Cp:jp)(t,r))}function*oo(){for(var t=this._groups,r=0,e=t.length;r<e;++r)for(var i=t[r],a=0,p=i.length,f;a<p;++a)(f=i[a])&&(yield f)}var mn=[null];function he(t,r){this._groups=t,this._parents=r}function ao(){return new he([[document.documentElement]],mn)}function Vp(){return this}he.prototype=ao.prototype={constructor:he,select:wi,selectAll:bi,selectChild:xi,selectChildren:Ei,filter:ki,data:Ai,enter:Ii,exit:Ti,join:Oi,merge:Mi,selection:Vp,order:Ni,sort:Ri,call:Di,nodes:Pi,node:Fi,size:Bi,empty:zi,each:Li,attr:ji,style:Ci,property:Vi,classed:Xi,text:Wi,html:Gi,raise:Yi,lower:Ki,append:Qi,insert:Zi,remove:Ji,clone:eo,datum:to,on:ro,dispatch:io,[Symbol.iterator]:oo};var Ze=ao;function Be(t){return typeof t=="string"?new he([[document.querySelector(t)]],[document.documentElement]):new he([[t]],mn)}function so(t){let r;for(;r=t.sourceEvent;)t=r;return t}function ze(t,r){if(t=so(t),r===void 0&&(r=t.currentTarget),r){var e=r.ownerSVGElement||r;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[t.clientX-a.left-r.clientLeft,t.clientY-a.top-r.clientTop]}}return[t.pageX,t.pageY]}var Up={value:()=>{}};function uo(){for(var t=0,r=arguments.length,e={},i;t<r;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new kr(e)}function kr(t){this._=t}function $p(t,r){return t.trim().split(/^|\s+/).map(function(e){var i="",a=e.indexOf(".");if(a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}kr.prototype=uo.prototype={constructor:kr,on:function(t,r){var e=this._,i=$p(t+"",e),a,p=-1,f=i.length;if(arguments.length<2){for(;++p<f;)if((a=(t=i[p]).type)&&(a=Hp(e[a],t.name)))return a;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++p<f;)if(a=(t=i[p]).type)e[a]=lo(e[a],t.name,r);else if(r==null)for(a in e)e[a]=lo(e[a],t.name,null);return this},copy:function(){var t={},r=this._;for(var e in r)t[e]=r[e].slice();return new kr(t)},call:function(t,r){if((a=arguments.length-2)>0)for(var e=new Array(a),i=0,a,p;i<a;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(p=this._[t],i=0,a=p.length;i<a;++i)p[i].value.apply(r,e)},apply:function(t,r,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],a=0,p=i.length;a<p;++a)i[a].value.apply(r,e)}};function Hp(t,r){for(var e=0,i=t.length,a;e<i;++e)if((a=t[e]).name===r)return a.value}function lo(t,r,e){for(var i=0,a=t.length;i<a;++i)if(t[i].name===r){t[i]=Up,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:r,value:e}),t}var mt=uo;var co={passive:!1},ht={capture:!0,passive:!1};function Ir(t){t.stopImmediatePropagation()}function it(t){t.preventDefault(),t.stopImmediatePropagation()}function $t(t){var r=t.document.documentElement,e=Be(t).on("dragstart.drag",it,ht);"onselectstart"in r?e.on("selectstart.drag",it,ht):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Ht(t,r){var e=t.document.documentElement,i=Be(t).on("dragstart.drag",null);r&&(i.on("click.drag",it,ht),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var qt=t=>()=>t;function Xt(t,{sourceEvent:r,subject:e,target:i,identifier:a,active:p,x:f,y:l,dx:h,dy:d,dispatch:v}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:p,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:v}})}Xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function qp(t){return!t.ctrlKey&&!t.button}function Xp(){return this.parentNode}function Wp(t,r){return r??{x:t.x,y:t.y}}function Gp(){return navigator.maxTouchPoints||"ontouchstart"in this}function Yp(){var t=qp,r=Xp,e=Wp,i=Gp,a={},p=mt("start","drag","end"),f=0,l,h,d,v,A=0;function S(B){B.on("mousedown.drag",R).filter(i).on("touchstart.drag",ee).on("touchmove.drag",U,co).on("touchend.drag touchcancel.drag",Q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function R(B,Y){if(!(v||!t.call(this,B,Y))){var G=J(this,r.call(this,B,Y),B,Y,"mouse");G&&(Be(B.view).on("mousemove.drag",j,ht).on("mouseup.drag",Z,ht),$t(B.view),Ir(B),d=!1,l=B.clientX,h=B.clientY,G("start",B))}}function j(B){if(it(B),!d){var Y=B.clientX-l,G=B.clientY-h;d=Y*Y+G*G>A}a.mouse("drag",B)}function Z(B){Be(B.view).on("mousemove.drag mouseup.drag",null),Ht(B.view,d),it(B),a.mouse("end",B)}function ee(B,Y){if(t.call(this,B,Y)){var G=B.changedTouches,oe=r.call(this,B,Y),fe=G.length,pe,de;for(pe=0;pe<fe;++pe)(de=J(this,oe,B,Y,G[pe].identifier,G[pe]))&&(Ir(B),de("start",B,G[pe]))}}function U(B){var Y=B.changedTouches,G=Y.length,oe,fe;for(oe=0;oe<G;++oe)(fe=a[Y[oe].identifier])&&(it(B),fe("drag",B,Y[oe]))}function Q(B){var Y=B.changedTouches,G=Y.length,oe,fe;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),oe=0;oe<G;++oe)(fe=a[Y[oe].identifier])&&(Ir(B),fe("end",B,Y[oe]))}function J(B,Y,G,oe,fe,pe){var de=p.copy(),ge=ze(pe||G,Y),N,W,x;if((x=e.call(B,new Xt("beforestart",{sourceEvent:G,target:S,identifier:fe,active:f,x:ge[0],y:ge[1],dx:0,dy:0,dispatch:de}),oe))!=null)return N=x.x-ge[0]||0,W=x.y-ge[1]||0,function F(T,L,w){var s=ge,y;switch(T){case"start":a[fe]=F,y=f++;break;case"end":delete a[fe],--f;case"drag":ge=ze(w||L,Y),y=f;break}de.call(T,B,new Xt(T,{sourceEvent:L,subject:x,target:S,identifier:fe,active:y,x:ge[0]+N,y:ge[1]+W,dx:ge[0]-s[0],dy:ge[1]-s[1],dispatch:de}),oe)}}return S.filter=function(B){return arguments.length?(t=typeof B=="function"?B:qt(!!B),S):t},S.container=function(B){return arguments.length?(r=typeof B=="function"?B:qt(B),S):r},S.subject=function(B){return arguments.length?(e=typeof B=="function"?B:qt(B),S):e},S.touchable=function(B){return arguments.length?(i=typeof B=="function"?B:qt(!!B),S):i},S.on=function(){var B=p.on.apply(p,arguments);return B===p?S:B},S.clickDistance=function(B){return arguments.length?(A=(B=+B)*B,S):Math.sqrt(A)},S}function Sr(t,r,e){t.prototype=r.prototype=e,e.constructor=t}function hn(t,r){var e=Object.create(t.prototype);for(var i in r)e[i]=r[i];return e}function Yt(){}var Wt=.7,Or=1/Wt,St="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",We="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kp=/^#([0-9a-f]{3,8})$/,Qp=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),Zp=new RegExp(`^rgb\\(${We},${We},${We}\\)$`),Jp=new RegExp(`^rgba\\(${St},${St},${St},${Gt}\\)$`),e_=new RegExp(`^rgba\\(${We},${We},${We},${Gt}\\)$`),t_=new RegExp(`^hsl\\(${Gt},${We},${We}\\)$`),r_=new RegExp(`^hsla\\(${Gt},${We},${We},${Gt}\\)$`),fo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sr(Yt,ot,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:po,formatHex:po,formatHex8:n_,formatHsl:i_,formatRgb:_o,toString:_o});function po(){return this.rgb().formatHex()}function n_(){return this.rgb().formatHex8()}function i_(){return wo(this).formatHsl()}function _o(){return this.rgb().formatRgb()}function ot(t){var r,e;return t=(t+"").trim().toLowerCase(),(r=Kp.exec(t))?(e=r[1].length,r=parseInt(r[1],16),e===6?mo(r):e===3?new Pe(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):e===8?Ar(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):e===4?Ar(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Qp.exec(t))?new Pe(r[1],r[2],r[3],1):(r=Zp.exec(t))?new Pe(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Jp.exec(t))?Ar(r[1],r[2],r[3],r[4]):(r=e_.exec(t))?Ar(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=t_.exec(t))?vo(r[1],r[2]/100,r[3]/100,1):(r=r_.exec(t))?vo(r[1],r[2]/100,r[3]/100,r[4]):fo.hasOwnProperty(t)?mo(fo[t]):t==="transparent"?new Pe(NaN,NaN,NaN,0):null}function mo(t){return new Pe(t>>16&255,t>>8&255,t&255,1)}function Ar(t,r,e,i){return i<=0&&(t=r=e=NaN),new Pe(t,r,e,i)}function o_(t){return t instanceof Yt||(t=ot(t)),t?(t=t.rgb(),new Pe(t.r,t.g,t.b,t.opacity)):new Pe}function At(t,r,e,i){return arguments.length===1?o_(t):new Pe(t,r,e,i??1)}function Pe(t,r,e,i){this.r=+t,this.g=+r,this.b=+e,this.opacity=+i}Sr(Pe,At,hn(Yt,{brighter(t){return t=t==null?Or:Math.pow(Or,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pe(vt(this.r),vt(this.g),vt(this.b),Mr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ho,formatHex:ho,formatHex8:a_,formatRgb:go,toString:go}));function ho(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}`}function a_(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}${gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function go(){let t=Mr(this.opacity);return`${t===1?"rgb(":"rgba("}${vt(this.r)}, ${vt(this.g)}, ${vt(this.b)}${t===1?")":`, ${t})`}`}function Mr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gt(t){return t=vt(t),(t<16?"0":"")+t.toString(16)}function vo(t,r,e,i){return i<=0?t=r=e=NaN:e<=0||e>=1?t=r=NaN:r<=0&&(t=NaN),new Ue(t,r,e,i)}function wo(t){if(t instanceof Ue)return new Ue(t.h,t.s,t.l,t.opacity);if(t instanceof Yt||(t=ot(t)),!t)return new Ue;if(t instanceof Ue)return t;t=t.rgb();var r=t.r/255,e=t.g/255,i=t.b/255,a=Math.min(r,e,i),p=Math.max(r,e,i),f=NaN,l=p-a,h=(p+a)/2;return l?(r===p?f=(e-i)/l+(e<i)*6:e===p?f=(i-r)/l+2:f=(r-e)/l+4,l/=h<.5?p+a:2-p-a,f*=60):l=h>0&&h<1?0:f,new Ue(f,l,h,t.opacity)}function bo(t,r,e,i){return arguments.length===1?wo(t):new Ue(t,r,e,i??1)}function Ue(t,r,e,i){this.h=+t,this.s=+r,this.l=+e,this.opacity=+i}Sr(Ue,bo,hn(Yt,{brighter(t){return t=t==null?Or:Math.pow(Or,t),new Ue(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new Ue(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*r,a=2*e-i;return new Pe(gn(t>=240?t-240:t+120,a,i),gn(t,a,i),gn(t<120?t+240:t-120,a,i),this.opacity)},clamp(){return new Ue(yo(this.h),Tr(this.s),Tr(this.l),Mr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Mr(this.opacity);return`${t===1?"hsl(":"hsla("}${yo(this.h)}, ${Tr(this.s)*100}%, ${Tr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yo(t){return t=(t||0)%360,t<0?t+360:t}function Tr(t){return Math.max(0,Math.min(1,t||0))}function gn(t,r,e){return(t<60?r+(e-r)*t/60:t<180?e:t<240?r+(e-r)*(240-t)/60:r)*255}function vn(t,r,e,i,a){var p=t*t,f=p*t;return((1-3*t+3*p-f)*r+(4-6*p+3*f)*e+(1+3*t+3*p-3*f)*i+f*a)/6}function xo(t){var r=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,r-1):Math.floor(e*r),a=t[i],p=t[i+1],f=i>0?t[i-1]:2*a-p,l=i<r-1?t[i+2]:2*p-a;return vn((e-i/r)*r,f,a,p,l)}}function Eo(t){var r=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*r),a=t[(i+r-1)%r],p=t[i%r],f=t[(i+1)%r],l=t[(i+2)%r];return vn((e-i/r)*r,a,p,f,l)}}var yn=t=>()=>t;function s_(t,r){return function(e){return t+e*r}}function l_(t,r,e){return t=Math.pow(t,e),r=Math.pow(r,e)-t,e=1/e,function(i){return Math.pow(t+i*r,e)}}function ko(t){return(t=+t)==1?Nr:function(r,e){return e-r?l_(r,e,t):yn(isNaN(r)?e:r)}}function Nr(t,r){var e=r-t;return e?s_(t,e):yn(isNaN(t)?r:t)}var Rr=function t(r){var e=ko(r);function i(a,p){var f=e((a=At(a)).r,(p=At(p)).r),l=e(a.g,p.g),h=e(a.b,p.b),d=Nr(a.opacity,p.opacity);return function(v){return a.r=f(v),a.g=l(v),a.b=h(v),a.opacity=d(v),a+""}}return i.gamma=t,i}(1);function Io(t){return function(r){var e=r.length,i=new Array(e),a=new Array(e),p=new Array(e),f,l;for(f=0;f<e;++f)l=At(r[f]),i[f]=l.r||0,a[f]=l.g||0,p[f]=l.b||0;return i=t(i),a=t(a),p=t(p),l.opacity=1,function(h){return l.r=i(h),l.g=a(h),l.b=p(h),l+""}}}var u_=Io(xo),c_=Io(Eo);function Le(t,r){return t=+t,r=+r,function(e){return t*(1-e)+r*e}}var bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wn=new RegExp(bn.source,"g");function f_(t){return function(){return t}}function p_(t){return function(r){return t(r)+""}}function xn(t,r){var e=bn.lastIndex=wn.lastIndex=0,i,a,p,f=-1,l=[],h=[];for(t=t+"",r=r+"";(i=bn.exec(t))&&(a=wn.exec(r));)(p=a.index)>e&&(p=r.slice(e,p),l[f]?l[f]+=p:l[++f]=p),(i=i[0])===(a=a[0])?l[f]?l[f]+=a:l[++f]=a:(l[++f]=null,h.push({i:f,x:Le(i,a)})),e=wn.lastIndex;return e<r.length&&(p=r.slice(e),l[f]?l[f]+=p:l[++f]=p),l.length<2?h[0]?p_(h[0].x):f_(r):(r=h.length,function(d){for(var v=0,A;v<r;++v)l[(A=h[v]).i]=A.x(d);return l.join("")})}var So=180/Math.PI,Dr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function En(t,r,e,i,a,p){var f,l,h;return(f=Math.sqrt(t*t+r*r))&&(t/=f,r/=f),(h=t*e+r*i)&&(e-=t*h,i-=r*h),(l=Math.sqrt(e*e+i*i))&&(e/=l,i/=l,h/=l),t*i<r*e&&(t=-t,r=-r,h=-h,f=-f),{translateX:a,translateY:p,rotate:Math.atan2(r,t)*So,skewX:Math.atan(h)*So,scaleX:f,scaleY:l}}var Pr;function Ao(t){let r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?Dr:En(r.a,r.b,r.c,r.d,r.e,r.f)}function To(t){return t==null?Dr:(Pr||(Pr=document.createElementNS("http://www.w3.org/2000/svg","g")),Pr.setAttribute("transform",t),(t=Pr.transform.baseVal.consolidate())?(t=t.matrix,En(t.a,t.b,t.c,t.d,t.e,t.f)):Dr)}function Oo(t,r,e,i){function a(d){return d.length?d.pop()+" ":""}function p(d,v,A,S,R,j){if(d!==A||v!==S){var Z=R.push("translate(",null,r,null,e);j.push({i:Z-4,x:Le(d,A)},{i:Z-2,x:Le(v,S)})}else(A||S)&&R.push("translate("+A+r+S+e)}function f(d,v,A,S){d!==v?(d-v>180?v+=360:v-d>180&&(d+=360),S.push({i:A.push(a(A)+"rotate(",null,i)-2,x:Le(d,v)})):v&&A.push(a(A)+"rotate("+v+i)}function l(d,v,A,S){d!==v?S.push({i:A.push(a(A)+"skewX(",null,i)-2,x:Le(d,v)}):v&&A.push(a(A)+"skewX("+v+i)}function h(d,v,A,S,R,j){if(d!==A||v!==S){var Z=R.push(a(R)+"scale(",null,",",null,")");j.push({i:Z-4,x:Le(d,A)},{i:Z-2,x:Le(v,S)})}else(A!==1||S!==1)&&R.push(a(R)+"scale("+A+","+S+")")}return function(d,v){var A=[],S=[];return d=t(d),v=t(v),p(d.translateX,d.translateY,v.translateX,v.translateY,A,S),f(d.rotate,v.rotate,A,S),l(d.skewX,v.skewX,A,S),h(d.scaleX,d.scaleY,v.scaleX,v.scaleY,A,S),d=v=null,function(R){for(var j=-1,Z=S.length,ee;++j<Z;)A[(ee=S[j]).i]=ee.x(R);return A.join("")}}}var kn=Oo(Ao,"px, ","px)","deg)"),In=Oo(To,", ",")",")");var __=1e-12;function Mo(t){return((t=Math.exp(t))+1/t)/2}function d_(t){return((t=Math.exp(t))-1/t)/2}function m_(t){return((t=Math.exp(2*t))-1)/(t+1)}var Sn=function t(r,e,i){function a(p,f){var l=p[0],h=p[1],d=p[2],v=f[0],A=f[1],S=f[2],R=v-l,j=A-h,Z=R*R+j*j,ee,U;if(Z<__)U=Math.log(S/d)/r,ee=function(oe){return[l+oe*R,h+oe*j,d*Math.exp(r*oe*U)]};else{var Q=Math.sqrt(Z),J=(S*S-d*d+i*Z)/(2*d*e*Q),B=(S*S-d*d-i*Z)/(2*S*e*Q),Y=Math.log(Math.sqrt(J*J+1)-J),G=Math.log(Math.sqrt(B*B+1)-B);U=(G-Y)/r,ee=function(oe){var fe=oe*U,pe=Mo(Y),de=d/(e*Q)*(pe*m_(r*fe+Y)-d_(Y));return[l+de*R,h+de*j,d*pe/Mo(r*fe+Y)]}}return ee.duration=U*1e3*r/Math.SQRT2,ee}return a.rho=function(p){var f=Math.max(.001,+p),l=f*f,h=l*l;return t(f,l,h)},a}(Math.SQRT2,2,4);var Tt=0,Qt=0,Kt=0,Ro=1e3,Fr,Zt,Br=0,yt=0,zr=0,Jt=typeof performance=="object"&&performance.now?performance:Date,Do=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tr(){return yt||(Do(h_),yt=Jt.now()+zr)}function h_(){yt=0}function er(){this._call=this._time=this._next=null}er.prototype=Lr.prototype={constructor:er,restart:function(t,r,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?tr():+e)+(r==null?0:+r),!this._next&&Zt!==this&&(Zt?Zt._next=this:Fr=this,Zt=this),this._call=t,this._time=e,An()},stop:function(){this._call&&(this._call=null,this._time=1/0,An())}};function Lr(t,r,e){var i=new er;return i.restart(t,r,e),i}function Po(){tr(),++Tt;for(var t=Fr,r;t;)(r=yt-t._time)>=0&&t._call.call(void 0,r),t=t._next;--Tt}function No(){yt=(Br=Jt.now())+zr,Tt=Qt=0;try{Po()}finally{Tt=0,v_(),yt=0}}function g_(){var t=Jt.now(),r=t-Br;r>Ro&&(zr-=r,Br=t)}function v_(){for(var t,r=Fr,e,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:Fr=e);Zt=t,An(i)}function An(t){if(!Tt){Qt&&(Qt=clearTimeout(Qt));var r=t-yt;r>24?(t<1/0&&(Qt=setTimeout(No,t-Jt.now()-zr)),Kt&&(Kt=clearInterval(Kt))):(Kt||(Br=Jt.now(),Kt=setInterval(g_,Ro)),Tt=1,Do(No))}}function jr(t,r,e){var i=new er;return r=r==null?0:+r,i.restart(a=>{i.stop(),t(a+r)},r,e),i}var y_=mt("start","end","cancel","interrupt"),w_=[],zo=0,Fo=1,Vr=2,Cr=3,Bo=4,Ur=5,rr=6;function at(t,r,e,i,a,p){var f=t.__transition;if(!f)t.__transition={};else if(e in f)return;b_(t,e,{name:r,index:i,group:a,on:y_,tween:w_,time:p.time,delay:p.delay,duration:p.duration,ease:p.ease,timer:null,state:zo})}function nr(t,r){var e=xe(t,r);if(e.state>zo)throw new Error("too late; already scheduled");return e}function Ie(t,r){var e=xe(t,r);if(e.state>Cr)throw new Error("too late; already running");return e}function xe(t,r){var e=t.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}function b_(t,r,e){var i=t.__transition,a;i[r]=e,e.timer=Lr(p,0,e.time);function p(d){e.state=Fo,e.timer.restart(f,e.delay,e.time),e.delay<=d&&f(d-e.delay)}function f(d){var v,A,S,R;if(e.state!==Fo)return h();for(v in i)if(R=i[v],R.name===e.name){if(R.state===Cr)return jr(f);R.state===Bo?(R.state=rr,R.timer.stop(),R.on.call("interrupt",t,t.__data__,R.index,R.group),delete i[v]):+v<r&&(R.state=rr,R.timer.stop(),R.on.call("cancel",t,t.__data__,R.index,R.group),delete i[v])}if(jr(function(){e.state===Cr&&(e.state=Bo,e.timer.restart(l,e.delay,e.time),l(d))}),e.state=Vr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Vr){for(e.state=Cr,a=new Array(S=e.tween.length),v=0,A=-1;v<S;++v)(R=e.tween[v].value.call(t,t.__data__,e.index,e.group))&&(a[++A]=R);a.length=A+1}}function l(d){for(var v=d<e.duration?e.ease.call(null,d/e.duration):(e.timer.restart(h),e.state=Ur,1),A=-1,S=a.length;++A<S;)a[A].call(t,v);e.state===Ur&&(e.on.call("end",t,t.__data__,e.index,e.group),h())}function h(){e.state=rr,e.timer.stop(),delete i[r];for(var d in i)return;delete t.__transition}}function st(t,r){var e=t.__transition,i,a,p=!0,f;if(e){r=r==null?null:r+"";for(f in e){if((i=e[f]).name!==r){p=!1;continue}a=i.state>Vr&&i.state<Ur,i.state=rr,i.timer.stop(),i.on.call(a?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[f]}p&&delete t.__transition}}function Lo(t){return this.each(function(){st(this,t)})}function x_(t,r){var e,i;return function(){var a=Ie(this,t),p=a.tween;if(p!==e){i=e=p;for(var f=0,l=i.length;f<l;++f)if(i[f].name===r){i=i.slice(),i.splice(f,1);break}}a.tween=i}}function E_(t,r,e){var i,a;if(typeof e!="function")throw new Error;return function(){var p=Ie(this,t),f=p.tween;if(f!==i){a=(i=f).slice();for(var l={name:r,value:e},h=0,d=a.length;h<d;++h)if(a[h].name===r){a[h]=l;break}h===d&&a.push(l)}p.tween=a}}function jo(t,r){var e=this._id;if(t+="",arguments.length<2){for(var i=xe(this.node(),e).tween,a=0,p=i.length,f;a<p;++a)if((f=i[a]).name===t)return f.value;return null}return this.each((r==null?x_:E_)(e,t,r))}function Ot(t,r,e){var i=t._id;return t.each(function(){var a=Ie(this,i);(a.value||(a.value={}))[r]=e.apply(this,arguments)}),function(a){return xe(a,i).value[r]}}function $r(t,r){var e;return(typeof r=="number"?Le:r instanceof ot?Rr:(e=ot(r))?(r=e,Rr):xn)(t,r)}function k_(t){return function(){this.removeAttribute(t)}}function I_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function S_(t,r,e){var i,a=e+"",p;return function(){var f=this.getAttribute(t);return f===a?null:f===i?p:p=r(i=f,e)}}function A_(t,r,e){var i,a=e+"",p;return function(){var f=this.getAttributeNS(t.space,t.local);return f===a?null:f===i?p:p=r(i=f,e)}}function T_(t,r,e){var i,a,p;return function(){var f,l=e(this),h;return l==null?void this.removeAttribute(t):(f=this.getAttribute(t),h=l+"",f===h?null:f===i&&h===a?p:(a=h,p=r(i=f,l)))}}function O_(t,r,e){var i,a,p;return function(){var f,l=e(this),h;return l==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),h=l+"",f===h?null:f===i&&h===a?p:(a=h,p=r(i=f,l)))}}function Co(t,r){var e=Qe(t),i=e==="transform"?In:$r;return this.attrTween(t,typeof r=="function"?(e.local?O_:T_)(e,i,Ot(this,"attr."+t,r)):r==null?(e.local?I_:k_)(e):(e.local?A_:S_)(e,i,r))}function M_(t,r){return function(e){this.setAttribute(t,r.call(this,e))}}function N_(t,r){return function(e){this.setAttributeNS(t.space,t.local,r.call(this,e))}}function R_(t,r){var e,i;function a(){var p=r.apply(this,arguments);return p!==i&&(e=(i=p)&&N_(t,p)),e}return a._value=r,a}function D_(t,r){var e,i;function a(){var p=r.apply(this,arguments);return p!==i&&(e=(i=p)&&M_(t,p)),e}return a._value=r,a}function Vo(t,r){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;var i=Qe(t);return this.tween(e,(i.local?R_:D_)(i,r))}function P_(t,r){return function(){nr(this,t).delay=+r.apply(this,arguments)}}function F_(t,r){return r=+r,function(){nr(this,t).delay=r}}function Uo(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?P_:F_)(r,t)):xe(this.node(),r).delay}function B_(t,r){return function(){Ie(this,t).duration=+r.apply(this,arguments)}}function z_(t,r){return r=+r,function(){Ie(this,t).duration=r}}function $o(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?B_:z_)(r,t)):xe(this.node(),r).duration}function L_(t,r){if(typeof r!="function")throw new Error;return function(){Ie(this,t).ease=r}}function Ho(t){var r=this._id;return arguments.length?this.each(L_(r,t)):xe(this.node(),r).ease}function j_(t,r){return function(){var e=r.apply(this,arguments);if(typeof e!="function")throw new Error;Ie(this,t).ease=e}}function qo(t){if(typeof t!="function")throw new Error;return this.each(j_(this._id,t))}function Xo(t){typeof t!="function"&&(t=Vt(t));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var p=r[a],f=p.length,l=i[a]=[],h,d=0;d<f;++d)(h=p[d])&&t.call(h,h.__data__,d,p)&&l.push(h);return new Re(i,this._parents,this._name,this._id)}function Wo(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,e=t._groups,i=r.length,a=e.length,p=Math.min(i,a),f=new Array(i),l=0;l<p;++l)for(var h=r[l],d=e[l],v=h.length,A=f[l]=new Array(v),S,R=0;R<v;++R)(S=h[R]||d[R])&&(A[R]=S);for(;l<i;++l)f[l]=r[l];return new Re(f,this._parents,this._name,this._id)}function C_(t){return(t+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||r==="start"})}function V_(t,r,e){var i,a,p=C_(r)?nr:Ie;return function(){var f=p(this,t),l=f.on;l!==i&&(a=(i=l).copy()).on(r,e),f.on=a}}function Go(t,r){var e=this._id;return arguments.length<2?xe(this.node(),e).on.on(t):this.each(V_(e,t,r))}function U_(t){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==t)return;r&&r.removeChild(this)}}function Yo(){return this.on("end.remove",U_(this._id))}function Ko(t){var r=this._name,e=this._id;typeof t!="function"&&(t=dt(t));for(var i=this._groups,a=i.length,p=new Array(a),f=0;f<a;++f)for(var l=i[f],h=l.length,d=p[f]=new Array(h),v,A,S=0;S<h;++S)(v=l[S])&&(A=t.call(v,v.__data__,S,l))&&("__data__"in v&&(A.__data__=v.__data__),d[S]=A,at(d[S],r,e,S,d,xe(v,e)));return new Re(p,this._parents,r,e)}function Qo(t){var r=this._name,e=this._id;typeof t!="function"&&(t=Ct(t));for(var i=this._groups,a=i.length,p=[],f=[],l=0;l<a;++l)for(var h=i[l],d=h.length,v,A=0;A<d;++A)if(v=h[A]){for(var S=t.call(v,v.__data__,A,h),R,j=xe(v,e),Z=0,ee=S.length;Z<ee;++Z)(R=S[Z])&&at(R,r,e,Z,S,j);p.push(S),f.push(v)}return new Re(p,f,r,e)}var $_=Ze.prototype.constructor;function Zo(){return new $_(this._groups,this._parents)}function H_(t,r){var e,i,a;return function(){var p=nt(this,t),f=(this.style.removeProperty(t),nt(this,t));return p===f?null:p===e&&f===i?a:a=r(e=p,i=f)}}function Jo(t){return function(){this.style.removeProperty(t)}}function q_(t,r,e){var i,a=e+"",p;return function(){var f=nt(this,t);return f===a?null:f===i?p:p=r(i=f,e)}}function X_(t,r,e){var i,a,p;return function(){var f=nt(this,t),l=e(this),h=l+"";return l==null&&(h=l=(this.style.removeProperty(t),nt(this,t))),f===h?null:f===i&&h===a?p:(a=h,p=r(i=f,l))}}function W_(t,r){var e,i,a,p="style."+r,f="end."+p,l;return function(){var h=Ie(this,t),d=h.on,v=h.value[p]==null?l||(l=Jo(r)):void 0;(d!==e||a!==v)&&(i=(e=d).copy()).on(f,a=v),h.on=i}}function ea(t,r,e){var i=(t+="")=="transform"?kn:$r;return r==null?this.styleTween(t,H_(t,i)).on("end.style."+t,Jo(t)):typeof r=="function"?this.styleTween(t,X_(t,i,Ot(this,"style."+t,r))).each(W_(this._id,t)):this.styleTween(t,q_(t,i,r),e).on("end.style."+t,null)}function G_(t,r,e){return function(i){this.style.setProperty(t,r.call(this,i),e)}}function Y_(t,r,e){var i,a;function p(){var f=r.apply(this,arguments);return f!==a&&(i=(a=f)&&G_(t,f,e)),i}return p._value=r,p}function ta(t,r,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,Y_(t,r,e??""))}function K_(t){return function(){this.textContent=t}}function Q_(t){return function(){var r=t(this);this.textContent=r??""}}function ra(t){return this.tween("text",typeof t=="function"?Q_(Ot(this,"text",t)):K_(t==null?"":t+""))}function Z_(t){return function(r){this.textContent=t.call(this,r)}}function J_(t){var r,e;function i(){var a=t.apply(this,arguments);return a!==e&&(r=(e=a)&&Z_(a)),r}return i._value=t,i}function na(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,J_(t))}function ia(){for(var t=this._name,r=this._id,e=Hr(),i=this._groups,a=i.length,p=0;p<a;++p)for(var f=i[p],l=f.length,h,d=0;d<l;++d)if(h=f[d]){var v=xe(h,r);at(h,t,e,d,f,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Re(i,this._parents,t,e)}function oa(){var t,r,e=this,i=e._id,a=e.size();return new Promise(function(p,f){var l={value:f},h={value:function(){--a===0&&p()}};e.each(function(){var d=Ie(this,i),v=d.on;v!==t&&(r=(t=v).copy(),r._.cancel.push(l),r._.interrupt.push(l),r._.end.push(h)),d.on=r}),a===0&&p()})}var ed=0;function Re(t,r,e,i){this._groups=t,this._parents=r,this._name=e,this._id=i}function aa(t){return Ze().transition(t)}function Hr(){return++ed}var Je=Ze.prototype;Re.prototype=aa.prototype={constructor:Re,select:Ko,selectAll:Qo,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:Xo,merge:Wo,selection:Zo,transition:ia,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:Go,attr:Co,attrTween:Vo,style:ea,styleTween:ta,text:ra,textTween:na,remove:Yo,tween:jo,delay:Uo,duration:$o,ease:Ho,easeVarying:qo,end:oa,[Symbol.iterator]:Je[Symbol.iterator]};function qr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var td={time:null,delay:0,duration:250,ease:qr};function rd(t,r){for(var e;!(e=t.__transition)||!(e=e[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return e}function sa(t){var r,e;t instanceof Re?(r=t._id,t=t._name):(r=Hr(),(e=td).time=tr(),t=t==null?null:t+"");for(var i=this._groups,a=i.length,p=0;p<a;++p)for(var f=i[p],l=f.length,h,d=0;d<l;++d)(h=f[d])&&at(h,t,r,d,f,e||rd(h,r));return new Re(i,this._parents,t,r)}Ze.prototype.interrupt=Lo;Ze.prototype.transition=sa;var ir=t=>()=>t;function Tn(t,{sourceEvent:r,target:e,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function $e(t,r,e){this.k=t,this.x=r,this.y=e}$e.prototype={constructor:$e,scale:function(t){return t===1?this:new $e(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new $e(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var or=new $e(1,0,0);On.prototype=$e.prototype;function On(t){for(;!t.__zoom;)if(!(t=t.parentNode))return or;return t.__zoom}function Xr(t){t.stopImmediatePropagation()}function Mt(t){t.preventDefault(),t.stopImmediatePropagation()}function nd(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function id(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function la(){return this.__zoom||or}function od(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ad(){return navigator.maxTouchPoints||"ontouchstart"in this}function sd(t,r,e){var i=t.invertX(r[0][0])-e[0][0],a=t.invertX(r[1][0])-e[1][0],p=t.invertY(r[0][1])-e[0][1],f=t.invertY(r[1][1])-e[1][1];return t.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),f>p?(p+f)/2:Math.min(0,p)||Math.max(0,f))}function ld(){var t=nd,r=id,e=sd,i=od,a=ad,p=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],l=250,h=Sn,d=mt("start","zoom","end"),v,A,S,R=500,j=150,Z=0,ee=10;function U(x){x.property("__zoom",la).on("wheel.zoom",fe,{passive:!1}).on("mousedown.zoom",pe).on("dblclick.zoom",de).filter(a).on("touchstart.zoom",ge).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}U.transform=function(x,F,T,L){var w=x.selection?x.selection():x;w.property("__zoom",la),x!==w?Y(x,F,T,L):w.interrupt().each(function(){G(this,arguments).event(L).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},U.scaleBy=function(x,F,T,L){U.scaleTo(x,function(){var w=this.__zoom.k,s=typeof F=="function"?F.apply(this,arguments):F;return w*s},T,L)},U.scaleTo=function(x,F,T,L){U.transform(x,function(){var w=r.apply(this,arguments),s=this.__zoom,y=T==null?B(w):typeof T=="function"?T.apply(this,arguments):T,E=s.invert(y),D=typeof F=="function"?F.apply(this,arguments):F;return e(J(Q(s,D),y,E),w,f)},T,L)},U.translateBy=function(x,F,T,L){U.transform(x,function(){return e(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof T=="function"?T.apply(this,arguments):T),r.apply(this,arguments),f)},null,L)},U.translateTo=function(x,F,T,L,w){U.transform(x,function(){var s=r.apply(this,arguments),y=this.__zoom,E=L==null?B(s):typeof L=="function"?L.apply(this,arguments):L;return e(or.translate(E[0],E[1]).scale(y.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof T=="function"?-T.apply(this,arguments):-T),s,f)},L,w)};function Q(x,F){return F=Math.max(p[0],Math.min(p[1],F)),F===x.k?x:new $e(F,x.x,x.y)}function J(x,F,T){var L=F[0]-T[0]*x.k,w=F[1]-T[1]*x.k;return L===x.x&&w===x.y?x:new $e(x.k,L,w)}function B(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function Y(x,F,T,L){x.on("start.zoom",function(){G(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){G(this,arguments).event(L).end()}).tween("zoom",function(){var w=this,s=arguments,y=G(w,s).event(L),E=r.apply(w,s),D=T==null?B(E):typeof T=="function"?T.apply(w,s):T,$=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),P=w.__zoom,O=typeof F=="function"?F.apply(w,s):F,M=h(P.invert(D).concat($/P.k),O.invert(D).concat($/O.k));return function(I){if(I===1)I=O;else{var z=M(I),H=$/z[2];I=new $e(H,D[0]-z[0]*H,D[1]-z[1]*H)}y.zoom(null,I)}})}function G(x,F,T){return!T&&x.__zooming||new oe(x,F)}function oe(x,F){this.that=x,this.args=F,this.active=0,this.sourceEvent=null,this.extent=r.apply(x,F),this.taps=0}oe.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,F){return this.mouse&&x!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var F=Be(this.that).datum();d.call(x,this.that,new Tn(x,{sourceEvent:this.sourceEvent,target:U,type:x,transform:this.that.__zoom,dispatch:d}),F)}};function fe(x,...F){if(!t.apply(this,arguments))return;var T=G(this,F).event(x),L=this.__zoom,w=Math.max(p[0],Math.min(p[1],L.k*Math.pow(2,i.apply(this,arguments)))),s=ze(x);if(T.wheel)(T.mouse[0][0]!==s[0]||T.mouse[0][1]!==s[1])&&(T.mouse[1]=L.invert(T.mouse[0]=s)),clearTimeout(T.wheel);else{if(L.k===w)return;T.mouse=[s,L.invert(s)],st(this),T.start()}Mt(x),T.wheel=setTimeout(y,j),T.zoom("mouse",e(J(Q(L,w),T.mouse[0],T.mouse[1]),T.extent,f));function y(){T.wheel=null,T.end()}}function pe(x,...F){if(S||!t.apply(this,arguments))return;var T=x.currentTarget,L=G(this,F,!0).event(x),w=Be(x.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",$,!0),s=ze(x,T),y=x.clientX,E=x.clientY;$t(x.view),Xr(x),L.mouse=[s,this.__zoom.invert(s)],st(this),L.start();function D(P){if(Mt(P),!L.moved){var O=P.clientX-y,M=P.clientY-E;L.moved=O*O+M*M>Z}L.event(P).zoom("mouse",e(J(L.that.__zoom,L.mouse[0]=ze(P,T),L.mouse[1]),L.extent,f))}function $(P){w.on("mousemove.zoom mouseup.zoom",null),Ht(P.view,L.moved),Mt(P),L.event(P).end()}}function de(x,...F){if(t.apply(this,arguments)){var T=this.__zoom,L=ze(x.changedTouches?x.changedTouches[0]:x,this),w=T.invert(L),s=T.k*(x.shiftKey?.5:2),y=e(J(Q(T,s),L,w),r.apply(this,F),f);Mt(x),l>0?Be(this).transition().duration(l).call(Y,y,L,x):Be(this).call(U.transform,y,L,x)}}function ge(x,...F){if(t.apply(this,arguments)){var T=x.touches,L=T.length,w=G(this,F,x.changedTouches.length===L).event(x),s,y,E,D;for(Xr(x),y=0;y<L;++y)E=T[y],D=ze(E,this),D=[D,this.__zoom.invert(D),E.identifier],w.touch0?!w.touch1&&w.touch0[2]!==D[2]&&(w.touch1=D,w.taps=0):(w.touch0=D,s=!0,w.taps=1+!!v);v&&(v=clearTimeout(v)),s&&(w.taps<2&&(A=D[0],v=setTimeout(function(){v=null},R)),st(this),w.start())}}function N(x,...F){if(this.__zooming){var T=G(this,F).event(x),L=x.changedTouches,w=L.length,s,y,E,D;for(Mt(x),s=0;s<w;++s)y=L[s],E=ze(y,this),T.touch0&&T.touch0[2]===y.identifier?T.touch0[0]=E:T.touch1&&T.touch1[2]===y.identifier&&(T.touch1[0]=E);if(y=T.that.__zoom,T.touch1){var $=T.touch0[0],P=T.touch0[1],O=T.touch1[0],M=T.touch1[1],I=(I=O[0]-$[0])*I+(I=O[1]-$[1])*I,z=(z=M[0]-P[0])*z+(z=M[1]-P[1])*z;y=Q(y,Math.sqrt(I/z)),E=[($[0]+O[0])/2,($[1]+O[1])/2],D=[(P[0]+M[0])/2,(P[1]+M[1])/2]}else if(T.touch0)E=T.touch0[0],D=T.touch0[1];else return;T.zoom("touch",e(J(y,E,D),T.extent,f))}}function W(x,...F){if(this.__zooming){var T=G(this,F).event(x),L=x.changedTouches,w=L.length,s,y;for(Xr(x),S&&clearTimeout(S),S=setTimeout(function(){S=null},R),s=0;s<w;++s)y=L[s],T.touch0&&T.touch0[2]===y.identifier?delete T.touch0:T.touch1&&T.touch1[2]===y.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(y=ze(y,this),Math.hypot(A[0]-y[0],A[1]-y[1])<ee)){var E=Be(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return U.wheelDelta=function(x){return arguments.length?(i=typeof x=="function"?x:ir(+x),U):i},U.filter=function(x){return arguments.length?(t=typeof x=="function"?x:ir(!!x),U):t},U.touchable=function(x){return arguments.length?(a=typeof x=="function"?x:ir(!!x),U):a},U.extent=function(x){return arguments.length?(r=typeof x=="function"?x:ir([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),U):r},U.scaleExtent=function(x){return arguments.length?(p[0]=+x[0],p[1]=+x[1],U):[p[0],p[1]]},U.translateExtent=function(x){return arguments.length?(f[0][0]=+x[0][0],f[1][0]=+x[1][0],f[0][1]=+x[0][1],f[1][1]=+x[1][1],U):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},U.constrain=function(x){return arguments.length?(e=x,U):e},U.duration=function(x){return arguments.length?(l=+x,U):l},U.interpolate=function(x){return arguments.length?(h=x,U):h},U.on=function(){var x=d.on.apply(d,arguments);return x===d?U:x},U.clickDistance=function(x){return arguments.length?(Z=(x=+x)*x,U):Math.sqrt(Z)},U.tapDistance=function(x){return arguments.length?(ee=+x,U):ee},U}function Wr(t,r){let e;if(r===void 0)for(let i of t)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let a of t)(a=r(a,++i,t))!=null&&(e<a||e===void 0&&a>=a)&&(e=a)}return e}function Nt(t,r){let e;if(r===void 0)for(let i of t)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let a of t)(a=r(a,++i,t))!=null&&(e>a||e===void 0&&a>=a)&&(e=a)}return e}function Rt(t,r){let e=0;if(r===void 0)for(let i of t)(i=+i)&&(e+=i);else{let i=-1;for(let a of t)(a=+r(a,++i,t))&&(e+=a)}return e}var{abs:Ay,max:Ty,min:Oy}=Math;function ua(t){return[+t[0],+t[1]]}function ud(t){return[ua(t[0]),ua(t[1])]}var My={name:"x",handles:["w","e"].map(Mn),input:function(t,r){return t==null?null:[[+t[0],r[0][1]],[+t[1],r[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ny={name:"y",handles:["n","s"].map(Mn),input:function(t,r){return t==null?null:[[r[0][0],+t[0]],[r[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ry={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Mn),input:function(t){return t==null?null:ud(t)},output:function(t){return t}};function Mn(t){return{type:t}}var Nn=Math.PI,Rn=2*Nn,wt=1e-6,cd=Rn-wt;function ca(t){this._+=t[0];for(let r=1,e=t.length;r<e;++r)this._+=arguments[r]+t[r]}function fd(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return ca;let e=10**r;return function(i){this._+=i[0];for(let a=1,p=i.length;a<p;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}var bt=class{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?ca:fd(r)}moveTo(r,e){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,e){this._append`L${this._x1=+r},${this._y1=+e}`}quadraticCurveTo(r,e,i,a){this._append`Q${+r},${+e},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(r,e,i,a,p,f){this._append`C${+r},${+e},${+i},${+a},${this._x1=+p},${this._y1=+f}`}arcTo(r,e,i,a,p){if(r=+r,e=+e,i=+i,a=+a,p=+p,p<0)throw new Error(`negative radius: ${p}`);let f=this._x1,l=this._y1,h=i-r,d=a-e,v=f-r,A=l-e,S=v*v+A*A;if(this._x1===null)this._append`M${this._x1=r},${this._y1=e}`;else if(S>wt)if(!(Math.abs(A*h-d*v)>wt)||!p)this._append`L${this._x1=r},${this._y1=e}`;else{let R=i-f,j=a-l,Z=h*h+d*d,ee=R*R+j*j,U=Math.sqrt(Z),Q=Math.sqrt(S),J=p*Math.tan((Nn-Math.acos((Z+S-ee)/(2*U*Q)))/2),B=J/Q,Y=J/U;Math.abs(B-1)>wt&&this._append`L${r+B*v},${e+B*A}`,this._append`A${p},${p},0,0,${+(A*R>v*j)},${this._x1=r+Y*h},${this._y1=e+Y*d}`}}arc(r,e,i,a,p,f){if(r=+r,e=+e,i=+i,f=!!f,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(a),h=i*Math.sin(a),d=r+l,v=e+h,A=1^f,S=f?a-p:p-a;this._x1===null?this._append`M${d},${v}`:(Math.abs(this._x1-d)>wt||Math.abs(this._y1-v)>wt)&&this._append`L${d},${v}`,i&&(S<0&&(S=S%Rn+Rn),S>cd?this._append`A${i},${i},0,1,${A},${r-l},${e-h}A${i},${i},0,1,${A},${this._x1=d},${this._y1=v}`:S>wt&&this._append`A${i},${i},0,${+(S>=Nn)},${A},${this._x1=r+i*Math.cos(p)},${this._y1=e+i*Math.sin(p)}`)}rect(r,e,i,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+e}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}};function fa(){return new bt}fa.prototype=bt.prototype;function Dn(t){return function(){return t}}function pa(t){let r=3;return t.digits=function(e){if(!arguments.length)return r;if(e==null)r=null;else{let i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);r=i}return t},()=>new bt(r)}var _a=Array.prototype.slice;function da(t){return t[0]}function ma(t){return t[1]}var Pn=class{constructor(r,e){this._context=r,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,e){switch(r=+r,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,e,r,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,r,this._y0,r,e);break}}this._x0=r,this._y0=e}};function ha(t){return new Pn(t,!0)}function pd(t){return t.source}function _d(t){return t.target}function ga(t){let r=pd,e=_d,i=da,a=ma,p=null,f=null,l=pa(h);function h(){let d,v=_a.call(arguments),A=r.apply(this,v),S=e.apply(this,v);if(p==null&&(f=t(d=l())),f.lineStart(),v[0]=A,f.point(+i.apply(this,v),+a.apply(this,v)),v[0]=S,f.point(+i.apply(this,v),+a.apply(this,v)),f.lineEnd(),d)return f=null,d+""||null}return h.source=function(d){return arguments.length?(r=d,h):r},h.target=function(d){return arguments.length?(e=d,h):e},h.x=function(d){return arguments.length?(i=typeof d=="function"?d:Dn(+d),h):i},h.y=function(d){return arguments.length?(a=typeof d=="function"?d:Dn(+d),h):a},h.context=function(d){return arguments.length?(d==null?p=f=null:f=t(p=d),h):p},h}function dd(){return ga(ha)}function md(t){return t.target.depth}function Vw(t){return me(t.depth,0)}function Uw(t,r){return r-1-me(t.height,0)}function va(t,r){return t.sourceLinks?.length?me(t.depth,0):r-1}function $w(t){return t.targetLinks?.length?me(t.depth,0):t.sourceLinks?.length?me(Nt(t.sourceLinks,md),0)-1:0}function Fn(t){return()=>t}function ya(t){let r=new Set,e=new Map,i=new Map;for(let d of t.nodes){r.add(d);let v=0,A=0;for(let S of me(d.targetLinks,[]))S.source!==d&&v++;for(let S of me(d.sourceLinks,[]))S.target!==d&&A++;e.set(d,v),i.set(d,A)}function a(d){r.delete(d);for(let v of me(d.targetLinks,[])){let A=v.source;if(r.has(A)){let S=me(i.get(A),0);i.set(A,S-1)}}for(let v of me(d.sourceLinks,[])){let A=v.target;if(r.has(A)){let S=me(e.get(A),0);e.set(A,S-1)}}}let p=[],f=[];for(;r.size>0;){for(;;){let A=!1;for(let S of r)i.get(S)===0&&(A=!0,f.push(S),a(S));if(!A)break}for(;;){let A=!1;for(let S of r)e.get(S)===0&&(A=!0,p.push(S),a(S));if(!A)break}if(r.size===0)break;let d=null,v=null;for(let A of r){let S=me(i.get(A),0)-me(e.get(A),0);(d===null||S>d)&&(d=S,v=A)}v!=null&&(p.push(v),a(v))}f.reverse();let l=p.concat(f),h=new Map;for(let[d,v]of l.entries())h.set(v,d);for(let d of t.links){let v=me(h.get(d.source),0),A=me(h.get(d.target),0);v===A?d.direction="self":v<A?d.direction="forward":d.direction="backward"}}function wa(t,r){return Gr(t.source,r.source)||t.index-r.index}function ba(t,r){return Gr(t.target,r.target)||t.index-r.index}function Gr(t,r){return t.y0-r.y0}function Bn(t){return t.value}function hd(t){return t.index}function gd(t){return t.nodes}function vd(t){return t.links}function xa(t,r){let e=t.get(r);if(!e)throw new Error("missing: "+r.toString());return e}function Ea({nodes:t}){for(let r of t){let e=r.y0,i=e;for(let a of r.sourceLinks)a.y0=e+a.width/2,e+=a.width;for(let a of r.targetLinks)a.y1=i+a.width/2,i+=a.width}}function ar(t){return me(t,0)}function ka(){let t=0,r=0,e=1,i=1,a=24,p=8,f=hd,l=va,h,d,v=gd,A=vd,S=6;function R(I){let z={nodes:[...I.nodes],links:[...I.links]};return de(z),ge(z),N(z),W(z),x(z),L(z),Ea(z),z}let j=R;j.update=function(I){return Ea(I),I};function Z(I){return I==null?f:(f=I,j)}j.nodeId=Z;function ee(I){return I==null?l:(l=I,j)}j.nodeAlign=ee;function U(I){return I==null?h:(h=I,j)}j.nodeSort=U;function Q(I){return I==null?a:(a=I,j)}j.nodeWidth=Q;function J(I){return I==null?p:(p=I,j)}j.nodePadding=J;function B(I){return I==null?v:(v=typeof I=="function"?I:Fn(I),j)}j.nodes=B;function Y(I){return I==null?A:(A=typeof I=="function"?I:Fn(I),j)}j.links=Y;function G(I){return I==null?d:(d=I,j)}j.linkSort=G;function oe(I){return I==null?[e-t,i-r]:(t=r=0,[e,i]=I,j)}j.size=oe;function fe(I){return I==null?[[t,r],[e,i]]:([[t,r],[e,i]]=I,j)}j.extent=fe;function pe(I){return I==null?S:(S=I,j)}j.iterations=pe;function de({nodes:I,links:z}){for(let[q,V]of I.entries())V.index=q,V.sourceLinks=[],V.targetLinks=[];let H=new Map(I.map(q=>[f(q),q]));for(let[q,V]of z.entries()){V.index=q;let{source:re,target:be}=V;typeof re!="object"&&(re=V.source=xa(H,re)),typeof be!="object"&&(be=V.target=xa(H,be)),re.sourceLinks.push(V),be.targetLinks.push(V)}}function ge({nodes:I}){for(let z of I)z.value=Math.max(Rt(z.sourceLinks,Bn),Rt(z.targetLinks,Bn))}function N(I){ya(I)}function W({nodes:I}){let z=I.length,H=new Set(I),q=new Set,V=0;for(;H.size;){for(let re of H){re.depth=V;for(let{target:be,direction:ve}of re.sourceLinks)ve==="forward"&&q.add(be)}if(++V>z)throw new Error("circular link");H=q,q=new Set}}function x({nodes:I}){let z=I.length,H=new Set(I),q=new Set,V=0;for(;H.size;){for(let re of H){re.height=V;for(let{source:be,direction:ve}of re.targetLinks)ve==="forward"&&q.add(be)}if(++V>z)throw new Error("circular link");H=q,q=new Set}}function F({nodes:I}){let z=ar(Wr(I,V=>V.depth))+1,H=(e-t-a)/(z-1),q=new Array(z);for(let V of I){let re=Math.max(0,Math.min(z-1,Math.floor(l.call(null,V,z))));V.layer=re,V.x0=t+re*H,V.x1=V.x0+a,q[re]?q[re].push(V):q[re]=[V]}if(h)for(let V of q)V.sort(h);return q}function T(I){let z=Nt(I,H=>(i-r-(H.length-1)*p)/Rt(H,Bn));z=me(z,0);for(let H of I){let q=r;for(let V of H){V.y0=q,V.y1=q+V.value*z,q=V.y1+p;for(let re of V.sourceLinks)re.width=re.value*z}q=(i-q+p)/(H.length+1);for(let V=0;V<H.length;++V){let re=H[V];re.y0+=q*(V+1),re.y1+=q*(V+1)}P(H)}return i}function L(I){let z=F(I),H=T(z);for(let q=0;q<S;++q){let V=Math.pow(.99,q),re=Math.max(1-V,(q+1)/S);s(z,V,re,H),w(z,V,re,H)}}function w(I,z,H,q){for(let V=1,re=I.length;V<re;++V){let be=I[V];for(let ve of be){let lt=0,Ge=0;for(let{source:ct,value:Dt}of ve.targetLinks){let ft=Dt*(ar(ve.layer)-ar(ct.layer));lt+=O(ct,ve)*ft,Ge+=ft}if(!(Ge>0))continue;let ut=(lt/Ge-ve.y0)*z;ve.y0+=ut,ve.y1+=ut,$(ve)}h===void 0&&be.sort(Gr),y(be,H,q)}}function s(I,z,H,q){for(let V=I.length,re=V-2;re>=0;--re){let be=I[re];for(let ve of be){let lt=0,Ge=0;for(let{target:ct,value:Dt}of ve.sourceLinks){let ft=Dt*(ar(ct.layer)-ar(ve.layer));lt+=M(ve,ct)*ft,Ge+=ft}if(!(Ge>0))continue;let ut=(lt/Ge-ve.y0)*z;ve.y0+=ut,ve.y1+=ut,$(ve)}h===void 0&&be.sort(Gr),y(be,H,q)}}function y(I,z,H){let q=I.length>>1,V=I[q];D(I,V.y0-p,q-1,z),E(I,V.y1+p,q+1,z),D(I,H,I.length-1,z),E(I,r,0,z)}function E(I,z,H,q){for(;H<I.length;++H){let V=I[H],re=(z-V.y0)*q;re>1e-6&&(V.y0+=re,V.y1+=re),z=V.y1+p}}function D(I,z,H,q){for(;H>=0;--H){let V=I[H],re=(V.y1-z)*q;re>1e-6&&(V.y0-=re,V.y1-=re),z=V.y0-p}}function $({sourceLinks:I,targetLinks:z}){if(d===void 0){for(let H of z)H.source.sourceLinks.sort(ba);for(let H of I)H.target.targetLinks.sort(wa)}}function P(I){if(d===void 0)for(let{sourceLinks:z,targetLinks:H}of I)z.sort(ba),H.sort(wa)}function O(I,z){let H=I.y0-(I.sourceLinks.length-1)*p/2;for(let{target:q,width:V}of I.sourceLinks){if(q===z)break;H+=V+p}for(let{source:q,width:V}of z.targetLinks){if(q===I)break;H-=V}return H}function M(I,z){let H=z.y0-(z.targetLinks.length-1)*p/2;for(let{source:q,width:V}of z.targetLinks){if(q===I)break;H+=V+p}for(let{target:q,width:V}of I.sourceLinks){if(q===z)break;H-=V}return H}return j}var He=function(t){return t.None="none",t.Item="item",t.Recipe="recipe",t.Machine="machine",t.Recipes="recipes",t}(He||{}),eb={[He.None]:"",[He.Item]:"fa-solid fa-box",[He.Recipe]:"fa-solid fa-flask",[He.Machine]:"fa-solid fa-industry",[He.Recipes]:"fa-solid fa-flask-vial"};var zn="",sr={objectiveNormalizedRate(t,r,e,i,a){if(t.unit===rt.Machines||t.type===_e.Maximize)return t.value;let p=t.value,f=ae.one;switch(t.unit){case rt.Items:{f=i.value.reciprocal();break}case rt.Belts:{let h=r[t.targetId].beltId;h&&(f=e[h]);break}case rt.Wagons:{let h=r[t.targetId].wagonId;if(h){let d=a.itemEntities[t.targetId],v=a.itemEntities[h];d.stack&&v.cargoWagon?f=d.stack.mul(v.cargoWagon.size).div(i.value):v.fluidWagon&&(f=v.fluidWagon.capacity.div(i.value))}break}}let l=a.adjustedRecipe[a.itemRecipeIds[t.targetId][0]];return l?.isTechnology&&(f=f.mul(l.productivity)),p.mul(f)},addEntityValue(t,r,e,i){let a=t[r];a?a[e]?a[e]=a[e].add(i):a[e]=i:t[r]={[e]:i}},adjustPowerPollution(t,r,e){if(t.machines?.nonzero()&&!r.part){if(r.drain?.nonzero()||r.consumption?.nonzero()){if(t.power=ae.zero,r.drain?.nonzero()){let i=t.machines.ceil();e===It.DysonSphereProgram&&(i=i.sub(t.machines)),t.power=t.power.add(i.mul(r.drain))}r.consumption?.nonzero()&&(t.power=t.power.add(t.machines.mul(r.consumption)))}r.pollution?.nonzero()&&(t.pollution=t.machines.mul(r.pollution))}},normalizeSteps(t,r,e,i,a,p,f,l){let h=this.copy(t);for(let v of h)this.calculateParentsOutputs(v,h);let d=hr(r);for(let v of h)this.calculateSettings(v,d,i),this.calculateBelts(v,e,a,l),this.calculateBeacons(v,f.beaconReceivers,l),this.calculateDisplayRate(v,p),this.calculateChecked(v,f);return this.sortBySankey(h),this.calculateHierarchy(h)},calculateParentsOutputs(t,r){if(t.recipe&&t.machines?.nonzero()){let e=t.recipe,i=t.machines.div(e.time);for(let a of Object.keys(e.in))if(e.in[a].nonzero()){let p=e.in[a].mul(i),f=r.find(l=>l.itemId===a);f!=null&&this.addEntityValue(f,"parents",t.id,p)}for(let a of Object.keys(e.out))if(e.out[a].nonzero()){let p=e.out[a].mul(i),f=r.find(l=>l.itemId===a);f?.items?.nonzero()&&this.addEntityValue(t,"outputs",a,p.div(f.items))}}},calculateSettings(t,r,e){t.recipeId&&(t.recipeObjectiveId?t.recipeSettings=r[t.recipeObjectiveId]:t.recipeSettings=e[t.recipeId])},calculateBelts(t,r,e,i){let a=!1;if(t.recipeId!=null&&t.recipeSettings!=null){let p=t.recipeSettings.machineId;if(p!=null){let f=i.machineEntities[p],l=i.recipeEntities[t.recipeId];a=!!(l.isTechnology||f.silo&&!l.part)}}if(a)delete t.belts,delete t.wagons;else if(t.itemId!=null){let p=r[t.itemId].beltId;t.items!=null&&p!=null&&(t.belts=t.items.div(e[p]));let f=r[t.itemId].wagonId;if(t.items!=null&&f!=null){let l=i.itemEntities[t.itemId];l.stack?t.wagons=t.items.div(i.cargoWagonEntities[f].size.mul(l.stack)):t.wagons=t.items.div(i.fluidWagonEntities[f].capacity)}}},calculateBeacons(t,r,e){if(!r?.nonzero()||t.recipeId==null||!t.machines?.nonzero()||e.recipeEntities[t.recipeId].part||t.recipeSettings==null)return;let i=t.machines,a=t.recipeSettings;a.beacons!=null&&(t.recipeSettings=Ne(t.recipeSettings,{beacons:a.beacons.map(p=>{let f=p.total;if(p.id!=null){p.count!=null&&f==null&&(f=i.ceil().mul(p.count).div(r),f.lt(p.count)&&(f=p.count));let l=e.beaconEntities[p.id];l.type===_i.Electric&&l.usage!=null&&f!=null&&(t.power=(t.power??ae.zero).add(f.mul(l.usage)))}return Zn(Qn({},p),{total:f})})}))},calculateDisplayRate(t,r){if(t.items){if(t.parents)for(let e of Object.keys(t.parents))t.parents[e]=t.parents[e].div(t.items);t.items=t.items.mul(r.value)}t.surplus&&(t.surplus=t.surplus.mul(r.value)),t.wagons&&(t.wagons=t.wagons.mul(r.value)),t.pollution&&(t.pollution=t.pollution.mul(r.value)),t.output&&(t.output=t.output.mul(r.value))},calculateChecked(t,r){t.itemId!=null?t.checked=r.checkedItemIds.has(t.itemId):t.recipeObjectiveId!=null?t.checked=r.checkedObjectiveIds.has(t.recipeObjectiveId):t.recipeId!=null&&(t.checked=r.checkedRecipeIds.has(t.recipeId))},sortBySankey(t){let r=t.reduce((f,l)=>(f[l.id]=l,f),{}),e=[],i=[];for(let f of t){if(f.itemId){let l=`i|${f.itemId}`;if(e.push({id:l,stepId:f.id}),f.parents)for(let h of Object.keys(f.parents)){if(h==="")continue;let d=r[h].recipeId;d!=null&&i.push({source:l,target:`r|${d}`,value:1})}}if(f.recipeId){let l=`r|${f.recipeId}`;if(e.push({id:l,stepId:f.id}),f.outputs)for(let h of Object.keys(f.outputs))i.push({source:l,target:`i|${h}`,value:1})}}if(!e.length||!i.length)return;let a=ka().nodeId(f=>f.id)({nodes:e,links:i});for(let f of t)f.depth=a.nodes.find(l=>l.stepId===f.id)?.depth;function p(f){return f.output?1e5:me(f.depth,0)}t.sort((f,l)=>p(l)-p(f))},calculateHierarchy(t){let r={};for(let a of t)if(a.parents==null||a.parents[""]||Object.keys(a.parents).length>1)r[a.id]=zn;else{let p=Object.keys(a.parents)[0],f=t.find(l=>l.id===p);f&&(a.id===f.id?r[a.id]=zn:r[a.id]=f.id)}let e={};for(let a of t){let p=r[a.id];e[p]||(e[p]=[]),e[p].push(a)}let i=this.sortRecursive(e,zn,[]);return i.push(...t.filter(a=>!i.includes(a))),i},sortRecursive(t,r,e){if(!t[r])return[];let i=t[r];for(let a of i)e.push(a),this.sortRecursive(t,a.id,e);return e},copy(t){return t.map(r=>r.parents?Ne(r,{parents:Ne(r.parents)}):Ne(r))}};var Ra=Hf(Ma());var xt=function(t){return t.Failed="failed",t.Paused="paused",t.Skipped="skipped",t.Solved="solved",t}(xt||{});var Na=ae(1n,10n);var yd=ai.debug?{}:{msgLevel:"off"},Da={addItemValue(t,r,e=ae.zero,i="out"){if(t[r]){let a=t[r][i];a?t[r][i]=a.add(e):t[r][i]=e}else t[r]={out:ae.zero,[i]:e}},solve(t,r,e,i){if(i)return{steps:[],resultType:xt.Paused};if(t.length===0)return{steps:[],resultType:xt.Skipped};let a=this.getState(t,r,e),p=this.getSolution(a);return p.resultType===xt.Solved&&this.updateSteps(p,a),{steps:a.steps,resultType:p.resultType,returnCode:p.returnCode,simplexStatus:p.simplexStatus,unboundedRecipeId:p.unboundedRecipeId,time:p.time,cost:p.cost}},getState(t,r,e){let i={objectives:t,recipeObjectives:t.filter(a=>jt(a)&&[_e.Output,_e.Maximize].includes(a.type)),steps:[],recipes:{},itemValues:{},recipeLimits:{},unproduceableIds:new Set,excludedIds:r.excludedItemIds,recipeIds:e.recipeIds.filter(a=>{let p=e.recipeEntities[a];return!r.excludedRecipeIds.has(a)&&(p.unlockedBy==null||r.researchedTechnologyIds.has(p.unlockedBy))}),itemIds:e.itemIds.filter(a=>!r.excludedItemIds.has(a)),maximizeType:r.maximizeType,surplusMachinesOutput:r.surplusMachinesOutput,costs:r.costs,data:e};for(let a of t)if(jt(a))switch(a.type){case _e.Output:case _e.Maximize:{for(let p of Object.keys(a.recipe.out))this.addItemValue(i.itemValues,p),this.parseItemRecursively(p,i);this.parseRecipeRecursively(a.recipe,i);break}case _e.Input:{for(let p of Object.keys(a.recipe.out).filter(f=>a.recipe.produces.has(f))){let f=a.value.mul(a.recipe.output[p]);this.addItemValue(i.itemValues,p,f,"in")}break}case _e.Limit:{let p=i.recipeLimits[a.targetId];(p==null||p.gt(a.value))&&(i.recipeLimits[a.targetId]=a.value);break}}else switch(a.type){case _e.Output:{this.addItemValue(i.itemValues,a.targetId,a.value),this.parseItemRecursively(a.targetId,i);break}case _e.Input:{this.addItemValue(i.itemValues,a.targetId,a.value,"in");break}case _e.Maximize:{this.addItemValue(i.itemValues,a.targetId,a.value,"max"),this.addItemValue(i.itemValues,a.targetId),this.parseItemRecursively(a.targetId,i);break}case _e.Limit:{this.addItemValue(i.itemValues,a.targetId),this.parseItemRecursively(a.targetId,i);let p=i.itemValues[a.targetId].lim;(p==null||p.gt(a.value))&&(i.itemValues[a.targetId].lim=a.value);break}}return this.addSurplusVariables(i),this.parseUnproduceable(i),i},recipeMatches(t,r){let e=r.data.itemIncludedRecipeIds[t].filter(i=>!r.recipes[i]).map(i=>r.data.adjustedRecipe[i]);return e.forEach(i=>r.recipes[i.id]=i),e},itemMatches(t,r){let e=Object.keys(t.in).filter(i=>r.itemValues[i]?.out==null);for(let i of e)this.addItemValue(r.itemValues,i);return e},parseRecipeRecursively(t,r){if(t.in){let e=this.itemMatches(t,r);for(let i of e.filter(a=>r.itemIds.includes(a)))this.parseItemRecursively(i,r)}},parseItemRecursively(t,r){let e=this.recipeMatches(t,r);for(let i of e)this.parseRecipeRecursively(i,r)},addSurplusVariables(t){let r=Object.keys(t.recipes).map(e=>t.recipes[e]);for(let e of r)for(let i of Object.keys(e.out).filter(a=>t.itemValues[a]?.out==null))this.addItemValue(t.itemValues,i)},parseUnproduceable(t){let r=Object.keys(t.itemValues),e=new Set(Object.keys(t.recipes));t.unproduceableIds=new Set(r.filter(i=>t.data.itemIncludedRecipeIds[i].every(a=>!e.has(a))))},getSolution(t){let r=this.glpk(t);if(r.error)return{resultType:xt.Failed,returnCode:r.returnCode,simplexStatus:r.status,unboundedRecipeId:r.unboundedRecipeId,surplus:{},unproduceable:{},excluded:{},recipes:{},time:0,cost:ae.zero,itemIds:[],recipeIds:[],unproduceableIds:new Set,excludedIds:new Set};let e=Object.keys(t.itemValues),i=Object.keys(t.recipes),{unproduceableIds:a,excludedIds:p}=t,{surplus:f,unproduceable:l,excluded:h,recipes:d}=r;return{resultType:xt.Solved,surplus:f,recipes:d,unproduceable:l,excluded:h,time:r.time,itemIds:e,recipeIds:i,unproduceableIds:a,excludedIds:p,cost:r.cost}},itemCost(t,r,e){let i=e.data.itemEntities[t].stack==null&&e.data.game===It.Factorio?Na:ae.one,a=e.costs[r];return i.mul(a).toNumber()},glpk(t){let r=Object.keys(t.itemValues),e=Object.keys(t.recipes),i=new Ra.Model({sense:"min"}),a={},p={},f={},l={},h={},d={},v={},A={},S={},R={},j={},Z={obj:t.costs.maximize.toNumber(),lb:0,name:"maximize"},ee=i.addVar(Z),U=ae.zero;for(let N of e){let W={obj:(t.recipes[N].cost??ae.zero).toNumber(),lb:0,name:N};t.recipeLimits[N]&&(W.ub=t.recipeLimits[N].toNumber()),a[N]=i.addVar(W)}for(let N of t.recipeObjectives){let W={lb:0,name:N.id};if(N.type===_e.Output&&(W.ub=N.value.toNumber(),W.lb=N.value.toNumber()),p[N.id]=i.addVar(W),N.type===_e.Maximize)switch(t.maximizeType){case _t.Weight:{let x={obj:N.value.mul(t.costs.maximize).toNumber(),lb:0,name:N.id};A[N.id]=i.addVar(x);let T={coeffs:[[p[N.id],1],[A[N.id],-1]],lb:0,name:N.id};j[N.id]=i.addConstr(T);break}case _t.Ratio:{U=U.add(N.value);let F={coeffs:[[p[N.id],1],[ee,N.value.inverse().toNumber()]],lb:0,name:N.id};j[N.id]=i.addConstr(F);break}}}for(let N of t.unproduceableIds){let x={obj:this.itemCost(N,"unproduceable",t),lb:0,name:N};l[N]=i.addVar(x)}for(let N of t.excludedIds){let x={obj:this.itemCost(N,"excluded",t),lb:0,name:N};h[N]=i.addVar(x)}for(let N of r){let x={obj:this.itemCost(N,"surplus",t),lb:0,name:N};d[N]=i.addVar(x);let F=t.itemValues[N];if(F.in){let T={lb:0,ub:F.in.toNumber(),name:N};f[N]=i.addVar(T)}}let Q={};for(let N of r){let W=t.itemValues[N],x=[],F=[];t.data.itemIncludedIoRecipeIds[N].forEach(L=>{let w=t.recipes[L];if(w==null)return;let s=w.output[N];s?.nonzero()&&x.push([a[L],s.toNumber()]),w.in[N]&&F.push([a[L],w.in[N].div(w.time).toNumber()])});for(let L of t.recipeObjectives){let w=L.recipe,s=w.output[N];s?.nonzero()&&(s.gt(ae.zero)&&!t.surplusMachinesOutput?(Q[N]==null&&(Q[N]={}),Q[N][L.id]=s):x.push([p[L.id],s.toNumber()])),w.in[N]&&F.push([p[L.id],w.in[N].div(w.time).toNumber()])}if(t.unproduceableIds.has(N)&&x.push([l[N],1]),t.excludedIds.has(N)&&x.push([h[N],1]),W.in&&x.push([f[N],1]),x.push([d[N],-1]),W.max!=null)switch(t.maximizeType){case _t.Weight:{let L={obj:W.max.mul(t.costs.maximize).toNumber(),lb:0,name:N};v[N]=i.addVar(L),x.push([v[N],-1]);break}case _t.Ratio:{U=U.add(W.max),x.push([ee,W.max.inverse().toNumber()]);break}}let T={coeffs:x,lb:W.out.toNumber(),ub:W.out.toNumber(),name:N};if(S[N]=i.addConstr(T),W.lim){let L={coeffs:F,ub:W.lim.toNumber(),name:N};R[N]=i.addConstr(L)}}ee.obj=ee.obj*U.toNumber();let J=Date.now(),[B,Y]=this.glpkSimplex(i),G=Date.now()-J,oe={},fe={},pe={},de={},ge=ae(i.value);if(B!=="ok"||Y!=="optimal"){let N;try{N=i.ray}catch{}let W;return N&&si(a,N)&&(W=N.name),{returnCode:B,status:Y,unboundedRecipeId:W,time:G,surplus:oe,unproduceable:fe,excluded:pe,recipes:de,cost:ge,error:!0}}for(let N of r){let W=t.itemValues[N],x=ae(d[N].value);if(x.nonzero()&&(oe[N]=x),Q[N])for(let F of Object.keys(Q[N])){let T=Q[N][F],L=p[F].value,s=ae(L).mul(T);W.out=W.out.add(s)}if(W.max!=null)switch(t.maximizeType){case _t.Ratio:{let F=ee.value,L=ae(F).mul(W.max);W.out=W.out.add(L);break}case _t.Weight:{let F=v[N].value,T=ae(F);W.out=W.out.add(T);break}}}for(let N of e){let W=ae(a[N].value);W.nonzero()&&(de[N]=W)}for(let N of t.unproduceableIds){let W=ae(l[N].value);W.nonzero()&&(fe[N]=W)}for(let N of t.excludedIds){let W=ae(h[N].value);W.nonzero()&&(pe[N]=W)}return t.recipeObjectives=t.recipeObjectives.map(N=>Ne(N,{value:ae(p[N.id].value)})),{returnCode:B,status:Y,time:G,surplus:oe,unproduceable:fe,excluded:pe,recipes:de,cost:ge,error:!1}},glpkSimplex(t){return[t.simplex(yd),t.status]},updateSteps(t,r){for(let e of Object.keys(r.itemValues))this.addItemStep(e,t,r);this.assignRecipes(t,r);for(let e of Object.keys(t.recipes).map(i=>r.recipes[i]))this.addRecipeStep(e,t,r);for(let e of r.recipeObjectives)this.addRecipeStep(e.recipe,t,r,e);r.steps.sort((e,i)=>(e.output!=null?0:1)-(i.output!=null?0:1))},addItemStep(t,r,e){let i=e.itemValues[t],a=e.steps,p=ae.zero;e.data.itemIncludedIoRecipeIds[t].forEach(l=>{if(r.recipes[l]==null)return;let d=e.recipes[l];if(d?.out[t]==null)return;let v=d.out[t].mul(r.recipes[d.id]).div(d.time);p=p.add(v)});let f=e.itemValues[t].in;f&&(p=p.add(f));for(let l of e.recipeObjectives){let h=l.recipe;h.out[t]&&(p=p.add(h.out[t].mul(l.value).div(h.time)))}if(r.unproduceable[t]&&(p=p.add(r.unproduceable[t])),r.excluded[t]&&(p=p.add(r.excluded[t])),p.nonzero()){let l={id:a.length.toString(),itemId:t,items:p};if(i.out.gt(ae.zero)&&(l.output=i.out,l.parents={"":l.output}),a.push(l),r.surplus[t]?.nonzero()){let h=ae(p.sub(r.surplus[t]).toNumber());l.surplus=h.isZero()?l.items:r.surplus[t]}}},assignRecipes(t,r){let e=r.steps,i=Object.keys(t.recipes).map(f=>r.recipes[f]);i.push(...r.recipeObjectives.map(f=>f.recipe));for(let f of e.filter(l=>l.recipeId==null)){let l=i.findIndex(h=>h.id===f.itemId&&h.produces.has(f.itemId));l!==-1&&(f.recipeId=i[l].id,i.splice(l,1))}let a={};for(let f of e.filter(l=>l.recipeId==null))f.itemId&&(a[f.itemId]=i.filter(l=>f.itemId&&l.produces.has(f.itemId)).sort((l,h)=>Object.keys(l.out).length-Object.keys(h.out).length).map(l=>l.id));let p=Object.keys(a).sort((f,l)=>a[f].length-a[l].length);for(let f of p)for(let l of a[f])if(!e.some(h=>h.recipeId===l)){let h=e.find(d=>d.itemId===f);if(h){h.recipeId=l;break}}},addRecipeStep(t,r,e,i){let a=e.steps,p=a.filter(l=>l.machines==null),f=p.find(l=>l.recipeId===t.id);if(f||(f=p.find(l=>l.recipeId==null&&l.itemId!=null&&t.produces.has(l.itemId))),!f){let l=a.findIndex(h=>h.itemId&&t.produces.has(h.itemId));f={id:a.length.toString()},l!==-1&&l<a.length-1?a.splice(l+1,0,f):a.push(f)}f.recipeId=t.id,f.recipe=t,i?(f.machines=i.value,f.recipeObjectiveId=i.id):f.machines=r.recipes[t.id].add(f.machines??ae.zero),sr.adjustPowerPollution(f,t,e.data.game)}};var ex=(()=>{class t extends fi{constructor(){super(),this.itemsSvc=Fe(di),this.machinesSvc=Fe(mi),this.preferencesSvc=Fe(gr),this.recipesSvc=Fe(hi),this.settingsSvc=Fe(vr),this.baseObjectives=Ae(()=>{let e=this.state(),i=this.settingsSvc.dataset();return Object.keys(e).map(a=>e[a]).filter(a=>jt(a)?i.recipeEntities[a.targetId]!=null:i.itemEntities[a.targetId]!=null)}),this.objectives=Ae(()=>{let e=this.baseObjectives(),i=this.itemsSvc.settings(),a=this.recipesSvc.settings(),p=this.machinesSvc.settings(),f=this.settingsSvc.settings(),l=this.recipesSvc.adjustedDataset();return e.map(h=>gi.adjustObjective(h,i,a,p,f,l))}),this.normalizedObjectives=Ae(()=>{let e=this.objectives(),i=this.itemsSvc.settings(),a=this.settingsSvc.beltSpeed(),p=this.settingsSvc.displayRateInfo(),f=this.recipesSvc.adjustedDataset();return e.map(l=>Ne(l,{value:sr.objectiveNormalizedRate(l,i,a,p,f)}))}),this.matrixResult=Ae(()=>{let e=this.normalizedObjectives(),i=this.settingsSvc.settings(),a=this.recipesSvc.adjustedDataset(),p=this.preferencesSvc.paused();return Da.solve(e,i,a,p)}),this.steps=Ae(()=>{let e=this.matrixResult(),i=this.objectives(),a=this.itemsSvc.settings(),p=this.recipesSvc.settings(),f=this.settingsSvc.beltSpeed(),l=this.settingsSvc.displayRateInfo(),h=this.settingsSvc.settings(),d=this.recipesSvc.adjustedDataset();return sr.normalizeSteps(e.steps,i,a,p,f,l,h,d)}),this.stepsModified=Ae(()=>{let e=this.steps(),i=this.baseObjectives(),a=this.itemsSvc.state(),p=this.recipesSvc.state();return{objectives:i.reduce((f,l)=>(f[l.id]=l.machineId!=null||l.modules!=null||l.beacons!=null||l.overclock!=null,f),{}),items:e.reduce((f,l)=>(l.itemId&&(f[l.itemId]=a[l.itemId]!=null),f),{}),recipes:e.reduce((f,l)=>(l.recipeId&&(f[l.recipeId]=p[l.recipeId]!=null),f),{})}}),this.totals=Ae(()=>{let e=this.steps(),i=this.itemsSvc.settings(),a=this.recipesSvc.adjustedDataset(),p={},f={},l={},h={},d={},v={},A=ae.zero,S=ae.zero;for(let R of e){if(R.itemId!=null){if(R.belts?.nonzero()){let j=i[R.itemId].beltId;j!=null&&(p[j]||(p[j]=ae.zero),p[j]=p[j].add(R.belts.ceil()))}if(R.wagons?.nonzero()){let j=i[R.itemId].wagonId;j!=null&&(f[j]||(f[j]=ae.zero),f[j]=f[j].add(R.wagons.ceil()))}}if(R.recipeId!=null&&R.recipe!=null&&R.recipeSettings!=null){if(R.machines?.nonzero()&&!R.recipe.part){let ee=R.recipeSettings,U=ee.machineId;if(a.game===It.DysonSphereProgram&&U===mr.MiningMachine&&(U=R.recipeId),U!=null){l[U]||(l[U]=ae.zero);let Q=R.machines.ceil();l[U]=l[U].add(Q),ee.modules!=null&&ee.modules.forEach(J=>{J.id==null||J.count==null||J.id===mr.Module||cn(h,[J.id],Q.mul(J.count))})}}let j=R.recipeSettings?.beacons;if(j!=null)for(let Z of j){let ee=Z.id,U=Z.total;if(ee==null||!U?.nonzero())continue;d[ee]||(d[ee]=ae.zero);let Q=U.ceil();d[ee]=d[ee].add(Q),Z.modules!=null&&Z.modules.forEach(J=>{J.id==null||J.count==null||J.id===mr.Module||cn(v,[J.id],Q.mul(J.count))})}}R.power!=null&&(A=A.add(R.power)),R.pollution!=null&&(S=S.add(R.pollution))}return{belts:p,wagons:f,machines:l,modules:h,beacons:d,beaconModules:v,power:A,pollution:S}}),this.stepDetails=Ae(()=>{let e=this.steps(),i=this.settingsSvc.settings(),a=this.recipesSvc.adjustedDataset();return e.reduce((p,f)=>{let l=[],h=[],d=[];if(f.itemId!=null&&f.items!=null){let v=f.itemId;l.push(He.Item),h.push(...e.filter(li("outputs","recipeId","machines")).filter(S=>S.outputs[v]!=null).map(S=>({step:S,value:S.outputs[v]})));let A=h.reduce((S,R)=>S.sub(R.value),ae.one);A.nonzero()&&h.push({inputs:!0,value:A}),h.sort((S,R)=>R.value.sub(S.value).toNumber())}return f.recipeId!=null&&l.push(He.Recipe),f.machines?.nonzero()&&l.push(He.Machine),f.itemId!=null&&(d=a.itemRecipeIds[f.itemId],d.length&&l.push(He.Recipes)),p[f.id]={tabs:l.map(v=>{let A=`step_${f.id}_${v}_tab`;return{id:A,label:v,command:()=>{history.replaceState({},"",`${window.location.href.replace(/#(.*)$/,"")}#${A}`)}}}),outputs:h,recipeIds:d,allRecipesIncluded:d.every(v=>!i.excludedRecipeIds.has(v))},p},{})}),this.stepById=Ae(()=>{let e=this.steps();return hr(e)}),this.stepByItemEntities=Ae(()=>this.steps().reduce((i,a)=>(a.itemId!=null&&(i[a.itemId]=a),i),{})),this.stepTree=Ae(()=>{let e=this.steps(),i={},a={};for(let p of e){let f=[];if(p.parents){let l=Object.keys(p.parents);l.length===1&&a[l[0]]!=null&&(f=new Array(a[l[0]]+1).fill(!1))}a[p.id]=f.length,i[p.id]=f}for(let p=0;p<e.length;p++){let f=e[p];if(i[f.id].length)for(let l=p+1;l<e.length;l++){let h=e[l];if(i[h.id]){if(i[h.id].length===i[f.id].length){for(let d=p;d<l;d++){let v=e[d];i[v.id]&&(i[v.id][i[f.id].length-1]=!0)}break}else if(i[h.id].length<i[f.id].length)break}}}return i}),this.effectivePowerUnit=Ae(()=>{let e=this.preferencesSvc.powerUnit();if(e!==Lt.Auto)return e;let i=this.steps(),a;for(let p of i)p.power!=null&&(a==null||p.power.lt(a))&&(a=p.power);return a=a??ae.zero,a.lt(ae(1000n))?Lt.kW:a.lt(ae(1000000n))?Lt.MW:Lt.GW}),this.recipesModified=Ae(()=>{let e=this.recipesSvc.state(),i=this.baseObjectives();return{machines:Object.keys(e).some(a=>e[a].fuelId!=null||e[a].machineId!=null||e[a].modules!=null||e[a].overclock!=null)||i.some(a=>a.fuelId!=null||a.machineId!=null||a.modules!=null||a.overclock!=null),beacons:Object.keys(e).some(a=>e[a].beacons!=null)||i.some(a=>a.beacons!=null),cost:Object.keys(e).some(a=>e[a].cost)}}),oi(this.settingsSvc.displayRate).pipe(ni(),ti(([e,i])=>e!==i)).subscribe(([e,i])=>{let a=fn[i].value.div(fn[e].value);this.adjustDisplayRate(a)})}add(e){this.reduce(i=>{let a=ae.one,f=Object.keys(i).at(-1);f&&(a=i[f].value);let l=1;for(;i[l.toString()]!=null;)l++;let h=l.toString(),d={id:h,value:a,type:_e.Output};return Ne(i,{[h]:Ne(d,e)})})}create(e){let i="1";this.set({[i]:Ne(e,{id:i})})}remove(e){this.reduce(i=>{i=this._removeEntry(i,e);let a=Object.keys(i).map(p=>i[p]);return this.reduceObjectives(a)})}setOrder(e){this.set(this.reduceObjectives(e))}adjustDisplayRate(e){this.reduce(i=>{let a=Ne(i),p=Object.keys(a);for(let f of p.map(l=>i[l]).filter(l=>l.type!==_e.Maximize&&(l.unit===rt.Items||l.unit===rt.Wagons))){let l=f.value.mul(e);a[f.id]=Ne(f,{value:l})}return a})}reduceObjectives(e){return e.reduce((i,a,p)=>{let f=(p+1).toString();return i[f]=Ne(a,{id:f}),i},{})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{yi as a,zd as b,Ma as c,_e as d,jd as e,He as f,eb as g,Be as h,Yp as i,ga as j,dd as k,ld as l,Vw as m,Uw as n,va as o,$w as p,ka as q,sr as r,xt as s,ex as t};
