"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[526],{526:(y_,y,s)=>{s.r(y),s.d(y,{ListModule:()=>I_});var w=s(6895),q=s(453),R=s(2891),h=s(6259),J=s(9841),$=s(4004),N=s(590),S=s(9300),g=s(5134),E=s(4609),x=s(5500),I=s(1944),f=s(5046),T=s(3045),L=s(399),t=s(4650),Y=s(1184),U=s(2997),B=s(4006),P=s(5593),W=s(805),D=s(2210),G=s(5047),k=s(8465),j=s(6163),H=s(3608),K=s(3563),V=s(5357),z=s(3960),X=s(6188),tt=s(7627),nt=s(1494),et=s(4702),_t=s(6501),ot=s(5372),it=s(3933),ct=s(2464),M=s(7957),at=s(9036);let pt=(()=>{class e{transform(n){return null==n?"":" ".repeat(4-n.length)+n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"leftPad",type:e,pure:!0}),e})();var st=s(2143),lt=s(6283),rt=s(8344),gt=s(6877);const mt=["stepsTable"];function dt(e,i){1&e&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"list.tree")," "))}function ft(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4);return t.KtG(o.resetIgnores())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.itemsUndoTooltip"))}function ut(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(5);return t.KtG(o.resetBelts())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.beltsUndoTooltip"))}function xt(e,i){if(1&e&&(t.TgZ(0,"th",12)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,ut,2,3,"button",14),t.qZA()()),2&e){const n=t.oxw(3).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,"list.belts")),t.xp6(2),t.Q6J("ngIf",n.itemsModified.belts)}}function It(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(5);return t.KtG(o.resetWagons())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.wagonsUndoTooltip"))}function wt(e,i){if(1&e&&(t.TgZ(0,"th",12)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,It,2,3,"button",14),t.qZA()()),2&e){const n=t.oxw(3).ngIf,_=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"list.wagons")+_.displayRateLabel[n.settings.displayRate]),t.xp6(2),t.Q6J("ngIf",n.itemsModified.wagons)}}function Tt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4);return t.KtG(o.resetFactories())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.factoriesUndoTooltip"))}function bt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(5);return t.KtG(o.resetBeacons())}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.beaconsUndoTooltip"))}function Ct(e,i){if(1&e&&(t.TgZ(0,"th",12)(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,bt,2,3,"button",14),t.qZA()()),2&e){const n=t.oxw(3).ngIf;t.xp6(3),t.Oqu(t.lcZ(4,2,"list.beacons")),t.xp6(2),t.Q6J("ngIf",n.recipesModified.beacons)}}function Lt(e,i){1&e&&(t.TgZ(0,"th")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"list.power")))}function vt(e,i){if(1&e&&(t.TgZ(0,"th")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e){const n=t.oxw(3).ngIf,_=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"list.pollution")+_.displayRateLabel[n.settings.displayRate])}}function Zt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4).ngIf,c=t.oxw();return t.KtG(c.export(o.steps,o.itemSettings,o.recipeSettings,o.columns,o.data))}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.downloadTooltip"))}function ht(e,i){if(1&e&&(t.TgZ(0,"th",18),t.YNc(1,Zt,2,3,"button",19),t.qZA()),2&e){const n=t.oxw(4);t.xp6(1),t.Q6J("ngIf",n.mode===n.ListMode.All)}}function At(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"th")(2,"button",11),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.contentSvc.showColumns$.next())}),t.ALo(3,"translate"),t.qZA()(),t.YNc(4,dt,3,3,"th",0),t.TgZ(5,"th",12)(6,"div",13)(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,ft,2,3,"button",14),t.qZA()(),t.YNc(11,xt,6,4,"th",15),t.YNc(12,wt,6,4,"th",15),t.TgZ(13,"th",12)(14,"div",13)(15,"span"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.YNc(18,Tt,2,3,"button",14),t.qZA()(),t.YNc(19,Ct,6,4,"th",15),t.YNc(20,Lt,4,3,"th",0),t.YNc(21,vt,4,3,"th",0),t.YNc(22,ht,2,1,"th",16),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,_=t.oxw();t.xp6(2),t.Q6J("pTooltip",t.lcZ(3,12,"list.openColumnSettings")),t.xp6(2),t.Q6J("ngIf",n.columns[_.Column.Tree].show),t.xp6(4),t.Oqu(t.lcZ(9,14,"list.items")+_.displayRateLabel[n.settings.displayRate]),t.xp6(2),t.Q6J("ngIf",n.itemsModified.ignore),t.xp6(1),t.Q6J("ngIf",n.columns[_.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",n.columns[_.Column.Wagons].show),t.xp6(4),t.Oqu(t.lcZ(17,16,"list.factories")),t.xp6(2),t.Q6J("ngIf",n.recipesModified.factories),t.xp6(1),t.Q6J("ngIf",n.columns[_.Column.Beacons].show),t.xp6(1),t.Q6J("ngIf",n.columns[_.Column.Power].show),t.xp6(1),t.Q6J("ngIf",n.columns[_.Column.Pollution].show),t.xp6(1),t.Q6J("ngIf",n.columns[_.Column.Link].show)}}function Qt(e,i){if(1&e&&t._UZ(0,"div",34),2&e){const _=i.last;t.ekj("trail",i.$implicit)("last",_)}}function yt(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Qt,1,4,"div",32),t._UZ(2,"div",33),t.BQk()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngForOf",_.stepTree[n.id])}}function Jt(e,i){if(1&e&&(t.TgZ(0,"i",35),t.ALo(1,"iconSmClass"),t.qZA()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf;t.Tol(t.lcZ(1,3,n.itemId)),t.Q6J("pTooltip",_.data.itemEntities[n.itemId].name)}}function Nt(e,i){if(1&e&&(t.TgZ(0,"i",35),t.ALo(1,"iconSmClass"),t.qZA()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf;t.Tol(t.xi3(1,3,n.recipeId,"recipe")),t.Q6J("pTooltip",_.data.recipeEntities[n.recipeId].name)}}function Yt(e,i){if(1&e&&(t.TgZ(0,"td",27)(1,"div",28),t.YNc(2,yt,3,1,"ng-container",0),t.TgZ(3,"div",29),t.YNc(4,Jt,2,5,"i",30),t.YNc(5,Nt,2,6,"ng-template",null,31,t.W1O),t.qZA()()()),2&e){const n=t.MAs(6),_=t.oxw(2).$implicit,o=t.oxw(2).ngIf;t.xp6(2),t.Q6J("ngIf",null==o.stepTree[_.id]?null:o.stepTree[_.id].length),t.xp6(2),t.Q6J("ngIf",_.itemId)("ngIfElse",n)}}function Bt(e,i){if(1&e&&(t.TgZ(0,"span",38),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.hij("(+",t.xi3(2,1,n.surplus,_.effectivePrecision[o.Column.Surplus]),") ")}}function kt(e,i){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"td",36),t.YNc(2,Bt,3,4,"span",37),t.TgZ(3,"span",38),t._uU(4),t.ALo(5,"rate"),t.qZA()(),t.TgZ(6,"td",39)(7,"button",40),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2).$implicit,c=t.oxw(3);return t.KtG(c.ignoreItem(o.itemId))}),t.ALo(8,"iconSmClass"),t._UZ(9,"i",41),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw(2).$implicit,_=t.oxw(2).ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngIf",n.surplus&&n.surplus.nonzero()),t.xp6(2),t.Oqu(t.xi3(5,6,n.items.sub(n.surplus||o.Rational.zero),_.effectivePrecision[o.Column.Items])),t.xp6(3),t.ekj("hover-active",_.itemSettings[n.itemId].ignore),t.Q6J("icon",t.lcZ(8,9,n.itemId))("pTooltip",_.data.itemEntities[n.itemId].name)}}const A=function(e,i){return{name:e,speed:i}};function Mt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",45),t.NdJ("onChange",function(o){t.CHM(n);const c=t.oxw(5).$implicit,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.setBelt(c.itemId,o.value,a.settings.beltId))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const n=t.oxw().ngIf,_=t.oxw(6).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"list.beltTooltip",t.WLB(7,A,_.data.itemEntities[n].name,_.beltSpeedTxt[n])))("escape",!1)("ngModel",n)("options",_.options.belts)}}function Ot(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",45),t.NdJ("onChange",function(o){t.CHM(n);const c=t.oxw(6).$implicit,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.setBelt(c.itemId,o.value,a.settings.pipeId))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,_=t.oxw(6).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"list.pipeTooltip",t.WLB(7,A,_.data.itemEntities[n].name,_.beltSpeedTxt[n])))("escape",!1)("ngModel",n)("options",_.options.pipes)}}function Ft(e,i){if(1&e&&t.YNc(0,Ot,2,10,"p-dropdown",42),2&e){const n=t.oxw().ngIf,_=t.MAs(11),o=t.oxw(6).ngIf;t.Q6J("ngIf",-1!==o.data.pipeIds.indexOf(n)&&o.settings.pipeId)("ngIfElse",_)}}function qt(e,i){if(1&e&&(t.TgZ(0,"i",46),t.ALo(1,"iconClass"),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw().ngIf,_=t.oxw(6).ngIf;t.Tol(t.lcZ(1,4,n)),t.Q6J("pTooltip",t.xi3(2,6,"list.pipeTooltip",t.WLB(9,A,_.data.itemEntities[n].name,_.beltSpeedTxt[n])))("escape",!1)}}function Rt(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"td",36)(2,"span",38),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",39)(6,"div",13),t.YNc(7,Mt,2,10,"p-dropdown",42),t.YNc(8,Ft,1,2,"ng-template",null,43,t.W1O),t.YNc(10,qt,3,12,"ng-template",null,44,t.W1O),t.qZA()(),t.BQk()),2&e){const n=i.ngIf,_=t.MAs(9),o=t.oxw(4).$implicit,c=t.oxw(2).ngIf,a=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,3,o.belts,c.effectivePrecision[a.Column.Belts])),t.xp6(4),t.Q6J("ngIf",-1!==c.data.beltIds.indexOf(n)&&c.settings.beltId)("ngIfElse",_)}}function $t(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Rt,12,6,"ng-container",0),t.BQk()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",_.itemSettings[n.itemId].beltId)}}function St(e,i){if(1&e&&(t.ynx(0),t.YNc(1,$t,2,1,"ng-container",25),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.oxw();const _=t.MAs(6);t.xp6(1),t.Q6J("ngIf",n.itemId&&n.belts)("ngIfElse",_)}}const O=function(e,i){return{name:e,size:i}};function Et(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",45),t.NdJ("onChange",function(o){t.CHM(n);const c=t.oxw(4).$implicit,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.setWagon(c.itemId,o.value,a.settings.cargoWagonId))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const n=t.oxw().ngIf,_=t.oxw(5).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"list.cargoWagonTooltip",t.WLB(7,O,_.data.itemEntities[n].name,_.data.cargoWagonEntities[n].size)))("escape",!1)("ngModel",n)("options",_.options.cargoWagons)}}function Ut(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",45),t.NdJ("onChange",function(o){t.CHM(n);const c=t.oxw(5).$implicit,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.setWagon(c.itemId,o.value,a.settings.fluidWagonId))}),t.ALo(1,"translate"),t.qZA()}if(2&e){const n=t.oxw(2).ngIf,_=t.oxw(5).ngIf;t.Q6J("pTooltip",t.xi3(1,4,"list.fluidWagonTooltip",t.WLB(7,O,_.data.itemEntities[n].name,_.data.fluidWagonEntities[n].capacity)))("escape",!1)("ngModel",n)("options",_.options.fluidWagons)}}function Pt(e,i){if(1&e&&t.YNc(0,Ut,2,10,"p-dropdown",48),2&e){const n=t.oxw().ngIf,_=t.oxw(5).ngIf;t.Q6J("ngIf",-1!==_.data.fluidWagonIds.indexOf(n)&&_.settings.fluidWagonId)}}function Wt(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"td",36)(2,"span",38),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",39)(6,"div",13),t.YNc(7,Et,2,10,"p-dropdown",42),t.YNc(8,Pt,1,1,"ng-template",null,47,t.W1O),t.qZA()(),t.BQk()),2&e){const n=i.ngIf,_=t.MAs(9),o=t.oxw(3).$implicit,c=t.oxw(2).ngIf,a=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,3,o.wagons,c.effectivePrecision[a.Column.Wagons])),t.xp6(4),t.Q6J("ngIf",-1!==c.data.cargoWagonIds.indexOf(n)&&c.settings.cargoWagonId)("ngIfElse",_)}}function Dt(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Wt,10,6,"ng-container",25),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.oxw();const _=t.MAs(6),o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.itemId&&n.wagons&&o.itemSettings[n.itemId].wagonId)("ngIfElse",_)}}function Gt(e,i){if(1&e&&(t.TgZ(0,"span",38),t._uU(1),t.ALo(2,"factoryRate"),t.qZA()),2&e){const n=t.oxw().ngIf,_=t.oxw(2).$implicit,o=t.oxw(2).ngIf,c=t.oxw();t.xp6(1),t.Oqu(t.Dn7(2,1,_.factories,o.effectivePrecision[c.Column.Factories],n))}}function jt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",52),t.NdJ("onChange",function(o){t.CHM(n);const c=t.oxw(5).$implicit,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.changeFactory(c.recipeId,o.value,a.factories,a.data))}),t.ALo(1,"factoryTooltip"),t.ALo(2,"options"),t.qZA()}if(2&e){const n=t.oxw().ngIf,_=t.oxw(2).ngIf,o=t.oxw(4).ngIf;t.Q6J("pTooltip",t.xi3(1,4,_,o.data))("escape",!1)("options",t.xi3(2,7,n.producers,o.data.itemEntities))("ngModel",_)}}function Ht(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"p-inputNumber",53,54),t.NdJ("onBlur",function(){t.CHM(n);const o=t.MAs(1),c=t.oxw(5).$implicit,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.changeRecipeField(c.recipeId,o.value,a.recipeSettings,a.factories,p.RecipeField.Overclock))}),t.ALo(2,"translate"),t.qZA()}if(2&e){const n=t.oxw(5).$implicit,_=t.oxw(2).ngIf;t.Q6J("min",1)("max",250)("step",10)("size",2)("pTooltip",t.lcZ(2,6,"list.overclockTooltip"))("ngModel",_.recipeSettings[n.recipeId].overclock)}}function Kt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",56),t.NdJ("onChange",function(o){const a=t.CHM(n).index,p=t.oxw(6).$implicit,r=t.oxw(2).ngIf,l=t.oxw();return t.KtG(l.changeRecipeField(p.recipeId,o.value,r.recipeSettings,r.factories,l.RecipeField.FactoryModules,a,r.data))}),t.ALo(1,"moduleTooltip"),t.ALo(2,"options"),t.qZA()}if(2&e){const n=i.$implicit,_=t.oxw(6).$implicit,o=t.oxw(2).ngIf;t.Q6J("pTooltip",t.xi3(1,4,n,o.data))("escape",!1)("options",t.Dn7(2,7,o.data.recipeModuleIds[_.recipeId],o.data.itemEntities,!0))("ngModel",n)}}function Vt(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Kt,3,11,"p-dropdown",55),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngForOf",n)}}function zt(e,i){if(1&e&&(t.TgZ(0,"div",13)(1,"i",46),t.ALo(2,"iconClass"),t.ALo(3,"recipeTooltip"),t.qZA(),t.YNc(4,jt,3,10,"p-dropdown",50),t.YNc(5,Ht,3,8,"p-inputNumber",51),t.YNc(6,Vt,2,1,"ng-container",0),t.qZA()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(2).$implicit,o=t.oxw(2).ngIf,c=t.oxw();t.xp6(1),t.Tol(t.xi3(2,7,_.recipeId,"recipe")),t.Q6J("pTooltip",t.xi3(3,10,_.recipeId,o.data))("escape",!1),t.xp6(3),t.Q6J("ngIf",o.data.factoryEntities[n]),t.xp6(1),t.Q6J("ngIf",o.data.game===c.Game.Satisfactory),t.xp6(1),t.Q6J("ngIf",o.recipeSettings[_.recipeId].factoryModuleIds)}}function Xt(e,i){if(1&e&&(t.ynx(0),t.YNc(1,zt,7,13,"div",49),t.BQk()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",_.data.recipeEntities[n.recipeId])}}function tn(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"td",36),t.YNc(2,Gt,3,5,"span",37),t.ALo(3,"factoryShowRate"),t.qZA(),t.TgZ(4,"td",39),t.YNc(5,Xt,2,1,"ng-container",0),t.ALo(6,"factoryShow"),t.qZA(),t.BQk()),2&e){const n=i.ngIf,_=t.oxw(2).$implicit,o=t.oxw(2).ngIf;t.xp6(2),t.Q6J("ngIf",_.factories&&_.factories.nonzero()&&t.xi3(3,2,n,o.data.game)),t.xp6(3),t.Q6J("ngIf",t.xi3(6,5,n,o.data.game))}}function nn(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"lab-input-number",58),t.NdJ("setValue",function(o){t.CHM(n);const c=t.oxw(5).$implicit,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.changeRecipeField(c.recipeId,o,a.recipeSettings,a.factories,p.RecipeField.BeaconCount))}),t.qZA()}if(2&e){const n=t.oxw().ngIf;t.Q6J("value",n.beaconCount)("hideButtons",!0)}}function en(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"p-dropdown",56),t.NdJ("onChange",function(o){const a=t.CHM(n).index,p=t.oxw(5).$implicit,r=t.oxw(2).ngIf,l=t.oxw();return t.KtG(l.changeRecipeField(p.recipeId,o.value,r.recipeSettings,r.factories,l.RecipeField.BeaconModules,a,r.data))}),t.ALo(1,"moduleTooltip"),t.qZA()}if(2&e){const n=i.$implicit,_=t.oxw(7).ngIf;t.Q6J("pTooltip",t.xi3(1,4,n,_.data))("escape",!1)("options",_.options.beaconModules)("ngModel",n)}}function _n(e,i){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"td",18),t.YNc(2,nn,1,2,"lab-input-number",57),t.qZA(),t.TgZ(3,"td",39)(4,"div",22)(5,"p-dropdown",52),t.NdJ("onChange",function(o){t.CHM(n);const c=t.oxw(4).$implicit,a=t.oxw(2).ngIf,p=t.oxw();return t.KtG(p.changeRecipeField(c.recipeId,o.value,a.recipeSettings,a.factories,p.RecipeField.Beacon))}),t.ALo(6,"beaconTooltip"),t.qZA(),t.YNc(7,en,2,7,"p-dropdown",55),t.qZA()(),t.BQk()}if(2&e){const n=i.ngIf,_=t.oxw(6).ngIf;t.xp6(2),t.Q6J("ngIf",n.beaconId&&n.beaconCount),t.xp6(3),t.Q6J("pTooltip",t.xi3(6,6,n.beaconId,_.data))("escape",!1)("options",_.options.beacons)("ngModel",n.beaconId),t.xp6(2),t.Q6J("ngForOf",n.beaconModuleIds)}}function on(e,i){if(1&e&&(t.ynx(0),t.YNc(1,_n,8,9,"ng-container",0),t.BQk()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",_.recipeSettings[n.recipeId])}}function cn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,on,2,1,"ng-container",25),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.oxw();const _=t.MAs(6);t.xp6(1),t.Q6J("ngIf",n.recipeId)("ngIfElse",_)}}function an(e,i){if(1&e&&(t.TgZ(0,"span",38),t._uU(1),t.ALo(2,"power"),t.qZA()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.Oqu(t.Dn7(2,1,n.power,_.effectivePrecision[o.Column.Power],_.effectivePowerUnit))}}function pn(e,i){if(1&e&&(t.TgZ(0,"td",59),t.YNc(1,an,3,5,"span",37),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",n.power&&n.power.nonzero())}}function sn(e,i){if(1&e&&(t.TgZ(0,"span",38),t._uU(1),t.ALo(2,"rate"),t.qZA()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,n.pollution,_.effectivePrecision[o.Column.Pollution]))}}function ln(e,i){if(1&e&&(t.TgZ(0,"td",59),t.YNc(1,sn,3,4,"span",37),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",n.pollution&&n.pollution.nonzero())}}function rn(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3).$implicit,c=t.oxw(3);return t.KtG(c.resetStep(o))}),t.ALo(1,"translate"),t.qZA()}2&e&&t.Q6J("pTooltip",t.lcZ(1,1,"list.stepUndoTooltip"))}function gn(e,i){if(1&e&&(t.TgZ(0,"td")(1,"div",22)(2,"a",60),t.ALo(3,"stepHref"),t._UZ(4,"button",61),t.ALo(5,"translate"),t.qZA(),t.YNc(6,rn,2,3,"button",62),t.qZA()()),2&e){const n=t.oxw(2).$implicit,_=t.oxw(2).ngIf;t.xp6(2),t.Q6J("href",t.xi3(3,3,n,_.data),t.LSH),t.xp6(2),t.Q6J("pTooltip",t.lcZ(5,6,"list.openNewTabTooltip")),t.xp6(2),t.Q6J("ngIf",n.recipeId&&_.stepsModified.recipes[n.recipeId]||n.itemId&&_.stepsModified.items[n.itemId])}}function mn(e,i){if(1&e&&(t.TgZ(0,"tr")(1,"td",21)(2,"div",22),t._UZ(3,"button",23),t.ALo(4,"translate"),t.qZA()(),t.YNc(5,Yt,7,3,"td",24),t.YNc(6,kt,10,11,"ng-container",25),t.YNc(7,St,2,2,"ng-container",0),t.YNc(8,Dt,2,2,"ng-container",0),t.YNc(9,tn,7,8,"ng-container",25),t.YNc(10,cn,2,2,"ng-container",0),t.YNc(11,pn,2,1,"td",26),t.YNc(12,ln,2,1,"td",26),t.YNc(13,gn,7,8,"td",0),t.qZA()),2&e){const n=t.oxw(),_=n.$implicit,o=n.expanded;t.oxw();const c=t.MAs(6),a=t.oxw().ngIf,p=t.oxw();t.xp6(1),t.Q6J("id",_.id),t.xp6(2),t.ekj("fa-rotate-90",o),t.Q6J("pTooltip",t.lcZ(4,16,o?"list.hideDetails":"list.showDetails"))("pRowToggler",_),t.xp6(2),t.Q6J("ngIf",a.columns[p.Column.Tree].show),t.xp6(1),t.Q6J("ngIf",_.itemId&&_.items)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf",a.columns[p.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",a.columns[p.Column.Wagons].show),t.xp6(1),t.Q6J("ngIf",_.recipeId&&a.recipeSettings[_.recipeId].factoryId)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf",a.columns[p.Column.Beacons].show),t.xp6(1),t.Q6J("ngIf",a.columns[p.Column.Power].show),t.xp6(1),t.Q6J("ngIf",a.columns[p.Column.Pollution].show),t.xp6(1),t.Q6J("ngIf",a.columns[p.Column.Link].show)}}function dn(e,i){if(1&e&&t.YNc(0,mn,14,18,"tr",0),2&e){const n=i.$implicit,_=t.oxw(3);t.Q6J("ngIf",_.mode===_.ListMode.All||null!=_.selectedId&&n.id===_.selectedId)}}function fn(e,i){1&e&&t._UZ(0,"td")}function un(e,i){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.hij(" ",t.lcZ(1,1,"options.stepDetailTab."+i.$implicit.label)," ")}function xn(e,i){}function In(e,i){1&e&&t.YNc(0,xn,0,0,"ng-template")}function wn(e,i){if(1&e&&(t.TgZ(0,"tr",75),t.YNc(1,In,1,0,null,76),t.TgZ(2,"td",77),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"span"),t._uU(6),t.qZA()()()),2&e){t.oxw(3);const n=t.MAs(8),_=t.oxw().ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",n),t.xp6(2),t.hij(" ",t.lcZ(4,3,"list.sources")," "),t.xp6(3),t.Oqu(_.data.itemEntities.null.name)}}function Tn(e,i){1&e&&t.GkF(0)}const bn=function(e,i,n,_,o,c,a,p,r,l,d){return{items:e,itemId:i,belts:n,beltId:_,wagons:o,wagonId:c,factories:a,factoryId:p,recipeId:r,percent:l,percentOnDest:!0,destId:d}};function Cn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Tn,1,0,"ng-container",78),t.BQk()),2&e){const n=i.ngIf,_=t.oxw(2).$implicit,o=t.oxw(2).$implicit;t.oxw();const c=t.MAs(10),a=t.oxw().ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.rFY(2,bn,[o.items.mul(n),o.itemId,null==o.belts?null:o.belts.mul(n),a.itemSettings[o.itemId].beltId,null==o.wagons?null:o.wagons.mul(n),a.itemSettings[o.itemId].wagonId,_.factories,a.recipeSettings[_.recipeId].factoryId,_.recipeId,n,o.itemId]))}}function Ln(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Cn,2,14,"ng-container",0),t.BQk()),2&e){const n=t.oxw().$implicit,_=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",n.outputs[_.itemId])}}function vn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Ln,2,1,"ng-container",0),t.BQk()),2&e){const n=i.$implicit,_=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",n.outputs&&n.recipeId&&_.itemId)}}function Zn(e,i){}function hn(e,i){1&e&&t.YNc(0,Zn,0,0,"ng-template")}function An(e,i){if(1&e&&(t.TgZ(0,"tr",75),t.YNc(1,hn,1,0,null,76),t.TgZ(2,"td",77),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e){t.oxw(3);const n=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",n),t.xp6(2),t.hij(" ",t.lcZ(4,2,"list.destinations")," ")}}function Qn(e,i){1&e&&t.GkF(0)}const F=function(e,i,n,_,o,c,a,p,r,l,d){return{items:e,itemId:i,belts:n,beltId:_,wagons:o,wagonId:c,factories:a,factoryId:p,recipeId:r,percent:l,destId:d,destIsRecipe:!0}};function yn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Qn,1,0,"ng-container",78),t.BQk()),2&e){const n=t.oxw().$implicit,_=t.oxw(2).$implicit;t.oxw();const o=t.MAs(10),c=t.oxw().ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.rFY(2,F,[null==_.items?null:_.items.mul(n.value),_.itemId,null==_.belts?null:_.belts.mul(n.value),c.itemSettings[_.itemId].beltId,null==_.wagons?null:_.wagons.mul(n.value),c.itemSettings[_.itemId].wagonId,1===c.stepDetails[_.id].outputs.length?null==_.factories?null:_.factories.mul(n.value):null,1===c.stepDetails[_.id].outputs.length&&_.recipeId?c.recipeSettings[_.recipeId].factoryId:null,_.recipeId,n.value,n.key]))}}function Jn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,yn,2,14,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",n.itemId)}}function Nn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,wn,7,5,"tr",73),t.YNc(2,vn,2,1,"ng-container",74),t.YNc(3,An,5,4,"tr",73),t.YNc(4,Jn,2,1,"ng-container",74),t.ALo(5,"keyvalue"),t.BQk()),2&e){const n=t.oxw().$implicit,_=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",_.stepDetails[n.id].outputs.length),t.xp6(1),t.Q6J("ngForOf",_.stepDetails[n.id].outputs),t.xp6(1),t.Q6J("ngIf",n.parents),t.xp6(1),t.Q6J("ngForOf",t.xi3(5,4,n.parents,o.trackSvc.sortByValue))}}function Yn(e,i){}function Bn(e,i){1&e&&t.YNc(0,Yn,0,0,"ng-template")}function kn(e,i){1&e&&t.GkF(0)}const Mn=function(e,i){return{items:e,itemId:i}};function On(e,i){if(1&e&&(t.ynx(0),t.YNc(1,kn,1,0,"ng-container",78),t.BQk()),2&e){const n=t.oxw().ngIf,_=t.oxw().$implicit,o=t.oxw(4).$implicit;t.oxw();const c=t.MAs(10),a=t.oxw().ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(2,Mn,n.step.items.mul(n.percent).div(a.data.recipeR[o.recipeId].productivity),_.key))}}function Fn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,On,2,5,"ng-container",0),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngIf",n.step&&n.percent&&n.step.items)}}const v=function(e,i){return{step:e,percent:i}};function qn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Fn,2,1,"ng-container",0),t.BQk()),2&e){const n=i.$implicit,_=t.oxw(4).$implicit,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,v,o.stepByItemEntities[n.key],null==_.outputs?null:_.outputs[n.key]))}}function Rn(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",75),t.YNc(2,Bn,1,0,null,76),t.TgZ(3,"td",77),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,qn,2,4,"ng-container",74),t.ALo(7,"keyvalue"),t.BQk()),2&e){const n=t.oxw(3).$implicit;t.oxw();const _=t.MAs(8),o=t.oxw(2);t.xp6(2),t.Q6J("ngTemplateOutlet",_),t.xp6(2),t.hij(" ",t.lcZ(5,3,"list.depletion")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,5,n.outputs,o.trackSvc.sortByValue))}}function $n(e,i){}function Sn(e,i){1&e&&t.YNc(0,$n,0,0,"ng-template")}function En(e,i){1&e&&t.GkF(0)}function Un(e,i){if(1&e&&(t.ynx(0),t.YNc(1,En,1,0,"ng-container",78),t.BQk()),2&e){const n=t.oxw().ngIf,_=t.oxw().$implicit,o=t.oxw(4).$implicit;t.oxw();const c=t.MAs(10),a=t.oxw().ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.rFY(2,F,[null==n.step.items?null:n.step.items.mul(n.percent),_.key,null==n.step.belts?null:n.step.belts.mul(n.percent),a.itemSettings[n.step.itemId].beltId,null==n.step.wagons?null:n.step.wagons.mul(n.percent),a.itemSettings[n.step.itemId].wagonId,null==n.step.factories?null:n.step.factories.mul(n.percent),n.step.recipeId&&a.recipeSettings[n.step.recipeId].factoryId,n.step.recipeId,n.percent,o.recipeId]))}}function Pn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Un,2,14,"ng-container",0),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngIf",n.step.itemId&&n.percent)}}function Wn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Pn,2,1,"ng-container",0),t.BQk()),2&e){const n=i.$implicit,_=t.oxw(4).$implicit,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,v,o.stepByItemEntities[n.key],null==o.stepByItemEntities[n.key].parents?null:o.stepByItemEntities[n.key].parents[_.recipeId]))}}function Dn(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",75),t.YNc(2,Sn,1,0,null,76),t.TgZ(3,"td",77),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,Wn,2,4,"ng-container",74),t.ALo(7,"keyvalue"),t.BQk()),2&e){const n=t.oxw(3).$implicit;t.oxw();const _=t.MAs(8),o=t.oxw().ngIf,c=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",_),t.xp6(2),t.hij(" ",t.lcZ(5,3,"list.inputs")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,5,o.data.recipeR[n.recipeId].in,c.trackSvc.sortByValue))}}function Gn(e,i){}function jn(e,i){1&e&&t.YNc(0,Gn,0,0,"ng-template")}function Hn(e,i){1&e&&t.GkF(0)}const Kn=function(e,i,n,_,o,c,a,p,r,l,d){return{items:e,itemId:i,belts:n,beltId:_,wagons:o,wagonId:c,factories:a,factoryId:p,recipeId:r,percent:l,percentOnDest:!0,destId:d,destIsRecipe:!0}};function Vn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Hn,1,0,"ng-container",78),t.BQk()),2&e){const n=t.oxw().ngIf,_=t.oxw().$implicit,o=t.oxw(3).$implicit;t.oxw();const c=t.MAs(10),a=t.oxw().ngIf;t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.rFY(2,Kn,[null==n.step.items?null:n.step.items.mul(n.percent),_.key,null==n.step.belts?null:n.step.belts.mul(n.percent),a.itemSettings[n.step.itemId].beltId,null==n.step.wagons?null:n.step.wagons.mul(n.percent),a.itemSettings[n.step.itemId].wagonId,null==n.step.factories?null:n.step.factories.mul(n.percent),n.step.recipeId&&a.recipeSettings[n.step.recipeId].factoryId,n.step.recipeId,n.percent,o.recipeId]))}}function zn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Vn,2,14,"ng-container",0),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngIf",n.step.itemId&&n.percent)}}function Xn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,zn,2,1,"ng-container",0),t.BQk()),2&e){const n=i.$implicit,_=t.oxw(3).$implicit,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,v,o.stepByItemEntities[n.key],null==_.outputs?null:_.outputs[n.key]))}}function te(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Rn,8,8,"ng-container",0),t.YNc(2,Dn,8,8,"ng-container",0),t.ALo(3,"keyvalue"),t.TgZ(4,"tr",75),t.YNc(5,jn,1,0,null,76),t.TgZ(6,"td",77),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.YNc(9,Xn,2,4,"ng-container",74),t.ALo(10,"keyvalue"),t.BQk()),2&e){const n=i.ngIf,_=t.oxw(2).$implicit;t.oxw();const o=t.MAs(8),c=t.oxw().ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngIf",c.data.game===a.Game.Factorio&&n.factoryId&&(null==c.data.itemEntities[n.factoryId].factory?null:c.data.itemEntities[n.factoryId].factory.mining)),t.xp6(1),t.Q6J("ngIf",t.lcZ(3,5,c.data.recipeR[_.recipeId].in).length),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.hij(" ",t.lcZ(8,7,"list.outputs")," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(10,9,c.data.recipeR[_.recipeId].out,a.trackSvc.sortByValue))}}function ne(e,i){if(1&e&&(t.ynx(0),t.YNc(1,te,11,12,"ng-container",0),t.BQk()),2&e){const n=t.oxw().$implicit,_=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",_.recipeSettings[n.recipeId])}}function ee(e,i){1&e&&t.GkF(0)}const b=function(e,i){return{value:e,itemId:i}};function _e(e,i){if(1&e&&(t.ynx(0),t.YNc(1,ee,1,0,"ng-container",78),t.ALo(2,"rate"),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw().$implicit;t.oxw();const o=t.MAs(16),c=t.oxw(2).$implicit,a=t.oxw(2).ngIf,p=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(5,b,t.xi3(2,2,n.step.items.mul(n.percent).div(c.factories),a.effectivePrecision[p.Column.Items]),_.key))}}function oe(e,i){1&e&&t.GkF(0)}function ie(e,i){if(1&e&&(t.ynx(0),t.YNc(1,oe,1,0,"ng-container",78),t.ALo(2,"rate"),t.BQk()),2&e){const n=i.ngIf,_=t.oxw(4).ngIf;t.oxw(2);const o=t.MAs(16),c=t.oxw(2).$implicit,a=t.oxw(2).ngIf,p=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(5,b,t.xi3(2,2,_.step.belts.mul(_.percent).div(c.factories),a.effectivePrecision[p.Column.Belts]),n))}}function ce(e,i){if(1&e&&(t.ynx(0),t.YNc(1,ie,3,8,"ng-container",0),t.BQk()),2&e){const n=t.oxw(4).$implicit,_=t.oxw(5).ngIf;t.xp6(1),t.Q6J("ngIf",_.itemSettings[n.key].beltId)}}function ae(e,i){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,ce,2,1,"ng-container",0),t.qZA()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.step.belts)}}function pe(e,i){1&e&&t.GkF(0)}function se(e,i){if(1&e&&(t.ynx(0),t.YNc(1,pe,1,0,"ng-container",78),t.ALo(2,"rate"),t.BQk()),2&e){const n=i.ngIf;t.oxw(6);const _=t.MAs(16);t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.WLB(5,b,t.xi3(2,2,n.value,1),n.id))}}function le(e,i){if(1&e&&(t.ynx(0),t.YNc(1,se,3,8,"ng-container",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&e){const n=t.oxw(3).ngIf,_=t.oxw(4).$implicit,o=t.oxw(2).ngIf,c=t.oxw();t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,n.step.items.mul(n.percent).div(_.factories).div(c.DisplayRateVal[o.settings.displayRate]),o.settings))}}function re(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,le,3,4,"ng-container",0),t.qZA(),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw().$implicit,o=t.oxw(5).ngIf,c=t.oxw();t.xp6(2),t.Q6J("ngIf",o.itemSettings[_.key].beltId!==c.ItemId.Pipe&&n.step.items)}}function ge(e,i){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,_e,3,8,"ng-container",0),t.qZA(),t.YNc(3,ae,2,1,"td",0),t.YNc(4,re,3,1,"ng-container",0),t.qZA()),2&e){const n=t.oxw().ngIf,_=t.oxw(6).ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngIf",n.step.items),t.xp6(1),t.Q6J("ngIf",_.columns[o.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",_.data.game===o.Game.Factorio)}}function me(e,i){if(1&e&&(t.ynx(0),t.YNc(1,ge,5,3,"tr",0),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngIf",n.percent)}}function de(e,i){if(1&e&&(t.ynx(0),t.YNc(1,me,2,1,"ng-container",0),t.BQk()),2&e){const n=i.$implicit,_=t.oxw(3).$implicit,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",t.WLB(1,v,o.stepByItemEntities[n.key],null==o.stepByItemEntities[n.key].parents?null:o.stepByItemEntities[n.key].parents[_.recipeId]))}}function fe(e,i){if(1&e&&(t.TgZ(0,"div",13)(1,"i",35),t.ALo(2,"iconClass"),t.qZA(),t.TgZ(3,"i",35),t.ALo(4,"iconClass"),t.qZA()()),2&e){const n=i.ngIf,_=t.oxw(3).$implicit,o=t.oxw(2).ngIf;t.xp6(1),t.Tol(t.xi3(2,6,_.recipeId,"recipe")),t.Q6J("pTooltip",o.data.recipeEntities[_.recipeId].name),t.xp6(2),t.Tol(t.lcZ(4,9,n)),t.Q6J("pTooltip",o.data.itemEntities[n].name)}}function ue(e,i){1&e&&t.GkF(0)}function xe(e,i){if(1&e&&(t.ynx(0),t.YNc(1,ue,1,0,"ng-container",78),t.ALo(2,"rate"),t.BQk()),2&e){const n=i.ngIf;t.oxw(5);const _=t.MAs(16);t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.WLB(5,b,t.xi3(2,2,n.value,1),n.id))}}function Ie(e,i){if(1&e&&(t.ynx(0),t.YNc(1,xe,3,8,"ng-container",0),t.ALo(2,"inserterSpeed"),t.BQk()),2&e){const n=t.oxw(2).ngIf,_=t.oxw(6).ngIf;t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,n,_.settings))}}function we(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,Ie,3,4,"ng-container",0),t.qZA(),t.BQk()),2&e){const n=t.oxw(2).$implicit,_=t.oxw(5).ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngIf",_.itemSettings[n.key].beltId!==o.ItemId.Pipe)}}function Te(e,i){1&e&&t.GkF(0)}function be(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Te,1,0,"ng-container",78),t.ALo(2,"rate"),t.BQk()),2&e){const n=i.ngIf,_=t.oxw(2).ngIf;t.oxw(2);const o=t.MAs(16),c=t.oxw(4).ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(5,b,t.xi3(2,2,_.div(c.beltSpeed[n]),c.effectivePrecision[a.Column.Belts]),n))}}function Ce(e,i){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,be,3,8,"ng-container",0),t.qZA()),2&e){const n=t.oxw(2).$implicit,_=t.oxw(5).ngIf;t.xp6(1),t.Q6J("ngIf",_.itemSettings[n.key].beltId)}}function Le(e,i){1&e&&t.GkF(0)}function ve(e,i){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,we,3,1,"ng-container",0),t.YNc(2,Ce,2,1,"td",0),t.TgZ(3,"td"),t.YNc(4,Le,1,0,"ng-container",78),t.ALo(5,"rate"),t.qZA()()),2&e){const n=i.ngIf,_=t.oxw().$implicit;t.oxw();const o=t.MAs(16),c=t.oxw(4).ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngIf",c.data.game===a.Game.Factorio),t.xp6(1),t.Q6J("ngIf",c.columns[a.Column.Belts].show),t.xp6(2),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(7,b,t.xi3(5,4,n.mul(a.DisplayRateVal[c.settings.displayRate]),c.effectivePrecision[a.Column.Items]),_.key))}}function Ze(e,i){if(1&e&&(t.ynx(0),t.YNc(1,ve,6,10,"tr",0),t.BQk()),2&e){const n=i.$implicit,_=t.oxw(3).$implicit,o=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n.value.div(o.data.recipeR[_.recipeId].time))}}function he(e,i){if(1&e&&(t.TgZ(0,"div",82)(1,"span",38),t._uU(2),t.qZA(),t.TgZ(3,"i",35),t.ALo(4,"iconClass"),t.qZA()()),2&e){const n=i.value,_=i.itemId,o=t.oxw(5).ngIf;t.xp6(2),t.Oqu(n),t.xp6(1),t.Tol(t.lcZ(4,4,_)),t.Q6J("pTooltip",o.data.itemEntities[_].name)}}function Ae(e,i){if(1&e&&(t.TgZ(0,"div",13)(1,"table",79),t.YNc(2,de,2,4,"ng-container",74),t.ALo(3,"keyvalue"),t.qZA(),t._UZ(4,"i",80),t.TgZ(5,"table",79)(6,"tr")(7,"td",38),t._uU(8,"1"),t.qZA(),t.TgZ(9,"td"),t.YNc(10,fe,5,11,"div",49),t.qZA()()(),t._UZ(11,"i",80),t.TgZ(12,"table",79),t.YNc(13,Ze,2,1,"ng-container",74),t.ALo(14,"keyvalue"),t.qZA(),t.YNc(15,he,5,6,"ng-template",null,81,t.W1O),t.qZA()),2&e){const n=t.oxw(2).$implicit,_=t.oxw(2).ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.xi3(3,3,_.data.recipeR[n.recipeId].in,o.trackSvc.sortByValue)),t.xp6(8),t.Q6J("ngIf",null==_.recipeSettings[n.recipeId]?null:_.recipeSettings[n.recipeId].factoryId),t.xp6(3),t.Q6J("ngForOf",t.xi3(14,6,_.data.recipeR[n.recipeId].out,o.trackSvc.sortByValue))}}function Qe(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"small",83),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,"list.inserterCountInfo"),t.oJD))}function ye(e,i){if(1&e&&(t.TgZ(0,"tr",75),t._UZ(1,"td"),t.TgZ(2,"td",66),t.YNc(3,Ae,17,9,"div",49),t.YNc(4,Qe,3,3,"div",0),t.qZA()()),2&e){const n=t.oxw().$implicit,_=t.oxw(2).ngIf,o=t.oxw();t.xp6(3),t.Q6J("ngIf",n.recipeId&&n.factories),t.xp6(1),t.Q6J("ngIf",_.data.game===o.Game.Factorio)}}function Je(e,i){1&e&&(t.TgZ(0,"div",89)(1,"small"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"list.defaultRecipeInfo3")))}function Ne(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",90),t.NdJ("click",function(){const c=t.CHM(n).$implicit,a=t.oxw(4).$implicit,p=t.oxw(2).ngIf,r=t.oxw();return t.KtG(r.toggleDefaultRecipe(a.itemId,c,p.itemSettings,p.settings,p.data))}),t.ALo(1,"iconSmClass"),t.ALo(2,"recipeTooltip"),t.qZA()}if(2&e){const n=i.$implicit,_=t.oxw(4).$implicit,o=t.oxw(2).ngIf;t.ekj("p-button-text",o.data.itemRecipeId[_.itemId]!==n),t.Q6J("icon",t.xi3(1,5,n,"recipe"))("pTooltip",t.xi3(2,8,n,o.data))("escape",!1)}}function Ye(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",75),t._UZ(2,"td"),t.TgZ(3,"td",66)(4,"div")(5,"div",84),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div")(9,"small"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div")(13,"small"),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.YNc(16,Je,4,3,"div",87),t.qZA()()(),t.TgZ(17,"tr",75),t._UZ(18,"td"),t.TgZ(19,"td",66)(20,"div",85),t.YNc(21,Ne,3,11,"button",88),t.qZA()()(),t.BQk()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2).ngIf;t.xp6(6),t.hij(" ",t.lcZ(7,5,"list.defaultRecipe")," "),t.xp6(4),t.Oqu(t.lcZ(11,7,"list.defaultRecipeInfo1")),t.xp6(4),t.Oqu(t.lcZ(15,9,"list.defaultRecipeInfo2")),t.xp6(2),t.Q6J("ngIf",null===_.data.itemRecipeId[n.itemId]),t.xp6(5),t.Q6J("ngForOf",_.stepDetails[n.id].defaultableRecipeIds)}}function Be(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",91),t.NdJ("click",function(){const c=t.CHM(n).$implicit,a=t.oxw(5).ngIf,p=t.oxw();return t.KtG(p.toggleRecipe(c,a.settings,a.data))}),t.ALo(1,"iconSmClass"),t.ALo(2,"recipeTooltip"),t._UZ(3,"i",41),t.qZA()}if(2&e){const n=i.$implicit,_=t.oxw(5).ngIf;t.ekj("hover-active",-1!==_.settings.disabledRecipeIds.indexOf(n)),t.Q6J("icon",t.xi3(1,5,n,"recipe"))("pTooltip",t.xi3(2,8,n,_.data))("escape",!1)}}function ke(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Ye,22,11,"ng-container",0),t.TgZ(2,"tr",75),t._UZ(3,"td"),t.TgZ(4,"td",66)(5,"div")(6,"div",84),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div")(10,"small"),t._uU(11),t.ALo(12,"translate"),t.qZA()()()()(),t.TgZ(13,"tr",75),t._UZ(14,"td"),t.TgZ(15,"td",66)(16,"div",85),t.YNc(17,Be,4,11,"button",86),t.qZA()()(),t.BQk()),2&e){const n=t.oxw(2).$implicit,_=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",_.stepDetails[n.id].defaultableRecipeIds.length),t.xp6(6),t.hij(" ",t.lcZ(8,4,"list.enabledRecipes")," "),t.xp6(4),t.Oqu(t.lcZ(12,6,"list.enabledRecipesInfo")),t.xp6(6),t.Q6J("ngForOf",_.stepDetails[n.id].recipeIds)}}function Me(e,i){if(1&e&&(t.ynx(0),t.YNc(1,ke,18,8,"ng-container",0),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.itemId)}}function Oe(e,i){if(1&e&&(t.TgZ(0,"tr")(1,"td")(2,"a",64),t._UZ(3,"button",65),t.qZA()(),t.YNc(4,fn,1,0,"td",0),t.TgZ(5,"td",66)(6,"p-tabMenu",67,68),t.YNc(8,un,2,3,"ng-template",69),t.qZA()()(),t.ynx(9,70),t.YNc(10,Nn,6,7,"ng-container",71),t.YNc(11,ne,2,1,"ng-container",71),t.YNc(12,ye,5,2,"tr",72),t.YNc(13,Me,2,1,"ng-container",71),t.BQk()),2&e){const n=i.$implicit,_=t.MAs(7),o=t.oxw(2).ngIf,c=t.oxw();t.xp6(2),t.Q6J("href","#"+n.id,t.LSH),t.xp6(2),t.Q6J("ngIf",o.columns[c.Column.Tree].show),t.xp6(2),t.Q6J("model",o.stepDetails[n.id].tabs)("activeItem",o.stepDetails[n.id].tabs[0]),t.xp6(3),t.Q6J("ngSwitch",_.activeItem.label),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Item),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Recipe),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Factory),t.xp6(1),t.Q6J("ngSwitchCase",c.StepDetailTab.Recipes)}}function Fe(e,i){1&e&&t._UZ(0,"td",12)}function qe(e,i){1&e&&t._UZ(0,"td")}function Re(e,i){if(1&e&&(t._UZ(0,"td"),t.YNc(1,qe,1,0,"td",0)),2&e){const n=t.oxw(2).ngIf,_=t.oxw();t.xp6(1),t.Q6J("ngIf",n.columns[_.Column.Tree].show)}}function $e(e,i){}function Se(e,i){1&e&&t.YNc(0,$e,0,0,"ng-template")}function Ee(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"td",36)(2,"span",38),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",39)(6,"i",35),t.ALo(7,"iconClass"),t.qZA()(),t.BQk()),2&e){const n=t.oxw(3),_=n.belts,o=n.beltId,c=t.oxw(2).ngIf,a=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,4,_,c.effectivePrecision[a.Column.Belts])),t.xp6(3),t.Tol(t.lcZ(7,7,o)),t.Q6J("pTooltip",c.data.itemEntities[o].name)}}function Ue(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Ee,8,9,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2),_=n.belts,o=n.beltId;t.xp6(1),t.Q6J("ngIf",_&&o)}}function Pe(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"td",36)(2,"span",38),t._uU(3),t.ALo(4,"rate"),t.qZA()(),t.TgZ(5,"td",39)(6,"i",35),t.ALo(7,"iconClass"),t.qZA()(),t.BQk()),2&e){const n=t.oxw(3),_=n.wagons,o=n.wagonId,c=t.oxw(2).ngIf,a=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,4,_,c.effectivePrecision[a.Column.Wagons])),t.xp6(3),t.Tol(t.lcZ(7,7,o)),t.Q6J("pTooltip",c.data.itemEntities[o].name)}}function We(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Pe,8,9,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2),_=n.wagons,o=n.wagonId;t.xp6(1),t.Q6J("ngIf",_&&o)}}function De(e,i){if(1&e&&(t.TgZ(0,"span",38),t._uU(1),t.ALo(2,"factoryRate"),t.qZA()),2&e){const n=t.oxw(2),_=n.factories,o=n.factoryId,c=t.oxw(2).ngIf,a=t.oxw();t.xp6(1),t.Oqu(t.Dn7(2,1,_,c.effectivePrecision[a.Column.Factories],o))}}function Ge(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"i",35),t.ALo(2,"iconClass"),t.qZA(),t.TgZ(3,"i",35),t.ALo(4,"iconClass"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2),_=n.recipeId,o=n.factoryId,c=t.oxw(2).ngIf;t.xp6(1),t.Tol(t.xi3(2,6,_,"recipe")),t.Q6J("pTooltip",c.data.recipeEntities[_].name),t.xp6(2),t.Tol(t.lcZ(4,9,o)),t.Q6J("pTooltip",c.data.recipeEntities[o].name)}}function je(e,i){1&e&&(t.TgZ(0,"div",94),t._UZ(1,"i",95),t.qZA(),t.TgZ(2,"div",94),t._UZ(3,"i",95),t.qZA())}function He(e,i){1&e&&t._UZ(0,"i",97)}function Ke(e,i){1&e&&t._UZ(0,"i",97)}function Ve(e,i){if(1&e&&(t.ynx(0),t.YNc(1,He,1,0,"i",96),t.TgZ(2,"span",38),t._uU(3),t.ALo(4,"leftPad"),t.ALo(5,"rate"),t.qZA(),t.YNc(6,Ke,1,0,"i",96),t.TgZ(7,"i",35),t.ALo(8,"iconClass"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2),_=n.percentOnDest,o=n.percent,c=n.destId,a=n.destIsRecipe,p=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",_),t.xp6(2),t.hij("",t.lcZ(4,6,t.xi3(5,8,o,-2)),"%"),t.xp6(3),t.Q6J("ngIf",!_),t.xp6(1),t.Tol(t.xi3(8,11,c,a?"recipe":"item")),t.Q6J("pTooltip",(a?p.data.recipeEntities:p.data.itemEntities)[c].name)}}function ze(e,i){if(1&e&&(t.ynx(0),t.YNc(1,Se,1,0,null,76),t.TgZ(2,"td",36)(3,"span",38),t._uU(4),t.ALo(5,"rate"),t.qZA()(),t.TgZ(6,"td",39)(7,"i",35),t.ALo(8,"iconClass"),t.qZA()(),t.YNc(9,Ue,2,1,"ng-container",0),t.YNc(10,We,2,1,"ng-container",0),t.TgZ(11,"td",36),t.YNc(12,De,3,5,"span",37),t.ALo(13,"factoryShowRate"),t.qZA(),t.TgZ(14,"td",92)(15,"div",13),t.YNc(16,Ge,5,11,"ng-container",25),t.ALo(17,"factoryShow"),t.YNc(18,je,4,0,"ng-template",null,93,t.W1O),t.YNc(20,Ve,9,14,"ng-container",0),t.qZA()(),t.BQk()),2&e){const n=t.MAs(19),_=t.oxw(),o=_.items,c=_.itemId,a=_.factories,p=_.factoryId,r=_.percent,l=_.destId;t.oxw();const d=t.MAs(8),m=t.oxw().ngIf,u=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",d),t.xp6(3),t.Oqu(t.xi3(5,11,o,m.effectivePrecision[u.Column.Items])),t.xp6(3),t.Tol(t.lcZ(8,14,c)),t.Q6J("pTooltip",m.data.itemEntities[c].name),t.xp6(2),t.Q6J("ngIf",m.columns[u.Column.Belts].show),t.xp6(1),t.Q6J("ngIf",m.columns[u.Column.Wagons].show),t.xp6(2),t.Q6J("ngIf",a&&a.nonzero()&&t.xi3(13,16,p,m.data.game)),t.xp6(4),t.Q6J("ngIf",t.xi3(17,19,p,m.data.game))("ngIfElse",n),t.xp6(4),t.Q6J("ngIf",r&&l)}}function Xe(e,i){if(1&e&&(t.TgZ(0,"tr",75),t.YNc(1,ze,21,22,"ng-container",0),t.qZA()),2&e){const n=i.itemId;t.xp6(1),t.Q6J("ngIf",n)}}function t_(e,i){1&e&&t._UZ(0,"td")}function n_(e,i){1&e&&t.GkF(0)}function e_(e,i){1&e&&t.GkF(0)}function __(e,i){1&e&&t.GkF(0)}function o_(e,i){1&e&&t.GkF(0)}function i_(e,i){if(1&e&&(t.TgZ(0,"td",100)(1,"span",38),t._uU(2),t.ALo(3,"power"),t.qZA()()),2&e){const n=t.oxw(4).ngIf,_=t.oxw();t.xp6(2),t.Oqu(t.Dn7(3,1,n.totals.power,n.effectivePrecision[_.Column.Power],n.effectivePowerUnit))}}function c_(e,i){if(1&e&&(t.TgZ(0,"td",100)(1,"span",38),t._uU(2),t.ALo(3,"rate"),t.qZA()()),2&e){const n=t.oxw(4).ngIf,_=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,1,n.totals.pollution,n.effectivePrecision[_.Column.Pollution]))}}function a_(e,i){1&e&&t._UZ(0,"td")}const Z=function(e,i){return{column:e,totals:i}};function p_(e,i){if(1&e&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t.YNc(2,t_,1,0,"td",0),t.TgZ(3,"td",12),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,n_,1,0,"ng-container",78),t.YNc(7,e_,1,0,"ng-container",78),t.YNc(8,__,1,0,"ng-container",78),t.YNc(9,o_,1,0,"ng-container",78),t.YNc(10,i_,4,5,"td",99),t.YNc(11,c_,4,4,"td",99),t.YNc(12,a_,1,0,"td",0),t.qZA()),2&e){t.oxw();const n=t.MAs(2),_=t.oxw(2).ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngIf",_.columns[o.Column.Tree].show),t.xp6(2),t.hij(" ",t.lcZ(5,13,"list.total")," "),t.xp6(2),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(15,Z,o.Column.Belts,_.totals.belts)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(18,Z,o.Column.Wagons,_.totals.wagons)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(21,Z,o.Column.Factories,_.totals.factories)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(24,Z,o.Column.Beacons,_.totals.beacons)),t.xp6(1),t.Q6J("ngIf",_.columns[o.Column.Power].show),t.xp6(1),t.Q6J("ngIf",_.columns[o.Column.Pollution].show),t.xp6(1),t.Q6J("ngIf",_.columns[o.Column.Link].show)}}function s_(e,i){if(1&e&&(t.TgZ(0,"div",105)(1,"span",38),t._uU(2),t.ALo(3,"rate"),t.qZA()()),2&e){const n=i.$implicit,_=t.oxw(2).column,o=t.oxw(3).ngIf;t.xp6(2),t.Oqu(t.xi3(3,1,n.value,o.effectivePrecision[_]))}}function l_(e,i){if(1&e&&(t.TgZ(0,"i",106),t.ALo(1,"iconClass"),t.qZA()),2&e){const n=i.$implicit,_=t.oxw(5).ngIf;t.Tol(t.xi3(1,3,n.key,"item")),t.Q6J("pTooltip",(null==_.data.itemEntities[n.key]?null:_.data.itemEntities[n.key].name)||_.data.recipeEntities[n.key].name)}}function r_(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"td",101),t.YNc(2,s_,4,4,"div",102),t.ALo(3,"keyvalue"),t.qZA(),t.TgZ(4,"td",103),t.YNc(5,l_,2,6,"i",104),t.ALo(6,"keyvalue"),t.qZA(),t.BQk()),2&e){const n=t.oxw().totals,_=t.oxw(4);t.xp6(2),t.Q6J("ngForOf",t.xi3(3,2,n,_.trackSvc.sortByValue)),t.xp6(3),t.Q6J("ngForOf",t.xi3(6,5,n,_.trackSvc.sortByValue))}}function g_(e,i){if(1&e&&t.YNc(0,r_,7,8,"ng-container",0),2&e){const n=i.column,_=t.oxw(3).ngIf;t.Q6J("ngIf",_.columns[n].show)}}function m_(e,i){if(1&e&&(t.YNc(0,p_,13,27,"tr",0),t.YNc(1,g_,1,1,"ng-template",null,98,t.W1O)),2&e){const n=t.oxw(3);t.Q6J("ngIf",n.mode===n.ListMode.All)}}function d_(e,i){if(1&e&&(t.TgZ(0,"p-table",2,3),t.YNc(2,At,23,18,"ng-template",4),t.YNc(3,dn,1,1,"ng-template",5),t.YNc(4,Oe,14,9,"ng-template",6),t.YNc(5,Fe,1,0,"ng-template",null,7,t.W1O),t.YNc(7,Re,2,1,"ng-template",null,8,t.W1O),t.YNc(9,Xe,2,1,"ng-template",null,9,t.W1O),t.YNc(11,m_,3,1,"ng-template",10),t.qZA()),2&e){const n=t.oxw().ngIf,_=t.oxw();t.Q6J("rowTrackBy",_.trackSvc.trackById)("value",n.steps)}}function f_(e,i){if(1&e&&(t.ynx(0),t.YNc(1,d_,12,2,"p-table",1),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngIf",n.steps)}}const u_=[{path:"",component:(()=>{class e{constructor(n,_,o,c){this.contentSvc=n,this.route=_,this.trackSvc=o,this.store=c,this.vm$=(0,J.a)([this.store.select(E.RR),this.store.select(x.ld),this.store.select(x.n9),this.store.select(I.YA),this.store.select(I.j_),this.store.select(I.It),this.store.select(I.fs),this.store.select(I.n_),this.store.select(I._H),this.store.select(I.dY),this.store.select(I.Um),this.store.select(f.J5),this.store.select(f.Ue),this.store.select(f.O8),this.store.select(T.dK),this.store.select(T.Gw),this.store.select(T.FW),this.store.select(T.oQ),this.store.select(T.dc)]).pipe((0,$.U)(([a,p,r,l,d,m,u,C,Q,w_,T_,b_,C_,L_,v_,Z_,h_,A_,Q_])=>({factories:a,itemSettings:p,itemsModified:r,stepsModified:l,totals:d,steps:m,stepDetails:u,stepByItemEntities:C,stepTree:Q,effectivePrecision:w_,effectivePowerUnit:T_,recipeSettings:b_,recipesModified:C_,data:L_,columns:v_,settings:Z_,options:h_,beltSpeed:A_,beltSpeedTxt:Q_}))),this.mode=g.tF.All,this.displayRateLabel=g.t_,this.ColumnsLeftOfPower=[g.sg.Belts,g.sg.Factories,g.sg.Beacons],this.DisplayRateVal=g.NW,this.PIPE=g.I$,this.Column=g.sg,this.DisplayRate=g.Ee,this.ItemId=g.bN,this.ListMode=g.tF,this.StepDetailTab=g.Ar,this.Game=g.lA,this.RecipeField=g.jw,this.Rational=g.uG}ngOnInit(){this.route.fragment.pipe((0,N.P)(),(0,S.h)(n=>null!=n)).subscribe(n=>{this.fragmentId=n})}ngAfterViewInit(){try{this.fragmentId&&(document.querySelector("#\\"+this.fragmentId)?.scrollIntoView(),(0,J.a)([this.store.select(I.It),this.store.select(I.fs)]).pipe((0,N.P)()).subscribe(([n,_])=>{const o=n.find(c=>c.id===this.fragmentId);o&&_[o.id].tabs.length&&this.stepsTable&&this.stepsTable.toggleRow(o)}))}catch{}}resetStep(n){n.itemId&&this.resetItem(n.itemId),n.recipeId&&this.resetRecipe(n.recipeId)}export(n,_,o,c,a){L.Zq.stepsToCsv(n,c,_,o,a)}toggleDefaultRecipe(n,_,o,c,a){o[n].recipeId===_?this.setDefaultRecipe(n):this.setDefaultRecipe(n,_,L.M6.defaultRecipe(n,c.disabledRecipeIds??[],a))}toggleRecipe(n,_,o){const c=_.disabledRecipeIds??[],a=o.defaults?.disabledRecipeIds;-1===c.indexOf(n)?this.setDisabledRecipes([...c,n],a):this.setDisabledRecipes(c.filter(p=>p!==n),a)}changeFactory(n,_,o,c){this.setFactory(n,_,L.M6.bestMatch(c.recipeEntities[n].producers,o.ids??[]))}changeRecipeField(n,_,o,c,a,p,r){const l=o[n];if(l.factoryId){const d=c.entities[l.factoryId];switch(a){case g.jw.FactoryModules:if(null!=d.moduleRankIds&&null!=r&&"string"==typeof _&&null!=p&&null!=l.factoryModuleIds){const u=[...r.recipeModuleIds[n],g.bN.Module],C=L.M6.defaultModules(u,d.moduleRankIds,l.factoryModuleIds.length),Q=this.generateModules(p,_,l.factoryModuleIds);this.setFactoryModules(n,Q,C)}break;case g.jw.BeaconCount:"string"==typeof _&&this.setBeaconCount(n,_,d.beaconCount);break;case g.jw.Beacon:"string"==typeof _&&this.setBeacon(n,_,d.beaconId);break;case g.jw.BeaconModules:if("string"==typeof _&&null!=p&&null!=l.beaconModuleIds){const u=new Array(l.beaconModuleIds.length).fill(d.beaconModuleId),C=this.generateModules(p,_,l.beaconModuleIds);this.setBeaconModules(n,C,u)}break;case g.jw.Overclock:if("number"==typeof _){const m=d.overclock,u=Math.min(1,Math.max(250,_));this.setOverclock(n,u,m)}}}}generateModules(n,_,o){const c=[...o];for(let a=n;a<c.length;a++)c[a]=_;return c}ignoreItem(n){this.store.dispatch(new x.Rd(n))}setBelt(n,_,o){this.store.dispatch(new x.IC({id:n,value:_,def:o}))}setWagon(n,_,o){this.store.dispatch(new x.tb({id:n,value:_,def:o}))}setFactory(n,_,o){this.store.dispatch(new f.Zl({id:n,value:_,def:o}))}setFactoryModules(n,_,o){this.store.dispatch(new f.Gg({id:n,value:_,def:o}))}setBeaconCount(n,_,o){this.store.dispatch(new f.OE({id:n,value:_,def:o}))}setBeacon(n,_,o){this.store.dispatch(new f.nO({id:n,value:_,def:o}))}setBeaconModules(n,_,o){this.store.dispatch(new f.Hg({id:n,value:_,def:o}))}setBeaconTotal(n,_){this.store.dispatch(new f.K7({id:n,value:_}))}setOverclock(n,_,o){this.store.dispatch(new f.Eb({id:n,value:_,def:o}))}resetItem(n){this.store.dispatch(new x.bj(n))}resetRecipe(n){this.store.dispatch(new f.in(n))}resetIgnores(){this.store.dispatch(new x.Ob)}resetBelts(){this.store.dispatch(new x.t_)}resetWagons(){this.store.dispatch(new x.Cw)}resetFactories(){this.store.dispatch(new f.Z7)}resetBeacons(){this.store.dispatch(new f.t8)}setDisabledRecipes(n,_){this.store.dispatch(new T.t0({value:n,def:_}))}setDefaultRecipe(n,_,o){this.store.dispatch(new x.Ud({id:n,value:_,def:o}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Y._s),t.Y36(h.gz),t.Y36(Y.Ql),t.Y36(U.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lab-list"]],viewQuery:function(n,_){if(1&n&&t.Gf(mt,5),2&n){let o;t.iGM(o=t.CRH())&&(_.stepsTable=o.first)}},inputs:{mode:"mode",selectedId:"selectedId"},decls:3,vars:3,consts:[[4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","p-datatable-sm",3,"rowTrackBy","value",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","p-datatable-sm",3,"rowTrackBy","value"],["stepsTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["emptyCol2",""],["leftPad",""],["detailRow",""],["pTemplate","footer"],["pButton","","pRipple","","icon","fa-solid fa-table-columns",1,"p-button-outlined","p-button-rounded",3,"pTooltip","click"],["colspan","2"],[1,"d-flex","align-items-center"],["pButton","","pRipple","","class","ms-3 p-button-outlined p-button-rounded","icon","fa-solid fa-rotate-left",3,"pTooltip","click",4,"ngIf"],["colspan","2",4,"ngIf"],["class","w-0",4,"ngIf"],["pButton","","pRipple","","icon","fa-solid fa-rotate-left",1,"ms-3","p-button-outlined","p-button-rounded",3,"pTooltip","click"],[1,"w-0"],["pButton","","pRipple","","class","p-button-outlined p-button-rounded","icon","fa-solid fa-file-arrow-down","tooltipPosition","left",3,"pTooltip","click",4,"ngIf"],["pButton","","pRipple","","icon","fa-solid fa-file-arrow-down","tooltipPosition","left",1,"p-button-outlined","p-button-rounded",3,"pTooltip","click"],[3,"id"],[1,"d-flex"],["pButton","","pRipple","","type","button","icon","fa-solid fa-angle-right",1,"p-button-text","p-button-rounded","p-button-plain","transition-ease",3,"pTooltip","pRowToggler"],["class","p-0",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","text-end",4,"ngIf"],[1,"p-0"],[1,"d-flex","align-items-center","links"],[1,"icon"],[3,"class","pTooltip",4,"ngIf","ngIfElse"],["recipeIcon",""],["class","connect",3,"trail","last",4,"ngFor","ngForOf"],[1,"indent"],[1,"connect"],[3,"pTooltip"],[1,"w-0","text-end"],["class","monospace",4,"ngIf"],[1,"monospace"],[1,"ps-0"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-rounded","p-button-text",3,"icon","pTooltip","click"],[1,"hover-icon","fa-solid","fa-eye-slash"],["labDropdownIcon","",3,"pTooltip","escape","ngModel","options","onChange",4,"ngIf","ngIfElse"],["pipesDropdown",""],["pipeIcon",""],["labDropdownIcon","",3,"pTooltip","escape","ngModel","options","onChange"],[3,"pTooltip","escape"],["fluidWagonsDropdown",""],["labDropdownIcon","",3,"pTooltip","escape","ngModel","options","onChange",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],["labDropdownIcon","",3,"pTooltip","escape","options","ngModel","onChange",4,"ngIf"],["suffix","%",3,"min","max","step","size","pTooltip","ngModel","onBlur",4,"ngIf"],["labDropdownIcon","",3,"pTooltip","escape","options","ngModel","onChange"],["suffix","%",3,"min","max","step","size","pTooltip","ngModel","onBlur"],["overclockInput",""],["labDropdownIcon","","class","module-dropdown me-n3","tooltipPosition","top",3,"pTooltip","escape","options","ngModel","onChange",4,"ngFor","ngForOf"],["labDropdownIcon","","tooltipPosition","top",1,"module-dropdown","me-n3",3,"pTooltip","escape","options","ngModel","onChange"],["class","text-end","width","3rem",3,"value","hideButtons","setValue",4,"ngIf"],["width","3rem",1,"text-end",3,"value","hideButtons","setValue"],[1,"text-end"],["target","_blank",3,"href"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-up-right-from-square","tooltipPosition","left",1,"p-button-text","p-button-rounded","p-button-plain",3,"pTooltip"],["pButton","","pRipple","","type","button","class","p-button-text p-button-rounded p-button-plain","icon","fa-solid fa-rotate-left","tooltipPosition","left",3,"pTooltip","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left","tooltipPosition","left",1,"p-button-text","p-button-rounded","p-button-plain",3,"pTooltip","click"],[3,"href"],["pButton","","pRipple","","type","button","icon","fa-solid fa-link",1,"p-button-text","p-button-rounded","p-button-plain"],["colspan","100"],[3,"model","activeItem"],["expandTabMenu",""],["pTemplate","item"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","detail",4,"ngSwitchCase"],["class","detail",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"detail"],[4,"ngTemplateOutlet"],["colspan","100",1,"fw-bold"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mw-0"],[1,"fa-solid","fa-arrow-right","mx-3"],["factoryValueCell",""],[1,"d-flex","align-items-center","justify-content-end"],[3,"innerHTML"],[1,"fw-bold"],[1,"d-flex","flex-wrap"],["pButton","","pRipple","","type","button","class","hover-action p-button-rounded p-button-text me-2",3,"hover-active","icon","pTooltip","escape","click",4,"ngFor","ngForOf"],["class","p-error",4,"ngIf"],["pButton","","pRipple","","type","button","class","p-button-rounded me-2",3,"p-button-text","icon","pTooltip","escape","click",4,"ngFor","ngForOf"],[1,"p-error"],["pButton","","pRipple","","type","button",1,"p-button-rounded","me-2",3,"icon","pTooltip","escape","click"],["pButton","","pRipple","","type","button",1,"hover-action","p-button-rounded","p-button-text","me-2",3,"icon","pTooltip","escape","click"],["colspan","100",1,"p-0"],["factoryFill",""],[1,"d-flex","m-1","p-2","invisible"],[1,"lab-icon"],["class","m-1 p-2 fa-solid fa-arrow-right",4,"ngIf"],[1,"m-1","p-2","fa-solid","fa-arrow-right"],["totalCell",""],["class","text-end inherit",4,"ngIf"],[1,"text-end","inherit"],[1,"w-0","text-end","inherit"],["class","m-1 py-2",4,"ngFor","ngForOf"],[1,"ps-0","inherit"],["class","d-block",3,"class","pTooltip",4,"ngFor","ngForOf"],[1,"m-1","py-2"],[1,"d-block",3,"pTooltip"]],template:function(n,_){1&n&&(t.YNc(0,f_,2,1,"ng-container",0),t.ALo(1,"async"),t._UZ(2,"lab-columns-dialog")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,_.vm$))},dependencies:[w.sg,w.O5,w.tP,w.RF,w.n9,B.JJ,B.On,P.Hq,W.jx,D.Lt,G.Rn,k.iA,k.jB,j.d,H.u,K.b,V.l,z.h,w.Ov,w.Nd,X.X$,tt.J,nt.d,et.Z,_t.E,ot.X,it.f,ct.i,M.Y,M.y,at.Z,pt,st.f,lt.N,rt.d,gt.i],styles:[".links[_ngcontent-%COMP%]{height:4rem}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%]{position:relative;height:100%;margin-left:1rem}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%], .links[_ngcontent-%COMP%]   .connect.trail[_ngcontent-%COMP%]{border-left:2px dotted var(--text-color-secondary)}.links[_ngcontent-%COMP%]   .connect.last[_ngcontent-%COMP%]:not(.trail){margin-bottom:2rem;height:2rem}.links[_ngcontent-%COMP%]   .connect[_ngcontent-%COMP%] + .connect[_ngcontent-%COMP%]{margin-left:2rem}.links[_ngcontent-%COMP%]   .indent[_ngcontent-%COMP%]{margin-left:0;border-top:2px dotted var(--text-color-secondary);width:1rem}.links[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem;height:2rem}[_nghost-%COMP%]     .p-dropdown:not(:hover):not(:focus):not(.ng-invalid), [_nghost-%COMP%]     .p-inputtext:not(:hover):not(:focus):not(.ng-invalid){border-color:transparent;background-color:transparent}[_nghost-%COMP%]     .module-dropdown:not(:last-child) .p-dropdown{border-right-color:transparent;border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown:not(:last-child) .p-dropdown{border-top-color:var(--primary-color);border-bottom-color:var(--primary-color)}[_nghost-%COMP%]     .module-dropdown:hover~.module-dropdown:last-child .p-dropdown{border-color:var(--primary-color);border-left-color:transparent}tr.detail[_ngcontent-%COMP%]{background-color:var(--surface-ground)}"],changeDetection:0}),e})()}];let x_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(u_),h.Bz]}),e})(),I_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[w.ez,q.o,R.S,x_]}),e})()}}]);