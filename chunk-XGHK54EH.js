import{a as ai,b as si,c as li}from"./chunk-PPLQV6ZV.js";import{Ac as de,Bd as ni,Cc as Zn,Cd as jt,Dd as ii,E as Kn,Ec as Jn,Hd as oi,Ib as Ie,Ic as Me,Jc as mr,Nc as ei,O as It,S as pt,c as Jr,cd as St,d as en,hd as Ct,l as tn,nd as ti,pd as ri,q as rn,qc as _r,rd as sn,sc as Qn,tc as on,uc as dr,v as Yn,wc as ne,wd as _t,xa as nn,xc as an,yd as tt}from"./chunk-HSLXRSQY.js";import{a as Wn,b as Gn,f as Lt,h as Pf}from"./chunk-TWZW5B45.js";var ma=Lt(()=>{"use strict"});var ha=Lt(()=>{"use strict"});var ga=Lt(()=>{"use strict"});var va=Lt((Xr,Fn)=>{"use strict";var Pn=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e){e=e||{};var e=typeof e<"u"?e:{},i,l;e.ready=new Promise(function(n,o){i=n,l=o});var c=Object.assign({},e),f=[],a="./this.program",m=(n,o)=>{throw o},_=typeof window=="object",g=typeof importScripts=="function",E=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S="";function B(n){return e.locateFile?e.locateFile(n,S):S+n}var F,q,ie,V;function K(n){if(n instanceof Ln)return;G("exiting due to exception: "+n)}if(E){var Q=ma(),R=ha();g?S=R.dirname(S)+"/":S=__dirname+"/",F=(n,o)=>(n=ur(n)?new URL(n):R.normalize(n),Q.readFileSync(n,o?void 0:"utf8")),ie=n=>{var o=F(n,!0);return o.buffer||(o=new Uint8Array(o)),o},q=(n,o,u)=>{n=ur(n)?new URL(n):R.normalize(n),Q.readFile(n,function(d,h){d?u(d):o(h.buffer)})},process.argv.length>1&&(a=process.argv[1].replace(/\\/g,"/")),f=process.argv.slice(2),process.on("uncaughtException",function(n){if(!(n instanceof Ln))throw n}),process.on("unhandledRejection",function(n){throw n}),m=(n,o)=>{if(st())throw process.exitCode=n,o;K(o),process.exit(n)},e.inspect=function(){return"[Emscripten Module object]"}}else(_||g)&&(g?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),t&&(S=t),S.indexOf("blob:")!==0?S=S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):S="",F=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.send(null),o.responseText},g&&(ie=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),q=(n,o,u)=>{var d=new XMLHttpRequest;d.open("GET",n,!0),d.responseType="arraybuffer",d.onload=()=>{if(d.status==200||d.status==0&&d.response){o(d.response);return}u()},d.onerror=u,d.send(null)},V=n=>document.title=n);var W=e.print||console.log.bind(console),G=e.printErr||console.warn.bind(console);Object.assign(e,c),c=null,e.arguments&&(f=e.arguments),e.thisProgram&&(a=e.thisProgram),e.quit&&(m=e.quit);var re;e.wasmBinary&&(re=e.wasmBinary);var ue=e.noExitRuntime||!0;typeof WebAssembly!="object"&&He("no native wasm support detected");var ce,pe=!1,_e;function Re(n,o){n||He(o)}var Se=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function O(n,o,u){for(var d=o+u,h=o;n[h]&&!(h>=d);)++h;if(h-o>16&&n.buffer&&Se)return Se.decode(n.subarray(o,h));for(var y="";o<h;){var x=n[o++];if(!(x&128)){y+=String.fromCharCode(x);continue}var I=n[o++]&63;if((x&224)==192){y+=String.fromCharCode((x&31)<<6|I);continue}var C=n[o++]&63;if((x&240)==224?x=(x&15)<<12|I<<6|C:x=(x&7)<<18|I<<12|C<<6|n[o++]&63,x<65536)y+=String.fromCharCode(x);else{var Y=x-65536;y+=String.fromCharCode(55296|Y>>10,56320|Y&1023)}}return y}function k(n,o){return n?O(b,n,o):""}function T(n,o,u,d){if(!(d>0))return 0;for(var h=u,y=u+d-1,x=0;x<n.length;++x){var I=n.charCodeAt(x);if(I>=55296&&I<=57343){var C=n.charCodeAt(++x);I=65536+((I&1023)<<10)|C&1023}if(I<=127){if(u>=y)break;o[u++]=I}else if(I<=2047){if(u+1>=y)break;o[u++]=192|I>>6,o[u++]=128|I&63}else if(I<=65535){if(u+2>=y)break;o[u++]=224|I>>12,o[u++]=128|I>>6&63,o[u++]=128|I&63}else{if(u+3>=y)break;o[u++]=240|I>>18,o[u++]=128|I>>12&63,o[u++]=128|I>>6&63,o[u++]=128|I&63}}return o[u]=0,u-h}function z(n,o,u){return T(n,b,o,u)}function w(n){for(var o=0,u=0;u<n.length;++u){var d=n.charCodeAt(u);d<=127?o++:d<=2047?o+=2:d>=55296&&d<=57343?(o+=4,++u):o+=3}return o}var s,v,b,N,U,P,M,D,A;function L(n){s=n,e.HEAP8=v=new Int8Array(n),e.HEAP16=N=new Int16Array(n),e.HEAP32=P=new Int32Array(n),e.HEAPU8=b=new Uint8Array(n),e.HEAPU16=U=new Uint16Array(n),e.HEAPU32=M=new Uint32Array(n),e.HEAPF32=D=new Float32Array(n),e.HEAPF64=A=new Float64Array(n)}var $=e.INITIAL_MEMORY||16777216,H,j=[],J=[],ye=[],he=!1;function st(){return ue}function We(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Pt(e.preRun.shift());Kr(j)}function lt(){he=!0,!e.noFSInit&&!p.init.initialized&&p.init(),p.ignorePermissions=!1,Je.init(),Kr(J)}function ut(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)ka(e.postRun.shift());Kr(ye)}function Pt(n){j.unshift(n)}function ct(n){J.unshift(n)}function ka(n){ye.unshift(n)}var ft=0,Gr=null,Ft=null;function cd(n){return n}function Yr(n){ft++,e.monitorRunDependencies&&e.monitorRunDependencies(ft)}function lr(n){if(ft--,e.monitorRunDependencies&&e.monitorRunDependencies(ft),ft==0&&(Gr!==null&&(clearInterval(Gr),Gr=null),Ft)){var o=Ft;Ft=null,o()}}function He(n){e.onAbort&&e.onAbort(n),n="Aborted("+n+")",G(n),pe=!0,_e=1,n+=". Build with -sASSERTIONS for more info.";var o=new WebAssembly.RuntimeError(n);throw l(o),o}var Ia="data:application/octet-stream;base64,";function Bn(n){return n.startsWith(Ia)}function ur(n){return n.startsWith("file://")}var De;De="glpk.all.wasm",Bn(De)||(De=B(De));function zn(n){try{if(n==De&&re)return new Uint8Array(re);if(ie)return ie(n);throw"both async and sync fetching of the wasm failed"}catch(o){He(o)}}function Sa(){if(!re&&(_||g)){if(typeof fetch=="function"&&!ur(De))return fetch(De,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+De+"'";return n.arrayBuffer()}).catch(function(){return zn(De)});if(q)return new Promise(function(n,o){q(De,function(u){n(new Uint8Array(u))},o)})}return Promise.resolve().then(function(){return zn(De)})}function Aa(){var n={a:ss};function o(x,I){var C=x.exports;e.asm=C,ce=e.asm.D,L(ce.buffer),H=e.asm.N,ct(e.asm.E),lr("wasm-instantiate")}Yr("wasm-instantiate");function u(x){o(x.instance)}function d(x){return Sa().then(function(I){return WebAssembly.instantiate(I,n)}).then(function(I){return I}).then(x,function(I){G("failed to asynchronously prepare wasm: "+I),He(I)})}function h(){return!re&&typeof WebAssembly.instantiateStreaming=="function"&&!Bn(De)&&!ur(De)&&!E&&typeof fetch=="function"?fetch(De,{credentials:"same-origin"}).then(function(x){var I=WebAssembly.instantiateStreaming(x,n);return I.then(u,function(C){return G("wasm streaming compile failed: "+C),G("falling back to ArrayBuffer instantiation"),d(u)})}):d(u)}if(e.instantiateWasm)try{var y=e.instantiateWasm(n,o);return y}catch(x){G("Module.instantiateWasm callback failed with error: "+x),l(x)}return h().catch(l),{}}var ee,ge;function Ln(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function Kr(n){for(;n.length>0;)n.shift()(e)}function Ta(n,o="i8"){switch(o.endsWith("*")&&(o="*"),o){case"i1":return v[n>>0];case"i8":return v[n>>0];case"i16":return N[n>>1];case"i32":return P[n>>2];case"i64":return P[n>>2];case"float":return D[n>>2];case"double":return A[n>>3];case"*":return M[n>>2];default:He("invalid type for getValue: "+o)}return null}function Oa(n,o,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":v[n>>0]=o;break;case"i8":v[n>>0]=o;break;case"i16":N[n>>1]=o;break;case"i32":P[n>>2]=o;break;case"i64":ge=[o>>>0,(ee=o,+Math.abs(ee)>=1?ee>0?(Math.min(+Math.floor(ee/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],P[n>>2]=ge[0],P[n+4>>2]=ge[1];break;case"float":D[n>>2]=o;break;case"double":A[n>>3]=o;break;case"*":M[n>>2]=o;break;default:He("invalid type for setValue: "+u)}}function Ma(n,o,u,d){He("Assertion failed: "+k(n)+", at: "+[o?k(o):"unknown filename",u,d?k(d):"unknown function"])}function Na(n){return P[qn()>>2]=n,n}var le={isAbs:n=>n.charAt(0)==="/",splitPath:n=>{var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return o.exec(n).slice(1)},normalizeArray:(n,o)=>{for(var u=0,d=n.length-1;d>=0;d--){var h=n[d];h==="."?n.splice(d,1):h===".."?(n.splice(d,1),u++):u&&(n.splice(d,1),u--)}if(o)for(;u;u--)n.unshift("..");return n},normalize:n=>{var o=le.isAbs(n),u=n.substr(-1)==="/";return n=le.normalizeArray(n.split("/").filter(d=>!!d),!o).join("/"),!n&&!o&&(n="."),n&&u&&(n+="/"),(o?"/":"")+n},dirname:n=>{var o=le.splitPath(n),u=o[0],d=o[1];return!u&&!d?".":(d&&(d=d.substr(0,d.length-1)),u+d)},basename:n=>{if(n==="/")return"/";n=le.normalize(n),n=n.replace(/\/$/,"");var o=n.lastIndexOf("/");return o===-1?n:n.substr(o+1)},join:function(){var n=Array.prototype.slice.call(arguments);return le.normalize(n.join("/"))},join2:(n,o)=>le.normalize(n+"/"+o)};function Ra(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}else if(E)try{var o=ga();return()=>o.randomBytes(1)[0]}catch{}return()=>He("randomDevice")}var Ge={resolve:function(){for(var n="",o=!1,u=arguments.length-1;u>=-1&&!o;u--){var d=u>=0?arguments[u]:p.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!d)return"";n=d+"/"+n,o=le.isAbs(d)}return n=le.normalizeArray(n.split("/").filter(h=>!!h),!o).join("/"),(o?"/":"")+n||"."},relative:(n,o)=>{n=Ge.resolve(n).substr(1),o=Ge.resolve(o).substr(1);function u(Y){for(var oe=0;oe<Y.length&&Y[oe]==="";oe++);for(var se=Y.length-1;se>=0&&Y[se]==="";se--);return oe>se?[]:Y.slice(oe,se-oe+1)}for(var d=u(n.split("/")),h=u(o.split("/")),y=Math.min(d.length,h.length),x=y,I=0;I<y;I++)if(d[I]!==h[I]){x=I;break}for(var C=[],I=x;I<d.length;I++)C.push("..");return C=C.concat(h.slice(x)),C.join("/")}};function Qr(n,o,u){var d=u>0?u:w(n)+1,h=new Array(d),y=T(n,h,0,h.length);return o&&(h.length=y),h}var Je={ttys:[],init:function(){},shutdown:function(){},register:function(n,o){Je.ttys[n]={input:[],output:[],ops:o},p.registerDevice(n,Je.stream_ops)},stream_ops:{open:function(n){var o=Je.ttys[n.node.rdev];if(!o)throw new p.ErrnoError(43);n.tty=o,n.seekable=!1},close:function(n){n.tty.ops.fsync(n.tty)},fsync:function(n){n.tty.ops.fsync(n.tty)},read:function(n,o,u,d,h){if(!n.tty||!n.tty.ops.get_char)throw new p.ErrnoError(60);for(var y=0,x=0;x<d;x++){var I;try{I=n.tty.ops.get_char(n.tty)}catch{throw new p.ErrnoError(29)}if(I===void 0&&y===0)throw new p.ErrnoError(6);if(I==null)break;y++,o[u+x]=I}return y&&(n.node.timestamp=Date.now()),y},write:function(n,o,u,d,h){if(!n.tty||!n.tty.ops.put_char)throw new p.ErrnoError(60);try{for(var y=0;y<d;y++)n.tty.ops.put_char(n.tty,o[u+y])}catch{throw new p.ErrnoError(29)}return d&&(n.node.timestamp=Date.now()),y}},default_tty_ops:{get_char:function(n){if(!n.input.length){var o=null;if(E){var u=256,d=Buffer.alloc(u),h=0;try{h=Q.readSync(process.stdin.fd,d,0,u,-1)}catch(y){if(y.toString().includes("EOF"))h=0;else throw y}h>0?o=d.slice(0,h).toString("utf-8"):o=null}else typeof window<"u"&&typeof window.prompt=="function"?(o=window.prompt("Input: "),o!==null&&(o+=`
`)):typeof readline=="function"&&(o=readline(),o!==null&&(o+=`
`));if(!o)return null;n.input=Qr(o,!0)}return n.input.shift()},put_char:function(n,o){o===null||o===10?(W(O(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&n.output.length>0&&(W(O(n.output,0)),n.output=[])}},default_tty1_ops:{put_char:function(n,o){o===null||o===10?(G(O(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&n.output.length>0&&(G(O(n.output,0)),n.output=[])}}};function Cn(n){He()}var te={ops_table:null,mount:function(n){return te.createNode(null,"/",16895,0)},createNode:function(n,o,u,d){if(p.isBlkdev(u)||p.isFIFO(u))throw new p.ErrnoError(63);te.ops_table||(te.ops_table={dir:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr,lookup:te.node_ops.lookup,mknod:te.node_ops.mknod,rename:te.node_ops.rename,unlink:te.node_ops.unlink,rmdir:te.node_ops.rmdir,readdir:te.node_ops.readdir,symlink:te.node_ops.symlink},stream:{llseek:te.stream_ops.llseek}},file:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr},stream:{llseek:te.stream_ops.llseek,read:te.stream_ops.read,write:te.stream_ops.write,allocate:te.stream_ops.allocate,mmap:te.stream_ops.mmap,msync:te.stream_ops.msync}},link:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr,readlink:te.node_ops.readlink},stream:{}},chrdev:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr},stream:p.chrdev_stream_ops}});var h=p.createNode(n,o,u,d);return p.isDir(h.mode)?(h.node_ops=te.ops_table.dir.node,h.stream_ops=te.ops_table.dir.stream,h.contents={}):p.isFile(h.mode)?(h.node_ops=te.ops_table.file.node,h.stream_ops=te.ops_table.file.stream,h.usedBytes=0,h.contents=null):p.isLink(h.mode)?(h.node_ops=te.ops_table.link.node,h.stream_ops=te.ops_table.link.stream):p.isChrdev(h.mode)&&(h.node_ops=te.ops_table.chrdev.node,h.stream_ops=te.ops_table.chrdev.stream),h.timestamp=Date.now(),n&&(n.contents[o]=h,n.timestamp=h.timestamp),h},getFileDataAsTypedArray:function(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage:function(n,o){var u=n.contents?n.contents.length:0;if(!(u>=o)){var d=1024*1024;o=Math.max(o,u*(u<d?2:1.125)>>>0),u!=0&&(o=Math.max(o,256));var h=n.contents;n.contents=new Uint8Array(o),n.usedBytes>0&&n.contents.set(h.subarray(0,n.usedBytes),0)}},resizeFileStorage:function(n,o){if(n.usedBytes!=o)if(o==0)n.contents=null,n.usedBytes=0;else{var u=n.contents;n.contents=new Uint8Array(o),u&&n.contents.set(u.subarray(0,Math.min(o,n.usedBytes))),n.usedBytes=o}},node_ops:{getattr:function(n){var o={};return o.dev=p.isChrdev(n.mode)?n.id:1,o.ino=n.id,o.mode=n.mode,o.nlink=1,o.uid=0,o.gid=0,o.rdev=n.rdev,p.isDir(n.mode)?o.size=4096:p.isFile(n.mode)?o.size=n.usedBytes:p.isLink(n.mode)?o.size=n.link.length:o.size=0,o.atime=new Date(n.timestamp),o.mtime=new Date(n.timestamp),o.ctime=new Date(n.timestamp),o.blksize=4096,o.blocks=Math.ceil(o.size/o.blksize),o},setattr:function(n,o){o.mode!==void 0&&(n.mode=o.mode),o.timestamp!==void 0&&(n.timestamp=o.timestamp),o.size!==void 0&&te.resizeFileStorage(n,o.size)},lookup:function(n,o){throw p.genericErrors[44]},mknod:function(n,o,u,d){return te.createNode(n,o,u,d)},rename:function(n,o,u){if(p.isDir(n.mode)){var d;try{d=p.lookupNode(o,u)}catch{}if(d)for(var h in d.contents)throw new p.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=u,o.contents[u]=n,o.timestamp=n.parent.timestamp,n.parent=o},unlink:function(n,o){delete n.contents[o],n.timestamp=Date.now()},rmdir:function(n,o){var u=p.lookupNode(n,o);for(var d in u.contents)throw new p.ErrnoError(55);delete n.contents[o],n.timestamp=Date.now()},readdir:function(n){var o=[".",".."];for(var u in n.contents)n.contents.hasOwnProperty(u)&&o.push(u);return o},symlink:function(n,o,u){var d=te.createNode(n,o,41471,0);return d.link=u,d},readlink:function(n){if(!p.isLink(n.mode))throw new p.ErrnoError(28);return n.link}},stream_ops:{read:function(n,o,u,d,h){var y=n.node.contents;if(h>=n.node.usedBytes)return 0;var x=Math.min(n.node.usedBytes-h,d);if(x>8&&y.subarray)o.set(y.subarray(h,h+x),u);else for(var I=0;I<x;I++)o[u+I]=y[h+I];return x},write:function(n,o,u,d,h,y){if(o.buffer===v.buffer&&(y=!1),!d)return 0;var x=n.node;if(x.timestamp=Date.now(),o.subarray&&(!x.contents||x.contents.subarray)){if(y)return x.contents=o.subarray(u,u+d),x.usedBytes=d,d;if(x.usedBytes===0&&h===0)return x.contents=o.slice(u,u+d),x.usedBytes=d,d;if(h+d<=x.usedBytes)return x.contents.set(o.subarray(u,u+d),h),d}if(te.expandFileStorage(x,h+d),x.contents.subarray&&o.subarray)x.contents.set(o.subarray(u,u+d),h);else for(var I=0;I<d;I++)x.contents[h+I]=o[u+I];return x.usedBytes=Math.max(x.usedBytes,h+d),d},llseek:function(n,o,u){var d=o;if(u===1?d+=n.position:u===2&&p.isFile(n.node.mode)&&(d+=n.node.usedBytes),d<0)throw new p.ErrnoError(28);return d},allocate:function(n,o,u){te.expandFileStorage(n.node,o+u),n.node.usedBytes=Math.max(n.node.usedBytes,o+u)},mmap:function(n,o,u,d,h){if(!p.isFile(n.node.mode))throw new p.ErrnoError(43);var y,x,I=n.node.contents;if(!(h&2)&&I.buffer===s)x=!1,y=I.byteOffset;else{if((u>0||u+o<I.length)&&(I.subarray?I=I.subarray(u,u+o):I=Array.prototype.slice.call(I,u,u+o)),x=!0,y=Cn(o),!y)throw new p.ErrnoError(48);v.set(I,y)}return{ptr:y,allocated:x}},msync:function(n,o,u,d,h){return te.stream_ops.write(n,o,0,d,u,!1),0}}};function Da(n,o,u,d){var h=d?"":"al "+n;q(n,y=>{Re(y,'Loading data file "'+n+'" failed (no arrayBuffer).'),o(new Uint8Array(y)),h&&lr(h)},y=>{if(u)u();else throw'Loading data file "'+n+'" failed.'}),h&&Yr(h)}var p={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(n,o={})=>{if(n=Ge.resolve(n),!n)return{path:"",node:null};var u={follow_mount:!0,recurse_count:0};if(o=Object.assign(u,o),o.recurse_count>8)throw new p.ErrnoError(32);for(var d=n.split("/").filter(se=>!!se),h=p.root,y="/",x=0;x<d.length;x++){var I=x===d.length-1;if(I&&o.parent)break;if(h=p.lookupNode(h,d[x]),y=le.join2(y,d[x]),p.isMountpoint(h)&&(!I||I&&o.follow_mount)&&(h=h.mounted.root),!I||o.follow)for(var C=0;p.isLink(h.mode);){var Y=p.readlink(y);y=Ge.resolve(le.dirname(y),Y);var oe=p.lookupPath(y,{recurse_count:o.recurse_count+1});if(h=oe.node,C++>40)throw new p.ErrnoError(32)}}return{path:y,node:h}},getPath:n=>{for(var o;;){if(p.isRoot(n)){var u=n.mount.mountpoint;return o?u[u.length-1]!=="/"?u+"/"+o:u+o:u}o=o?n.name+"/"+o:n.name,n=n.parent}},hashName:(n,o)=>{for(var u=0,d=0;d<o.length;d++)u=(u<<5)-u+o.charCodeAt(d)|0;return(n+u>>>0)%p.nameTable.length},hashAddNode:n=>{var o=p.hashName(n.parent.id,n.name);n.name_next=p.nameTable[o],p.nameTable[o]=n},hashRemoveNode:n=>{var o=p.hashName(n.parent.id,n.name);if(p.nameTable[o]===n)p.nameTable[o]=n.name_next;else for(var u=p.nameTable[o];u;){if(u.name_next===n){u.name_next=n.name_next;break}u=u.name_next}},lookupNode:(n,o)=>{var u=p.mayLookup(n);if(u)throw new p.ErrnoError(u,n);for(var d=p.hashName(n.id,o),h=p.nameTable[d];h;h=h.name_next){var y=h.name;if(h.parent.id===n.id&&y===o)return h}return p.lookup(n,o)},createNode:(n,o,u,d)=>{var h=new p.FSNode(n,o,u,d);return p.hashAddNode(h),h},destroyNode:n=>{p.hashRemoveNode(n)},isRoot:n=>n===n.parent,isMountpoint:n=>!!n.mounted,isFile:n=>(n&61440)===32768,isDir:n=>(n&61440)===16384,isLink:n=>(n&61440)===40960,isChrdev:n=>(n&61440)===8192,isBlkdev:n=>(n&61440)===24576,isFIFO:n=>(n&61440)===4096,isSocket:n=>(n&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:n=>{var o=p.flagModes[n];if(typeof o>"u")throw new Error("Unknown file open mode: "+n);return o},flagsToPermissionString:n=>{var o=["r","w","rw"][n&3];return n&512&&(o+="w"),o},nodePermissions:(n,o)=>p.ignorePermissions?0:o.includes("r")&&!(n.mode&292)||o.includes("w")&&!(n.mode&146)||o.includes("x")&&!(n.mode&73)?2:0,mayLookup:n=>{var o=p.nodePermissions(n,"x");return o||(n.node_ops.lookup?0:2)},mayCreate:(n,o)=>{try{var u=p.lookupNode(n,o);return 20}catch{}return p.nodePermissions(n,"wx")},mayDelete:(n,o,u)=>{var d;try{d=p.lookupNode(n,o)}catch(y){return y.errno}var h=p.nodePermissions(n,"wx");if(h)return h;if(u){if(!p.isDir(d.mode))return 54;if(p.isRoot(d)||p.getPath(d)===p.cwd())return 10}else if(p.isDir(d.mode))return 31;return 0},mayOpen:(n,o)=>n?p.isLink(n.mode)?32:p.isDir(n.mode)&&(p.flagsToPermissionString(o)!=="r"||o&512)?31:p.nodePermissions(n,p.flagsToPermissionString(o)):44,MAX_OPEN_FDS:4096,nextfd:(n=0,o=p.MAX_OPEN_FDS)=>{for(var u=n;u<=o;u++)if(!p.streams[u])return u;throw new p.ErrnoError(33)},getStream:n=>p.streams[n],createStream:(n,o,u)=>{p.FSStream||(p.FSStream=function(){this.shared={}},p.FSStream.prototype={},Object.defineProperties(p.FSStream.prototype,{object:{get:function(){return this.node},set:function(h){this.node=h}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(h){this.shared.flags=h}},position:{get:function(){return this.shared.position},set:function(h){this.shared.position=h}}})),n=Object.assign(new p.FSStream,n);var d=p.nextfd(o,u);return n.fd=d,p.streams[d]=n,n},closeStream:n=>{p.streams[n]=null},chrdev_stream_ops:{open:n=>{var o=p.getDevice(n.node.rdev);n.stream_ops=o.stream_ops,n.stream_ops.open&&n.stream_ops.open(n)},llseek:()=>{throw new p.ErrnoError(70)}},major:n=>n>>8,minor:n=>n&255,makedev:(n,o)=>n<<8|o,registerDevice:(n,o)=>{p.devices[n]={stream_ops:o}},getDevice:n=>p.devices[n],getMounts:n=>{for(var o=[],u=[n];u.length;){var d=u.pop();o.push(d),u.push.apply(u,d.mounts)}return o},syncfs:(n,o)=>{typeof n=="function"&&(o=n,n=!1),p.syncFSRequests++,p.syncFSRequests>1&&G("warning: "+p.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var u=p.getMounts(p.root.mount),d=0;function h(x){return p.syncFSRequests--,o(x)}function y(x){if(x)return y.errored?void 0:(y.errored=!0,h(x));++d>=u.length&&h(null)}u.forEach(x=>{if(!x.type.syncfs)return y(null);x.type.syncfs(x,n,y)})},mount:(n,o,u)=>{var d=u==="/",h=!u,y;if(d&&p.root)throw new p.ErrnoError(10);if(!d&&!h){var x=p.lookupPath(u,{follow_mount:!1});if(u=x.path,y=x.node,p.isMountpoint(y))throw new p.ErrnoError(10);if(!p.isDir(y.mode))throw new p.ErrnoError(54)}var I={type:n,opts:o,mountpoint:u,mounts:[]},C=n.mount(I);return C.mount=I,I.root=C,d?p.root=C:y&&(y.mounted=I,y.mount&&y.mount.mounts.push(I)),C},unmount:n=>{var o=p.lookupPath(n,{follow_mount:!1});if(!p.isMountpoint(o.node))throw new p.ErrnoError(28);var u=o.node,d=u.mounted,h=p.getMounts(d);Object.keys(p.nameTable).forEach(x=>{for(var I=p.nameTable[x];I;){var C=I.name_next;h.includes(I.mount)&&p.destroyNode(I),I=C}}),u.mounted=null;var y=u.mount.mounts.indexOf(d);u.mount.mounts.splice(y,1)},lookup:(n,o)=>n.node_ops.lookup(n,o),mknod:(n,o,u)=>{var d=p.lookupPath(n,{parent:!0}),h=d.node,y=le.basename(n);if(!y||y==="."||y==="..")throw new p.ErrnoError(28);var x=p.mayCreate(h,y);if(x)throw new p.ErrnoError(x);if(!h.node_ops.mknod)throw new p.ErrnoError(63);return h.node_ops.mknod(h,y,o,u)},create:(n,o)=>(o=o!==void 0?o:438,o&=4095,o|=32768,p.mknod(n,o,0)),mkdir:(n,o)=>(o=o!==void 0?o:511,o&=1023,o|=16384,p.mknod(n,o,0)),mkdirTree:(n,o)=>{for(var u=n.split("/"),d="",h=0;h<u.length;++h)if(u[h]){d+="/"+u[h];try{p.mkdir(d,o)}catch(y){if(y.errno!=20)throw y}}},mkdev:(n,o,u)=>(typeof u>"u"&&(u=o,o=438),o|=8192,p.mknod(n,o,u)),symlink:(n,o)=>{if(!Ge.resolve(n))throw new p.ErrnoError(44);var u=p.lookupPath(o,{parent:!0}),d=u.node;if(!d)throw new p.ErrnoError(44);var h=le.basename(o),y=p.mayCreate(d,h);if(y)throw new p.ErrnoError(y);if(!d.node_ops.symlink)throw new p.ErrnoError(63);return d.node_ops.symlink(d,h,n)},rename:(n,o)=>{var u=le.dirname(n),d=le.dirname(o),h=le.basename(n),y=le.basename(o),x,I,C;if(x=p.lookupPath(n,{parent:!0}),I=x.node,x=p.lookupPath(o,{parent:!0}),C=x.node,!I||!C)throw new p.ErrnoError(44);if(I.mount!==C.mount)throw new p.ErrnoError(75);var Y=p.lookupNode(I,h),oe=Ge.relative(n,d);if(oe.charAt(0)!==".")throw new p.ErrnoError(28);if(oe=Ge.relative(o,u),oe.charAt(0)!==".")throw new p.ErrnoError(55);var se;try{se=p.lookupNode(C,y)}catch{}if(Y!==se){var Z=p.isDir(Y.mode),X=p.mayDelete(I,h,Z);if(X)throw new p.ErrnoError(X);if(X=se?p.mayDelete(C,y,Z):p.mayCreate(C,y),X)throw new p.ErrnoError(X);if(!I.node_ops.rename)throw new p.ErrnoError(63);if(p.isMountpoint(Y)||se&&p.isMountpoint(se))throw new p.ErrnoError(10);if(C!==I&&(X=p.nodePermissions(I,"w"),X))throw new p.ErrnoError(X);p.hashRemoveNode(Y);try{I.node_ops.rename(Y,C,y)}catch(ae){throw ae}finally{p.hashAddNode(Y)}}},rmdir:n=>{var o=p.lookupPath(n,{parent:!0}),u=o.node,d=le.basename(n),h=p.lookupNode(u,d),y=p.mayDelete(u,d,!0);if(y)throw new p.ErrnoError(y);if(!u.node_ops.rmdir)throw new p.ErrnoError(63);if(p.isMountpoint(h))throw new p.ErrnoError(10);u.node_ops.rmdir(u,d),p.destroyNode(h)},readdir:n=>{var o=p.lookupPath(n,{follow:!0}),u=o.node;if(!u.node_ops.readdir)throw new p.ErrnoError(54);return u.node_ops.readdir(u)},unlink:n=>{var o=p.lookupPath(n,{parent:!0}),u=o.node;if(!u)throw new p.ErrnoError(44);var d=le.basename(n),h=p.lookupNode(u,d),y=p.mayDelete(u,d,!1);if(y)throw new p.ErrnoError(y);if(!u.node_ops.unlink)throw new p.ErrnoError(63);if(p.isMountpoint(h))throw new p.ErrnoError(10);u.node_ops.unlink(u,d),p.destroyNode(h)},readlink:n=>{var o=p.lookupPath(n),u=o.node;if(!u)throw new p.ErrnoError(44);if(!u.node_ops.readlink)throw new p.ErrnoError(28);return Ge.resolve(p.getPath(u.parent),u.node_ops.readlink(u))},stat:(n,o)=>{var u=p.lookupPath(n,{follow:!o}),d=u.node;if(!d)throw new p.ErrnoError(44);if(!d.node_ops.getattr)throw new p.ErrnoError(63);return d.node_ops.getattr(d)},lstat:n=>p.stat(n,!0),chmod:(n,o,u)=>{var d;if(typeof n=="string"){var h=p.lookupPath(n,{follow:!u});d=h.node}else d=n;if(!d.node_ops.setattr)throw new p.ErrnoError(63);d.node_ops.setattr(d,{mode:o&4095|d.mode&-4096,timestamp:Date.now()})},lchmod:(n,o)=>{p.chmod(n,o,!0)},fchmod:(n,o)=>{var u=p.getStream(n);if(!u)throw new p.ErrnoError(8);p.chmod(u.node,o)},chown:(n,o,u,d)=>{var h;if(typeof n=="string"){var y=p.lookupPath(n,{follow:!d});h=y.node}else h=n;if(!h.node_ops.setattr)throw new p.ErrnoError(63);h.node_ops.setattr(h,{timestamp:Date.now()})},lchown:(n,o,u)=>{p.chown(n,o,u,!0)},fchown:(n,o,u)=>{var d=p.getStream(n);if(!d)throw new p.ErrnoError(8);p.chown(d.node,o,u)},truncate:(n,o)=>{if(o<0)throw new p.ErrnoError(28);var u;if(typeof n=="string"){var d=p.lookupPath(n,{follow:!0});u=d.node}else u=n;if(!u.node_ops.setattr)throw new p.ErrnoError(63);if(p.isDir(u.mode))throw new p.ErrnoError(31);if(!p.isFile(u.mode))throw new p.ErrnoError(28);var h=p.nodePermissions(u,"w");if(h)throw new p.ErrnoError(h);u.node_ops.setattr(u,{size:o,timestamp:Date.now()})},ftruncate:(n,o)=>{var u=p.getStream(n);if(!u)throw new p.ErrnoError(8);if(!(u.flags&2097155))throw new p.ErrnoError(28);p.truncate(u.node,o)},utime:(n,o,u)=>{var d=p.lookupPath(n,{follow:!0}),h=d.node;h.node_ops.setattr(h,{timestamp:Math.max(o,u)})},open:(n,o,u)=>{if(n==="")throw new p.ErrnoError(44);o=typeof o=="string"?p.modeStringToFlags(o):o,u=typeof u>"u"?438:u,o&64?u=u&4095|32768:u=0;var d;if(typeof n=="object")d=n;else{n=le.normalize(n);try{var h=p.lookupPath(n,{follow:!(o&131072)});d=h.node}catch{}}var y=!1;if(o&64)if(d){if(o&128)throw new p.ErrnoError(20)}else d=p.mknod(n,u,0),y=!0;if(!d)throw new p.ErrnoError(44);if(p.isChrdev(d.mode)&&(o&=-513),o&65536&&!p.isDir(d.mode))throw new p.ErrnoError(54);if(!y){var x=p.mayOpen(d,o);if(x)throw new p.ErrnoError(x)}o&512&&!y&&p.truncate(d,0),o&=-131713;var I=p.createStream({node:d,path:p.getPath(d),flags:o,seekable:!0,position:0,stream_ops:d.stream_ops,ungotten:[],error:!1});return I.stream_ops.open&&I.stream_ops.open(I),e.logReadFiles&&!(o&1)&&(p.readFiles||(p.readFiles={}),n in p.readFiles||(p.readFiles[n]=1)),I},close:n=>{if(p.isClosed(n))throw new p.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(o){throw o}finally{p.closeStream(n.fd)}n.fd=null},isClosed:n=>n.fd===null,llseek:(n,o,u)=>{if(p.isClosed(n))throw new p.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new p.ErrnoError(70);if(u!=0&&u!=1&&u!=2)throw new p.ErrnoError(28);return n.position=n.stream_ops.llseek(n,o,u),n.ungotten=[],n.position},read:(n,o,u,d,h)=>{if(d<0||h<0)throw new p.ErrnoError(28);if(p.isClosed(n))throw new p.ErrnoError(8);if((n.flags&2097155)===1)throw new p.ErrnoError(8);if(p.isDir(n.node.mode))throw new p.ErrnoError(31);if(!n.stream_ops.read)throw new p.ErrnoError(28);var y=typeof h<"u";if(!y)h=n.position;else if(!n.seekable)throw new p.ErrnoError(70);var x=n.stream_ops.read(n,o,u,d,h);return y||(n.position+=x),x},write:(n,o,u,d,h,y)=>{if(d<0||h<0)throw new p.ErrnoError(28);if(p.isClosed(n))throw new p.ErrnoError(8);if(!(n.flags&2097155))throw new p.ErrnoError(8);if(p.isDir(n.node.mode))throw new p.ErrnoError(31);if(!n.stream_ops.write)throw new p.ErrnoError(28);n.seekable&&n.flags&1024&&p.llseek(n,0,2);var x=typeof h<"u";if(!x)h=n.position;else if(!n.seekable)throw new p.ErrnoError(70);var I=n.stream_ops.write(n,o,u,d,h,y);return x||(n.position+=I),I},allocate:(n,o,u)=>{if(p.isClosed(n))throw new p.ErrnoError(8);if(o<0||u<=0)throw new p.ErrnoError(28);if(!(n.flags&2097155))throw new p.ErrnoError(8);if(!p.isFile(n.node.mode)&&!p.isDir(n.node.mode))throw new p.ErrnoError(43);if(!n.stream_ops.allocate)throw new p.ErrnoError(138);n.stream_ops.allocate(n,o,u)},mmap:(n,o,u,d,h)=>{if(d&2&&!(h&2)&&(n.flags&2097155)!==2)throw new p.ErrnoError(2);if((n.flags&2097155)===1)throw new p.ErrnoError(2);if(!n.stream_ops.mmap)throw new p.ErrnoError(43);return n.stream_ops.mmap(n,o,u,d,h)},msync:(n,o,u,d,h)=>n.stream_ops.msync?n.stream_ops.msync(n,o,u,d,h):0,munmap:n=>0,ioctl:(n,o,u)=>{if(!n.stream_ops.ioctl)throw new p.ErrnoError(59);return n.stream_ops.ioctl(n,o,u)},readFile:(n,o={})=>{if(o.flags=o.flags||0,o.encoding=o.encoding||"binary",o.encoding!=="utf8"&&o.encoding!=="binary")throw new Error('Invalid encoding type "'+o.encoding+'"');var u,d=p.open(n,o.flags),h=p.stat(n),y=h.size,x=new Uint8Array(y);return p.read(d,x,0,y,0),o.encoding==="utf8"?u=O(x,0):o.encoding==="binary"&&(u=x),p.close(d),u},writeFile:(n,o,u={})=>{u.flags=u.flags||577;var d=p.open(n,u.flags,u.mode);if(typeof o=="string"){var h=new Uint8Array(w(o)+1),y=T(o,h,0,h.length);p.write(d,h,0,y,void 0,u.canOwn)}else if(ArrayBuffer.isView(o))p.write(d,o,0,o.byteLength,void 0,u.canOwn);else throw new Error("Unsupported data type");p.close(d)},cwd:()=>p.currentPath,chdir:n=>{var o=p.lookupPath(n,{follow:!0});if(o.node===null)throw new p.ErrnoError(44);if(!p.isDir(o.node.mode))throw new p.ErrnoError(54);var u=p.nodePermissions(o.node,"x");if(u)throw new p.ErrnoError(u);p.currentPath=o.path},createDefaultDirectories:()=>{p.mkdir("/tmp"),p.mkdir("/home"),p.mkdir("/home/web_user")},createDefaultDevices:()=>{p.mkdir("/dev"),p.registerDevice(p.makedev(1,3),{read:()=>0,write:(o,u,d,h,y)=>h}),p.mkdev("/dev/null",p.makedev(1,3)),Je.register(p.makedev(5,0),Je.default_tty_ops),Je.register(p.makedev(6,0),Je.default_tty1_ops),p.mkdev("/dev/tty",p.makedev(5,0)),p.mkdev("/dev/tty1",p.makedev(6,0));var n=Ra();p.createDevice("/dev","random",n),p.createDevice("/dev","urandom",n),p.mkdir("/dev/shm"),p.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{p.mkdir("/proc");var n=p.mkdir("/proc/self");p.mkdir("/proc/self/fd"),p.mount({mount:()=>{var o=p.createNode(n,"fd",16895,73);return o.node_ops={lookup:(u,d)=>{var h=+d,y=p.getStream(h);if(!y)throw new p.ErrnoError(8);var x={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>y.path}};return x.parent=x,x}},o}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?p.createDevice("/dev","stdin",e.stdin):p.symlink("/dev/tty","/dev/stdin"),e.stdout?p.createDevice("/dev","stdout",null,e.stdout):p.symlink("/dev/tty","/dev/stdout"),e.stderr?p.createDevice("/dev","stderr",null,e.stderr):p.symlink("/dev/tty1","/dev/stderr");var n=p.open("/dev/stdin",0),o=p.open("/dev/stdout",1),u=p.open("/dev/stderr",1)},ensureErrnoError:()=>{p.ErrnoError||(p.ErrnoError=function(o,u){this.node=u,this.setErrno=function(d){this.errno=d},this.setErrno(o),this.message="FS error"},p.ErrnoError.prototype=new Error,p.ErrnoError.prototype.constructor=p.ErrnoError,[44].forEach(n=>{p.genericErrors[n]=new p.ErrnoError(n),p.genericErrors[n].stack="<generic error, no stack>"}))},staticInit:()=>{p.ensureErrnoError(),p.nameTable=new Array(4096),p.mount(te,{},"/"),p.createDefaultDirectories(),p.createDefaultDevices(),p.createSpecialDirectories(),p.filesystems={MEMFS:te}},init:(n,o,u)=>{p.init.initialized=!0,p.ensureErrnoError(),e.stdin=n||e.stdin,e.stdout=o||e.stdout,e.stderr=u||e.stderr,p.createStandardStreams()},quit:()=>{p.init.initialized=!1;for(var n=0;n<p.streams.length;n++){var o=p.streams[n];o&&p.close(o)}},getMode:(n,o)=>{var u=0;return n&&(u|=365),o&&(u|=146),u},findObject:(n,o)=>{var u=p.analyzePath(n,o);return u.exists?u.object:null},analyzePath:(n,o)=>{try{var u=p.lookupPath(n,{follow:!o});n=u.path}catch{}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=p.lookupPath(n,{parent:!0});d.parentExists=!0,d.parentPath=u.path,d.parentObject=u.node,d.name=le.basename(n),u=p.lookupPath(n,{follow:!o}),d.exists=!0,d.path=u.path,d.object=u.node,d.name=u.node.name,d.isRoot=u.path==="/"}catch(h){d.error=h.errno}return d},createPath:(n,o,u,d)=>{n=typeof n=="string"?n:p.getPath(n);for(var h=o.split("/").reverse();h.length;){var y=h.pop();if(y){var x=le.join2(n,y);try{p.mkdir(x)}catch{}n=x}}return x},createFile:(n,o,u,d,h)=>{var y=le.join2(typeof n=="string"?n:p.getPath(n),o),x=p.getMode(d,h);return p.create(y,x)},createDataFile:(n,o,u,d,h,y)=>{var x=o;n&&(n=typeof n=="string"?n:p.getPath(n),x=o?le.join2(n,o):n);var I=p.getMode(d,h),C=p.create(x,I);if(u){if(typeof u=="string"){for(var Y=new Array(u.length),oe=0,se=u.length;oe<se;++oe)Y[oe]=u.charCodeAt(oe);u=Y}p.chmod(C,I|146);var Z=p.open(C,577);p.write(Z,u,0,u.length,0,y),p.close(Z),p.chmod(C,I)}return C},createDevice:(n,o,u,d)=>{var h=le.join2(typeof n=="string"?n:p.getPath(n),o),y=p.getMode(!!u,!!d);p.createDevice.major||(p.createDevice.major=64);var x=p.makedev(p.createDevice.major++,0);return p.registerDevice(x,{open:I=>{I.seekable=!1},close:I=>{d&&d.buffer&&d.buffer.length&&d(10)},read:(I,C,Y,oe,se)=>{for(var Z=0,X=0;X<oe;X++){var ae;try{ae=u()}catch{throw new p.ErrnoError(29)}if(ae===void 0&&Z===0)throw new p.ErrnoError(6);if(ae==null)break;Z++,C[Y+X]=ae}return Z&&(I.node.timestamp=Date.now()),Z},write:(I,C,Y,oe,se)=>{for(var Z=0;Z<oe;Z++)try{d(C[Y+Z])}catch{throw new p.ErrnoError(29)}return oe&&(I.node.timestamp=Date.now()),Z}}),p.mkdev(h,y,x)},forceLoadFile:n=>{if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(F)try{n.contents=Qr(F(n.url),!0),n.usedBytes=n.contents.length}catch{throw new p.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(n,o,u,d,h)=>{function y(){this.lengthKnown=!1,this.chunks=[]}if(y.prototype.get=function(X){if(!(X>this.length-1||X<0)){var ae=X%this.chunkSize,be=X/this.chunkSize|0;return this.getter(be)[ae]}},y.prototype.setDataGetter=function(X){this.getter=X},y.prototype.cacheLength=function(){var X=new XMLHttpRequest;if(X.open("HEAD",u,!1),X.send(null),!(X.status>=200&&X.status<300||X.status===304))throw new Error("Couldn't load "+u+". Status: "+X.status);var ae=Number(X.getResponseHeader("Content-length")),be,Ye=(be=X.getResponseHeader("Accept-Ranges"))&&be==="bytes",Le=(be=X.getResponseHeader("Content-Encoding"))&&be==="gzip",Ce=1024*1024;Ye||(Ce=ae);var je=(qe,kt)=>{if(qe>kt)throw new Error("invalid range ("+qe+", "+kt+") or no bytes requested!");if(kt>ae-1)throw new Error("only "+ae+" bytes available! programmer error!");var xe=new XMLHttpRequest;if(xe.open("GET",u,!1),ae!==Ce&&xe.setRequestHeader("Range","bytes="+qe+"-"+kt),xe.responseType="arraybuffer",xe.overrideMimeType&&xe.overrideMimeType("text/plain; charset=x-user-defined"),xe.send(null),!(xe.status>=200&&xe.status<300||xe.status===304))throw new Error("Couldn't load "+u+". Status: "+xe.status);return xe.response!==void 0?new Uint8Array(xe.response||[]):Qr(xe.responseText||"",!0)},zt=this;zt.setDataGetter(qe=>{var kt=qe*Ce,xe=(qe+1)*Ce-1;if(xe=Math.min(xe,ae-1),typeof zt.chunks[qe]>"u"&&(zt.chunks[qe]=je(kt,xe)),typeof zt.chunks[qe]>"u")throw new Error("doXHR failed!");return zt.chunks[qe]}),(Le||!ae)&&(Ce=ae=1,ae=this.getter(0).length,Ce=ae,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ae,this._chunkSize=Ce,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!g)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var x=new y;Object.defineProperties(x,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var I={isDevice:!1,contents:x}}else var I={isDevice:!1,url:u};var C=p.createFile(n,o,I,d,h);I.contents?C.contents=I.contents:I.url&&(C.contents=null,C.url=I.url),Object.defineProperties(C,{usedBytes:{get:function(){return this.contents.length}}});var Y={},oe=Object.keys(C.stream_ops);oe.forEach(Z=>{var X=C.stream_ops[Z];Y[Z]=function(){return p.forceLoadFile(C),X.apply(null,arguments)}});function se(Z,X,ae,be,Ye){var Le=Z.node.contents;if(Ye>=Le.length)return 0;var Ce=Math.min(Le.length-Ye,be);if(Le.slice)for(var je=0;je<Ce;je++)X[ae+je]=Le[Ye+je];else for(var je=0;je<Ce;je++)X[ae+je]=Le.get(Ye+je);return Ce}return Y.read=(Z,X,ae,be,Ye)=>(p.forceLoadFile(C),se(Z,X,ae,be,Ye)),Y.mmap=(Z,X,ae,be,Ye)=>{p.forceLoadFile(C);var Le=Cn(X);if(!Le)throw new p.ErrnoError(48);return se(Z,v,Le,X,ae),{ptr:Le,allocated:!0}},C.stream_ops=Y,C},createPreloadedFile:(n,o,u,d,h,y,x,I,C,Y)=>{var oe=o?Ge.resolve(le.join2(n,o)):n,se="cp "+oe;function Z(X){function ae(be){Y&&Y(),I||p.createDataFile(n,o,be,d,h,C),y&&y(),lr(se)}Browser.handledByPreloadPlugin(X,oe,ae,()=>{x&&x(),lr(se)})||ae(X)}Yr(se),typeof u=="string"?Da(u,X=>Z(X),x):Z(u)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(n,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var d=p.indexedDB();try{var h=d.open(p.DB_NAME(),p.DB_VERSION)}catch(y){return u(y)}h.onupgradeneeded=()=>{W("creating db");var y=h.result;y.createObjectStore(p.DB_STORE_NAME)},h.onsuccess=()=>{var y=h.result,x=y.transaction([p.DB_STORE_NAME],"readwrite"),I=x.objectStore(p.DB_STORE_NAME),C=0,Y=0,oe=n.length;function se(){Y==0?o():u()}n.forEach(Z=>{var X=I.put(p.analyzePath(Z).object.contents,Z);X.onsuccess=()=>{C++,C+Y==oe&&se()},X.onerror=()=>{Y++,C+Y==oe&&se()}}),x.onerror=u},h.onerror=u},loadFilesFromDB:(n,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var d=p.indexedDB();try{var h=d.open(p.DB_NAME(),p.DB_VERSION)}catch(y){return u(y)}h.onupgradeneeded=u,h.onsuccess=()=>{var y=h.result;try{var x=y.transaction([p.DB_STORE_NAME],"readonly")}catch(Z){u(Z);return}var I=x.objectStore(p.DB_STORE_NAME),C=0,Y=0,oe=n.length;function se(){Y==0?o():u()}n.forEach(Z=>{var X=I.get(Z);X.onsuccess=()=>{p.analyzePath(Z).exists&&p.unlink(Z),p.createDataFile(le.dirname(Z),le.basename(Z),X.result,!0,!0,!0),C++,C+Y==oe&&se()},X.onerror=()=>{Y++,C+Y==oe&&se()}}),x.onerror=u},h.onerror=u}},ve={DEFAULT_POLLMASK:5,calculateAt:function(n,o,u){if(le.isAbs(o))return o;var d;if(n===-100)d=p.cwd();else{var h=ve.getStreamFromFD(n);d=h.path}if(o.length==0){if(!u)throw new p.ErrnoError(44);return d}return le.join2(d,o)},doStat:function(n,o,u){try{var d=n(o)}catch(I){if(I&&I.node&&le.normalize(o)!==le.normalize(p.getPath(I.node)))return-54;throw I}P[u>>2]=d.dev,P[u+8>>2]=d.ino,P[u+12>>2]=d.mode,M[u+16>>2]=d.nlink,P[u+20>>2]=d.uid,P[u+24>>2]=d.gid,P[u+28>>2]=d.rdev,ge=[d.size>>>0,(ee=d.size,+Math.abs(ee)>=1?ee>0?(Math.min(+Math.floor(ee/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],P[u+40>>2]=ge[0],P[u+44>>2]=ge[1],P[u+48>>2]=4096,P[u+52>>2]=d.blocks;var h=d.atime.getTime(),y=d.mtime.getTime(),x=d.ctime.getTime();return ge=[Math.floor(h/1e3)>>>0,(ee=Math.floor(h/1e3),+Math.abs(ee)>=1?ee>0?(Math.min(+Math.floor(ee/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],P[u+56>>2]=ge[0],P[u+60>>2]=ge[1],M[u+64>>2]=h%1e3*1e3,ge=[Math.floor(y/1e3)>>>0,(ee=Math.floor(y/1e3),+Math.abs(ee)>=1?ee>0?(Math.min(+Math.floor(ee/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],P[u+72>>2]=ge[0],P[u+76>>2]=ge[1],M[u+80>>2]=y%1e3*1e3,ge=[Math.floor(x/1e3)>>>0,(ee=Math.floor(x/1e3),+Math.abs(ee)>=1?ee>0?(Math.min(+Math.floor(ee/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],P[u+88>>2]=ge[0],P[u+92>>2]=ge[1],M[u+96>>2]=x%1e3*1e3,ge=[d.ino>>>0,(ee=d.ino,+Math.abs(ee)>=1?ee>0?(Math.min(+Math.floor(ee/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],P[u+104>>2]=ge[0],P[u+108>>2]=ge[1],0},doMsync:function(n,o,u,d,h){if(!p.isFile(o.node.mode))throw new p.ErrnoError(43);if(d&2)return 0;var y=b.slice(n,n+u);p.msync(o,y,h,u,d)},varargs:void 0,get:function(){ve.varargs+=4;var n=P[ve.varargs-4>>2];return n},getStr:function(n){var o=k(n);return o},getStreamFromFD:function(n){var o=p.getStream(n);if(!o)throw new p.ErrnoError(8);return o}};function Pa(n,o,u){ve.varargs=u;try{var d=ve.getStreamFromFD(n);switch(o){case 0:{var h=ve.get();if(h<0)return-28;var y;return y=p.createStream(d,h),y.fd}case 1:case 2:return 0;case 3:return d.flags;case 4:{var h=ve.get();return d.flags|=h,0}case 5:{var h=ve.get(),x=0;return N[h+x>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Na(28),-1;default:return-28}}catch(I){if(typeof p>"u"||!(I instanceof p.ErrnoError))throw I;return-I.errno}}function Fa(n,o,u){ve.varargs=u;try{var d=ve.getStreamFromFD(n);switch(o){case 21509:case 21505:return d.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return d.tty?0:-59;case 21519:{if(!d.tty)return-59;var h=ve.get();return P[h>>2]=0,0}case 21520:return d.tty?-28:-59;case 21531:{var h=ve.get();return p.ioctl(d,o,h)}case 21523:return d.tty?0:-59;case 21524:return d.tty?0:-59;default:return-28}}catch(y){if(typeof p>"u"||!(y instanceof p.ErrnoError))throw y;return-y.errno}}function Ba(n,o,u,d){ve.varargs=d;try{o=ve.getStr(o),o=ve.calculateAt(n,o);var h=d?ve.get():0;return p.open(o,u,h).fd}catch(y){if(typeof p>"u"||!(y instanceof p.ErrnoError))throw y;return-y.errno}}function za(){throw 1/0}function La(n){return M[n>>2]+P[n+4>>2]*4294967296}function Ca(n,o){var u=new Date(La(n)*1e3);P[o>>2]=u.getUTCSeconds(),P[o+4>>2]=u.getUTCMinutes(),P[o+8>>2]=u.getUTCHours(),P[o+12>>2]=u.getUTCDate(),P[o+16>>2]=u.getUTCMonth(),P[o+20>>2]=u.getUTCFullYear()-1900,P[o+24>>2]=u.getUTCDay();var d=Date.UTC(u.getUTCFullYear(),0,1,0,0,0,0),h=(u.getTime()-d)/(1e3*60*60*24)|0;P[o+28>>2]=h}function jn(n){var o=w(n)+1,u=Hn(o);return u&&T(n,v,u,o),u}function ja(n,o,u){var d=new Date().getFullYear(),h=new Date(d,0,1),y=new Date(d,6,1),x=h.getTimezoneOffset(),I=y.getTimezoneOffset(),C=Math.max(x,I);M[n>>2]=C*60,P[o>>2]=+(x!=I);function Y(ae){var be=ae.toTimeString().match(/\(([A-Za-z ]+)\)$/);return be?be[1]:"GMT"}var oe=Y(h),se=Y(y),Z=jn(oe),X=jn(se);I<x?(M[u>>2]=Z,M[u+4>>2]=X):(M[u>>2]=X,M[u+4>>2]=Z)}function Va(){He("")}function Ua(){return Date.now()}function $a(n,o,u){b.copyWithin(n,o,o+u)}function Ha(){return 2147483648}function qa(n){try{return ce.grow(n-s.byteLength+65535>>>16),L(ce.buffer),1}catch{}}function Xa(n){var o=b.length;n=n>>>0;var u=Ha();if(n>u)return!1;let d=(C,Y)=>C+(Y-C%Y)%Y;for(var h=1;h<=4;h*=2){var y=o*(1+.2/h);y=Math.min(y,n+100663296);var x=Math.min(u,d(Math.max(n,y),65536)),I=qa(x);if(I)return!0}return!1}function Wa(n){try{var o=ve.getStreamFromFD(n);return p.close(o),0}catch(u){if(typeof p>"u"||!(u instanceof p.ErrnoError))throw u;return u.errno}}function Ga(n,o,u,d){for(var h=0,y=0;y<u;y++){var x=M[o>>2],I=M[o+4>>2];o+=8;var C=p.read(n,v,x,I,d);if(C<0)return-1;if(h+=C,C<I)break}return h}function Ya(n,o,u,d){try{var h=ve.getStreamFromFD(n),y=Ga(h,o,u);return M[d>>2]=y,0}catch(x){if(typeof p>"u"||!(x instanceof p.ErrnoError))throw x;return x.errno}}function Ka(n,o){return o+2097152>>>0<4194305-!!n?(n>>>0)+o*4294967296:NaN}function Qa(n,o,u,d,h){try{var y=Ka(o,u);if(isNaN(y))return 61;var x=ve.getStreamFromFD(n);return p.llseek(x,y,d),ge=[x.position>>>0,(ee=x.position,+Math.abs(ee)>=1?ee>0?(Math.min(+Math.floor(ee/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],P[h>>2]=ge[0],P[h+4>>2]=ge[1],x.getdents&&y===0&&d===0&&(x.getdents=null),0}catch(I){if(typeof p>"u"||!(I instanceof p.ErrnoError))throw I;return I.errno}}function Za(n,o,u,d){for(var h=0,y=0;y<u;y++){var x=M[o>>2],I=M[o+4>>2];o+=8;var C=p.write(n,v,x,I,d);if(C<0)return-1;h+=C}return h}function Ja(n,o,u,d){try{var h=ve.getStreamFromFD(n),y=Za(h,o,u);return M[d>>2]=y,0}catch(x){if(typeof p>"u"||!(x instanceof p.ErrnoError))throw x;return x.errno}}var Bt=[];function ke(n){var o=Bt[n];return o||(n>=Bt.length&&(Bt.length=n+1),Bt[n]=o=H.get(n)),o}function Vn(n,o){n<128?o.push(n):o.push(n%128|128,n>>7)}function es(n){for(var o={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},u={parameters:[],results:n[0]=="v"?[]:[o[n[0]]]},d=1;d<n.length;++d)u.parameters.push(o[n[d]]),n[d]==="j"&&u.parameters.push("i32");return u}function ts(n,o){var u=n.slice(0,1),d=n.slice(1),h={i:127,p:127,j:126,f:125,d:124};o.push(96),Vn(d.length,o);for(var y=0;y<d.length;++y)o.push(h[d[y]]);u=="v"?o.push(0):o.push(1,h[u])}function rs(n,o){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(es(o),n);var u=[1];ts(o,u);var d=[0,97,115,109,1,0,0,0,1];Vn(u.length,d),d.push.apply(d,u),d.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var h=new WebAssembly.Module(new Uint8Array(d)),y=new WebAssembly.Instance(h,{e:{f:n}}),x=y.exports.f;return x}function ns(n,o){if(et)for(var u=n;u<n+o;u++){var d=ke(u);d&&et.set(d,u)}}var et=void 0,Zr=[];function is(){if(Zr.length)return Zr.pop();try{H.grow(1)}catch(n){throw n instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":n}return H.length-1}function Un(n,o){H.set(n,o),Bt[n]=H.get(n)}function os(n,o){if(et||(et=new WeakMap,ns(0,H.length)),et.has(n))return et.get(n);var u=is();try{Un(u,n)}catch(h){if(!(h instanceof TypeError))throw h;var d=rs(n,o);Un(u,d)}return et.set(n,u),u}function as(n){et.delete(ke(n)),Zr.push(n)}var $n=function(n,o,u,d){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=p.nextInode++,this.name=o,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=d},cr=365,fr=146;Object.defineProperties($n.prototype,{read:{get:function(){return(this.mode&cr)===cr},set:function(n){n?this.mode|=cr:this.mode&=~cr}},write:{get:function(){return(this.mode&fr)===fr},set:function(n){n?this.mode|=fr:this.mode&=~fr}},isFolder:{get:function(){return p.isDir(this.mode)}},isDevice:{get:function(){return p.isChrdev(this.mode)}}}),p.FSNode=$n,p.staticInit();var ss={i:Ma,q:Pa,x:Fa,y:Ba,u:za,z:Ca,A:ja,j:Va,r:Ua,B:$a,v:Xa,o:Wa,w:Ya,t:Qa,p:Ja,n:Mf,s:Df,g:Ef,e:If,c:bf,f:Af,C:Rf,b:xf,l:Nf,d:wf,k:Sf,a:kf,h:Of,m:Tf},fd=Aa(),ls=e.___wasm_call_ctors=function(){return(ls=e.___wasm_call_ctors=e.asm.E).apply(null,arguments)},us=e._glp_printf=function(){return(us=e._glp_printf=e.asm.F).apply(null,arguments)},cs=e._glp_alloc=function(){return(cs=e._glp_alloc=e.asm.G).apply(null,arguments)},fs=e._glp_free=function(){return(fs=e._glp_free=e.asm.H).apply(null,arguments)},ps=e._glp_adv_basis=function(){return(ps=e._glp_adv_basis=e.asm.I).apply(null,arguments)},_s=e._glp_std_basis=function(){return(_s=e._glp_std_basis=e.asm.J).apply(null,arguments)},ds=e._glp_set_row_stat=function(){return(ds=e._glp_set_row_stat=e.asm.K).apply(null,arguments)},ms=e._glp_set_col_stat=function(){return(ms=e._glp_set_col_stat=e.asm.L).apply(null,arguments)},hs=e._glp_assert_=function(){return(hs=e._glp_assert_=e.asm.M).apply(null,arguments)},gs=e._glp_asnprob_hall=function(){return(gs=e._glp_asnprob_hall=e.asm.O).apply(null,arguments)},vs=e._glp_check_asnprob=function(){return(vs=e._glp_check_asnprob=e.asm.P).apply(null,arguments)},ys=e._glp_asnprob_lp=function(){return(ys=e._glp_asnprob_lp=e.asm.Q).apply(null,arguments)},ws=e._glp_erase_prob=function(){return(ws=e._glp_erase_prob=e.asm.R).apply(null,arguments)},bs=e._glp_set_prob_name=function(){return(bs=e._glp_set_prob_name=e.asm.S).apply(null,arguments)},xs=e._glp_set_obj_dir=function(){return(xs=e._glp_set_obj_dir=e.asm.T).apply(null,arguments)},Es=e._glp_add_rows=function(){return(Es=e._glp_add_rows=e.asm.U).apply(null,arguments)},ks=e._glp_set_row_name=function(){return(ks=e._glp_set_row_name=e.asm.V).apply(null,arguments)},Is=e._glp_set_row_bnds=function(){return(Is=e._glp_set_row_bnds=e.asm.W).apply(null,arguments)},Ss=e._glp_add_cols=function(){return(Ss=e._glp_add_cols=e.asm.X).apply(null,arguments)},As=e._glp_set_col_name=function(){return(As=e._glp_set_col_name=e.asm.Y).apply(null,arguments)},Ts=e._glp_set_mat_col=function(){return(Ts=e._glp_set_mat_col=e.asm.Z).apply(null,arguments)},Os=e._glp_set_col_bnds=function(){return(Os=e._glp_set_col_bnds=e.asm._).apply(null,arguments)},Ms=e._glp_set_obj_coef=function(){return(Ms=e._glp_set_obj_coef=e.asm.$).apply(null,arguments)},Ns=e._glp_asnprob_okalg=function(){return(Ns=e._glp_asnprob_okalg=e.asm.aa).apply(null,arguments)},Rs=e._glp_check_cnfsat=function(){return(Rs=e._glp_check_cnfsat=e.asm.ba).apply(null,arguments)},Ds=e._glp_init_cpxcp=function(){return(Ds=e._glp_init_cpxcp=e.asm.ca).apply(null,arguments)},Ps=e._glp_read_lp=function(){return(Ps=e._glp_read_lp=e.asm.da).apply(null,arguments)},Hn=e._malloc=function(){return(Hn=e._malloc=e.asm.ea).apply(null,arguments)},Fs=e._glp_create_index=function(){return(Fs=e._glp_create_index=e.asm.fa).apply(null,arguments)},Bs=e._glp_set_obj_name=function(){return(Bs=e._glp_set_obj_name=e.asm.ga).apply(null,arguments)},zs=e._glp_find_row=function(){return(zs=e._glp_find_row=e.asm.ha).apply(null,arguments)},Ls=e._glp_set_mat_row=function(){return(Ls=e._glp_set_mat_row=e.asm.ia).apply(null,arguments)},Cs=e._glp_get_col_name=function(){return(Cs=e._glp_get_col_name=e.asm.ja).apply(null,arguments)},js=e._glp_get_num_int=function(){return(js=e._glp_get_num_int=e.asm.ka).apply(null,arguments)},Vs=e._glp_get_num_bin=function(){return(Vs=e._glp_get_num_bin=e.asm.la).apply(null,arguments)},Us=e._glp_delete_index=function(){return(Us=e._glp_delete_index=e.asm.ma).apply(null,arguments)},$s=e._glp_sort_matrix=function(){return($s=e._glp_sort_matrix=e.asm.na).apply(null,arguments)},Hs=e._glp_set_col_kind=function(){return(Hs=e._glp_set_col_kind=e.asm.oa).apply(null,arguments)},qs=e._free=function(){return(qs=e._free=e.asm.pa).apply(null,arguments)},Xs=e._glp_write_lp=function(){return(Xs=e._glp_write_lp=e.asm.qa).apply(null,arguments)},Ws=e._glp_get_obj_name=function(){return(Ws=e._glp_get_obj_name=e.asm.ra).apply(null,arguments)},Gs=e._glp_get_row_name=function(){return(Gs=e._glp_get_row_name=e.asm.sa).apply(null,arguments)},Ys=e._glp_find_col=function(){return(Ys=e._glp_find_col=e.asm.ta).apply(null,arguments)},Ks=e._glp_cpp=function(){return(Ks=e._glp_cpp=e.asm.ua).apply(null,arguments)},Qs=e._glp_top_sort=function(){return(Qs=e._glp_top_sort=e.asm.va).apply(null,arguments)},Zs=e._glp_cpx_basis=function(){return(Zs=e._glp_cpx_basis=e.asm.wa).apply(null,arguments)},Js=e._glp_get_num_rows=function(){return(Js=e._glp_get_num_rows=e.asm.xa).apply(null,arguments)},el=e._glp_get_num_cols=function(){return(el=e._glp_get_num_cols=e.asm.ya).apply(null,arguments)},tl=e._glp_get_row_type=function(){return(tl=e._glp_get_row_type=e.asm.za).apply(null,arguments)},rl=e._glp_get_row_lb=function(){return(rl=e._glp_get_row_lb=e.asm.Aa).apply(null,arguments)},nl=e._glp_get_row_ub=function(){return(nl=e._glp_get_row_ub=e.asm.Ba).apply(null,arguments)},il=e._glp_get_col_type=function(){return(il=e._glp_get_col_type=e.asm.Ca).apply(null,arguments)},ol=e._glp_get_col_lb=function(){return(ol=e._glp_get_col_lb=e.asm.Da).apply(null,arguments)},al=e._glp_get_col_ub=function(){return(al=e._glp_get_col_ub=e.asm.Ea).apply(null,arguments)},sl=e._glp_get_obj_coef=function(){return(sl=e._glp_get_obj_coef=e.asm.Fa).apply(null,arguments)},ll=e._glp_get_obj_dir=function(){return(ll=e._glp_get_obj_dir=e.asm.Ga).apply(null,arguments)},ul=e._glp_get_mat_col=function(){return(ul=e._glp_get_mat_col=e.asm.Ha).apply(null,arguments)},cl=e._glp_create_graph=function(){return(cl=e._glp_create_graph=e.asm.Ia).apply(null,arguments)},fl=e._glp_set_graph_name=function(){return(fl=e._glp_set_graph_name=e.asm.Ja).apply(null,arguments)},pl=e._glp_add_vertices=function(){return(pl=e._glp_add_vertices=e.asm.Ka).apply(null,arguments)},_l=e._glp_set_vertex_name=function(){return(_l=e._glp_set_vertex_name=e.asm.La).apply(null,arguments)},dl=e._glp_add_arc=function(){return(dl=e._glp_add_arc=e.asm.Ma).apply(null,arguments)},ml=e._glp_del_vertices=function(){return(ml=e._glp_del_vertices=e.asm.Na).apply(null,arguments)},hl=e._glp_del_arc=function(){return(hl=e._glp_del_arc=e.asm.Oa).apply(null,arguments)},gl=e._glp_erase_graph=function(){return(gl=e._glp_erase_graph=e.asm.Pa).apply(null,arguments)},vl=e._glp_delete_graph=function(){return(vl=e._glp_delete_graph=e.asm.Qa).apply(null,arguments)},yl=e._glp_create_v_index=function(){return(yl=e._glp_create_v_index=e.asm.Ra).apply(null,arguments)},wl=e._glp_find_vertex=function(){return(wl=e._glp_find_vertex=e.asm.Sa).apply(null,arguments)},bl=e._glp_delete_v_index=function(){return(bl=e._glp_delete_v_index=e.asm.Ta).apply(null,arguments)},xl=e._glp_gridgen=function(){return(xl=e._glp_gridgen=e.asm.Ua).apply(null,arguments)},El=e._glp_intfeas1=function(){return(El=e._glp_intfeas1=e.asm.Va).apply(null,arguments)},kl=e._glp_create_prob=function(){return(kl=e._glp_create_prob=e.asm.Wa).apply(null,arguments)},Il=e._glp_minisat1=function(){return(Il=e._glp_minisat1=e.asm.Xa).apply(null,arguments)},Sl=e._glp_delete_prob=function(){return(Sl=e._glp_delete_prob=e.asm.Ya).apply(null,arguments)},Al=e._glp_del_rows=function(){return(Al=e._glp_del_rows=e.asm.Za).apply(null,arguments)},Tl=e._glp_maxflow_ffalg=function(){return(Tl=e._glp_maxflow_ffalg=e.asm._a).apply(null,arguments)},Ol=e._glp_maxflow_lp=function(){return(Ol=e._glp_maxflow_lp=e.asm.$a).apply(null,arguments)},Ml=e._glp_mincost_lp=function(){return(Ml=e._glp_mincost_lp=e.asm.ab).apply(null,arguments)},Nl=e._glp_mincost_okalg=function(){return(Nl=e._glp_mincost_okalg=e.asm.bb).apply(null,arguments)},Rl=e._glp_mincost_relax4=function(){return(Rl=e._glp_mincost_relax4=e.asm.cb).apply(null,arguments)},Dl=e._glp_mpl_alloc_wksp=function(){return(Dl=e._glp_mpl_alloc_wksp=e.asm.db).apply(null,arguments)},Pl=e._glp_mpl_init_rand=function(){return(Pl=e._glp_mpl_init_rand=e.asm.eb).apply(null,arguments)},Fl=e._glp_mpl_read_model=function(){return(Fl=e._glp_mpl_read_model=e.asm.fb).apply(null,arguments)},Bl=e._glp_mpl_read_data=function(){return(Bl=e._glp_mpl_read_data=e.asm.gb).apply(null,arguments)},zl=e._glp_mpl_generate=function(){return(zl=e._glp_mpl_generate=e.asm.hb).apply(null,arguments)},Ll=e._glp_mpl_build_prob=function(){return(Ll=e._glp_mpl_build_prob=e.asm.ib).apply(null,arguments)},Cl=e._glp_mpl_postsolve=function(){return(Cl=e._glp_mpl_postsolve=e.asm.jb).apply(null,arguments)},jl=e._glp_get_row_stat=function(){return(jl=e._glp_get_row_stat=e.asm.kb).apply(null,arguments)},Vl=e._glp_get_row_prim=function(){return(Vl=e._glp_get_row_prim=e.asm.lb).apply(null,arguments)},Ul=e._glp_get_row_dual=function(){return(Ul=e._glp_get_row_dual=e.asm.mb).apply(null,arguments)},$l=e._glp_ipt_row_prim=function(){return($l=e._glp_ipt_row_prim=e.asm.nb).apply(null,arguments)},Hl=e._glp_ipt_row_dual=function(){return(Hl=e._glp_ipt_row_dual=e.asm.ob).apply(null,arguments)},ql=e._glp_mip_row_val=function(){return(ql=e._glp_mip_row_val=e.asm.pb).apply(null,arguments)},Xl=e._glp_get_col_stat=function(){return(Xl=e._glp_get_col_stat=e.asm.qb).apply(null,arguments)},Wl=e._glp_get_col_prim=function(){return(Wl=e._glp_get_col_prim=e.asm.rb).apply(null,arguments)},Gl=e._glp_get_col_dual=function(){return(Gl=e._glp_get_col_dual=e.asm.sb).apply(null,arguments)},Yl=e._glp_ipt_col_prim=function(){return(Yl=e._glp_ipt_col_prim=e.asm.tb).apply(null,arguments)},Kl=e._glp_ipt_col_dual=function(){return(Kl=e._glp_ipt_col_dual=e.asm.ub).apply(null,arguments)},Ql=e._glp_mip_col_val=function(){return(Ql=e._glp_mip_col_val=e.asm.vb).apply(null,arguments)},Zl=e._glp_mpl_free_wksp=function(){return(Zl=e._glp_mpl_free_wksp=e.asm.wb).apply(null,arguments)},Jl=e._glp_init_mpscp=function(){return(Jl=e._glp_init_mpscp=e.asm.xb).apply(null,arguments)},eu=e._glp_read_mps=function(){return(eu=e._glp_read_mps=e.asm.yb).apply(null,arguments)},tu=e._glp_write_mps=function(){return(tu=e._glp_write_mps=e.asm.zb).apply(null,arguments)},ru=e._glp_netgen=function(){return(ru=e._glp_netgen=e.asm.Ab).apply(null,arguments)},nu=e._glp_npp_alloc_wksp=function(){return(nu=e._glp_npp_alloc_wksp=e.asm.Bb).apply(null,arguments)},iu=e._glp_npp_load_prob=function(){return(iu=e._glp_npp_load_prob=e.asm.Cb).apply(null,arguments)},ou=e._glp_npp_preprocess1=function(){return(ou=e._glp_npp_preprocess1=e.asm.Db).apply(null,arguments)},au=e._glp_npp_build_prob=function(){return(au=e._glp_npp_build_prob=e.asm.Eb).apply(null,arguments)},su=e._glp_npp_postprocess=function(){return(su=e._glp_npp_postprocess=e.asm.Fb).apply(null,arguments)},lu=e._glp_get_status=function(){return(lu=e._glp_get_status=e.asm.Gb).apply(null,arguments)},uu=e._glp_ipt_status=function(){return(uu=e._glp_ipt_status=e.asm.Hb).apply(null,arguments)},cu=e._glp_mip_status=function(){return(cu=e._glp_mip_status=e.asm.Ib).apply(null,arguments)},fu=e._glp_npp_obtain_sol=function(){return(fu=e._glp_npp_obtain_sol=e.asm.Jb).apply(null,arguments)},pu=e._glp_npp_free_wksp=function(){return(pu=e._glp_npp_free_wksp=e.asm.Kb).apply(null,arguments)},_u=e._glp_print_ipt=function(){return(_u=e._glp_print_ipt=e.asm.Lb).apply(null,arguments)},du=e._glp_print_mip=function(){return(du=e._glp_print_mip=e.asm.Mb).apply(null,arguments)},mu=e._glp_load_matrix=function(){return(mu=e._glp_load_matrix=e.asm.Nb).apply(null,arguments)},hu=e._glp_check_dup=function(){return(hu=e._glp_check_dup=e.asm.Ob).apply(null,arguments)},gu=e._glp_del_cols=function(){return(gu=e._glp_del_cols=e.asm.Pb).apply(null,arguments)},vu=e._glp_copy_prob=function(){return(vu=e._glp_copy_prob=e.asm.Qb).apply(null,arguments)},yu=e._glp_get_bfcp=function(){return(yu=e._glp_get_bfcp=e.asm.Rb).apply(null,arguments)},wu=e._glp_set_bfcp=function(){return(wu=e._glp_set_bfcp=e.asm.Sb).apply(null,arguments)},bu=e._glp_get_prob_name=function(){return(bu=e._glp_get_prob_name=e.asm.Tb).apply(null,arguments)},xu=e._glp_get_num_nz=function(){return(xu=e._glp_get_num_nz=e.asm.Ub).apply(null,arguments)},Eu=e._glp_get_mat_row=function(){return(Eu=e._glp_get_mat_row=e.asm.Vb).apply(null,arguments)},ku=e._glp_set_rii=function(){return(ku=e._glp_set_rii=e.asm.Wb).apply(null,arguments)},Iu=e._glp_set_sjj=function(){return(Iu=e._glp_set_sjj=e.asm.Xb).apply(null,arguments)},Su=e._glp_get_rii=function(){return(Su=e._glp_get_rii=e.asm.Yb).apply(null,arguments)},Au=e._glp_get_sjj=function(){return(Au=e._glp_get_sjj=e.asm.Zb).apply(null,arguments)},Tu=e._glp_unscale_prob=function(){return(Tu=e._glp_unscale_prob=e.asm._b).apply(null,arguments)},Ou=e._glp_print_ranges=function(){return(Ou=e._glp_print_ranges=e.asm.$b).apply(null,arguments)},Mu=e._glp_bf_exists=function(){return(Mu=e._glp_bf_exists=e.asm.ac).apply(null,arguments)},Nu=e._glp_version=function(){return(Nu=e._glp_version=e.asm.bc).apply(null,arguments)},Ru=e._glp_analyze_bound=function(){return(Ru=e._glp_analyze_bound=e.asm.cc).apply(null,arguments)},Du=e._glp_analyze_coef=function(){return(Du=e._glp_analyze_coef=e.asm.dc).apply(null,arguments)},Pu=e._glp_print_sol=function(){return(Pu=e._glp_print_sol=e.asm.ec).apply(null,arguments)},Fu=e._glp_read_asnprob=function(){return(Fu=e._glp_read_asnprob=e.asm.fc).apply(null,arguments)},Bu=e._glp_read_ccdata=function(){return(Bu=e._glp_read_ccdata=e.asm.gc).apply(null,arguments)},zu=e._glp_read_graph=function(){return(zu=e._glp_read_graph=e.asm.hc).apply(null,arguments)},Lu=e._glp_read_cnfsat=function(){return(Lu=e._glp_read_cnfsat=e.asm.ic).apply(null,arguments)},Cu=e._glp_read_ipt=function(){return(Cu=e._glp_read_ipt=e.asm.jc).apply(null,arguments)},ju=e._glp_read_maxflow=function(){return(ju=e._glp_read_maxflow=e.asm.kc).apply(null,arguments)},Vu=e._glp_read_mincost=function(){return(Vu=e._glp_read_mincost=e.asm.lc).apply(null,arguments)},Uu=e._glp_read_mip=function(){return(Uu=e._glp_read_mip=e.asm.mc).apply(null,arguments)},$u=e._glp_read_prob=function(){return($u=e._glp_read_prob=e.asm.nc).apply(null,arguments)},Hu=e._glp_read_sol=function(){return(Hu=e._glp_read_sol=e.asm.oc).apply(null,arguments)},qu=e._glp_rmfgen=function(){return(qu=e._glp_rmfgen=e.asm.pc).apply(null,arguments)},Xu=e._glp_strong_comp=function(){return(Xu=e._glp_strong_comp=e.asm.qc).apply(null,arguments)},Wu=e._glp_weak_comp=function(){return(Wu=e._glp_weak_comp=e.asm.rc).apply(null,arguments)},Gu=e._glp_wclique_exact=function(){return(Gu=e._glp_wclique_exact=e.asm.sc).apply(null,arguments)},Yu=e._glp_write_asnprob=function(){return(Yu=e._glp_write_asnprob=e.asm.tc).apply(null,arguments)},Ku=e._glp_write_ccdata=function(){return(Ku=e._glp_write_ccdata=e.asm.uc).apply(null,arguments)},Qu=e._glp_write_graph=function(){return(Qu=e._glp_write_graph=e.asm.vc).apply(null,arguments)},Zu=e._glp_write_cnfsat=function(){return(Zu=e._glp_write_cnfsat=e.asm.wc).apply(null,arguments)},Ju=e._glp_write_ipt=function(){return(Ju=e._glp_write_ipt=e.asm.xc).apply(null,arguments)},ec=e._glp_write_maxflow=function(){return(ec=e._glp_write_maxflow=e.asm.yc).apply(null,arguments)},tc=e._glp_write_mincost=function(){return(tc=e._glp_write_mincost=e.asm.zc).apply(null,arguments)},rc=e._glp_write_mip=function(){return(rc=e._glp_write_mip=e.asm.Ac).apply(null,arguments)},nc=e._glp_write_prob=function(){return(nc=e._glp_write_prob=e.asm.Bc).apply(null,arguments)},ic=e._glp_write_sol=function(){return(ic=e._glp_write_sol=e.asm.Cc).apply(null,arguments)},oc=e._glp_realloc=function(){return(oc=e._glp_realloc=e.asm.Dc).apply(null,arguments)},ac=e._glp_simplex=function(){return(ac=e._glp_simplex=e.asm.Ec).apply(null,arguments)},sc=e._glp_scale_prob=function(){return(sc=e._glp_scale_prob=e.asm.Fc).apply(null,arguments)},lc=e._glp_init_smcp=function(){return(lc=e._glp_init_smcp=e.asm.Gc).apply(null,arguments)},uc=e._glp_factorize=function(){return(uc=e._glp_factorize=e.asm.Hc).apply(null,arguments)},cc=e._glp_get_prim_stat=function(){return(cc=e._glp_get_prim_stat=e.asm.Ic).apply(null,arguments)},fc=e._glp_get_dual_stat=function(){return(fc=e._glp_get_dual_stat=e.asm.Jc).apply(null,arguments)},pc=e._glp_get_obj_val=function(){return(pc=e._glp_get_obj_val=e.asm.Kc).apply(null,arguments)},_c=e._glp_get_unbnd_ray=function(){return(_c=e._glp_get_unbnd_ray=e.asm.Lc).apply(null,arguments)},dc=e._glp_get_it_cnt=function(){return(dc=e._glp_get_it_cnt=e.asm.Mc).apply(null,arguments)},mc=e._glp_set_it_cnt=function(){return(mc=e._glp_set_it_cnt=e.asm.Nc).apply(null,arguments)},hc=e._glp_exact=function(){return(hc=e._glp_exact=e.asm.Oc).apply(null,arguments)},gc=e._glp_time=function(){return(gc=e._glp_time=e.asm.Pc).apply(null,arguments)},vc=e._glp_interior=function(){return(vc=e._glp_interior=e.asm.Qc).apply(null,arguments)},yc=e._glp_init_iptcp=function(){return(yc=e._glp_init_iptcp=e.asm.Rc).apply(null,arguments)},wc=e._glp_ipt_obj_val=function(){return(wc=e._glp_ipt_obj_val=e.asm.Sc).apply(null,arguments)},bc=e._glp_get_col_kind=function(){return(bc=e._glp_get_col_kind=e.asm.Tc).apply(null,arguments)},xc=e._glp_intopt=function(){return(xc=e._glp_intopt=e.asm.Uc).apply(null,arguments)},Ec=e._glp_init_iocp=function(){return(Ec=e._glp_init_iocp=e.asm.Vc).apply(null,arguments)},kc=e._glp_mip_obj_val=function(){return(kc=e._glp_mip_obj_val=e.asm.Wc).apply(null,arguments)},Ic=e._glp_bf_updated=function(){return(Ic=e._glp_bf_updated=e.asm.Xc).apply(null,arguments)},Sc=e._glp_get_bhead=function(){return(Sc=e._glp_get_bhead=e.asm.Yc).apply(null,arguments)},Ac=e._glp_get_row_bind=function(){return(Ac=e._glp_get_row_bind=e.asm.Zc).apply(null,arguments)},Tc=e._glp_get_col_bind=function(){return(Tc=e._glp_get_col_bind=e.asm._c).apply(null,arguments)},Oc=e._glp_ftran=function(){return(Oc=e._glp_ftran=e.asm.$c).apply(null,arguments)},Mc=e._glp_btran=function(){return(Mc=e._glp_btran=e.asm.ad).apply(null,arguments)},Nc=e._glp_warm_up=function(){return(Nc=e._glp_warm_up=e.asm.bd).apply(null,arguments)},Rc=e._glp_eval_tab_row=function(){return(Rc=e._glp_eval_tab_row=e.asm.cd).apply(null,arguments)},Dc=e._glp_eval_tab_col=function(){return(Dc=e._glp_eval_tab_col=e.asm.dd).apply(null,arguments)},Pc=e._glp_transform_row=function(){return(Pc=e._glp_transform_row=e.asm.ed).apply(null,arguments)},Fc=e._glp_transform_col=function(){return(Fc=e._glp_transform_col=e.asm.fd).apply(null,arguments)},Bc=e._glp_prim_rtest=function(){return(Bc=e._glp_prim_rtest=e.asm.gd).apply(null,arguments)},zc=e._glp_dual_rtest=function(){return(zc=e._glp_dual_rtest=e.asm.hd).apply(null,arguments)},Lc=e._glp_ios_reason=function(){return(Lc=e._glp_ios_reason=e.asm.id).apply(null,arguments)},Cc=e._glp_ios_get_prob=function(){return(Cc=e._glp_ios_get_prob=e.asm.jd).apply(null,arguments)},jc=e._glp_ios_tree_size=function(){return(jc=e._glp_ios_tree_size=e.asm.kd).apply(null,arguments)},Vc=e._glp_ios_curr_node=function(){return(Vc=e._glp_ios_curr_node=e.asm.ld).apply(null,arguments)},Uc=e._glp_ios_next_node=function(){return(Uc=e._glp_ios_next_node=e.asm.md).apply(null,arguments)},$c=e._glp_ios_prev_node=function(){return($c=e._glp_ios_prev_node=e.asm.nd).apply(null,arguments)},Hc=e._glp_ios_up_node=function(){return(Hc=e._glp_ios_up_node=e.asm.od).apply(null,arguments)},qc=e._glp_ios_node_level=function(){return(qc=e._glp_ios_node_level=e.asm.pd).apply(null,arguments)},Xc=e._glp_ios_node_bound=function(){return(Xc=e._glp_ios_node_bound=e.asm.qd).apply(null,arguments)},Wc=e._glp_ios_best_node=function(){return(Wc=e._glp_ios_best_node=e.asm.rd).apply(null,arguments)},Gc=e._glp_ios_mip_gap=function(){return(Gc=e._glp_ios_mip_gap=e.asm.sd).apply(null,arguments)},Yc=e._glp_ios_node_data=function(){return(Yc=e._glp_ios_node_data=e.asm.td).apply(null,arguments)},Kc=e._glp_ios_row_attr=function(){return(Kc=e._glp_ios_row_attr=e.asm.ud).apply(null,arguments)},Qc=e._glp_ios_pool_size=function(){return(Qc=e._glp_ios_pool_size=e.asm.vd).apply(null,arguments)},Zc=e._glp_ios_add_row=function(){return(Zc=e._glp_ios_add_row=e.asm.wd).apply(null,arguments)},Jc=e._glp_ios_del_row=function(){return(Jc=e._glp_ios_del_row=e.asm.xd).apply(null,arguments)},ef=e._glp_ios_clear_pool=function(){return(ef=e._glp_ios_clear_pool=e.asm.yd).apply(null,arguments)},tf=e._glp_ios_can_branch=function(){return(tf=e._glp_ios_can_branch=e.asm.zd).apply(null,arguments)},rf=e._glp_ios_branch_upon=function(){return(rf=e._glp_ios_branch_upon=e.asm.Ad).apply(null,arguments)},nf=e._glp_ios_select_node=function(){return(nf=e._glp_ios_select_node=e.asm.Bd).apply(null,arguments)},of=e._glp_ios_heur_sol=function(){return(of=e._glp_ios_heur_sol=e.asm.Cd).apply(null,arguments)},af=e._glp_ios_terminate=function(){return(af=e._glp_ios_terminate=e.asm.Dd).apply(null,arguments)},sf=e._glp_difftime=function(){return(sf=e._glp_difftime=e.asm.Ed).apply(null,arguments)},lf=e._glp_mem_usage=function(){return(lf=e._glp_mem_usage=e.asm.Fd).apply(null,arguments)},uf=e._glp_mem_limit=function(){return(uf=e._glp_mem_limit=e.asm.Gd).apply(null,arguments)},cf=e._glp_init_env=function(){return(cf=e._glp_init_env=e.asm.Hd).apply(null,arguments)},ff=e._glp_config=function(){return(ff=e._glp_config=e.asm.Id).apply(null,arguments)},pf=e._glp_free_env=function(){return(pf=e._glp_free_env=e.asm.Jd).apply(null,arguments)},_f=e._glp_at_error=function(){return(_f=e._glp_at_error=e.asm.Kd).apply(null,arguments)},df=e._glp_error_hook=function(){return(df=e._glp_error_hook=e.asm.Ld).apply(null,arguments)},mf=e._glp_puts=function(){return(mf=e._glp_puts=e.asm.Md).apply(null,arguments)},hf=e._glp_term_out=function(){return(hf=e._glp_term_out=e.asm.Nd).apply(null,arguments)},gf=e._glp_term_hook=function(){return(gf=e._glp_term_hook=e.asm.Od).apply(null,arguments)},vf=e._glp_open_tee=function(){return(vf=e._glp_open_tee=e.asm.Pd).apply(null,arguments)},yf=e._glp_close_tee=function(){return(yf=e._glp_close_tee=e.asm.Qd).apply(null,arguments)},qn=e.___errno_location=function(){return(qn=e.___errno_location=e.asm.Rd).apply(null,arguments)},Ae=e._setThrew=function(){return(Ae=e._setThrew=e.asm.Sd).apply(null,arguments)},Te=e.stackSave=function(){return(Te=e.stackSave=e.asm.Td).apply(null,arguments)},Oe=e.stackRestore=function(){return(Oe=e.stackRestore=e.asm.Ud).apply(null,arguments)};function wf(n,o,u){var d=Te();try{ke(n)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}function bf(n,o,u){var d=Te();try{return ke(n)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}function xf(n,o){var u=Te();try{ke(n)(o)}catch(d){if(Oe(u),d!==d+0)throw d;Ae(1,0)}}function Ef(n){var o=Te();try{return ke(n)()}catch(u){if(Oe(o),u!==u+0)throw u;Ae(1,0)}}function kf(n,o,u,d){var h=Te();try{ke(n)(o,u,d)}catch(y){if(Oe(h),y!==y+0)throw y;Ae(1,0)}}function If(n,o){var u=Te();try{return ke(n)(o)}catch(d){if(Oe(u),d!==d+0)throw d;Ae(1,0)}}function Sf(n,o,u,d){var h=Te();try{ke(n)(o,u,d)}catch(y){if(Oe(h),y!==y+0)throw y;Ae(1,0)}}function Af(n,o,u,d){var h=Te();try{return ke(n)(o,u,d)}catch(y){if(Oe(h),y!==y+0)throw y;Ae(1,0)}}function Tf(n,o,u,d,h,y){var x=Te();try{ke(n)(o,u,d,h,y)}catch(I){if(Oe(x),I!==I+0)throw I;Ae(1,0)}}function Of(n,o,u,d,h,y){var x=Te();try{ke(n)(o,u,d,h,y)}catch(I){if(Oe(x),I!==I+0)throw I;Ae(1,0)}}function Mf(n,o){var u=Te();try{return ke(n)(o)}catch(d){if(Oe(u),d!==d+0)throw d;Ae(1,0)}}function Nf(n,o,u){var d=Te();try{ke(n)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}function Rf(n,o,u,d,h,y){var x=Te();try{return ke(n)(o,u,d,h,y)}catch(I){if(Oe(x),I!==I+0)throw I;Ae(1,0)}}function Df(n,o,u){var d=Te();try{return ke(n)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}e.UTF8ToString=k,e.stringToUTF8=z,e.lengthBytesUTF8=w,e.addFunction=os,e.removeFunction=as,e.setValue=Oa,e.getValue=Ta,e.FS=p;var pr;Ft=function n(){pr||Xn(),pr||(Ft=n)};function Xn(n){if(n=n||f,ft>0||(We(),ft>0))return;function o(){pr||(pr=!0,e.calledRun=!0,!pe&&(lt(),i(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),ut()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),o()},1)):o()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Xn(),e.ready}})();typeof Xr=="object"&&typeof Fn=="object"?Fn.exports=Pn:typeof define=="function"&&define.amd?define([],function(){return Pn}):typeof Xr=="object"&&(Xr.Module=Pn)});var wa=Lt((Wr,ya)=>{"use strict";(function(t,r){typeof Wr=="object"&&typeof ya<"u"?r(Wr,va()):typeof define=="function"&&define.amd?define(["exports","glpk-wasm"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.GLPK={},t.glpkWasm))})(Wr,function(t,r){"use strict";function e(w){return w&&typeof w=="object"&&"default"in w?w:{default:w}}var i=e(r);function l(w,s){var v={};for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&s.indexOf(b)<0&&(v[b]=w[b]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,b=Object.getOwnPropertySymbols(w);N<b.length;N++)s.indexOf(b[N])<0&&Object.prototype.propertyIsEnumerable.call(w,b[N])&&(v[b[N]]=w[b[N]]);return v}function c(w,s,v,b){function N(U){return U instanceof v?U:new v(function(P){P(U)})}return new(v||(v=Promise))(function(U,P){function M(L){try{A(b.next(L))}catch($){P($)}}function D(L){try{A(b.throw(L))}catch($){P($)}}function A(L){L.done?U(L.value):N(L.value).then(M,D)}A((b=b.apply(w,s||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;let f,a;function m(w){return c(this,void 0,void 0,function*(){return f===void 0&&(f=w===void 0?i.default():i.default({locateFile(){return w}})),a=yield f,a})}var _;(function(w){(function(s){s[s.MIN=1]="MIN",s[s.MAX=2]="MAX"})(w.ObjectiveDirection||(w.ObjectiveDirection={})),function(s){s[s.FREE=1]="FREE",s[s.LB=2]="LB",s[s.UB=3]="UB",s[s.BOUNDED=4]="BOUNDED",s[s.FIXED=5]="FIXED"}(w.BoundType||(w.BoundType={})),function(s){s[s.BASIC=1]="BASIC",s[s.LB=2]="LB",s[s.UB=3]="UB",s[s.FREE=4]="FREE",s[s.FIXED=5]="FIXED"}(w.VariableStatus||(w.VariableStatus={})),function(s){s[s.CONTINUOUS=1]="CONTINUOUS",s[s.INTEGER=2]="INTEGER",s[s.BINARY=3]="BINARY"}(w.VariableType||(w.VariableType={})),function(s){s[s.GEOMETRIC_MEAN=1]="GEOMETRIC_MEAN",s[s.EQUILIBRATION=16]="EQUILIBRATION",s[s.POWER_TWO=32]="POWER_TWO",s[s.SKIP=64]="SKIP",s[s.AUTO=128]="AUTO"}(w.Scaling||(w.Scaling={})),function(s){s[s.BASIC=1]="BASIC",s[s.INTERIOR_POINT=2]="INTERIOR_POINT",s[s.MIXED_INTEGER=3]="MIXED_INTEGER"}(w.SolutionIndicator||(w.SolutionIndicator={})),function(s){s[s.UNDEFINED=1]="UNDEFINED",s[s.FEASIBLE=2]="FEASIBLE",s[s.INFEASIBLE=3]="INFEASIBLE",s[s.NO_FEASIBLE=4]="NO_FEASIBLE",s[s.OPTIMAL=5]="OPTIMAL",s[s.UNBOUNDED=6]="UNBOUNDED"}(w.Status||(w.Status={})),function(s){s[s.OFF=0]="OFF",s[s.ERR=1]="ERR",s[s.ON=2]="ON",s[s.ALL=3]="ALL",s[s.DBG=4]="DBG"}(w.MessageLevel||(w.MessageLevel={})),function(s){s[s.PRIMAL=1]="PRIMAL",s[s.DUALP=2]="DUALP",s[s.DUAL=3]="DUAL"}(w.Method||(w.Method={})),function(s){s[s.STD=17]="STD",s[s.PSE=34]="PSE"}(w.Pricing||(w.Pricing={})),function(s){s[s.STD=17]="STD",s[s.HAR=34]="HAR",s[s.FLIP=51]="FLIP"}(w.RatioTest||(w.RatioTest={})),function(s){s[s.NONE=0]="NONE",s[s.QMD=1]="QMD",s[s.AMD=2]="AMD",s[s.SYMAMD=3]="SYMAMD"}(w.OrderingAlgorithm||(w.OrderingAlgorithm={})),function(s){s[s.OK=0]="OK",s[s.EBADB=1]="EBADB",s[s.ESING=2]="ESING",s[s.ECOND=3]="ECOND",s[s.EBOUND=4]="EBOUND",s[s.EFAIL=5]="EFAIL",s[s.EOBJLL=6]="EOBJLL",s[s.EOBJUL=7]="EOBJUL",s[s.EITLIM=8]="EITLIM",s[s.ETMLIM=9]="ETMLIM",s[s.ENOPFS=10]="ENOPFS",s[s.ENODFS=11]="ENODFS",s[s.EROOT=12]="EROOT",s[s.ESTOP=13]="ESTOP",s[s.EMIPGAP=14]="EMIPGAP",s[s.ENOFEAS=15]="ENOFEAS",s[s.ENOCVG=16]="ENOCVG",s[s.EINSTAB=17]="EINSTAB",s[s.EDATA=18]="EDATA",s[s.ERANGE=19]="ERANGE"}(w.ReturnCode||(w.ReturnCode={})),function(s){s[s.FFV=1]="FFV",s[s.LFV=2]="LFV",s[s.MFV=3]="MFV",s[s.DTH=4]="DTH",s[s.PCH=5]="PCH"}(w.BranchingTechnique||(w.BranchingTechnique={})),function(s){s[s.DFS=1]="DFS",s[s.BFS=2]="BFS",s[s.BLB=3]="BLB",s[s.BPH=4]="BPH"}(w.BacktrackingTechnique||(w.BacktrackingTechnique={})),function(s){s[s.NONE=0]="NONE",s[s.ROOT=1]="ROOT",s[s.ALL=2]="ALL"}(w.PreprocessingTechnique||(w.PreprocessingTechnique={})),function(s){s[s.PE=1]="PE",s[s.PB=2]="PB",s[s.DE=3]="DE",s[s.DB=4]="DB",s[s.CS=5]="CS"}(w.ConditionIndicator||(w.ConditionIndicator={})),function(s){s[s.ROWGEN=1]="ROWGEN",s[s.BINGO=2]="BINGO",s[s.HEUR=3]="HEUR",s[s.CUTGEN=4]="CUTGEN",s[s.BRANCH=5]="BRANCH",s[s.SELECT=6]="SELECT",s[s.PREPRO=7]="PREPRO"}(w.ReasonCode||(w.ReasonCode={})),function(s){s[s.NO_BRNCH=0]="NO_BRNCH",s[s.DN_BRNCH=1]="DN_BRNCH",s[s.UP_BRNCH=2]="UP_BRNCH"}(w.BranchSelection||(w.BranchSelection={})),function(s){s[s.REG=0]="REG",s[s.LAZY=1]="LAZY",s[s.CUT=2]="CUT"}(w.RowOrigin||(w.RowOrigin={})),function(s){s[s.GMI=1]="GMI",s[s.MIR=2]="MIR",s[s.COV=3]="COV",s[s.CLQ=4]="CLQ"}(w.RowClass||(w.RowClass={})),function(s){s[s.DECK=1]="DECK",s[s.FILE=2]="FILE"}(w.MPSFormat||(w.MPSFormat={}))})(_||(_={}));function g(w,s){return w===void 0?s===void 0?_.BoundType.FREE:_.BoundType.UB:s===void 0?_.BoundType.LB:w===s?_.BoundType.FIXED:_.BoundType.BOUNDED}function E(w){let s=w.model.numConstrs,v=w.model.numVars,b=a._malloc((v+1)*12),N=new Float64Array(a.HEAPU8.buffer,b,v+1),U=new Int32Array(a.HEAPU8.buffer,b+(v+1)*8,v+1);a._glp_eval_tab_row(w.model.ptr,w instanceof K?s+w.id:w.id,b+(v+1)*8,b);let P=Array.from(U.slice(1).filter(M=>M>0),(M,D)=>[M<=s?w.model.constrs[M-1]:w.model.vars[M-1-s],N[D+1]]);return a._free(b),P}function S(w){let s=w.model.numConstrs,v=a._malloc((s+1)*12),b=new Float64Array(a.HEAPU8.buffer,v,s+1),N=new Int32Array(a.HEAPU8.buffer,v+(s+1)*8,s+1);a._glp_eval_tab_col(w.model.ptr,w instanceof K?s+w.id:w.id,v+(s+1)*8,v);let U=Array.from(N.slice(1).filter(P=>P>0),(P,M)=>[P<=s?w.model.constrs[P-1]:w.model.vars[P-1-s],b[M+1]]);return a._free(v),U}let B=new Map([[void 0,_.VariableType.CONTINUOUS],["c",_.VariableType.CONTINUOUS],["cont",_.VariableType.CONTINUOUS],["continuous",_.VariableType.CONTINUOUS],["i",_.VariableType.INTEGER],["int",_.VariableType.INTEGER],["integer",_.VariableType.INTEGER],["b",_.VariableType.BINARY],["bin",_.VariableType.BINARY],["binary",_.VariableType.BINARY]]),F=new Map(Array.from(B.entries(),([w,s])=>[s,w]));function q(w){let s=B.get(w);if(s===void 0)throw new Error(`unknown variable type '${w}'`);return s}let ie=new Map([["basic",_.VariableStatus.BASIC],["lower-bound",_.VariableStatus.LB],["upper-bound",_.VariableStatus.UB],["free",_.VariableStatus.FREE],["fixed",_.VariableStatus.FIXED]]),V=new Map(Array.from(ie.entries(),([w,s])=>[s,w]));class K{get ptr(){return this.model.ptr}constructor(s,v,b){if(this._lb=0,this._ub=0,this.model=s,this._idx=v,b===void 0)return;let{obj:N,lb:U,ub:P,type:M,name:D}=b;N!==void 0&&(this.obj=N),this.setBounds(U,P),M!==void 0&&(this.type=M),D!==void 0&&(this.name=D)}get id(){return this._idx}setBounds(s,v){if(s===this._lb&&v===this._ub)return;this._lb=s,this._ub=v;let b=g(s,v);a._glp_set_col_bnds(this.ptr,this._idx,b,s||0,v||0)}set bounds([s,v]){this.setBounds(s,v)}set name(s){let v=a.lengthBytesUTF8(s)+1,b=a._malloc(v);a.stringToUTF8(s,b,v),a._glp_set_col_name(this.ptr,this._idx,b),a._free(b)}get name(){let s=a._glp_get_col_name(this.ptr,this._idx);return a.UTF8ToString(s)}set lb(s){this.setBounds(s,this.ub)}set ub(s){this.setBounds(this.lb,s)}get lb(){return this._lb}get ub(){return this._ub}get obj(){return a._glp_get_obj_coef(this.ptr,this._idx)}set obj(s){if(typeof s!="number")throw new Error("obj should be a number");a._glp_set_obj_coef(this.ptr,this._idx,s)}set type(s){a._glp_set_col_kind(this.ptr,this._idx,q(s))}get type(){return F.get(a._glp_get_col_kind(this.ptr,this._idx))}get value(){return a._glp_get_col_prim(this.ptr,this._idx)}get dual(){return a._glp_get_col_dual(this.ptr,this._idx)}get valueInt(){return a._glp_ipt_col_prim(this.ptr,this._idx)}get dualInt(){return a._glp_ipt_col_dual(this.ptr,this._idx)}get valueMIP(){return a._glp_mip_col_val(this.ptr,this._idx)}get status(){return V.get(a._glp_get_col_stat(this.ptr,this._idx))}get row(){return E(this)}get column(){return S(this)}}class Q{get ptr(){return this.model.ptr}constructor(s,v,b){if(this._needsUpdate=!1,this.model=s,this._idx=v,this._coeffs=new Map,!b)return;let{lb:N,ub:U,coeffs:P,name:M}=b;this.setBounds(N,U),P!==void 0&&this.addCollection(P),M!==void 0&&(this.name=M)}get id(){return this._idx}set name(s){let v=a.lengthBytesUTF8(s)+1,b=a._malloc(v);a.stringToUTF8(s,b,v),a._glp_set_row_name(this.ptr,this._idx,b),a._free(b)}get name(){let s=a._glp_get_row_name(this.ptr,this._idx);return a.UTF8ToString(s)}setBounds(s,v){if(s===this._lb&&v===this._ub)return;let b=g(s,v);this._lb=s,this._ub=v,a._glp_set_row_bnds(this.ptr,this._idx,b,s||0,v||0)}set bounds([s,v]){this.setBounds(s,v)}set lb(s){this.setBounds(s,this._ub)}set ub(s){this.setBounds(this.lb,s)}get lb(){return this._lb}get ub(){return this._ub}add(s,v){if(v===void 0)return this.addCollection(s);if(!(s instanceof K))throw new Error("variable should have type Variable");if(!v)return this;let b=(this._coeffs.get(s.id)||0)+v;return b?this._coeffs.set(s.id,b):this._coeffs.delete(s.id),this._needsUpdate=!0,this}addCollection(s){let v=s instanceof Array?s:s instanceof Map?s.entries():void 0;if(v===void 0)throw new Error("coeffs should have type Array or Map");for(let[b,N]of v){if(!(b instanceof K))throw new Error("variable should have type Variable");if(!N)continue;let U=(this._coeffs.get(b.id)||0)+N;U?this._coeffs.set(b.id,U):this._coeffs.delete(b.id),this._needsUpdate=!0}return this}update(){if(!this._needsUpdate)return this;let s=this._coeffs.size+1,v=a._malloc(s*4),b=a._malloc(s*8),N=new Int32Array(a.HEAPU8.buffer,v,s),U=new Float64Array(a.HEAPU8.buffer,b,s);N[0]=0,U[0]=0;let P=0;for(let[M,D]of this._coeffs.entries())P++,N[P]=M,U[P]=D;return a._glp_set_mat_row(this.ptr,this._idx,s-1,v,b),a._free(v),a._free(b),this._needsUpdate=!1,this}get value(){return a._glp_get_row_prim(this.ptr,this._idx)}get dual(){return a._glp_get_row_dual(this.ptr,this._idx)}get valueInt(){return a._glp_ipt_row_prim(this.ptr,this._idx)}get dualInt(){return a._glp_ipt_row_dual(this.ptr,this._idx)}get valueMIP(){return a._glp_mip_row_val(this.ptr,this._idx)}get status(){return V.get(a._glp_get_row_stat(this.ptr,this._idx))}get row(){return E(this)}get column(){return S(this)}}let R=new Map([["optimal",_.Status.OPTIMAL],["feasible",_.Status.FEASIBLE],["infeasible",_.Status.INFEASIBLE],["no_feasible",_.Status.NO_FEASIBLE],["unbounded",_.Status.UNBOUNDED],["undefined",_.Status.UNDEFINED]]),W=new Map(Array.from(R.entries(),([w,s])=>[s,w]));function G(w){return W.get(w)}function re(w){let s={all:_.MessageLevel.ALL,on:_.MessageLevel.ON,off:_.MessageLevel.OFF,debug:_.MessageLevel.DBG,error:_.MessageLevel.ERR}[w];if(s===void 0)throw new Error(`unknown message level '${w}'`);return s}t.Interior=void 0,function(w){function s(b){let N={none:_.OrderingAlgorithm.NONE,qmd:_.OrderingAlgorithm.QMD,amd:_.OrderingAlgorithm.AMD,symamd:_.OrderingAlgorithm.SYMAMD}[b];if(N===void 0)throw new Error(`unknown ordering '${b}'`);return N}function v(b,N){let U=a._malloc(392);a._glp_init_iptcp(U),N.msgLevel!==void 0&&a.setValue(U,re(N.msgLevel),"i32"),N.ordering!==void 0&&a.setValue(U+4,s(N.ordering),"i32");let P=a._glp_interior(b.ptr,U);switch(a._free(U),P){case _.ReturnCode.OK:return"ok";case _.ReturnCode.EFAIL:return"no_data";case _.ReturnCode.ENOCVG:return"no_convergence";case _.ReturnCode.EITLIM:return"iteration_limit";case _.ReturnCode.EINSTAB:return"instability";default:throw new Error(`unknown return code from interior: ${P}`)}}w.solve=v}(t.Interior||(t.Interior={})),t.Simplex=void 0,function(w){function s(D){let A={primal:_.Method.PRIMAL,dual:_.Method.DUAL,dual_primal:_.Method.DUALP}[D];if(A===void 0)throw new Error(`unknown method '${D}'`);return A}function v(D){let A={std:_.Pricing.STD,pse:_.Pricing.PSE}[D];if(A===void 0)throw new Error(`unknown pricing '${D}'`);return A}function b(D){let A={std:_.RatioTest.STD,harris:_.RatioTest.HAR,flipflop:_.RatioTest.FLIP}[D];if(A===void 0)throw new Error(`unknown ratioTest '${D}'`);return A}function N(D){switch(D){case _.ReturnCode.OK:return"ok";case _.ReturnCode.EBADB:return"basis_invalid";case _.ReturnCode.ESING:return"basis_singular";case _.ReturnCode.ECOND:return"basis_ill_conditioned";case _.ReturnCode.EBOUND:return"bounds_incorrect";case _.ReturnCode.EFAIL:return"failure";case _.ReturnCode.EOBJLL:return"objective_lower";case _.ReturnCode.EOBJUL:return"objective_upper";case _.ReturnCode.EITLIM:return"iteration_limit";case _.ReturnCode.ETMLIM:return"time_limit";case _.ReturnCode.ENOPFS:return"no_primal_feasible";case _.ReturnCode.ENODFS:return"no_dual_feasible";default:throw new Error(`unknown return code from simplex: ${D}`)}}function U(D){let A=a._malloc(352);return a._glp_init_smcp(A),D.msgLevel!==void 0&&a.setValue(A,re(D.msgLevel),"i32"),D.method!==void 0&&a.setValue(A+4,s(D.method),"i32"),D.pricing!==void 0&&a.setValue(A+8,v(D.pricing),"i32"),D.ratioTest!==void 0&&a.setValue(A+12,b(D.ratioTest),"i32"),D.tolPrimal!==void 0&&a.setValue(A+16,D.tolPrimal,"double"),D.tolDual!==void 0&&a.setValue(A+24,D.tolDual,"double"),D.tolPivot!==void 0&&a.setValue(A+32,D.tolPivot,"double"),D.objLower!==void 0&&a.setValue(A+40,D.objLower,"double"),D.objUpper!==void 0&&a.setValue(A+48,D.objUpper,"double"),D.limitIter!==void 0&&a.setValue(A+56,D.limitIter,"i32"),D.limitTime!==void 0&&a.setValue(A+60,D.limitTime,"i32"),D.logFreq!==void 0&&a.setValue(A+64,D.logFreq,"i32"),D.logDelay!==void 0&&a.setValue(A+68,D.logDelay,"i32"),D.presolve!==void 0&&a.setValue(A+72,D.presolve?1:0,"i32"),A}function P(D,A){let L=U(A),$=a._glp_simplex(D.ptr,L);return a._free(L),N($)}w.solve=P;function M(D,A){let L=U(A),$=a._glp_exact(D.ptr,L);return a._free(L),N($)}w.solveExact=M}(t.Simplex||(t.Simplex={}));let ue={row:_.ReasonCode.ROWGEN,improved:_.ReasonCode.BINGO,heuristic:_.ReasonCode.HEUR,cut:_.ReasonCode.CUTGEN,branch:_.ReasonCode.BRANCH,select:_.ReasonCode.SELECT,preprocessing:_.ReasonCode.PREPRO},ce=new Map(Object.entries(ue).map(([w,s])=>[s,w])),pe={regular:_.RowOrigin.REG,lazy:_.RowOrigin.LAZY,cut:_.RowOrigin.CUT},_e=new Map(Object.entries(pe).map(([w,s])=>[s,w])),Re={gomory:_.RowClass.GMI,mir:_.RowClass.MIR,cover:_.RowClass.COV,clique:_.RowClass.CLQ},Se=new Map(Object.entries(Re).map(([w,s])=>[s,w])),O={down:_.BranchSelection.DN_BRNCH,up:_.BranchSelection.UP_BRNCH,general:_.BranchSelection.NO_BRNCH};class k{constructor(s,v){this.tree=s,this.idx=v}select(){a._glp_ios_select_node(this.tree.ptr,this.idx)}get next(){let s=a._glp_ios_next_node(this.tree.ptr,this.idx);if(s!==0)return new k(this.tree,s)}get previous(){let s=a._glp_ios_prev_node(this.tree.ptr,this.idx);if(s!==0)return new k(this.tree,s)}get parent(){let s=a._glp_ios_up_node(this.tree.ptr,this.idx);if(s!==0)return new k(this.tree,s)}get level(){return a._glp_ios_node_level(this.tree.ptr,this.idx)}get bound(){return a._glp_ios_node_bound(this.tree.ptr,this.idx)}}class T{constructor(s){this.ptr=s}static _alloc(){T._data===void 0&&(T._data=a._malloc(72))}get reason(){let s=a._glp_ios_reason(this.ptr),v=ce.get(s);if(v===void 0)throw new Error(`unknown reason code '${s}'`);return v}get model(){let s=a._glp_ios_get_prob(this.ptr);return z.fromPointer(s)}rowAttribute(s){return T._alloc(),a._glp_ios_row_attr(this.ptr,s,T._data),{level:a.getValue(T._data+0,"i32"),origin:_e.get(a.getValue(T._data+4,"i32")),cls:Se.get(a.getValue(T._data+8,"i32"))}}get gap(){return a._glp_ios_mip_gap(this.ptr)}setHeuristicSolution(s){let v=s.length,b=a._malloc(v*8),N=new Float64Array(a.HEAPU8.buffer,b,v);if(s instanceof Float64Array)s.set(N);else for(let[U,P]of s.entries())N[U]=P;a._glp_ios_heur_sol(this.ptr,b),a._free(b)}canBranch(s){return a._glp_ios_can_branch(this.ptr,s)}branchUpon(s,v){let b=O[v];if(b===void 0)throw new Error(`unknown branch selection '${v}'`);a._glp_ios_branch_upon(this.ptr,s,b)}terminate(){a._glp_ios_terminate(this.ptr)}get size(){T._alloc();let s=T._data;return a._glp_ios_tree_size(this.ptr,s,s+4,s+8),{active:a.getValue(s,"i32"),current:a.getValue(s+4,"i32"),total:a.getValue(s+8,"i32")}}get currentNode(){let s=a._glp_ios_curr_node(this.ptr);if(s!==0)return new k(this,s)}get bestNode(){let s=a._glp_ios_best_node(this.ptr);if(s!==0)return new k(this,s)}get firstNode(){let s=a._glp_ios_next_node(this.ptr,0);if(s!==0)return new k(this,s)}get lastNode(){let s=a._glp_ios_prev_node(this.ptr,0);if(s!==0)return new k(this,s)}get cutPoolSize(){return a._glp_ios_pool_size(this.ptr)}clearCutPool(){a._glp_ios_clear_pool(this.ptr)}}t.MIP=void 0,function(w){let s={ffv:_.BranchingTechnique.FFV,lfv:_.BranchingTechnique.LFV,mfv:_.BranchingTechnique.MFV,dth:_.BranchingTechnique.DTH,pch:_.BranchingTechnique.PCH,first_fractional:_.BranchingTechnique.FFV,last_fractional:_.BranchingTechnique.LFV,most_fractional:_.BranchingTechnique.MFV,driebeck_tomlin:_.BranchingTechnique.DTH,hybrid_pseudocost:_.BranchingTechnique.PCH},v={dfs:_.BacktrackingTechnique.DFS,bfs:_.BacktrackingTechnique.BFS,blb:_.BacktrackingTechnique.BLB,bph:_.BacktrackingTechnique.BPH,depth_first:_.BacktrackingTechnique.DFS,breadth_first:_.BacktrackingTechnique.BFS,best_bound:_.BacktrackingTechnique.BLB,best_projection:_.BacktrackingTechnique.BPH},b={none:_.PreprocessingTechnique.NONE,root:_.PreprocessingTechnique.ROOT,all:_.PreprocessingTechnique.ALL};function N(M){switch(M){case _.ReturnCode.OK:return"ok";case _.ReturnCode.EBOUND:return"bounds_incorrect";case _.ReturnCode.EROOT:return"no_root_basis";case _.ReturnCode.ENOPFS:return"no_primal_feasible";case _.ReturnCode.ENODFS:return"no_dual_feasible";case _.ReturnCode.EFAIL:return"failure";case _.ReturnCode.EMIPGAP:return"mip_gap_tolerance";case _.ReturnCode.ETMLIM:return"time_limit";case _.ReturnCode.ESTOP:return"stopped";default:throw new Error(`unknown return code from intopt: ${M}`)}}function U(M){let D=a._malloc(328);a._glp_init_iocp(D);let A;if(M.msgLevel!==void 0&&a.setValue(D,re(M.msgLevel),"i32"),M.branching!==void 0){if(A=s[M.branching],A===void 0)throw new Error(`unknown branching technique '${M.branching}'`);a.setValue(D+4,A,"i32")}if(M.backtracking!==void 0){if(A=v[M.backtracking],A===void 0)throw new Error(`unknown backtracking technique '${M.backtracking}'`);a.setValue(D+8,A,"i32")}if(M.tolInt!==void 0&&a.setValue(D+16,M.tolInt,"double"),M.tolObj!==void 0&&a.setValue(D+24,M.tolObj,"double"),M.limitTime!==void 0&&a.setValue(D+32,M.limitTime,"i32"),M.logFreq!==void 0&&a.setValue(D+36,M.logFreq,"i32"),M.logDelay!==void 0&&a.setValue(D+40,M.logDelay,"i32"),M.callbackPtr!==void 0&&a.setValue(D+44,M.callbackPtr,"*"),M.preprocessing!==void 0){if(A=b[M.preprocessing],A===void 0)throw new Error(`unknown preprocessing technique '${M.preprocessing}'`);a.setValue(D+56,A,"i32")}return M.gapMIP!==void 0&&a.setValue(D+64,M.gapMIP,"double"),M.cutsMIR!==void 0&&a.setValue(D+72,M.cutsMIR?1:0,"i32"),M.cutsGomory!==void 0&&a.setValue(D+76,M.cutsGomory?1:0,"i32"),M.cutsCover!==void 0&&a.setValue(D+80,M.cutsCover?1:0,"i32"),M.cutsClique!==void 0&&a.setValue(D+84,M.cutsClique?1:0,"i32"),M.presolve!==void 0&&a.setValue(D+88,M.presolve?1:0,"i32"),M.binarize!==void 0&&a.setValue(D+92,M.binarize?1:0,"i32"),M.heuristicFP!==void 0&&a.setValue(D+96,M.heuristicFP?1:0,"i32"),M.heuristicPS!==void 0&&a.setValue(D+100,M.heuristicPS?1:0,"i32"),M.limitProxy!==void 0&&a.setValue(D+104,M.limitProxy,"i32"),M.heuristicRound!==void 0&&a.setValue(D+108,M.heuristicRound?1:0,"i32"),D}function P(M,D){if(D.callback!==void 0){let $=D.callback;D.callbackPtr=a.addFunction(H=>$(new T(H)),"vii")}let A=U(D||{}),L=a._glp_intopt(M.ptr,A);return a._free(A),D.callback!==void 0&&(a.removeFunction(D.callbackPtr),D.callbackPtr=void 0),N(L)}w.solve=P}(t.MIP||(t.MIP={}));class z{get vars(){return this._vars}get constrs(){return this._constrs}constructor(s){if(this._vars=[],this._constrs=[],a===void 0)throw new Error("wasm module not loaded");if(this.ptr=a._glp_create_prob(),s===void 0)return;let{name:v,sense:b}=s;v!==void 0&&(this.name=v),b!==void 0&&(this.sense=b)}set name(s){let v=a.lengthBytesUTF8(s)+1,b=a._malloc(v);a.stringToUTF8(s,b,v),a._glp_set_prob_name(this.ptr,b),a._free(b)}get name(){let s=a._glp_get_prob_name(this.ptr);return a.UTF8ToString(s)}static fromPointer(s){let v=Object.create(z.prototype);return v.ptr=s,v}get value(){return a._glp_get_obj_val(this.ptr)}get valueInt(){return a._glp_ipt_obj_val(this.ptr)}get valueMIP(){return a._glp_mip_obj_val(this.ptr)}get numVars(){return a._glp_get_num_cols(this.ptr)}get numConstrs(){return a._glp_get_num_rows(this.ptr)}get numNZs(){return a._glp_get_num_nz(this.ptr)}get numBinary(){return a._glp_get_num_bin(this.ptr)}get numInteger(){return a._glp_get_num_int(this.ptr)}get status(){let s=a._glp_get_status(this.ptr);return G(s)}get statusPrimal(){let s=a._glp_get_prim_stat(this.ptr);return G(s)}get statusDual(){let s=a._glp_get_dual_stat(this.ptr);return G(s)}get statusInt(){let s=a._glp_ipt_status(this.ptr);return G(s)}get statusMIP(){let s=a._glp_mip_status(this.ptr);return G(s)}addVars(s,v){return Number.isInteger(s)?this.addVarsByCount(s,v):Array.isArray(s)?s.length===0||typeof s[0]=="string"?this.addVarsByKeys(s,v):this.addVarsByProperties(s):this.addVarsFromPropertiesArray(s)}addVar(s){let v=a._glp_add_cols(this.ptr,1),b=new K(this,v,s);return this._vars.push(b),b}addVarsByProperties(s){let v=a._glp_add_cols(this.ptr,s.length),b=s.map((N,U)=>new K(this,v+U,N));return this._vars=this._vars.concat(b),b}addVarsByCount(s,v){let b=a._glp_add_cols(this.ptr,s),N=Array.from(Array(s).keys(),U=>new K(this,b+U,v&&v.name?Object.assign(Object.assign({},v),{name:`${v.name}_${U}`}):v));return this._vars=this._vars.concat(N),N}addVarsByKeys(s,v){let b=v||{},{name:N}=b,U=l(b,["name"]);return this.addVarsFromPropertiesArray(Object.fromEntries(s.map(P=>[P,Object.assign(Object.assign({},U),{name:`${N}[${P}]`})])))}addVarsFromPropertiesArray(s){let v=[...Object.keys(s)];return Object.fromEntries(this.addVarsByProperties(Object.values(s)).map((b,N)=>[v[N],b]))}addConstrs(s,v){return Number.isInteger(s)?this.addConstrsByCount(s,v):this.addConstrsByProperties(s)}addConstr(s){let v=a._glp_add_rows(this.ptr,1),b=new Q(this,v,s);return this._constrs.push(b),b}addConstrsByProperties(s){let v=a._glp_add_rows(this.ptr,s.length),b=s.map((N,U)=>new Q(this,v+U,N));return this._constrs=this._constrs.concat(b),b}addConstrsByCount(s,v){let b=a._glp_add_rows(this.ptr,s),N=Array.from(Array(s).keys(),U=>new Q(this,b+U,v&&v.name?Object.assign(Object.assign({},v),{name:`${v.name}_${U}`}):v));return this._constrs=this._constrs.concat(N),N}update(){for(let s of this._constrs)s.update()}get sense(){return a._glp_get_obj_dir(this.ptr)===_.ObjectiveDirection.MIN?"min":"max"}set sense(s){if(s!=="min"&&s!=="max")throw new Error(`unknown sense '${s}'`);a._glp_set_obj_dir(this.ptr,s==="min"?_.ObjectiveDirection.MIN:_.ObjectiveDirection.MAX)}toModelLP(){this.update();let s="_tmp.lp",v=a._malloc(s.length+1);return a.stringToUTF8(s,v,s.length+1),a._glp_write_lp(this.ptr,0,v),a._free(v),a.FS.readFile(s,{encoding:"utf8"})}_refreshVariables(){let s=a._glp_get_num_cols(this.ptr);this._vars=Array.from(Array(s).keys(),v=>new K(this,v+1,{lb:a._glp_get_col_lb(this.ptr,v+1),ub:a._glp_get_col_ub(this.ptr,v+1)}))}_refreshConstraints(){let s=a._glp_get_num_rows(this.ptr);this._constrs=Array.from(Array(s).keys(),v=>new Q(this,v+1,{lb:a._glp_get_row_lb(this.ptr,v+1),ub:a._glp_get_row_ub(this.ptr,v+1)}))}static fromModelLP(s){let v=new z,b="_tmp.lp";a.FS.writeFile(b,s);let N=a._malloc(b.length+1);return a.stringToUTF8(b,N,b.length+1),a._glp_read_lp(v.ptr,0,N),a._free(N),v._refreshVariables(),v._refreshConstraints(),v}toMPS(){this.update();let s="_tmp.mps",v=a._malloc(s.length+1);return a.stringToUTF8(s,v,s.length+1),a._glp_write_mps(this.ptr,_.MPSFormat.FILE,0,v),a._free(v),a.FS.readFile(s,{encoding:"utf8"})}static fromMPS(s,v){let b=new z,N="_tmp.mps";a.FS.writeFile(N,s);let U=a._malloc(N.length+1);a.stringToUTF8(N,U,N.length+1);let P=v==="deck"?_.MPSFormat.DECK:_.MPSFormat.FILE,M=a._glp_read_mps(b.ptr,P,0,U);if(a._free(U),M!==0)throw new Error("mps reading failed");return b._refreshVariables(),b._refreshConstraints(),b}simplex(s){return this.update(),t.Simplex.solve(this,s||{})}exact(s){return this.update(),t.Simplex.solveExact(this,s||{})}interior(s){return this.update(),t.Interior.solve(this,s||{})}intopt(s){return this.update(),t.MIP.solve(this,s||{})}get solution(){switch(this.status){case"undefined":case"infeasible":throw new Error(`status is '${this.status}', run simplex first`);case"feasible":case"optimal":return[`status = ${this.status}`,...this._vars.map(s=>`${s.name} = ${s.value}`),`value = ${this.value}`].join(`
`);case"unbounded":return"problem is unbounded";case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionInt(){switch(this.statusInt){case"undefined":case"infeasible":throw new Error(`status is '${this.statusInt}', run interior first`);case"optimal":return[`status = ${this.statusInt}`,...this._vars.map(s=>`${s.name} = ${Number(s.valueInt.toFixed(6))}`),`value = ${Number(this.valueInt.toFixed(6))}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionMIP(){switch(this.statusMIP){case"undefined":throw new Error(`status is '${this.statusMIP}', run intopt first`);case"feasible":case"optimal":return[`status = ${this.statusMIP}`,...this._vars.map(s=>`${s.name} = ${s.valueMIP}`),`value = ${this.valueMIP}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get ray(){let s=a._glp_get_unbnd_ray(this.ptr);if(s===0)throw new Error("no unbounded ray");return s<=this.numConstrs?this._constrs[s-1]:this._vars[s-1-this.numConstrs]}getTableau(s){let v=s===void 0?s=b=>b.toString():s;return[...[...this.vars,...this.constrs].filter(b=>b.status==="basic").map(b=>b.name+" = "+[...b.row.map(([N,U])=>`${v(N instanceof K?U:-U)} ${N.name}`),v(b.value)].join(" + ")),"z = "+[...[...this.vars,...this.constrs].filter(b=>b.status!=="basic").map(b=>`${v(b instanceof K?b.dual:-b.dual)} ${b.name}`),v(this.value)].join(" + ")].join(`
`)}}t.Constraint=Q,t.Model=z,t.Node=k,t.Tree=T,t.Variable=K,t.loadModule=m,Object.defineProperty(t,"__esModule",{value:!0})})});var Ff=576,vd=(()=>{let r=class r{constructor(){this.windowScrollY=()=>window.scrollY,this.windowInnerWidth=()=>window.innerWidth,this.scrollTop=on(rn(window,"scroll").pipe(tn(this.windowScrollY)),{initialValue:window.scrollY}),this.width=on(rn(window,"resize").pipe(tn(this.windowInnerWidth)),{initialValue:window.innerWidth}),this.isMobile=Ie(()=>this.width()<Ff),this.showToast$=new Jr,this.showConfirm$=new Jr,this.translateSelectedItem$=new en(void 0),this.translateItem$=new en(void 0),this.settingsActive=nn(!1),this.settingsXlHidden=nn(!1),this.version=`${ei} ${_r.version}`}confirm(i){this.showConfirm$.next(i)}toggleSettings(){this.settingsActive.set(!this.settingsActive())}toggleSettingsXl(){this.settingsXlHidden.set(!this.settingsXlHidden())}};r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=It({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();var fe=function(t){return t[t.Output=0]="Output",t[t.Input=1]="Input",t[t.Maximize=2]="Maximize",t[t.Limit=3]="Limit",t}(fe||{}),wd=[{value:fe.Output,label:"options.objectiveType.output"},{value:fe.Input,label:"options.objectiveType.input"},{value:fe.Maximize,label:"options.objectiveType.maximize"},{value:fe.Limit,label:"options.objectiveType.limit"}];function Bf(){}function dt(t){return t==null?Bf:function(){return this.querySelector(t)}}function ci(t){typeof t!="function"&&(t=dt(t));for(var r=this._groups,e=r.length,i=new Array(e),l=0;l<e;++l)for(var c=r[l],f=c.length,a=i[l]=new Array(f),m,_,g=0;g<f;++g)(m=c[g])&&(_=t.call(m,m.__data__,g,c))&&("__data__"in m&&(_.__data__=m.__data__),a[g]=_);return new me(i,this._parents)}function ln(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function zf(){return[]}function Vt(t){return t==null?zf:function(){return this.querySelectorAll(t)}}function Lf(t){return function(){return ln(t.apply(this,arguments))}}function fi(t){typeof t=="function"?t=Lf(t):t=Vt(t);for(var r=this._groups,e=r.length,i=[],l=[],c=0;c<e;++c)for(var f=r[c],a=f.length,m,_=0;_<a;++_)(m=f[_])&&(i.push(t.call(m,m.__data__,_,f)),l.push(m));return new me(i,l)}function Ut(t){return function(){return this.matches(t)}}function hr(t){return function(r){return r.matches(t)}}var Cf=Array.prototype.find;function jf(t){return function(){return Cf.call(this.children,t)}}function Vf(){return this.firstElementChild}function pi(t){return this.select(t==null?Vf:jf(typeof t=="function"?t:hr(t)))}var Uf=Array.prototype.filter;function $f(){return Array.from(this.children)}function Hf(t){return function(){return Uf.call(this.children,t)}}function _i(t){return this.selectAll(t==null?$f:Hf(typeof t=="function"?t:hr(t)))}function di(t){typeof t!="function"&&(t=Ut(t));for(var r=this._groups,e=r.length,i=new Array(e),l=0;l<e;++l)for(var c=r[l],f=c.length,a=i[l]=[],m,_=0;_<f;++_)(m=c[_])&&t.call(m,m.__data__,_,c)&&a.push(m);return new me(i,this._parents)}function gr(t){return new Array(t.length)}function mi(){return new me(this._enter||this._groups.map(gr),this._parents)}function $t(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}$t.prototype={constructor:$t,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function hi(t){return function(){return t}}function qf(t,r,e,i,l,c){for(var f=0,a,m=r.length,_=c.length;f<_;++f)(a=r[f])?(a.__data__=c[f],i[f]=a):e[f]=new $t(t,c[f]);for(;f<m;++f)(a=r[f])&&(l[f]=a)}function Xf(t,r,e,i,l,c,f){var a,m,_=new Map,g=r.length,E=c.length,S=new Array(g),B;for(a=0;a<g;++a)(m=r[a])&&(S[a]=B=f.call(m,m.__data__,a,r)+"",_.has(B)?l[a]=m:_.set(B,m));for(a=0;a<E;++a)B=f.call(t,c[a],a,c)+"",(m=_.get(B))?(i[a]=m,m.__data__=c[a],_.delete(B)):e[a]=new $t(t,c[a]);for(a=0;a<g;++a)(m=r[a])&&_.get(S[a])===m&&(l[a]=m)}function Wf(t){return t.__data__}function gi(t,r){if(!arguments.length)return Array.from(this,Wf);var e=r?Xf:qf,i=this._parents,l=this._groups;typeof t!="function"&&(t=hi(t));for(var c=l.length,f=new Array(c),a=new Array(c),m=new Array(c),_=0;_<c;++_){var g=i[_],E=l[_],S=E.length,B=Gf(t.call(g,g&&g.__data__,_,i)),F=B.length,q=a[_]=new Array(F),ie=f[_]=new Array(F),V=m[_]=new Array(S);e(g,E,q,ie,V,B,r);for(var K=0,Q=0,R,W;K<F;++K)if(R=q[K]){for(K>=Q&&(Q=K+1);!(W=ie[Q])&&++Q<F;);R._next=W||null}}return f=new me(f,i),f._enter=a,f._exit=m,f}function Gf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vi(){return new me(this._exit||this._groups.map(gr),this._parents)}function yi(t,r,e){var i=this.enter(),l=this,c=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),r!=null&&(l=r(l),l&&(l=l.selection())),e==null?c.remove():e(c),i&&l?i.merge(l).order():l}function wi(t){for(var r=t.selection?t.selection():t,e=this._groups,i=r._groups,l=e.length,c=i.length,f=Math.min(l,c),a=new Array(l),m=0;m<f;++m)for(var _=e[m],g=i[m],E=_.length,S=a[m]=new Array(E),B,F=0;F<E;++F)(B=_[F]||g[F])&&(S[F]=B);for(;m<l;++m)a[m]=e[m];return new me(a,this._parents)}function bi(){for(var t=this._groups,r=-1,e=t.length;++r<e;)for(var i=t[r],l=i.length-1,c=i[l],f;--l>=0;)(f=i[l])&&(c&&f.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(f,c),c=f);return this}function xi(t){t||(t=Yf);function r(E,S){return E&&S?t(E.__data__,S.__data__):!E-!S}for(var e=this._groups,i=e.length,l=new Array(i),c=0;c<i;++c){for(var f=e[c],a=f.length,m=l[c]=new Array(a),_,g=0;g<a;++g)(_=f[g])&&(m[g]=_);m.sort(r)}return new me(l,this._parents).order()}function Yf(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function Ei(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ki(){return Array.from(this)}function Ii(){for(var t=this._groups,r=0,e=t.length;r<e;++r)for(var i=t[r],l=0,c=i.length;l<c;++l){var f=i[l];if(f)return f}return null}function Si(){let t=0;for(let r of this)++t;return t}function Ai(){return!this.node()}function Ti(t){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var l=r[e],c=0,f=l.length,a;c<f;++c)(a=l[c])&&t.call(a,a.__data__,c,l);return this}var vr="http://www.w3.org/1999/xhtml",un={svg:"http://www.w3.org/2000/svg",xhtml:vr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ke(t){var r=t+="",e=r.indexOf(":");return e>=0&&(r=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),un.hasOwnProperty(r)?{space:un[r],local:t}:t}function Kf(t){return function(){this.removeAttribute(t)}}function Qf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zf(t,r){return function(){this.setAttribute(t,r)}}function Jf(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function ep(t,r){return function(){var e=r.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function tp(t,r){return function(){var e=r.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Oi(t,r){var e=Ke(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((r==null?e.local?Qf:Kf:typeof r=="function"?e.local?tp:ep:e.local?Jf:Zf)(e,r))}function yr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rp(t){return function(){this.style.removeProperty(t)}}function np(t,r,e){return function(){this.style.setProperty(t,r,e)}}function ip(t,r,e){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Mi(t,r,e){return arguments.length>1?this.each((r==null?rp:typeof r=="function"?ip:np)(t,r,e??"")):rt(this.node(),t)}function rt(t,r){return t.style.getPropertyValue(r)||yr(t).getComputedStyle(t,null).getPropertyValue(r)}function op(t){return function(){delete this[t]}}function ap(t,r){return function(){this[t]=r}}function sp(t,r){return function(){var e=r.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Ni(t,r){return arguments.length>1?this.each((r==null?op:typeof r=="function"?sp:ap)(t,r)):this.node()[t]}function Ri(t){return t.trim().split(/^|\s+/)}function cn(t){return t.classList||new Di(t)}function Di(t){this._node=t,this._names=Ri(t.getAttribute("class")||"")}Di.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Pi(t,r){for(var e=cn(t),i=-1,l=r.length;++i<l;)e.add(r[i])}function Fi(t,r){for(var e=cn(t),i=-1,l=r.length;++i<l;)e.remove(r[i])}function lp(t){return function(){Pi(this,t)}}function up(t){return function(){Fi(this,t)}}function cp(t,r){return function(){(r.apply(this,arguments)?Pi:Fi)(this,t)}}function Bi(t,r){var e=Ri(t+"");if(arguments.length<2){for(var i=cn(this.node()),l=-1,c=e.length;++l<c;)if(!i.contains(e[l]))return!1;return!0}return this.each((typeof r=="function"?cp:r?lp:up)(e,r))}function fp(){this.textContent=""}function pp(t){return function(){this.textContent=t}}function _p(t){return function(){var r=t.apply(this,arguments);this.textContent=r??""}}function zi(t){return arguments.length?this.each(t==null?fp:(typeof t=="function"?_p:pp)(t)):this.node().textContent}function dp(){this.innerHTML=""}function mp(t){return function(){this.innerHTML=t}}function hp(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r??""}}function Li(t){return arguments.length?this.each(t==null?dp:(typeof t=="function"?hp:mp)(t)):this.node().innerHTML}function gp(){this.nextSibling&&this.parentNode.appendChild(this)}function Ci(){return this.each(gp)}function vp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ji(){return this.each(vp)}function yp(t){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===vr&&r.documentElement.namespaceURI===vr?r.createElement(t):r.createElementNS(e,t)}}function wp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wr(t){var r=Ke(t);return(r.local?wp:yp)(r)}function Vi(t){var r=typeof t=="function"?t:wr(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function bp(){return null}function Ui(t,r){var e=typeof t=="function"?t:wr(t),i=r==null?bp:typeof r=="function"?r:dt(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function xp(){var t=this.parentNode;t&&t.removeChild(this)}function $i(){return this.each(xp)}function Ep(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function kp(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Hi(t){return this.select(t?kp:Ep)}function qi(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ip(t){return function(r){t.call(this,r,this.__data__)}}function Sp(t){return t.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function Ap(t){return function(){var r=this.__on;if(r){for(var e=0,i=-1,l=r.length,c;e<l;++e)c=r[e],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):r[++i]=c;++i?r.length=i:delete this.__on}}}function Tp(t,r,e){return function(){var i=this.__on,l,c=Ip(r);if(i){for(var f=0,a=i.length;f<a;++f)if((l=i[f]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=c,l.options=e),l.value=r;return}}this.addEventListener(t.type,c,e),l={type:t.type,name:t.name,value:r,listener:c,options:e},i?i.push(l):this.__on=[l]}}function Xi(t,r,e){var i=Sp(t+""),l,c=i.length,f;if(arguments.length<2){var a=this.node().__on;if(a){for(var m=0,_=a.length,g;m<_;++m)for(l=0,g=a[m];l<c;++l)if((f=i[l]).type===g.type&&f.name===g.name)return g.value}return}for(a=r?Tp:Ap,l=0;l<c;++l)this.each(a(i[l],r,e));return this}function Wi(t,r,e){var i=yr(t),l=i.CustomEvent;typeof l=="function"?l=new l(r,e):(l=i.document.createEvent("Event"),e?(l.initEvent(r,e.bubbles,e.cancelable),l.detail=e.detail):l.initEvent(r,!1,!1)),t.dispatchEvent(l)}function Op(t,r){return function(){return Wi(this,t,r)}}function Mp(t,r){return function(){return Wi(this,t,r.apply(this,arguments))}}function Gi(t,r){return this.each((typeof r=="function"?Mp:Op)(t,r))}function*Yi(){for(var t=this._groups,r=0,e=t.length;r<e;++r)for(var i=t[r],l=0,c=i.length,f;l<c;++l)(f=i[l])&&(yield f)}var fn=[null];function me(t,r){this._groups=t,this._parents=r}function Ki(){return new me([[document.documentElement]],fn)}function Np(){return this}me.prototype=Ki.prototype={constructor:me,select:ci,selectAll:fi,selectChild:pi,selectChildren:_i,filter:di,data:gi,enter:mi,exit:vi,join:yi,merge:wi,selection:Np,order:bi,sort:xi,call:Ei,nodes:ki,node:Ii,size:Si,empty:Ai,each:Ti,attr:Oi,style:Mi,property:Ni,classed:Bi,text:zi,html:Li,raise:Ci,lower:ji,append:Vi,insert:Ui,remove:$i,clone:Hi,datum:qi,on:Xi,dispatch:Gi,[Symbol.iterator]:Yi};var Qe=Ki;function Fe(t){return typeof t=="string"?new me([[document.querySelector(t)]],[document.documentElement]):new me([[t]],fn)}function Qi(t){let r;for(;r=t.sourceEvent;)t=r;return t}function Be(t,r){if(t=Qi(t),r===void 0&&(r=t.currentTarget),r){var e=r.ownerSVGElement||r;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var l=r.getBoundingClientRect();return[t.clientX-l.left-r.clientLeft,t.clientY-l.top-r.clientTop]}}return[t.pageX,t.pageY]}var Rp={value:()=>{}};function Ji(){for(var t=0,r=arguments.length,e={},i;t<r;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new br(e)}function br(t){this._=t}function Dp(t,r){return t.trim().split(/^|\s+/).map(function(e){var i="",l=e.indexOf(".");if(l>=0&&(i=e.slice(l+1),e=e.slice(0,l)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}br.prototype=Ji.prototype={constructor:br,on:function(t,r){var e=this._,i=Dp(t+"",e),l,c=-1,f=i.length;if(arguments.length<2){for(;++c<f;)if((l=(t=i[c]).type)&&(l=Pp(e[l],t.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++c<f;)if(l=(t=i[c]).type)e[l]=Zi(e[l],t.name,r);else if(r==null)for(l in e)e[l]=Zi(e[l],t.name,null);return this},copy:function(){var t={},r=this._;for(var e in r)t[e]=r[e].slice();return new br(t)},call:function(t,r){if((l=arguments.length-2)>0)for(var e=new Array(l),i=0,l,c;i<l;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],i=0,l=c.length;i<l;++i)c[i].value.apply(r,e)},apply:function(t,r,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],l=0,c=i.length;l<c;++l)i[l].value.apply(r,e)}};function Pp(t,r){for(var e=0,i=t.length,l;e<i;++e)if((l=t[e]).name===r)return l.value}function Zi(t,r,e){for(var i=0,l=t.length;i<l;++i)if(t[i].name===r){t[i]=Rp,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:r,value:e}),t}var mt=Ji;var eo={passive:!1},ht={capture:!0,passive:!1};function xr(t){t.stopImmediatePropagation()}function nt(t){t.preventDefault(),t.stopImmediatePropagation()}function Ht(t){var r=t.document.documentElement,e=Fe(t).on("dragstart.drag",nt,ht);"onselectstart"in r?e.on("selectstart.drag",nt,ht):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function qt(t,r){var e=t.document.documentElement,i=Fe(t).on("dragstart.drag",null);r&&(i.on("click.drag",nt,ht),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Xt=t=>()=>t;function Wt(t,{sourceEvent:r,subject:e,target:i,identifier:l,active:c,x:f,y:a,dx:m,dy:_,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:g}})}Wt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Fp(t){return!t.ctrlKey&&!t.button}function Bp(){return this.parentNode}function zp(t,r){return r??{x:t.x,y:t.y}}function Lp(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cp(){var t=Fp,r=Bp,e=zp,i=Lp,l={},c=mt("start","drag","end"),f=0,a,m,_,g,E=0;function S(R){R.on("mousedown.drag",B).filter(i).on("touchstart.drag",ie).on("touchmove.drag",V,eo).on("touchend.drag touchcancel.drag",K).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function B(R,W){if(!(g||!t.call(this,R,W))){var G=Q(this,r.call(this,R,W),R,W,"mouse");G&&(Fe(R.view).on("mousemove.drag",F,ht).on("mouseup.drag",q,ht),Ht(R.view),xr(R),_=!1,a=R.clientX,m=R.clientY,G("start",R))}}function F(R){if(nt(R),!_){var W=R.clientX-a,G=R.clientY-m;_=W*W+G*G>E}l.mouse("drag",R)}function q(R){Fe(R.view).on("mousemove.drag mouseup.drag",null),qt(R.view,_),nt(R),l.mouse("end",R)}function ie(R,W){if(t.call(this,R,W)){var G=R.changedTouches,re=r.call(this,R,W),ue=G.length,ce,pe;for(ce=0;ce<ue;++ce)(pe=Q(this,re,R,W,G[ce].identifier,G[ce]))&&(xr(R),pe("start",R,G[ce]))}}function V(R){var W=R.changedTouches,G=W.length,re,ue;for(re=0;re<G;++re)(ue=l[W[re].identifier])&&(nt(R),ue("drag",R,W[re]))}function K(R){var W=R.changedTouches,G=W.length,re,ue;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),re=0;re<G;++re)(ue=l[W[re].identifier])&&(xr(R),ue("end",R,W[re]))}function Q(R,W,G,re,ue,ce){var pe=c.copy(),_e=Be(ce||G,W),Re,Se,O;if((O=e.call(R,new Wt("beforestart",{sourceEvent:G,target:S,identifier:ue,active:f,x:_e[0],y:_e[1],dx:0,dy:0,dispatch:pe}),re))!=null)return Re=O.x-_e[0]||0,Se=O.y-_e[1]||0,function k(T,z,w){var s=_e,v;switch(T){case"start":l[ue]=k,v=f++;break;case"end":delete l[ue],--f;case"drag":_e=Be(w||z,W),v=f;break}pe.call(T,R,new Wt(T,{sourceEvent:z,subject:O,target:S,identifier:ue,active:v,x:_e[0]+Re,y:_e[1]+Se,dx:_e[0]-s[0],dy:_e[1]-s[1],dispatch:pe}),re)}}return S.filter=function(R){return arguments.length?(t=typeof R=="function"?R:Xt(!!R),S):t},S.container=function(R){return arguments.length?(r=typeof R=="function"?R:Xt(R),S):r},S.subject=function(R){return arguments.length?(e=typeof R=="function"?R:Xt(R),S):e},S.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:Xt(!!R),S):i},S.on=function(){var R=c.on.apply(c,arguments);return R===c?S:R},S.clickDistance=function(R){return arguments.length?(E=(R=+R)*R,S):Math.sqrt(E)},S}function Er(t,r,e){t.prototype=r.prototype=e,e.constructor=t}function pn(t,r){var e=Object.create(t.prototype);for(var i in r)e[i]=r[i];return e}function Kt(){}var Gt=.7,Sr=1/Gt,At="\\s*([+-]?\\d+)\\s*",Yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jp=/^#([0-9a-f]{3,8})$/,Vp=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Up=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),$p=new RegExp(`^rgba\\(${At},${At},${At},${Yt}\\)$`),Hp=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${Yt}\\)$`),qp=new RegExp(`^hsl\\(${Yt},${Xe},${Xe}\\)$`),Xp=new RegExp(`^hsla\\(${Yt},${Xe},${Xe},${Yt}\\)$`),to={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Er(Kt,it,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ro,formatHex:ro,formatHex8:Wp,formatHsl:Gp,formatRgb:no,toString:no});function ro(){return this.rgb().formatHex()}function Wp(){return this.rgb().formatHex8()}function Gp(){return uo(this).formatHsl()}function no(){return this.rgb().formatRgb()}function it(t){var r,e;return t=(t+"").trim().toLowerCase(),(r=jp.exec(t))?(e=r[1].length,r=parseInt(r[1],16),e===6?io(r):e===3?new Pe(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):e===8?kr(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):e===4?kr(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Vp.exec(t))?new Pe(r[1],r[2],r[3],1):(r=Up.exec(t))?new Pe(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=$p.exec(t))?kr(r[1],r[2],r[3],r[4]):(r=Hp.exec(t))?kr(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=qp.exec(t))?so(r[1],r[2]/100,r[3]/100,1):(r=Xp.exec(t))?so(r[1],r[2]/100,r[3]/100,r[4]):to.hasOwnProperty(t)?io(to[t]):t==="transparent"?new Pe(NaN,NaN,NaN,0):null}function io(t){return new Pe(t>>16&255,t>>8&255,t&255,1)}function kr(t,r,e,i){return i<=0&&(t=r=e=NaN),new Pe(t,r,e,i)}function Yp(t){return t instanceof Kt||(t=it(t)),t?(t=t.rgb(),new Pe(t.r,t.g,t.b,t.opacity)):new Pe}function Tt(t,r,e,i){return arguments.length===1?Yp(t):new Pe(t,r,e,i??1)}function Pe(t,r,e,i){this.r=+t,this.g=+r,this.b=+e,this.opacity=+i}Er(Pe,Tt,pn(Kt,{brighter(t){return t=t==null?Sr:Math.pow(Sr,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gt:Math.pow(Gt,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pe(vt(this.r),vt(this.g),vt(this.b),Ar(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oo,formatHex:oo,formatHex8:Kp,formatRgb:ao,toString:ao}));function oo(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}`}function Kp(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}${gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ao(){let t=Ar(this.opacity);return`${t===1?"rgb(":"rgba("}${vt(this.r)}, ${vt(this.g)}, ${vt(this.b)}${t===1?")":`, ${t})`}`}function Ar(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gt(t){return t=vt(t),(t<16?"0":"")+t.toString(16)}function so(t,r,e,i){return i<=0?t=r=e=NaN:e<=0||e>=1?t=r=NaN:r<=0&&(t=NaN),new Ve(t,r,e,i)}function uo(t){if(t instanceof Ve)return new Ve(t.h,t.s,t.l,t.opacity);if(t instanceof Kt||(t=it(t)),!t)return new Ve;if(t instanceof Ve)return t;t=t.rgb();var r=t.r/255,e=t.g/255,i=t.b/255,l=Math.min(r,e,i),c=Math.max(r,e,i),f=NaN,a=c-l,m=(c+l)/2;return a?(r===c?f=(e-i)/a+(e<i)*6:e===c?f=(i-r)/a+2:f=(r-e)/a+4,a/=m<.5?c+l:2-c-l,f*=60):a=m>0&&m<1?0:f,new Ve(f,a,m,t.opacity)}function co(t,r,e,i){return arguments.length===1?uo(t):new Ve(t,r,e,i??1)}function Ve(t,r,e,i){this.h=+t,this.s=+r,this.l=+e,this.opacity=+i}Er(Ve,co,pn(Kt,{brighter(t){return t=t==null?Sr:Math.pow(Sr,t),new Ve(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gt:Math.pow(Gt,t),new Ve(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*r,l=2*e-i;return new Pe(_n(t>=240?t-240:t+120,l,i),_n(t,l,i),_n(t<120?t+240:t-120,l,i),this.opacity)},clamp(){return new Ve(lo(this.h),Ir(this.s),Ir(this.l),Ar(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Ar(this.opacity);return`${t===1?"hsl(":"hsla("}${lo(this.h)}, ${Ir(this.s)*100}%, ${Ir(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lo(t){return t=(t||0)%360,t<0?t+360:t}function Ir(t){return Math.max(0,Math.min(1,t||0))}function _n(t,r,e){return(t<60?r+(e-r)*t/60:t<180?e:t<240?r+(e-r)*(240-t)/60:r)*255}function dn(t,r,e,i,l){var c=t*t,f=c*t;return((1-3*t+3*c-f)*r+(4-6*c+3*f)*e+(1+3*t+3*c-3*f)*i+f*l)/6}function fo(t){var r=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,r-1):Math.floor(e*r),l=t[i],c=t[i+1],f=i>0?t[i-1]:2*l-c,a=i<r-1?t[i+2]:2*c-l;return dn((e-i/r)*r,f,l,c,a)}}function po(t){var r=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*r),l=t[(i+r-1)%r],c=t[i%r],f=t[(i+1)%r],a=t[(i+2)%r];return dn((e-i/r)*r,l,c,f,a)}}var mn=t=>()=>t;function Qp(t,r){return function(e){return t+e*r}}function Zp(t,r,e){return t=Math.pow(t,e),r=Math.pow(r,e)-t,e=1/e,function(i){return Math.pow(t+i*r,e)}}function _o(t){return(t=+t)==1?Tr:function(r,e){return e-r?Zp(r,e,t):mn(isNaN(r)?e:r)}}function Tr(t,r){var e=r-t;return e?Qp(t,e):mn(isNaN(t)?r:t)}var Or=function t(r){var e=_o(r);function i(l,c){var f=e((l=Tt(l)).r,(c=Tt(c)).r),a=e(l.g,c.g),m=e(l.b,c.b),_=Tr(l.opacity,c.opacity);return function(g){return l.r=f(g),l.g=a(g),l.b=m(g),l.opacity=_(g),l+""}}return i.gamma=t,i}(1);function mo(t){return function(r){var e=r.length,i=new Array(e),l=new Array(e),c=new Array(e),f,a;for(f=0;f<e;++f)a=Tt(r[f]),i[f]=a.r||0,l[f]=a.g||0,c[f]=a.b||0;return i=t(i),l=t(l),c=t(c),a.opacity=1,function(m){return a.r=i(m),a.g=l(m),a.b=c(m),a+""}}}var Jp=mo(fo),e_=mo(po);function ze(t,r){return t=+t,r=+r,function(e){return t*(1-e)+r*e}}var gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hn=new RegExp(gn.source,"g");function t_(t){return function(){return t}}function r_(t){return function(r){return t(r)+""}}function vn(t,r){var e=gn.lastIndex=hn.lastIndex=0,i,l,c,f=-1,a=[],m=[];for(t=t+"",r=r+"";(i=gn.exec(t))&&(l=hn.exec(r));)(c=l.index)>e&&(c=r.slice(e,c),a[f]?a[f]+=c:a[++f]=c),(i=i[0])===(l=l[0])?a[f]?a[f]+=l:a[++f]=l:(a[++f]=null,m.push({i:f,x:ze(i,l)})),e=hn.lastIndex;return e<r.length&&(c=r.slice(e),a[f]?a[f]+=c:a[++f]=c),a.length<2?m[0]?r_(m[0].x):t_(r):(r=m.length,function(_){for(var g=0,E;g<r;++g)a[(E=m[g]).i]=E.x(_);return a.join("")})}var ho=180/Math.PI,Mr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yn(t,r,e,i,l,c){var f,a,m;return(f=Math.sqrt(t*t+r*r))&&(t/=f,r/=f),(m=t*e+r*i)&&(e-=t*m,i-=r*m),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,m/=a),t*i<r*e&&(t=-t,r=-r,m=-m,f=-f),{translateX:l,translateY:c,rotate:Math.atan2(r,t)*ho,skewX:Math.atan(m)*ho,scaleX:f,scaleY:a}}var Nr;function go(t){let r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?Mr:yn(r.a,r.b,r.c,r.d,r.e,r.f)}function vo(t){return t==null?Mr:(Nr||(Nr=document.createElementNS("http://www.w3.org/2000/svg","g")),Nr.setAttribute("transform",t),(t=Nr.transform.baseVal.consolidate())?(t=t.matrix,yn(t.a,t.b,t.c,t.d,t.e,t.f)):Mr)}function yo(t,r,e,i){function l(_){return _.length?_.pop()+" ":""}function c(_,g,E,S,B,F){if(_!==E||g!==S){var q=B.push("translate(",null,r,null,e);F.push({i:q-4,x:ze(_,E)},{i:q-2,x:ze(g,S)})}else(E||S)&&B.push("translate("+E+r+S+e)}function f(_,g,E,S){_!==g?(_-g>180?g+=360:g-_>180&&(_+=360),S.push({i:E.push(l(E)+"rotate(",null,i)-2,x:ze(_,g)})):g&&E.push(l(E)+"rotate("+g+i)}function a(_,g,E,S){_!==g?S.push({i:E.push(l(E)+"skewX(",null,i)-2,x:ze(_,g)}):g&&E.push(l(E)+"skewX("+g+i)}function m(_,g,E,S,B,F){if(_!==E||g!==S){var q=B.push(l(B)+"scale(",null,",",null,")");F.push({i:q-4,x:ze(_,E)},{i:q-2,x:ze(g,S)})}else(E!==1||S!==1)&&B.push(l(B)+"scale("+E+","+S+")")}return function(_,g){var E=[],S=[];return _=t(_),g=t(g),c(_.translateX,_.translateY,g.translateX,g.translateY,E,S),f(_.rotate,g.rotate,E,S),a(_.skewX,g.skewX,E,S),m(_.scaleX,_.scaleY,g.scaleX,g.scaleY,E,S),_=g=null,function(B){for(var F=-1,q=S.length,ie;++F<q;)E[(ie=S[F]).i]=ie.x(B);return E.join("")}}}var wn=yo(go,"px, ","px)","deg)"),bn=yo(vo,", ",")",")");var n_=1e-12;function wo(t){return((t=Math.exp(t))+1/t)/2}function i_(t){return((t=Math.exp(t))-1/t)/2}function o_(t){return((t=Math.exp(2*t))-1)/(t+1)}var xn=function t(r,e,i){function l(c,f){var a=c[0],m=c[1],_=c[2],g=f[0],E=f[1],S=f[2],B=g-a,F=E-m,q=B*B+F*F,ie,V;if(q<n_)V=Math.log(S/_)/r,ie=function(re){return[a+re*B,m+re*F,_*Math.exp(r*re*V)]};else{var K=Math.sqrt(q),Q=(S*S-_*_+i*q)/(2*_*e*K),R=(S*S-_*_-i*q)/(2*S*e*K),W=Math.log(Math.sqrt(Q*Q+1)-Q),G=Math.log(Math.sqrt(R*R+1)-R);V=(G-W)/r,ie=function(re){var ue=re*V,ce=wo(W),pe=_/(e*K)*(ce*o_(r*ue+W)-i_(W));return[a+pe*B,m+pe*F,_*ce/wo(r*ue+W)]}}return ie.duration=V*1e3*r/Math.SQRT2,ie}return l.rho=function(c){var f=Math.max(.001,+c),a=f*f,m=a*a;return t(f,a,m)},l}(Math.SQRT2,2,4);var Ot=0,Zt=0,Qt=0,xo=1e3,Rr,Jt,Dr=0,yt=0,Pr=0,er=typeof performance=="object"&&performance.now?performance:Date,Eo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function rr(){return yt||(Eo(a_),yt=er.now()+Pr)}function a_(){yt=0}function tr(){this._call=this._time=this._next=null}tr.prototype=Fr.prototype={constructor:tr,restart:function(t,r,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?rr():+e)+(r==null?0:+r),!this._next&&Jt!==this&&(Jt?Jt._next=this:Rr=this,Jt=this),this._call=t,this._time=e,En()},stop:function(){this._call&&(this._call=null,this._time=1/0,En())}};function Fr(t,r,e){var i=new tr;return i.restart(t,r,e),i}function ko(){rr(),++Ot;for(var t=Rr,r;t;)(r=yt-t._time)>=0&&t._call.call(void 0,r),t=t._next;--Ot}function bo(){yt=(Dr=er.now())+Pr,Ot=Zt=0;try{ko()}finally{Ot=0,l_(),yt=0}}function s_(){var t=er.now(),r=t-Dr;r>xo&&(Pr-=r,Dr=t)}function l_(){for(var t,r=Rr,e,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:Rr=e);Jt=t,En(i)}function En(t){if(!Ot){Zt&&(Zt=clearTimeout(Zt));var r=t-yt;r>24?(t<1/0&&(Zt=setTimeout(bo,t-er.now()-Pr)),Qt&&(Qt=clearInterval(Qt))):(Qt||(Dr=er.now(),Qt=setInterval(s_,xo)),Ot=1,Eo(bo))}}function Br(t,r,e){var i=new tr;return r=r==null?0:+r,i.restart(l=>{i.stop(),t(l+r)},r,e),i}var u_=mt("start","end","cancel","interrupt"),c_=[],Ao=0,Io=1,Lr=2,zr=3,So=4,Cr=5,nr=6;function ot(t,r,e,i,l,c){var f=t.__transition;if(!f)t.__transition={};else if(e in f)return;f_(t,e,{name:r,index:i,group:l,on:u_,tween:c_,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Ao})}function ir(t,r){var e=we(t,r);if(e.state>Ao)throw new Error("too late; already scheduled");return e}function Ee(t,r){var e=we(t,r);if(e.state>zr)throw new Error("too late; already running");return e}function we(t,r){var e=t.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}function f_(t,r,e){var i=t.__transition,l;i[r]=e,e.timer=Fr(c,0,e.time);function c(_){e.state=Io,e.timer.restart(f,e.delay,e.time),e.delay<=_&&f(_-e.delay)}function f(_){var g,E,S,B;if(e.state!==Io)return m();for(g in i)if(B=i[g],B.name===e.name){if(B.state===zr)return Br(f);B.state===So?(B.state=nr,B.timer.stop(),B.on.call("interrupt",t,t.__data__,B.index,B.group),delete i[g]):+g<r&&(B.state=nr,B.timer.stop(),B.on.call("cancel",t,t.__data__,B.index,B.group),delete i[g])}if(Br(function(){e.state===zr&&(e.state=So,e.timer.restart(a,e.delay,e.time),a(_))}),e.state=Lr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Lr){for(e.state=zr,l=new Array(S=e.tween.length),g=0,E=-1;g<S;++g)(B=e.tween[g].value.call(t,t.__data__,e.index,e.group))&&(l[++E]=B);l.length=E+1}}function a(_){for(var g=_<e.duration?e.ease.call(null,_/e.duration):(e.timer.restart(m),e.state=Cr,1),E=-1,S=l.length;++E<S;)l[E].call(t,g);e.state===Cr&&(e.on.call("end",t,t.__data__,e.index,e.group),m())}function m(){e.state=nr,e.timer.stop(),delete i[r];for(var _ in i)return;delete t.__transition}}function at(t,r){var e=t.__transition,i,l,c=!0,f;if(e){r=r==null?null:r+"";for(f in e){if((i=e[f]).name!==r){c=!1;continue}l=i.state>Lr&&i.state<Cr,i.state=nr,i.timer.stop(),i.on.call(l?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[f]}c&&delete t.__transition}}function To(t){return this.each(function(){at(this,t)})}function p_(t,r){var e,i;return function(){var l=Ee(this,t),c=l.tween;if(c!==e){i=e=c;for(var f=0,a=i.length;f<a;++f)if(i[f].name===r){i=i.slice(),i.splice(f,1);break}}l.tween=i}}function __(t,r,e){var i,l;if(typeof e!="function")throw new Error;return function(){var c=Ee(this,t),f=c.tween;if(f!==i){l=(i=f).slice();for(var a={name:r,value:e},m=0,_=l.length;m<_;++m)if(l[m].name===r){l[m]=a;break}m===_&&l.push(a)}c.tween=l}}function Oo(t,r){var e=this._id;if(t+="",arguments.length<2){for(var i=we(this.node(),e).tween,l=0,c=i.length,f;l<c;++l)if((f=i[l]).name===t)return f.value;return null}return this.each((r==null?p_:__)(e,t,r))}function Mt(t,r,e){var i=t._id;return t.each(function(){var l=Ee(this,i);(l.value||(l.value={}))[r]=e.apply(this,arguments)}),function(l){return we(l,i).value[r]}}function jr(t,r){var e;return(typeof r=="number"?ze:r instanceof it?Or:(e=it(r))?(r=e,Or):vn)(t,r)}function d_(t){return function(){this.removeAttribute(t)}}function m_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function h_(t,r,e){var i,l=e+"",c;return function(){var f=this.getAttribute(t);return f===l?null:f===i?c:c=r(i=f,e)}}function g_(t,r,e){var i,l=e+"",c;return function(){var f=this.getAttributeNS(t.space,t.local);return f===l?null:f===i?c:c=r(i=f,e)}}function v_(t,r,e){var i,l,c;return function(){var f,a=e(this),m;return a==null?void this.removeAttribute(t):(f=this.getAttribute(t),m=a+"",f===m?null:f===i&&m===l?c:(l=m,c=r(i=f,a)))}}function y_(t,r,e){var i,l,c;return function(){var f,a=e(this),m;return a==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),m=a+"",f===m?null:f===i&&m===l?c:(l=m,c=r(i=f,a)))}}function Mo(t,r){var e=Ke(t),i=e==="transform"?bn:jr;return this.attrTween(t,typeof r=="function"?(e.local?y_:v_)(e,i,Mt(this,"attr."+t,r)):r==null?(e.local?m_:d_)(e):(e.local?g_:h_)(e,i,r))}function w_(t,r){return function(e){this.setAttribute(t,r.call(this,e))}}function b_(t,r){return function(e){this.setAttributeNS(t.space,t.local,r.call(this,e))}}function x_(t,r){var e,i;function l(){var c=r.apply(this,arguments);return c!==i&&(e=(i=c)&&b_(t,c)),e}return l._value=r,l}function E_(t,r){var e,i;function l(){var c=r.apply(this,arguments);return c!==i&&(e=(i=c)&&w_(t,c)),e}return l._value=r,l}function No(t,r){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;var i=Ke(t);return this.tween(e,(i.local?x_:E_)(i,r))}function k_(t,r){return function(){ir(this,t).delay=+r.apply(this,arguments)}}function I_(t,r){return r=+r,function(){ir(this,t).delay=r}}function Ro(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?k_:I_)(r,t)):we(this.node(),r).delay}function S_(t,r){return function(){Ee(this,t).duration=+r.apply(this,arguments)}}function A_(t,r){return r=+r,function(){Ee(this,t).duration=r}}function Do(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?S_:A_)(r,t)):we(this.node(),r).duration}function T_(t,r){if(typeof r!="function")throw new Error;return function(){Ee(this,t).ease=r}}function Po(t){var r=this._id;return arguments.length?this.each(T_(r,t)):we(this.node(),r).ease}function O_(t,r){return function(){var e=r.apply(this,arguments);if(typeof e!="function")throw new Error;Ee(this,t).ease=e}}function Fo(t){if(typeof t!="function")throw new Error;return this.each(O_(this._id,t))}function Bo(t){typeof t!="function"&&(t=Ut(t));for(var r=this._groups,e=r.length,i=new Array(e),l=0;l<e;++l)for(var c=r[l],f=c.length,a=i[l]=[],m,_=0;_<f;++_)(m=c[_])&&t.call(m,m.__data__,_,c)&&a.push(m);return new Ne(i,this._parents,this._name,this._id)}function zo(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,e=t._groups,i=r.length,l=e.length,c=Math.min(i,l),f=new Array(i),a=0;a<c;++a)for(var m=r[a],_=e[a],g=m.length,E=f[a]=new Array(g),S,B=0;B<g;++B)(S=m[B]||_[B])&&(E[B]=S);for(;a<i;++a)f[a]=r[a];return new Ne(f,this._parents,this._name,this._id)}function M_(t){return(t+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||r==="start"})}function N_(t,r,e){var i,l,c=M_(r)?ir:Ee;return function(){var f=c(this,t),a=f.on;a!==i&&(l=(i=a).copy()).on(r,e),f.on=l}}function Lo(t,r){var e=this._id;return arguments.length<2?we(this.node(),e).on.on(t):this.each(N_(e,t,r))}function R_(t){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==t)return;r&&r.removeChild(this)}}function Co(){return this.on("end.remove",R_(this._id))}function jo(t){var r=this._name,e=this._id;typeof t!="function"&&(t=dt(t));for(var i=this._groups,l=i.length,c=new Array(l),f=0;f<l;++f)for(var a=i[f],m=a.length,_=c[f]=new Array(m),g,E,S=0;S<m;++S)(g=a[S])&&(E=t.call(g,g.__data__,S,a))&&("__data__"in g&&(E.__data__=g.__data__),_[S]=E,ot(_[S],r,e,S,_,we(g,e)));return new Ne(c,this._parents,r,e)}function Vo(t){var r=this._name,e=this._id;typeof t!="function"&&(t=Vt(t));for(var i=this._groups,l=i.length,c=[],f=[],a=0;a<l;++a)for(var m=i[a],_=m.length,g,E=0;E<_;++E)if(g=m[E]){for(var S=t.call(g,g.__data__,E,m),B,F=we(g,e),q=0,ie=S.length;q<ie;++q)(B=S[q])&&ot(B,r,e,q,S,F);c.push(S),f.push(g)}return new Ne(c,f,r,e)}var D_=Qe.prototype.constructor;function Uo(){return new D_(this._groups,this._parents)}function P_(t,r){var e,i,l;return function(){var c=rt(this,t),f=(this.style.removeProperty(t),rt(this,t));return c===f?null:c===e&&f===i?l:l=r(e=c,i=f)}}function $o(t){return function(){this.style.removeProperty(t)}}function F_(t,r,e){var i,l=e+"",c;return function(){var f=rt(this,t);return f===l?null:f===i?c:c=r(i=f,e)}}function B_(t,r,e){var i,l,c;return function(){var f=rt(this,t),a=e(this),m=a+"";return a==null&&(m=a=(this.style.removeProperty(t),rt(this,t))),f===m?null:f===i&&m===l?c:(l=m,c=r(i=f,a))}}function z_(t,r){var e,i,l,c="style."+r,f="end."+c,a;return function(){var m=Ee(this,t),_=m.on,g=m.value[c]==null?a||(a=$o(r)):void 0;(_!==e||l!==g)&&(i=(e=_).copy()).on(f,l=g),m.on=i}}function Ho(t,r,e){var i=(t+="")=="transform"?wn:jr;return r==null?this.styleTween(t,P_(t,i)).on("end.style."+t,$o(t)):typeof r=="function"?this.styleTween(t,B_(t,i,Mt(this,"style."+t,r))).each(z_(this._id,t)):this.styleTween(t,F_(t,i,r),e).on("end.style."+t,null)}function L_(t,r,e){return function(i){this.style.setProperty(t,r.call(this,i),e)}}function C_(t,r,e){var i,l;function c(){var f=r.apply(this,arguments);return f!==l&&(i=(l=f)&&L_(t,f,e)),i}return c._value=r,c}function qo(t,r,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,C_(t,r,e??""))}function j_(t){return function(){this.textContent=t}}function V_(t){return function(){var r=t(this);this.textContent=r??""}}function Xo(t){return this.tween("text",typeof t=="function"?V_(Mt(this,"text",t)):j_(t==null?"":t+""))}function U_(t){return function(r){this.textContent=t.call(this,r)}}function $_(t){var r,e;function i(){var l=t.apply(this,arguments);return l!==e&&(r=(e=l)&&U_(l)),r}return i._value=t,i}function Wo(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,$_(t))}function Go(){for(var t=this._name,r=this._id,e=Vr(),i=this._groups,l=i.length,c=0;c<l;++c)for(var f=i[c],a=f.length,m,_=0;_<a;++_)if(m=f[_]){var g=we(m,r);ot(m,t,e,_,f,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Ne(i,this._parents,t,e)}function Yo(){var t,r,e=this,i=e._id,l=e.size();return new Promise(function(c,f){var a={value:f},m={value:function(){--l===0&&c()}};e.each(function(){var _=Ee(this,i),g=_.on;g!==t&&(r=(t=g).copy(),r._.cancel.push(a),r._.interrupt.push(a),r._.end.push(m)),_.on=r}),l===0&&c()})}var H_=0;function Ne(t,r,e,i){this._groups=t,this._parents=r,this._name=e,this._id=i}function Ko(t){return Qe().transition(t)}function Vr(){return++H_}var Ze=Qe.prototype;Ne.prototype=Ko.prototype={constructor:Ne,select:jo,selectAll:Vo,selectChild:Ze.selectChild,selectChildren:Ze.selectChildren,filter:Bo,merge:zo,selection:Uo,transition:Go,call:Ze.call,nodes:Ze.nodes,node:Ze.node,size:Ze.size,empty:Ze.empty,each:Ze.each,on:Lo,attr:Mo,attrTween:No,style:Ho,styleTween:qo,text:Xo,textTween:Wo,remove:Co,tween:Oo,delay:Ro,duration:Do,ease:Po,easeVarying:Fo,end:Yo,[Symbol.iterator]:Ze[Symbol.iterator]};function Ur(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var q_={time:null,delay:0,duration:250,ease:Ur};function X_(t,r){for(var e;!(e=t.__transition)||!(e=e[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return e}function Qo(t){var r,e;t instanceof Ne?(r=t._id,t=t._name):(r=Vr(),(e=q_).time=rr(),t=t==null?null:t+"");for(var i=this._groups,l=i.length,c=0;c<l;++c)for(var f=i[c],a=f.length,m,_=0;_<a;++_)(m=f[_])&&ot(m,t,r,_,f,e||X_(m,r));return new Ne(i,this._parents,t,r)}Qe.prototype.interrupt=To;Qe.prototype.transition=Qo;var or=t=>()=>t;function kn(t,{sourceEvent:r,target:e,transform:i,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:l}})}function Ue(t,r,e){this.k=t,this.x=r,this.y=e}Ue.prototype={constructor:Ue,scale:function(t){return t===1?this:new Ue(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new Ue(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ar=new Ue(1,0,0);In.prototype=Ue.prototype;function In(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ar;return t.__zoom}function $r(t){t.stopImmediatePropagation()}function Nt(t){t.preventDefault(),t.stopImmediatePropagation()}function W_(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function G_(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Zo(){return this.__zoom||ar}function Y_(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function K_(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q_(t,r,e){var i=t.invertX(r[0][0])-e[0][0],l=t.invertX(r[1][0])-e[1][0],c=t.invertY(r[0][1])-e[0][1],f=t.invertY(r[1][1])-e[1][1];return t.translate(l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l),f>c?(c+f)/2:Math.min(0,c)||Math.max(0,f))}function Z_(){var t=W_,r=G_,e=Q_,i=Y_,l=K_,c=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],a=250,m=xn,_=mt("start","zoom","end"),g,E,S,B=500,F=150,q=0,ie=10;function V(O){O.property("__zoom",Zo).on("wheel.zoom",ue,{passive:!1}).on("mousedown.zoom",ce).on("dblclick.zoom",pe).filter(l).on("touchstart.zoom",_e).on("touchmove.zoom",Re).on("touchend.zoom touchcancel.zoom",Se).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}V.transform=function(O,k,T,z){var w=O.selection?O.selection():O;w.property("__zoom",Zo),O!==w?W(O,k,T,z):w.interrupt().each(function(){G(this,arguments).event(z).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},V.scaleBy=function(O,k,T,z){V.scaleTo(O,function(){var w=this.__zoom.k,s=typeof k=="function"?k.apply(this,arguments):k;return w*s},T,z)},V.scaleTo=function(O,k,T,z){V.transform(O,function(){var w=r.apply(this,arguments),s=this.__zoom,v=T==null?R(w):typeof T=="function"?T.apply(this,arguments):T,b=s.invert(v),N=typeof k=="function"?k.apply(this,arguments):k;return e(Q(K(s,N),v,b),w,f)},T,z)},V.translateBy=function(O,k,T,z){V.transform(O,function(){return e(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof T=="function"?T.apply(this,arguments):T),r.apply(this,arguments),f)},null,z)},V.translateTo=function(O,k,T,z,w){V.transform(O,function(){var s=r.apply(this,arguments),v=this.__zoom,b=z==null?R(s):typeof z=="function"?z.apply(this,arguments):z;return e(ar.translate(b[0],b[1]).scale(v.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof T=="function"?-T.apply(this,arguments):-T),s,f)},z,w)};function K(O,k){return k=Math.max(c[0],Math.min(c[1],k)),k===O.k?O:new Ue(k,O.x,O.y)}function Q(O,k,T){var z=k[0]-T[0]*O.k,w=k[1]-T[1]*O.k;return z===O.x&&w===O.y?O:new Ue(O.k,z,w)}function R(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function W(O,k,T,z){O.on("start.zoom",function(){G(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){G(this,arguments).event(z).end()}).tween("zoom",function(){var w=this,s=arguments,v=G(w,s).event(z),b=r.apply(w,s),N=T==null?R(b):typeof T=="function"?T.apply(w,s):T,U=Math.max(b[1][0]-b[0][0],b[1][1]-b[0][1]),P=w.__zoom,M=typeof k=="function"?k.apply(w,s):k,D=m(P.invert(N).concat(U/P.k),M.invert(N).concat(U/M.k));return function(A){if(A===1)A=M;else{var L=D(A),$=U/L[2];A=new Ue($,N[0]-L[0]*$,N[1]-L[1]*$)}v.zoom(null,A)}})}function G(O,k,T){return!T&&O.__zooming||new re(O,k)}function re(O,k){this.that=O,this.args=k,this.active=0,this.sourceEvent=null,this.extent=r.apply(O,k),this.taps=0}re.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,k){return this.mouse&&O!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var k=Fe(this.that).datum();_.call(O,this.that,new kn(O,{sourceEvent:this.sourceEvent,target:V,type:O,transform:this.that.__zoom,dispatch:_}),k)}};function ue(O,...k){if(!t.apply(this,arguments))return;var T=G(this,k).event(O),z=this.__zoom,w=Math.max(c[0],Math.min(c[1],z.k*Math.pow(2,i.apply(this,arguments)))),s=Be(O);if(T.wheel)(T.mouse[0][0]!==s[0]||T.mouse[0][1]!==s[1])&&(T.mouse[1]=z.invert(T.mouse[0]=s)),clearTimeout(T.wheel);else{if(z.k===w)return;T.mouse=[s,z.invert(s)],at(this),T.start()}Nt(O),T.wheel=setTimeout(v,F),T.zoom("mouse",e(Q(K(z,w),T.mouse[0],T.mouse[1]),T.extent,f));function v(){T.wheel=null,T.end()}}function ce(O,...k){if(S||!t.apply(this,arguments))return;var T=O.currentTarget,z=G(this,k,!0).event(O),w=Fe(O.view).on("mousemove.zoom",N,!0).on("mouseup.zoom",U,!0),s=Be(O,T),v=O.clientX,b=O.clientY;Ht(O.view),$r(O),z.mouse=[s,this.__zoom.invert(s)],at(this),z.start();function N(P){if(Nt(P),!z.moved){var M=P.clientX-v,D=P.clientY-b;z.moved=M*M+D*D>q}z.event(P).zoom("mouse",e(Q(z.that.__zoom,z.mouse[0]=Be(P,T),z.mouse[1]),z.extent,f))}function U(P){w.on("mousemove.zoom mouseup.zoom",null),qt(P.view,z.moved),Nt(P),z.event(P).end()}}function pe(O,...k){if(t.apply(this,arguments)){var T=this.__zoom,z=Be(O.changedTouches?O.changedTouches[0]:O,this),w=T.invert(z),s=T.k*(O.shiftKey?.5:2),v=e(Q(K(T,s),z,w),r.apply(this,k),f);Nt(O),a>0?Fe(this).transition().duration(a).call(W,v,z,O):Fe(this).call(V.transform,v,z,O)}}function _e(O,...k){if(t.apply(this,arguments)){var T=O.touches,z=T.length,w=G(this,k,O.changedTouches.length===z).event(O),s,v,b,N;for($r(O),v=0;v<z;++v)b=T[v],N=Be(b,this),N=[N,this.__zoom.invert(N),b.identifier],w.touch0?!w.touch1&&w.touch0[2]!==N[2]&&(w.touch1=N,w.taps=0):(w.touch0=N,s=!0,w.taps=1+!!g);g&&(g=clearTimeout(g)),s&&(w.taps<2&&(E=N[0],g=setTimeout(function(){g=null},B)),at(this),w.start())}}function Re(O,...k){if(this.__zooming){var T=G(this,k).event(O),z=O.changedTouches,w=z.length,s,v,b,N;for(Nt(O),s=0;s<w;++s)v=z[s],b=Be(v,this),T.touch0&&T.touch0[2]===v.identifier?T.touch0[0]=b:T.touch1&&T.touch1[2]===v.identifier&&(T.touch1[0]=b);if(v=T.that.__zoom,T.touch1){var U=T.touch0[0],P=T.touch0[1],M=T.touch1[0],D=T.touch1[1],A=(A=M[0]-U[0])*A+(A=M[1]-U[1])*A,L=(L=D[0]-P[0])*L+(L=D[1]-P[1])*L;v=K(v,Math.sqrt(A/L)),b=[(U[0]+M[0])/2,(U[1]+M[1])/2],N=[(P[0]+D[0])/2,(P[1]+D[1])/2]}else if(T.touch0)b=T.touch0[0],N=T.touch0[1];else return;T.zoom("touch",e(Q(v,b,N),T.extent,f))}}function Se(O,...k){if(this.__zooming){var T=G(this,k).event(O),z=O.changedTouches,w=z.length,s,v;for($r(O),S&&clearTimeout(S),S=setTimeout(function(){S=null},B),s=0;s<w;++s)v=z[s],T.touch0&&T.touch0[2]===v.identifier?delete T.touch0:T.touch1&&T.touch1[2]===v.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(v=Be(v,this),Math.hypot(E[0]-v[0],E[1]-v[1])<ie)){var b=Fe(this).on("dblclick.zoom");b&&b.apply(this,arguments)}}}return V.wheelDelta=function(O){return arguments.length?(i=typeof O=="function"?O:or(+O),V):i},V.filter=function(O){return arguments.length?(t=typeof O=="function"?O:or(!!O),V):t},V.touchable=function(O){return arguments.length?(l=typeof O=="function"?O:or(!!O),V):l},V.extent=function(O){return arguments.length?(r=typeof O=="function"?O:or([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),V):r},V.scaleExtent=function(O){return arguments.length?(c[0]=+O[0],c[1]=+O[1],V):[c[0],c[1]]},V.translateExtent=function(O){return arguments.length?(f[0][0]=+O[0][0],f[1][0]=+O[1][0],f[0][1]=+O[0][1],f[1][1]=+O[1][1],V):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},V.constrain=function(O){return arguments.length?(e=O,V):e},V.duration=function(O){return arguments.length?(a=+O,V):a},V.interpolate=function(O){return arguments.length?(m=O,V):m},V.on=function(){var O=_.on.apply(_,arguments);return O===_?V:O},V.clickDistance=function(O){return arguments.length?(q=(O=+O)*O,V):Math.sqrt(q)},V.tapDistance=function(O){return arguments.length?(ie=+O,V):ie},V}function Hr(t,r){let e;if(r===void 0)for(let i of t)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let l of t)(l=r(l,++i,t))!=null&&(e<l||e===void 0&&l>=l)&&(e=l)}return e}function Rt(t,r){let e;if(r===void 0)for(let i of t)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let l of t)(l=r(l,++i,t))!=null&&(e>l||e===void 0&&l>=l)&&(e=l)}return e}function Dt(t,r){let e=0;if(r===void 0)for(let i of t)(i=+i)&&(e+=i);else{let i=-1;for(let l of t)(l=+r(l,++i,t))&&(e+=l)}return e}var{abs:ly,max:uy,min:cy}=Math;function Jo(t){return[+t[0],+t[1]]}function J_(t){return[Jo(t[0]),Jo(t[1])]}var fy={name:"x",handles:["w","e"].map(Sn),input:function(t,r){return t==null?null:[[+t[0],r[0][1]],[+t[1],r[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},py={name:"y",handles:["n","s"].map(Sn),input:function(t,r){return t==null?null:[[r[0][0],+t[0]],[r[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},_y={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Sn),input:function(t){return t==null?null:J_(t)},output:function(t){return t}};function Sn(t){return{type:t}}var An=Math.PI,Tn=2*An,wt=1e-6,ed=Tn-wt;function ea(t){this._+=t[0];for(let r=1,e=t.length;r<e;++r)this._+=arguments[r]+t[r]}function td(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return ea;let e=10**r;return function(i){this._+=i[0];for(let l=1,c=i.length;l<c;++l)this._+=Math.round(arguments[l]*e)/e+i[l]}}var bt=class{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?ea:td(r)}moveTo(r,e){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,e){this._append`L${this._x1=+r},${this._y1=+e}`}quadraticCurveTo(r,e,i,l){this._append`Q${+r},${+e},${this._x1=+i},${this._y1=+l}`}bezierCurveTo(r,e,i,l,c,f){this._append`C${+r},${+e},${+i},${+l},${this._x1=+c},${this._y1=+f}`}arcTo(r,e,i,l,c){if(r=+r,e=+e,i=+i,l=+l,c=+c,c<0)throw new Error(`negative radius: ${c}`);let f=this._x1,a=this._y1,m=i-r,_=l-e,g=f-r,E=a-e,S=g*g+E*E;if(this._x1===null)this._append`M${this._x1=r},${this._y1=e}`;else if(S>wt)if(!(Math.abs(E*m-_*g)>wt)||!c)this._append`L${this._x1=r},${this._y1=e}`;else{let B=i-f,F=l-a,q=m*m+_*_,ie=B*B+F*F,V=Math.sqrt(q),K=Math.sqrt(S),Q=c*Math.tan((An-Math.acos((q+S-ie)/(2*V*K)))/2),R=Q/K,W=Q/V;Math.abs(R-1)>wt&&this._append`L${r+R*g},${e+R*E}`,this._append`A${c},${c},0,0,${+(E*B>g*F)},${this._x1=r+W*m},${this._y1=e+W*_}`}}arc(r,e,i,l,c,f){if(r=+r,e=+e,i=+i,f=!!f,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(l),m=i*Math.sin(l),_=r+a,g=e+m,E=1^f,S=f?l-c:c-l;this._x1===null?this._append`M${_},${g}`:(Math.abs(this._x1-_)>wt||Math.abs(this._y1-g)>wt)&&this._append`L${_},${g}`,i&&(S<0&&(S=S%Tn+Tn),S>ed?this._append`A${i},${i},0,1,${E},${r-a},${e-m}A${i},${i},0,1,${E},${this._x1=_},${this._y1=g}`:S>wt&&this._append`A${i},${i},0,${+(S>=An)},${E},${this._x1=r+i*Math.cos(c)},${this._y1=e+i*Math.sin(c)}`)}rect(r,e,i,l){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+e}h${i=+i}v${+l}h${-i}Z`}toString(){return this._}};function ta(){return new bt}ta.prototype=bt.prototype;function On(t){return function(){return t}}function ra(t){let r=3;return t.digits=function(e){if(!arguments.length)return r;if(e==null)r=null;else{let i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);r=i}return t},()=>new bt(r)}var na=Array.prototype.slice;function ia(t){return t[0]}function oa(t){return t[1]}var Mn=class{constructor(r,e){this._context=r,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,e){switch(r=+r,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,e,r,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,r,this._y0,r,e);break}}this._x0=r,this._y0=e}};function aa(t){return new Mn(t,!0)}function rd(t){return t.source}function nd(t){return t.target}function sa(t){let r=rd,e=nd,i=ia,l=oa,c=null,f=null,a=ra(m);function m(){let _,g=na.call(arguments),E=r.apply(this,g),S=e.apply(this,g);if(c==null&&(f=t(_=a())),f.lineStart(),g[0]=E,f.point(+i.apply(this,g),+l.apply(this,g)),g[0]=S,f.point(+i.apply(this,g),+l.apply(this,g)),f.lineEnd(),_)return f=null,_+""||null}return m.source=function(_){return arguments.length?(r=_,m):r},m.target=function(_){return arguments.length?(e=_,m):e},m.x=function(_){return arguments.length?(i=typeof _=="function"?_:On(+_),m):i},m.y=function(_){return arguments.length?(l=typeof _=="function"?_:On(+_),m):l},m.context=function(_){return arguments.length?(_==null?c=f=null:f=t(c=_),m):c},m}function id(){return sa(aa)}function od(t){return t.target.depth}function xw(t){return de(t.depth,0)}function Ew(t,r){return r-1-de(t.height,0)}function la(t,r){return t.sourceLinks?.length?de(t.depth,0):r-1}function kw(t){return t.targetLinks?.length?de(t.depth,0):t.sourceLinks?.length?de(Rt(t.sourceLinks,od),0)-1:0}function Nn(t){return()=>t}function ua(t){let r=new Set,e=new Map,i=new Map;for(let _ of t.nodes){r.add(_);let g=0,E=0;for(let S of de(_.targetLinks,[]))S.source!==_&&g++;for(let S of de(_.sourceLinks,[]))S.target!==_&&E++;e.set(_,g),i.set(_,E)}function l(_){r.delete(_);for(let g of de(_.targetLinks,[])){let E=g.source;if(r.has(E)){let S=de(i.get(E),0);i.set(E,S-1)}}for(let g of de(_.sourceLinks,[])){let E=g.target;if(r.has(E)){let S=de(e.get(E),0);e.set(E,S-1)}}}let c=[],f=[];for(;r.size>0;){for(;;){let E=!1;for(let S of r)i.get(S)===0&&(E=!0,f.push(S),l(S));if(!E)break}for(;;){let E=!1;for(let S of r)e.get(S)===0&&(E=!0,c.push(S),l(S));if(!E)break}if(r.size===0)break;let _=null,g=null;for(let E of r){let S=de(i.get(E),0)-de(e.get(E),0);(_===null||S>_)&&(_=S,g=E)}g!=null&&(c.push(g),l(g))}f.reverse();let a=c.concat(f),m=new Map;for(let[_,g]of a.entries())m.set(g,_);for(let _ of t.links){let g=de(m.get(_.source),0),E=de(m.get(_.target),0);g===E?_.direction="self":g<E?_.direction="forward":_.direction="backward"}}function ca(t,r){return qr(t.source,r.source)||t.index-r.index}function fa(t,r){return qr(t.target,r.target)||t.index-r.index}function qr(t,r){return t.y0-r.y0}function Rn(t){return t.value}function ad(t){return t.index}function sd(t){return t.nodes}function ld(t){return t.links}function pa(t,r){let e=t.get(r);if(!e)throw new Error("missing: "+r.toString());return e}function _a({nodes:t}){for(let r of t){let e=r.y0,i=e;for(let l of r.sourceLinks)l.y0=e+l.width/2,e+=l.width;for(let l of r.targetLinks)l.y1=i+l.width/2,i+=l.width}}function sr(t){return de(t,0)}function da(){let t=0,r=0,e=1,i=1,l=24,c=8,f=ad,a=la,m,_,g=sd,E=ld,S=6;function B(A){let L={nodes:[...A.nodes],links:[...A.links]};return pe(L),_e(L),Re(L),Se(L),O(L),z(L),_a(L),L}let F=B;F.update=function(A){return _a(A),A};function q(A){return A==null?f:(f=A,F)}F.nodeId=q;function ie(A){return A==null?a:(a=A,F)}F.nodeAlign=ie;function V(A){return A==null?m:(m=A,F)}F.nodeSort=V;function K(A){return A==null?l:(l=A,F)}F.nodeWidth=K;function Q(A){return A==null?c:(c=A,F)}F.nodePadding=Q;function R(A){return A==null?g:(g=typeof A=="function"?A:Nn(A),F)}F.nodes=R;function W(A){return A==null?E:(E=typeof A=="function"?A:Nn(A),F)}F.links=W;function G(A){return A==null?_:(_=A,F)}F.linkSort=G;function re(A){return A==null?[e-t,i-r]:(t=r=0,[e,i]=A,F)}F.size=re;function ue(A){return A==null?[[t,r],[e,i]]:([[t,r],[e,i]]=A,F)}F.extent=ue;function ce(A){return A==null?S:(S=A,F)}F.iterations=ce;function pe({nodes:A,links:L}){for(let[H,j]of A.entries())j.index=H,j.sourceLinks=[],j.targetLinks=[];let $=new Map(A.map(H=>[f(H),H]));for(let[H,j]of L.entries()){j.index=H;let{source:J,target:ye}=j;typeof J!="object"&&(J=j.source=pa($,J)),typeof ye!="object"&&(ye=j.target=pa($,ye)),J.sourceLinks.push(j),ye.targetLinks.push(j)}}function _e({nodes:A}){for(let L of A)L.value=Math.max(Dt(L.sourceLinks,Rn),Dt(L.targetLinks,Rn))}function Re(A){ua(A)}function Se({nodes:A}){let L=A.length,$=new Set(A),H=new Set,j=0;for(;$.size;){for(let J of $){J.depth=j;for(let{target:ye,direction:he}of J.sourceLinks)he==="forward"&&H.add(ye)}if(++j>L)throw new Error("circular link");$=H,H=new Set}}function O({nodes:A}){let L=A.length,$=new Set(A),H=new Set,j=0;for(;$.size;){for(let J of $){J.height=j;for(let{source:ye,direction:he}of J.targetLinks)he==="forward"&&H.add(ye)}if(++j>L)throw new Error("circular link");$=H,H=new Set}}function k({nodes:A}){let L=sr(Hr(A,j=>j.depth))+1,$=(e-t-l)/(L-1),H=new Array(L);for(let j of A){let J=Math.max(0,Math.min(L-1,Math.floor(a.call(null,j,L))));j.layer=J,j.x0=t+J*$,j.x1=j.x0+l,H[J]?H[J].push(j):H[J]=[j]}if(m)for(let j of H)j.sort(m);return H}function T(A){let L=Rt(A,$=>(i-r-($.length-1)*c)/Dt($,Rn));L=de(L,0);for(let $ of A){let H=r;for(let j of $){j.y0=H,j.y1=H+j.value*L,H=j.y1+c;for(let J of j.sourceLinks)J.width=J.value*L}H=(i-H+c)/($.length+1);for(let j=0;j<$.length;++j){let J=$[j];J.y0+=H*(j+1),J.y1+=H*(j+1)}P($)}return i}function z(A){let L=k(A),$=T(L);for(let H=0;H<S;++H){let j=Math.pow(.99,H),J=Math.max(1-j,(H+1)/S);s(L,j,J,$),w(L,j,J,$)}}function w(A,L,$,H){for(let j=1,J=A.length;j<J;++j){let ye=A[j];for(let he of ye){let st=0,We=0;for(let{source:ut,value:Pt}of he.targetLinks){let ct=Pt*(sr(he.layer)-sr(ut.layer));st+=M(ut,he)*ct,We+=ct}if(!(We>0))continue;let lt=(st/We-he.y0)*L;he.y0+=lt,he.y1+=lt,U(he)}m===void 0&&ye.sort(qr),v(ye,$,H)}}function s(A,L,$,H){for(let j=A.length,J=j-2;J>=0;--J){let ye=A[J];for(let he of ye){let st=0,We=0;for(let{target:ut,value:Pt}of he.sourceLinks){let ct=Pt*(sr(ut.layer)-sr(he.layer));st+=D(he,ut)*ct,We+=ct}if(!(We>0))continue;let lt=(st/We-he.y0)*L;he.y0+=lt,he.y1+=lt,U(he)}m===void 0&&ye.sort(qr),v(ye,$,H)}}function v(A,L,$){let H=A.length>>1,j=A[H];N(A,j.y0-c,H-1,L),b(A,j.y1+c,H+1,L),N(A,$,A.length-1,L),b(A,r,0,L)}function b(A,L,$,H){for(;$<A.length;++$){let j=A[$],J=(L-j.y0)*H;J>1e-6&&(j.y0+=J,j.y1+=J),L=j.y1+c}}function N(A,L,$,H){for(;$>=0;--$){let j=A[$],J=(j.y1-L)*H;J>1e-6&&(j.y0-=J,j.y1-=J),L=j.y0-c}}function U({sourceLinks:A,targetLinks:L}){if(_===void 0){for(let $ of L)$.source.sourceLinks.sort(fa);for(let $ of A)$.target.targetLinks.sort(ca)}}function P(A){if(_===void 0)for(let{sourceLinks:L,targetLinks:$}of A)L.sort(fa),$.sort(ca)}function M(A,L){let $=A.y0-(A.sourceLinks.length-1)*c/2;for(let{target:H,width:j}of A.sourceLinks){if(H===L)break;$+=j+c}for(let{source:H,width:j}of L.targetLinks){if(H===A)break;$-=j}return $}function D(A,L){let $=L.y0-(L.targetLinks.length-1)*c/2;for(let{source:H,width:j}of L.targetLinks){if(H===A)break;$+=j+c}for(let{target:H,width:j}of A.sourceLinks){if(H===L)break;$-=j}return $}return F}var $e=function(t){return t.None="none",t.Item="item",t.Recipe="recipe",t.Machine="machine",t.Recipes="recipes",t}($e||{}),Fw={[$e.None]:"",[$e.Item]:"fa-solid fa-box",[$e.Recipe]:"fa-solid fa-flask",[$e.Machine]:"fa-solid fa-industry",[$e.Recipes]:"fa-solid fa-flask-vial"};var Dn="",xt=class{static objectiveNormalizedRate(r,e,i,l,c){if(r.unit===tt.Machines||r.type===fe.Maximize)return r.value;let f=r.value,a=ne.one;switch(r.unit){case tt.Items:{a=l.value.reciprocal();break}case tt.Belts:{let _=e[r.targetId].beltId;_&&(a=i[_]);break}case tt.Wagons:{let _=e[r.targetId].wagonId;if(_){let g=c.itemEntities[r.targetId],E=c.itemEntities[_];g.stack&&E.cargoWagon?a=g.stack.mul(E.cargoWagon.size).div(l.value):E.fluidWagon&&(a=E.fluidWagon.capacity.div(l.value))}break}}let m=c.adjustedRecipe[c.itemRecipeIds[r.targetId][0]];return m?.isTechnology&&(a=a.mul(m.productivity)),f.mul(a)}static addEntityValue(r,e,i,l){let c=r[e];c?c[i]?c[i]=c[i].add(l):c[i]=l:r[e]={[i]:l}}static adjustPowerPollution(r,e,i){if(r.machines?.nonzero()&&!e.part){if(e.drain?.nonzero()||e.consumption?.nonzero()){if(r.power=ne.zero,e.drain?.nonzero()){let l=r.machines.ceil();i===St.DysonSphereProgram&&(l=l.sub(r.machines)),r.power=r.power.add(l.mul(e.drain))}e.consumption?.nonzero()&&(r.power=r.power.add(r.machines.mul(e.consumption)))}e.pollution?.nonzero()&&(r.pollution=r.machines.mul(e.pollution))}}static normalizeSteps(r,e,i,l,c,f,a,m){let _=this.copy(r);for(let E of _)this.calculateParentsOutputs(E,_);let g=mr(e);for(let E of _)this.calculateSettings(E,g,l),this.calculateBelts(E,i,c,m),this.calculateBeacons(E,a.beaconReceivers,m),this.calculateDisplayRate(E,f),this.calculateChecked(E,a);return this.sortBySankey(_),this.calculateHierarchy(_)}static calculateParentsOutputs(r,e){if(r.recipe&&r.machines?.nonzero()){let i=r.recipe,l=r.machines.div(i.time);for(let c of Object.keys(i.in))if(i.in[c].nonzero()){let f=i.in[c].mul(l),a=e.find(m=>m.itemId===c);a!=null&&this.addEntityValue(a,"parents",r.id,f)}for(let c of Object.keys(i.out))if(i.out[c].nonzero()){let f=i.out[c].mul(l),a=e.find(m=>m.itemId===c);a?.items?.nonzero()&&this.addEntityValue(r,"outputs",c,f.div(a.items))}}}static calculateSettings(r,e,i){r.recipeId&&(r.recipeObjectiveId?r.recipeSettings=e[r.recipeObjectiveId]:r.recipeSettings=i[r.recipeId])}static calculateBelts(r,e,i,l){let c=!1;if(r.recipeId!=null&&r.recipeSettings!=null){let f=r.recipeSettings.machineId;if(f!=null){let a=l.machineEntities[f],m=l.recipeEntities[r.recipeId];c=!!(m.isTechnology||a.silo&&!m.part)}}if(c)delete r.belts,delete r.wagons;else if(r.itemId!=null){let f=e[r.itemId].beltId;r.items!=null&&f!=null&&(r.belts=r.items.div(i[f]));let a=e[r.itemId].wagonId;if(r.items!=null&&a!=null){let m=l.itemEntities[r.itemId];m.stack?r.wagons=r.items.div(l.cargoWagonEntities[a].size.mul(m.stack)):r.wagons=r.items.div(l.fluidWagonEntities[a].capacity)}}}static calculateBeacons(r,e,i){if(!e?.nonzero()||r.recipeId==null||!r.machines?.nonzero()||i.recipeEntities[r.recipeId].part||r.recipeSettings==null)return;let l=r.machines,c=r.recipeSettings;c.beacons!=null&&(r.recipeSettings=Me(r.recipeSettings,{beacons:c.beacons.map(f=>{let a=f.total;if(f.id!=null){f.count!=null&&a==null&&(a=l.ceil().mul(f.count).div(e),a.lt(f.count)&&(a=f.count));let m=i.beaconEntities[f.id];m.type===ni.Electric&&m.usage!=null&&a!=null&&(r.power=(r.power??ne.zero).add(a.mul(m.usage)))}return Gn(Wn({},f),{total:a})})}))}static calculateDisplayRate(r,e){if(r.items){if(r.parents)for(let i of Object.keys(r.parents))r.parents[i]=r.parents[i].div(r.items);r.items=r.items.mul(e.value)}r.surplus&&(r.surplus=r.surplus.mul(e.value)),r.wagons&&(r.wagons=r.wagons.mul(e.value)),r.pollution&&(r.pollution=r.pollution.mul(e.value)),r.output&&(r.output=r.output.mul(e.value))}static calculateChecked(r,e){r.itemId!=null?r.checked=e.checkedItemIds.has(r.itemId):r.recipeObjectiveId!=null?r.checked=e.checkedObjectiveIds.has(r.recipeObjectiveId):r.recipeId!=null&&(r.checked=e.checkedRecipeIds.has(r.recipeId))}static sortBySankey(r){let e=r.reduce((a,m)=>(a[m.id]=m,a),{}),i=[],l=[];for(let a of r){if(a.itemId){let m=`i|${a.itemId}`;if(i.push({id:m,stepId:a.id}),a.parents)for(let _ of Object.keys(a.parents)){if(_==="")continue;let g=e[_].recipeId;g!=null&&l.push({source:m,target:`r|${g}`,value:1})}}if(a.recipeId){let m=`r|${a.recipeId}`;if(i.push({id:m,stepId:a.id}),a.outputs)for(let _ of Object.keys(a.outputs))l.push({source:m,target:`i|${_}`,value:1})}}if(!i.length||!l.length)return;let c=da().nodeId(a=>a.id)({nodes:i,links:l});for(let a of r)a.depth=c.nodes.find(m=>m.stepId===a.id)?.depth;function f(a){return a.output?1e5:de(a.depth,0)}r.sort((a,m)=>f(m)-f(a))}static calculateHierarchy(r){let e={};for(let c of r)if(c.parents==null||c.parents[""]||Object.keys(c.parents).length>1)e[c.id]=Dn;else{let f=Object.keys(c.parents)[0],a=r.find(m=>m.id===f);a&&(c.id===a.id?e[c.id]=Dn:e[c.id]=a.id)}let i={};for(let c of r){let f=e[c.id];i[f]||(i[f]=[]),i[f].push(c)}let l=this.sortRecursive(i,Dn,[]);return l.push(...r.filter(c=>!l.includes(c))),l}static sortRecursive(r,e,i){if(!r[e])return[];let l=r[e];for(let c of l)i.push(c),this.sortRecursive(r,c.id,i);return i}static copy(r){return r.map(e=>e.parents?Me(e,{parents:Me(e.parents)}):Me(e))}};var xa=Pf(wa());var Et=function(t){return t.Failed="failed",t.Paused="paused",t.Skipped="skipped",t.Solved="solved",t}(Et||{});var ba=ne(1n,10n);var ud=_r.debug?{}:{msgLevel:"off"},Ea=(()=>{let r=class r{addItemValue(i,l,c=ne.zero,f="out"){if(i[l]){let a=i[l][f];a?i[l][f]=a.add(c):i[l][f]=c}else i[l]={out:ne.zero,[f]:c}}solve(i,l,c,f){if(f)return{steps:[],resultType:Et.Paused};if(i.length===0)return{steps:[],resultType:Et.Skipped};let a=this.getState(i,l,c),m=this.getSolution(a);return m.resultType===Et.Solved&&this.updateSteps(m,a),{steps:a.steps,resultType:m.resultType,returnCode:m.returnCode,simplexStatus:m.simplexStatus,unboundedRecipeId:m.unboundedRecipeId,time:m.time,cost:m.cost}}getState(i,l,c){let f={objectives:i,recipeObjectives:i.filter(a=>jt(a)&&[fe.Output,fe.Maximize].includes(a.type)),steps:[],recipes:{},itemValues:{},recipeLimits:{},unproduceableIds:new Set,excludedIds:l.excludedItemIds,recipeIds:c.recipeIds.filter(a=>{let m=c.recipeEntities[a];return!l.excludedRecipeIds.has(a)&&(m.unlockedBy==null||l.researchedTechnologyIds.has(m.unlockedBy))}),itemIds:c.itemIds.filter(a=>!l.excludedItemIds.has(a)),maximizeType:l.maximizeType,surplusMachinesOutput:l.surplusMachinesOutput,costs:l.costs,data:c};for(let a of i)if(jt(a))switch(a.type){case fe.Output:case fe.Maximize:{for(let m of Object.keys(a.recipe.out))this.addItemValue(f.itemValues,m),this.parseItemRecursively(m,f);this.parseRecipeRecursively(a.recipe,f);break}case fe.Input:{for(let m of Object.keys(a.recipe.out).filter(_=>a.recipe.produces.has(_))){let _=a.value.mul(a.recipe.output[m]);this.addItemValue(f.itemValues,m,_,"in")}break}case fe.Limit:{let m=f.recipeLimits[a.targetId];(m==null||m.gt(a.value))&&(f.recipeLimits[a.targetId]=a.value);break}}else switch(a.type){case fe.Output:{this.addItemValue(f.itemValues,a.targetId,a.value),this.parseItemRecursively(a.targetId,f);break}case fe.Input:{this.addItemValue(f.itemValues,a.targetId,a.value,"in");break}case fe.Maximize:{this.addItemValue(f.itemValues,a.targetId,a.value,"max"),this.addItemValue(f.itemValues,a.targetId),this.parseItemRecursively(a.targetId,f);break}case fe.Limit:{this.addItemValue(f.itemValues,a.targetId),this.parseItemRecursively(a.targetId,f);let m=f.itemValues[a.targetId].lim;(m==null||m.gt(a.value))&&(f.itemValues[a.targetId].lim=a.value);break}}return this.addSurplusVariables(f),this.parseUnproduceable(f),f}recipeMatches(i,l){let c=l.data.itemIncludedRecipeIds[i].filter(f=>!l.recipes[f]).map(f=>l.data.adjustedRecipe[f]);return c.forEach(f=>l.recipes[f.id]=f),c}itemMatches(i,l){let c=Object.keys(i.in).filter(f=>l.itemValues[f]?.out==null);for(let f of c)this.addItemValue(l.itemValues,f);return c}parseRecipeRecursively(i,l){if(i.in){let c=this.itemMatches(i,l);for(let f of c.filter(a=>l.itemIds.includes(a)))this.parseItemRecursively(f,l)}}parseItemRecursively(i,l){let c=this.recipeMatches(i,l);for(let f of c)this.parseRecipeRecursively(f,l)}addSurplusVariables(i){let l=Object.keys(i.recipes).map(c=>i.recipes[c]);for(let c of l)for(let f of Object.keys(c.out).filter(a=>i.itemValues[a]?.out==null))this.addItemValue(i.itemValues,f)}parseUnproduceable(i){let l=Object.keys(i.itemValues),c=new Set(Object.keys(i.recipes));i.unproduceableIds=new Set(l.filter(f=>i.data.itemIncludedRecipeIds[f].every(a=>!c.has(a))))}getSolution(i){let l=this.glpk(i);if(l.error)return{resultType:Et.Failed,returnCode:l.returnCode,simplexStatus:l.status,unboundedRecipeId:l.unboundedRecipeId,surplus:{},unproduceable:{},excluded:{},recipes:{},time:0,cost:ne.zero,itemIds:[],recipeIds:[],unproduceableIds:new Set,excludedIds:new Set};let c=Object.keys(i.itemValues),f=Object.keys(i.recipes),{unproduceableIds:a,excludedIds:m}=i,{surplus:_,unproduceable:g,excluded:E,recipes:S}=l;return{resultType:Et.Solved,surplus:_,recipes:S,unproduceable:g,excluded:E,time:l.time,itemIds:c,recipeIds:f,unproduceableIds:a,excludedIds:m,cost:l.cost}}itemCost(i,l,c){let f=c.data.itemEntities[i].stack==null&&c.data.game===St.Factorio?ba:ne.one,a=c.costs[l];return f.mul(a).toNumber()}glpk(i){let l=Object.keys(i.itemValues),c=Object.keys(i.recipes),f=new xa.Model({sense:"min"}),a={},m={},_={},g={},E={},S={},B={},F={},q={},ie={},V={},K={obj:i.costs.maximize.toNumber(),lb:0,name:"maximize"},Q=f.addVar(K),R=ne.zero;for(let k of c){let T={obj:(i.recipes[k].cost??ne.zero).toNumber(),lb:0,name:k};i.recipeLimits[k]&&(T.ub=i.recipeLimits[k].toNumber()),a[k]=f.addVar(T)}for(let k of i.recipeObjectives){let T={lb:0,name:k.id};if(k.type===fe.Output&&(T.ub=k.value.toNumber(),T.lb=k.value.toNumber()),m[k.id]=f.addVar(T),k.type===fe.Maximize)switch(i.maximizeType){case _t.Weight:{let z={obj:k.value.mul(i.costs.maximize).toNumber(),lb:0,name:k.id};F[k.id]=f.addVar(z);let s={coeffs:[[m[k.id],1],[F[k.id],-1]],lb:0,name:k.id};V[k.id]=f.addConstr(s);break}case _t.Ratio:{R=R.add(k.value);let w={coeffs:[[m[k.id],1],[Q,k.value.inverse().toNumber()]],lb:0,name:k.id};V[k.id]=f.addConstr(w);break}}}for(let k of i.unproduceableIds){let z={obj:this.itemCost(k,"unproduceable",i),lb:0,name:k};g[k]=f.addVar(z)}for(let k of i.excludedIds){let z={obj:this.itemCost(k,"excluded",i),lb:0,name:k};E[k]=f.addVar(z)}for(let k of l){let z={obj:this.itemCost(k,"surplus",i),lb:0,name:k};S[k]=f.addVar(z);let w=i.itemValues[k];if(w.in){let s={lb:0,ub:w.in.toNumber(),name:k};_[k]=f.addVar(s)}}let W={};for(let k of l){let T=i.itemValues[k],z=[],w=[];i.data.itemIncludedIoRecipeIds[k].forEach(v=>{let b=i.recipes[v];if(b==null)return;let N=b.output[k];N?.nonzero()&&z.push([a[v],N.toNumber()]),b.in[k]&&w.push([a[v],b.in[k].div(b.time).toNumber()])});for(let v of i.recipeObjectives){let b=v.recipe,N=b.output[k];N?.nonzero()&&(N.gt(ne.zero)&&!i.surplusMachinesOutput?(W[k]==null&&(W[k]={}),W[k][v.id]=N):z.push([m[v.id],N.toNumber()])),b.in[k]&&w.push([m[v.id],b.in[k].div(b.time).toNumber()])}if(i.unproduceableIds.has(k)&&z.push([g[k],1]),i.excludedIds.has(k)&&z.push([E[k],1]),T.in&&z.push([_[k],1]),z.push([S[k],-1]),T.max!=null)switch(i.maximizeType){case _t.Weight:{let v={obj:T.max.mul(i.costs.maximize).toNumber(),lb:0,name:k};B[k]=f.addVar(v),z.push([B[k],-1]);break}case _t.Ratio:{R=R.add(T.max),z.push([Q,T.max.inverse().toNumber()]);break}}let s={coeffs:z,lb:T.out.toNumber(),ub:T.out.toNumber(),name:k};if(q[k]=f.addConstr(s),T.lim){let v={coeffs:w,ub:T.lim.toNumber(),name:k};ie[k]=f.addConstr(v)}}Q.obj=Q.obj*R.toNumber();let G=Date.now(),[re,ue]=this.glpkSimplex(f),ce=Date.now()-G,pe={},_e={},Re={},Se={},O=ne(f.value);if(re!=="ok"||ue!=="optimal"){let k;try{k=f.ray}catch{}let T;return k&&Zn(a,k)&&(T=k.name),{returnCode:re,status:ue,unboundedRecipeId:T,time:ce,surplus:pe,unproduceable:_e,excluded:Re,recipes:Se,cost:O,error:!0}}for(let k of l){let T=i.itemValues[k],z=ne(S[k].value);if(z.nonzero()&&(pe[k]=z),W[k])for(let w of Object.keys(W[k])){let s=W[k][w],v=m[w].value,N=ne(v).mul(s);T.out=T.out.add(N)}if(T.max!=null)switch(i.maximizeType){case _t.Ratio:{let w=Q.value,v=ne(w).mul(T.max);T.out=T.out.add(v);break}case _t.Weight:{let w=B[k].value,s=ne(w);T.out=T.out.add(s);break}}}for(let k of c){let T=ne(a[k].value);T.nonzero()&&(Se[k]=T)}for(let k of i.unproduceableIds){let T=ne(g[k].value);T.nonzero()&&(_e[k]=T)}for(let k of i.excludedIds){let T=ne(E[k].value);T.nonzero()&&(Re[k]=T)}return i.recipeObjectives=i.recipeObjectives.map(k=>Me(k,{value:ne(m[k.id].value)})),{returnCode:re,status:ue,time:ce,surplus:pe,unproduceable:_e,excluded:Re,recipes:Se,cost:O,error:!1}}glpkSimplex(i){return[i.simplex(ud),i.status]}updateSteps(i,l){for(let c of Object.keys(l.itemValues))this.addItemStep(c,i,l);this.assignRecipes(i,l);for(let c of Object.keys(i.recipes).map(f=>l.recipes[f]))this.addRecipeStep(c,i,l);for(let c of l.recipeObjectives)this.addRecipeStep(c.recipe,i,l,c);l.steps.sort((c,f)=>(c.output!=null?0:1)-(f.output!=null?0:1))}addItemStep(i,l,c){let f=c.itemValues[i],a=c.steps,m=ne.zero;c.data.itemIncludedIoRecipeIds[i].forEach(g=>{if(l.recipes[g]==null)return;let S=c.recipes[g];if(S?.out[i]==null)return;let B=S.out[i].mul(l.recipes[S.id]).div(S.time);m=m.add(B)});let _=c.itemValues[i].in;_&&(m=m.add(_));for(let g of c.recipeObjectives){let E=g.recipe;E.out[i]&&(m=m.add(E.out[i].mul(g.value).div(E.time)))}if(l.unproduceable[i]&&(m=m.add(l.unproduceable[i])),l.excluded[i]&&(m=m.add(l.excluded[i])),m.nonzero()){let g={id:a.length.toString(),itemId:i,items:m};if(f.out.gt(ne.zero)&&(g.output=f.out,g.parents={"":g.output}),a.push(g),l.surplus[i]?.nonzero()){let E=ne(m.sub(l.surplus[i]).toNumber());g.surplus=E.isZero()?g.items:l.surplus[i]}}}assignRecipes(i,l){let c=l.steps,f=Object.keys(i.recipes).map(_=>l.recipes[_]);f.push(...l.recipeObjectives.map(_=>_.recipe));for(let _ of c.filter(g=>g.recipeId==null)){let g=f.findIndex(E=>E.id===_.itemId&&E.produces.has(_.itemId));g!==-1&&(_.recipeId=f[g].id,f.splice(g,1))}let a={};for(let _ of c.filter(g=>g.recipeId==null))_.itemId&&(a[_.itemId]=f.filter(g=>_.itemId&&g.produces.has(_.itemId)).sort((g,E)=>Object.keys(g.out).length-Object.keys(E.out).length).map(g=>g.id));let m=Object.keys(a).sort((_,g)=>a[_].length-a[g].length);for(let _ of m)for(let g of a[_])if(!c.some(E=>E.recipeId===g)){let E=c.find(S=>S.itemId===_);if(E){E.recipeId=g;break}}}addRecipeStep(i,l,c,f){let a=c.steps,m=a.filter(g=>g.machines==null),_=m.find(g=>g.recipeId===i.id);if(_||(_=m.find(g=>g.recipeId==null&&g.itemId!=null&&i.produces.has(g.itemId))),!_){let g=a.findIndex(E=>E.itemId&&i.produces.has(E.itemId));_={id:a.length.toString()},g!==-1&&g<a.length-1?a.splice(g+1,0,_):a.push(_)}_.recipeId=i.id,_.recipe=i,f?(_.machines=f.value,_.recipeObjectiveId=f.id):_.machines=l.recipes[i.id].add(_.machines??ne.zero),xt.adjustPowerPollution(_,i,c.data.game)}};r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=It({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();var Fb=(()=>{let r=class r extends ti{constructor(){super(),this.itemsSvc=pt(ai),this.machinesSvc=pt(si),this.preferencesSvc=pt(ri),this.recipesSvc=pt(li),this.settingsSvc=pt(oi),this.simplexSvc=pt(Ea),this.baseObjectives=Ie(()=>{let i=this.state(),l=this.settingsSvc.dataset();return Object.keys(i).map(c=>i[c]).filter(c=>jt(c)?l.recipeEntities[c.targetId]!=null:l.itemEntities[c.targetId]!=null)}),this.objectives=Ie(()=>{let i=this.baseObjectives(),l=this.itemsSvc.itemsState(),c=this.recipesSvc.recipesState(),f=this.machinesSvc.machinesState(),a=this.settingsSvc.settings(),m=this.recipesSvc.adjustedDataset();return i.map(_=>ii.adjustObjective(_,l,c,f,a,m))}),this.normalizedObjectives=Ie(()=>{let i=this.objectives(),l=this.itemsSvc.itemsState(),c=this.settingsSvc.beltSpeed(),f=this.settingsSvc.displayRateInfo(),a=this.recipesSvc.adjustedDataset();return i.map(m=>Me(m,{value:xt.objectiveNormalizedRate(m,l,c,f,a)}))}),this.matrixResult=Ie(()=>{let i=this.normalizedObjectives(),l=this.settingsSvc.settings(),c=this.recipesSvc.adjustedDataset(),f=this.preferencesSvc.paused();return this.simplexSvc.solve(i,l,c,f)}),this.steps=Ie(()=>{let i=this.matrixResult(),l=this.objectives(),c=this.itemsSvc.itemsState(),f=this.recipesSvc.recipesState(),a=this.settingsSvc.beltSpeed(),m=this.settingsSvc.displayRateInfo(),_=this.settingsSvc.settings(),g=this.recipesSvc.adjustedDataset();return xt.normalizeSteps(i.steps,l,c,f,a,m,_,g)}),this.stepsModified=Ie(()=>{let i=this.steps(),l=this.baseObjectives(),c=this.itemsSvc.state(),f=this.recipesSvc.state();return{objectives:l.reduce((a,m)=>(a[m.id]=m.machineId!=null||m.modules!=null||m.beacons!=null||m.overclock!=null,a),{}),items:i.reduce((a,m)=>(m.itemId&&(a[m.itemId]=c[m.itemId]!=null),a),{}),recipes:i.reduce((a,m)=>(m.recipeId&&(a[m.recipeId]=f[m.recipeId]!=null),a),{})}}),this.totals=Ie(()=>{let i=this.steps(),l=this.itemsSvc.itemsState(),c=this.recipesSvc.adjustedDataset(),f={},a={},m={},_={},g={},E={},S=ne.zero,B=ne.zero;for(let F of i){if(F.itemId!=null){if(F.belts?.nonzero()){let q=l[F.itemId].beltId;q!=null&&(f[q]||(f[q]=ne.zero),f[q]=f[q].add(F.belts.ceil()))}if(F.wagons?.nonzero()){let q=l[F.itemId].wagonId;q!=null&&(a[q]||(a[q]=ne.zero),a[q]=a[q].add(F.wagons.ceil()))}}if(F.recipeId!=null&&F.recipe!=null&&F.recipeSettings!=null){if(F.machines?.nonzero()&&!F.recipe.part){let V=F.recipeSettings,K=V.machineId;if(c.game===St.DysonSphereProgram&&K===dr.MiningMachine&&(K=F.recipeId),K!=null){m[K]||(m[K]=ne.zero);let Q=F.machines.ceil();m[K]=m[K].add(Q),V.modules!=null&&V.modules.forEach(R=>{R.id==null||R.count==null||R.id===dr.Module||an(_,[R.id],Q.mul(R.count))})}}let q=F.recipeSettings?.beacons;if(q!=null)for(let ie of q){let V=ie.id,K=ie.total;if(V==null||!K?.nonzero())continue;g[V]||(g[V]=ne.zero);let Q=K.ceil();g[V]=g[V].add(Q),ie.modules!=null&&ie.modules.forEach(R=>{R.id==null||R.count==null||R.id===dr.Module||an(E,[R.id],Q.mul(R.count))})}}F.power!=null&&(S=S.add(F.power)),F.pollution!=null&&(B=B.add(F.pollution))}return{belts:f,wagons:a,machines:m,modules:_,beacons:g,beaconModules:E,power:S,pollution:B}}),this.stepDetails=Ie(()=>{let i=this.steps(),l=this.settingsSvc.settings(),c=this.recipesSvc.adjustedDataset();return i.reduce((f,a)=>{let m=[],_=[],g=[];if(a.itemId!=null&&a.items!=null){let E=a.itemId;m.push($e.Item),_.push(...i.filter(Jn("outputs","recipeId","machines")).filter(B=>B.outputs[E]!=null).map(B=>({step:B,value:B.outputs[E]})));let S=_.reduce((B,F)=>B.sub(F.value),ne.one);S.nonzero()&&_.push({inputs:!0,value:S}),_.sort((B,F)=>F.value.sub(B.value).toNumber())}return a.recipeId!=null&&m.push($e.Recipe),a.machines?.nonzero()&&m.push($e.Machine),a.itemId!=null&&(g=c.itemRecipeIds[a.itemId],g.length&&m.push($e.Recipes)),f[a.id]={tabs:m.map(E=>{let S=`step_${a.id}_${E}_tab`;return{id:S,label:E,command:()=>{history.replaceState({},"",`${window.location.href.replace(/#(.*)$/,"")}#${S}`)}}}),outputs:_,recipeIds:g,allRecipesIncluded:g.every(E=>!l.excludedRecipeIds.has(E))},f},{})}),this.stepById=Ie(()=>{let i=this.steps();return mr(i)}),this.stepByItemEntities=Ie(()=>this.steps().reduce((l,c)=>(c.itemId!=null&&(l[c.itemId]=c),l),{})),this.stepTree=Ie(()=>{let i=this.steps(),l={},c={};for(let f of i){let a=[];if(f.parents){let m=Object.keys(f.parents);m.length===1&&c[m[0]]!=null&&(a=new Array(c[m[0]]+1).fill(!1))}c[f.id]=a.length,l[f.id]=a}for(let f=0;f<i.length;f++){let a=i[f];if(l[a.id].length)for(let m=f+1;m<i.length;m++){let _=i[m];if(l[_.id]){if(l[_.id].length===l[a.id].length){for(let g=f;g<m;g++){let E=i[g];l[E.id]&&(l[E.id][l[a.id].length-1]=!0)}break}else if(l[_.id].length<l[a.id].length)break}}}return l}),this.effectivePowerUnit=Ie(()=>{let i=this.preferencesSvc.powerUnit();if(i!==Ct.Auto)return i;let l=this.steps(),c;for(let f of l)f.power!=null&&(c==null||f.power.lt(c))&&(c=f.power);return c=c??ne.zero,c.lt(ne(1000n))?Ct.kW:c.lt(ne(1000000n))?Ct.MW:Ct.GW}),this.recipesModified=Ie(()=>{let i=this.recipesSvc.state(),l=this.baseObjectives();return{machines:Object.keys(i).some(c=>i[c].fuelId!=null||i[c].machineId!=null||i[c].modules!=null||i[c].overclock!=null)||l.some(c=>c.fuelId!=null||c.machineId!=null||c.modules!=null||c.overclock!=null),beacons:Object.keys(i).some(c=>i[c].beacons!=null)||l.some(c=>c.beacons!=null),cost:Object.keys(i).some(c=>i[c].cost)}}),Qn(this.settingsSvc.displayRate).pipe(Kn(),Yn(([i,l])=>i!==l)).subscribe(([i,l])=>{let c=sn[l].value.div(sn[i].value);this.adjustDisplayRate(c)})}add(i){this.reduce(l=>{let c=ne.one,a=Object.keys(l).at(-1);a&&(c=l[a].value);let m=1;for(;l[m.toString()]!=null;)m++;let _=m.toString(),g={id:_,value:c,type:fe.Output};return Me(l,{[_]:Me(g,i)})})}create(i){let l="1";this.set({[l]:Me(i,{id:l})})}remove(i){this.reduce(l=>{l=this._removeEntry(l,i);let c=Object.keys(l).map(f=>l[f]);return this.reduceObjectives(c)})}setOrder(i){this.set(this.reduceObjectives(i))}adjustDisplayRate(i){this.reduce(l=>{let c=Me(l),f=Object.keys(c);for(let a of f.map(m=>l[m]).filter(m=>m.type!==fe.Maximize&&(m.unit===tt.Items||m.unit===tt.Wagons))){let m=a.value.mul(i);c[a.id]=Me(a,{value:m})}return c})}reduceObjectives(i){return i.reduce((l,c,f)=>{let a=(f+1).toString();return l[a]=Me(c,{id:a}),l},{})}};r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=It({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();export{vd as a,wa as b,fe as c,wd as d,$e as e,Fw as f,Fe as g,Cp as h,sa as i,id as j,Z_ as k,xw as l,Ew as m,la as n,kw as o,da as p,xt as q,Et as r,Fb as s};
