"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[973],{1973:(lt,m,l)=>{l.r(m),l.d(m,{MatrixModule:()=>it});var c=l(6895),x=l(453),f=l(2891),g=l(6259),d=l(9841),Z=l(4004),T=l(1944),r=l(5046),_=l(3045),t=l(4650),h=l(2997),A=l(5593),C=l(805),I=l(8465),b=l(3608),v=l(5357),M=l(6188),J=l(7957);const q=function(e){return{value:e}};function Q(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&e){const n=t.oxw().ngIf;t.xp6(2),t.Oqu(t.lcZ(3,2,"matrix.runtime")),t.xp6(3),t.hij(" ",t.xi3(6,4,"matrix.runtimeValue",t.VKq(7,q,n.result.time))," ")}}function w(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&e){const n=t.oxw().ngIf;t.xp6(2),t.Oqu(t.lcZ(3,2,"matrix.pivots")),t.xp6(3),t.Oqu(n.result.pivots)}}const L=function(e,o){return{rows:e,cols:o}};function O(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&e){const n=t.oxw().ngIf;t.xp6(2),t.Oqu(t.lcZ(3,2,"matrix.size")),t.xp6(3),t.hij(" ",t.xi3(6,4,"matrix.sizeValue",t.WLB(7,L,n.result.A.length,n.result.O.length))," ")}}function U(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"table",1)(1,"tr")(2,"th",2)(3,"div",5)(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"button",6),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(2);return t.KtG(a.resetCost())}),t.ALo(8,"translate"),t.qZA()()()(),t.TgZ(9,"tr",7),t.ALo(10,"translate"),t.TgZ(11,"th"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"td")(15,"lab-input-number",8),t.NdJ("setValue",function(a){t.CHM(n);const s=t.oxw(2);return t.KtG(s.setCostFactor(a))}),t.qZA()()(),t.TgZ(16,"tr",7),t.ALo(17,"translate"),t.TgZ(18,"th"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"td")(22,"lab-input-number",8),t.NdJ("setValue",function(a){t.CHM(n);const s=t.oxw(2);return t.KtG(s.setCostFactory(a))}),t.qZA()()(),t.TgZ(23,"tr",7),t.ALo(24,"translate"),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"td")(29,"lab-input-number",8),t.NdJ("setValue",function(a){t.CHM(n);const s=t.oxw(2);return t.KtG(s.setCostInput(a))}),t.qZA()()(),t.TgZ(30,"tr",7),t.ALo(31,"translate"),t.TgZ(32,"th"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"td")(36,"lab-input-number",8),t.NdJ("setValue",function(a){t.CHM(n);const s=t.oxw(2);return t.KtG(s.setCostIgnored(a))}),t.qZA()()()()}if(2&e){const n=t.oxw().ngIf;t.xp6(5),t.Oqu(t.lcZ(6,16,"matrix.costModifiers")),t.xp6(2),t.ekj("invisible",!n.settingsModified.cost),t.Q6J("pTooltip",t.lcZ(8,18,"matrix.costUndoTooltip")),t.xp6(2),t.Q6J("pTooltip",t.lcZ(10,20,"matrix.recipeCostTooltip")),t.xp6(3),t.Oqu(t.lcZ(13,22,"matrix.recipe")),t.xp6(3),t.Q6J("value",n.settings.costFactor),t.xp6(1),t.Q6J("pTooltip",t.lcZ(17,24,"matrix.factoryCostTooltip")),t.xp6(3),t.Oqu(t.lcZ(20,26,"matrix.factory")),t.xp6(3),t.Q6J("value",n.settings.costFactory),t.xp6(1),t.Q6J("pTooltip",t.lcZ(24,28,"matrix.inputCostTooltip")),t.xp6(3),t.Oqu(t.lcZ(27,30,"matrix.input")),t.xp6(3),t.Q6J("value",n.settings.costInput),t.xp6(1),t.Q6J("pTooltip",t.lcZ(31,32,"matrix.ignoredCostTooltip")),t.xp6(3),t.Oqu(t.lcZ(34,34,"matrix.ignored")),t.xp6(3),t.Q6J("value",n.settings.costIgnored)}}function N(e,o){if(1&e&&(t.TgZ(0,"th",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw(3).ngIf;t.Q6J("colSpan",n.result.inputIds.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"matrix.inputs")," ")}}function Y(e,o){if(1&e&&(t.TgZ(0,"th")(1,"i",7),t.ALo(2,"iconClass"),t.qZA()()),2&e){const n=o.$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Tol(t.lcZ(2,3,n)),t.Q6J("pTooltip",i.data.itemEntities[n].name)}}function y(e,o){if(1&e&&(t.TgZ(0,"th")(1,"i",7),t.ALo(2,"iconClass"),t.qZA()()),2&e){const n=o.$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Tol(t.lcZ(2,3,n)),t.Q6J("pTooltip",i.data.recipeEntities[n].name)}}function F(e,o){if(1&e&&(t.TgZ(0,"th")(1,"i",7),t.ALo(2,"iconClass"),t.qZA()()),2&e){const n=o.$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Tol(t.lcZ(2,3,n)),t.Q6J("pTooltip",i.data.itemEntities[n].name)}}function j(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"th",13),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"tr"),t._UZ(5,"th",14),t.TgZ(6,"th",14),t._uU(7,"I"),t.qZA(),t.TgZ(8,"th",13),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",13),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.YNc(14,N,3,4,"th",15),t.TgZ(15,"th",14)(16,"div",5)(17,"span"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"button",6),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(3);return t.KtG(a.resetRecipeCost())}),t.ALo(21,"translate"),t.qZA()()()(),t.TgZ(22,"tr"),t.YNc(23,Y,3,5,"th",16),t.YNc(24,y,3,5,"th",16),t.YNc(25,F,3,5,"th",16),t.qZA()}if(2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("colSpan",n.result.O.length+1),t.xp6(1),t.hij(" ",t.lcZ(3,14,"matrix.simplexCanonicalTableau")," "),t.xp6(6),t.Q6J("colSpan",n.result.itemIds.length),t.xp6(1),t.hij(" ",t.lcZ(10,16,"matrix.items")," "),t.xp6(2),t.Q6J("colSpan",n.result.recipeIds.length),t.xp6(1),t.hij(" ",t.lcZ(13,18,"matrix.recipes")," "),t.xp6(2),t.Q6J("ngIf",n.result.inputIds.length),t.xp6(4),t.Oqu(t.lcZ(19,20,"matrix.cost")),t.xp6(2),t.ekj("invisible",!n.recipesModified.cost),t.Q6J("pTooltip",t.lcZ(21,22,"matrix.costUndoTooltip")),t.xp6(3),t.Q6J("ngForOf",n.result.itemIds),t.xp6(1),t.Q6J("ngForOf",n.result.recipeIds),t.xp6(1),t.Q6J("ngForOf",n.result.inputIds)}}function E(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"i",7),t.ALo(2,"iconClass"),t.qZA(),t.BQk()),2&e){const n=o.ngIf,i=t.oxw(4).ngIf;t.xp6(1),t.Tol(t.lcZ(2,3,n)),t.Q6J("pTooltip",i.data.recipeEntities[n].name)}}function R(e,o){if(1&e&&(t.TgZ(0,"i",7),t.ALo(1,"iconClass"),t.qZA()),2&e){const n=o.ngIf,i=t.oxw(5).ngIf;t.Tol(t.lcZ(1,3,n)),t.Q6J("pTooltip",i.data.itemEntities[n].name)}}function S(e,o){if(1&e&&t.YNc(0,R,2,5,"i",20),2&e){const n=t.oxw(2).rowIndex,i=t.oxw(2).ngIf;t.Q6J("ngIf",i.result.inputIds[n-1-i.result.recipeIds.length])}}function V(e,o){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,E,3,5,"ng-container",17),t.YNc(2,S,1,1,"ng-template",null,19,t.W1O),t.qZA()),2&e){const n=t.MAs(3),i=t.oxw().rowIndex,a=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",a.result.recipeIds[i-1])("ngIfElse",n)}}function B(e,o){1&e&&(t.TgZ(0,"td",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"matrix.objective")))}function $(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",5)(1,"lab-input-number",24),t.NdJ("setValue",function(a){const p=t.CHM(n).ngIf,u=t.oxw(5);return t.KtG(u.setRecipeCost(p,a))}),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"button",25),t.NdJ("click",function(){const s=t.CHM(n).ngIf,p=t.oxw(5);return t.KtG(p.setRecipeCost(s))}),t.ALo(4,"translate"),t.qZA()()}if(2&e){const n=o.ngIf,i=t.oxw().$implicit,a=t.oxw(3).ngIf;t.xp6(1),t.Q6J("pTooltip",t.lcZ(2,6,"matrix.recipeCost"))("hideButtons",!0)("value",i.toString()),t.xp6(2),t.ekj("invisible",!(null!=a.recipeRaw[n]&&a.recipeRaw[n].cost)),t.Q6J("pTooltip",t.lcZ(4,8,"matrix.recipeCostUndoTooltip"))}}function K(e,o){if(1&e&&t._uU(0),2&e){const n=t.oxw().$implicit;t.hij(" ",n.toString()," ")}}function H(e,o){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,$,5,10,"div",22),t.YNc(2,K,1,1,"ng-template",null,23,t.W1O),t.qZA()),2&e){const n=o.last,i=t.MAs(3),a=t.oxw().rowIndex,s=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngIf",n&&s.result.recipeIds[a-1])("ngIfElse",i)}}function P(e,o){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,V,4,2,"td",17),t.YNc(2,B,3,3,"ng-template",null,18,t.W1O),t.YNc(4,H,4,2,"td",16),t.qZA()),2&e){const n=o.$implicit,i=o.rowIndex,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0!==i)("ngIfElse",a),t.xp6(3),t.Q6J("ngForOf",n)}}function G(e,o){if(1&e&&(t.TgZ(0,"th",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw(3).ngIf;t.Q6J("colSpan",n.result.inputIds.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"matrix.inputs")," ")}}function z(e,o){if(1&e&&(t.TgZ(0,"th")(1,"i",7),t.ALo(2,"iconClass"),t.qZA()()),2&e){const n=o.$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Tol(t.lcZ(2,3,n)),t.Q6J("pTooltip",i.data.itemEntities[n].name)}}function W(e,o){if(1&e&&(t.TgZ(0,"th")(1,"i",7),t.ALo(2,"iconClass"),t.qZA()()),2&e){const n=o.$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Tol(t.lcZ(2,3,n)),t.Q6J("pTooltip",i.data.recipeEntities[n].name)}}function D(e,o){if(1&e&&(t.TgZ(0,"th")(1,"i",7),t.ALo(2,"iconClass"),t.qZA()()),2&e){const n=o.$implicit,i=t.oxw(3).ngIf;t.xp6(1),t.Tol(t.lcZ(2,3,n)),t.Q6J("pTooltip",i.data.itemEntities[n].name)}}function X(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.toString())}}function k(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"th",13),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"tr"),t._UZ(5,"th",26),t.TgZ(6,"th",14),t._uU(7,"I"),t.qZA(),t.TgZ(8,"th",13),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",13),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.YNc(14,G,3,4,"th",15),t.TgZ(15,"th",14),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"tr"),t.YNc(19,z,3,5,"th",16),t.YNc(20,W,3,5,"th",16),t.YNc(21,D,3,5,"th",16),t.qZA(),t.TgZ(22,"tr"),t.YNc(23,X,2,1,"td",16),t.qZA()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("colSpan",n.result.O.length+1),t.xp6(1),t.hij(" ",t.lcZ(3,12,"matrix.solution")," "),t.xp6(6),t.Q6J("colSpan",n.result.itemIds.length),t.xp6(1),t.hij(" ",t.lcZ(10,14,"matrix.surplus")," "),t.xp6(2),t.Q6J("colSpan",n.result.recipeIds.length),t.xp6(1),t.hij(" ",t.lcZ(13,16,"matrix.recipes")," "),t.xp6(2),t.Q6J("ngIf",n.result.inputIds.length),t.xp6(2),t.Oqu(t.lcZ(17,18,"matrix.cost")),t.xp6(3),t.Q6J("ngForOf",n.result.itemIds),t.xp6(1),t.Q6J("ngForOf",n.result.recipeIds),t.xp6(1),t.Q6J("ngForOf",n.result.inputIds),t.xp6(2),t.Q6J("ngForOf",n.result.O)}}function tt(e,o){if(1&e&&(t.TgZ(0,"p-table",9),t.YNc(1,j,26,24,"ng-template",10),t.YNc(2,P,5,3,"ng-template",11),t.YNc(3,k,24,20,"ng-template",12),t.qZA()),2&e){const n=t.oxw().ngIf;t.Q6J("value",n.result.A)}}function nt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"table",1)(2,"tr")(3,"th",2),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"tr")(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA()(),t.YNc(12,Q,7,9,"tr",0),t.YNc(13,w,6,4,"tr",0),t.YNc(14,O,7,10,"tr",0),t.qZA(),t.YNc(15,U,37,36,"table",3),t.YNc(16,tt,4,1,"p-table",4),t.BQk()),2&e){const n=o.ngIf;t.xp6(4),t.Oqu(t.lcZ(5,8,"matrix.statistics")),t.xp6(4),t.Oqu(t.lcZ(9,10,"matrix.simplexResult")),t.xp6(3),t.Oqu(n.result.resultType),t.xp6(1),t.Q6J("ngIf",null!=n.result.time),t.xp6(1),t.Q6J("ngIf",null!=n.result.pivots),t.xp6(1),t.Q6J("ngIf",n.result.A&&n.result.O),t.xp6(1),t.Q6J("ngIf",n.result.A),t.xp6(1),t.Q6J("ngIf",n.result.A&&n.result.O&&n.result.itemIds&&n.result.recipeIds&&n.result.inputIds)}}const et=[{path:"",component:(()=>{class e{constructor(n){this.store=n,this.vm$=(0,d.a)([this.store.select(T.p5),this.store.select(r.Ue),this.store.select(r.O8),this.store.select(r.IB),this.store.select(_.x1),this.store.select(_.Ko)]).pipe((0,Z.U)(([i,a,s,p,u,at])=>({result:i,recipesModified:a,data:s,recipeRaw:p,settingsModified:u,settings:at})))}setCostFactor(n){this.store.dispatch(new _.BD(n))}setCostFactory(n){this.store.dispatch(new _.Bt(n))}setCostInput(n){this.store.dispatch(new _.R2(n))}setCostIgnored(n){this.store.dispatch(new _.bJ(n))}setRecipeCost(n,i){this.store.dispatch(new r.aq({id:n,value:i}))}resetCost(){this.store.dispatch(new _.Z8)}resetRecipeCost(){this.store.dispatch(new r.Z8)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lab-matrix"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"result-info","my-3"],["colspan","2"],["class","result-info my-3",4,"ngIf"],["responsiveLayout","scroll","styleClass","p-datatable-sm",3,"value",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","icon","fa-solid fa-rotate-left",1,"ms-3","p-button-outlined","p-button-rounded",3,"pTooltip","click"],[3,"pTooltip"],["width","8rem",3,"value","setValue"],["responsiveLayout","scroll","styleClass","p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"colSpan"],["rowspan","2"],[3,"colSpan",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["objectiveRow",""],["notRecipe",""],[3,"class","pTooltip",4,"ngIf"],[1,"fw-bold"],["class","d-flex align-items-center justify-content-between",4,"ngIf","ngIfElse"],["valueCell",""],["tooltipPosition","left","width","6rem",3,"pTooltip","hideButtons","value","setValue"],["pButton","","pRipple","","icon","fa-solid fa-rotate-left","tooltipPosition","left",1,"ms-3","p-button-outlined","p-button-rounded",3,"pTooltip","click"],["rowspan","3"]],template:function(n,i){1&n&&(t.YNc(0,nt,17,12,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,i.vm$))},dependencies:[c.sg,c.O5,A.Hq,C.jx,I.iA,b.u,v.l,c.Ov,M.X$,J.Y],styles:["table.result-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.result-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]     .p-datatable-tfoot th{border-bottom:1px solid var(--surface-border)}[_nghost-%COMP%]     .p-datatable-tfoot th, [_nghost-%COMP%]     .p-datatable-tfoot td{padding:.5rem}"],changeDetection:0}),e})()}];let ot=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(et),g.Bz]}),e})(),it=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,x.o,f.S,ot]}),e})()}}]);