import{d as te}from"./chunk-NGREKOCE.js";import{Bb as S,Bd as A,Cd as H,Fa as p,Ha as s,Id as U,La as _,Pe as Z,Qa as a,Ra as n,Sa as g,Tb as $,Ua as j,Ue as ee,Va as B,Wa as d,_ as D,_b as q,ae as z,ba as m,bb as T,be as G,cb as v,da as M,ea as w,fa as F,he as J,ia as k,ja as I,kb as N,mc as V,na as L,nd as P,pa as C,pe as b,qb as u,qe as K,rb as f,re as Q,sb as x,te as W,ue as X,wa as o,yb as O,ye as Y}from"./chunk-JGLTWOH3.js";var E=(()=>{class e{ref=m(O);destroyRef=m(L);translateSvc=m(U);pTable=m(b,{self:!0});ngOnInit(){this.pTable.styleClass="p-datatable-sm",this.pTable.rows=10,this.pTable.rowsPerPageOptions=[10,25,50,100,250],this.pTable.showCurrentPageReport=!0,this.translateSvc.get("data.currentPageReportTemplate").pipe(q(this.destroyRef)).subscribe(t=>{this.pTable.currentPageReportTemplate=t,this.ref.markForCheck()})}static \u0275fac=function(i){return new(i||e)};static \u0275dir=F({type:e,selectors:[["","labPagedTable",""]]})}return e})();var oe=()=>["category.id"];function ae(e,l){e&1&&(a(0,"th",5)(1,"span"),T(2),u(3,"translate"),n(),g(4,"p-sortIcon",6),n()),e&2&&(o(2),v(f(3,1,"data.category")))}function le(e,l){if(e&1){let t=j();a(0,"p-multiSelect",10),u(1,"translate"),u(2,"translate"),B("onChange",function(r){let c=k(t).filterCallback;return I(c(r.value))}),n()}if(e&2){let t=l.$implicit,i=d(4);s("ngModel",t)("options",i.options().categories)("maxSelectedLabels",1)("selectedItemsLabel",f(1,5,"data.selectedLabel"))("placeholder",f(2,7,"data.any"))}}function re(e,l){e&1&&(a(0,"th")(1,"p-columnFilter",8),p(2,le,3,9,"ng-template",9),n()())}function pe(e,l){if(e&1&&(a(0,"tr")(1,"th"),g(2,"p-columnFilter",7),n(),p(3,re,3,0,"th"),n()),e&2){let t=d(2);o(3),_(t.type()!=="category"?3:-1)}}function ce(e,l){if(e&1&&(a(0,"tr")(1,"th",3)(2,"span"),T(3),u(4,"translate"),n(),g(5,"p-sortIcon",4),n(),p(6,ae,5,3,"th",5),n(),p(7,pe,4,1,"tr")),e&2){let t=d();o(3),v(f(4,3,"data.name")),o(3),_(t.type()!=="category"?6:-1),o(),_(t.value().length>10?7:-1)}}function me(e,l){if(e&1&&(a(0,"a",11),g(1,"button",12),u(2,"iconSmClass"),n()),e&2){let t=d(2).$implicit;s("routerLink","/data/categories/"+t.category.id),o(),s("label",t.category.name)("icon",x(2,3,t.category.id,"category"))}}function se(e,l){if(e&1&&(a(0,"td"),p(1,me,3,6,"a",11),n()),e&2){let t=d().$implicit;o(),_(t.category?1:-1)}}function de(e,l){if(e&1&&(a(0,"tr")(1,"td")(2,"a",11),g(3,"button",12),u(4,"iconSmClass"),n()(),p(5,se,2,1,"td"),n()),e&2){let t=l.$implicit,i=d();o(2),s("routerLink",i.route()+t.id),o(),s("label",t.name)("icon",x(4,4,t.id,i.type())),o(2),_(i.type()!=="category"?5:-1)}}var ue=(()=>{class e{store=m(V);ids=C.required();type=C.required();useRelativePath=C(!1);options=this.store.selectSignal(P.getOptions);data=this.store.selectSignal(P.getDataset);route=S(()=>{let t=this.type();if(this.useRelativePath())return"";switch(t){case"category":return"/data/categories/";case"item":return"/data/items/";case"recipe":return"/data/recipes/"}});value=S(()=>{let t=this.ids(),i=this.type(),r=this.data(),c;switch(i){case"category":c=r.categoryEntities;break;case"item":c=r.itemEntities;break;case"recipe":c=r.recipeEntities}return t.filter(y=>c[y]).map(y=>{let h=c[y],R={id:h.id,name:h.name};return i!=="category"&&(R.category=r.categoryEntities[h.category]),R})});static \u0275fac=function(i){return new(i||e)};static \u0275cmp=M({type:e,selectors:[["lab-collection-table"]],inputs:{ids:[1,"ids"],type:[1,"type"],useRelativePath:[1,"useRelativePath"]},decls:3,vars:4,consts:[["labPagedTable","",3,"value","paginator","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","category.name"],["field","category.name"],["type","text","field","name","matchMode","contains"],["field","category.id","matchMode","in"],["pTemplate","filter"],["appendTo","body",3,"onChange","ngModel","options","maxSelectedLabels","selectedItemsLabel","placeholder"],["queryParamsHandling","preserve",3,"routerLink"],["pButton","","pRipple","","type","button",1,"p-button-link",3,"label","icon"]],template:function(i,r){i&1&&(a(0,"p-table",0),p(1,ce,8,5,"ng-template",1)(2,de,6,7,"ng-template",2),n()),i&2&&s("value",r.value())("paginator",r.value().length>10)("globalFilterFields",N(3,oe))},dependencies:[A,H,z,$,J,Z,G,b,K,Q,W,E,Y,X],styles:["th[_ngcontent-%COMP%]{width:50%}"],changeDetection:0})}return e})();var Ue=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=w({type:e});static \u0275inj=D({imports:[ee,te]})}return e})();export{ue as a,Ue as b};
