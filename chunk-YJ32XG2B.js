import{a as si,b as li,c as ui}from"./chunk-VWOD35WD.js";import{Ac as me,Bd as ii,Cc as Jn,Cd as Vt,Dd as oi,E as Qn,Ec as ei,Hd as ai,Ib as Se,Ic as tt,Jc as gr,Nc as ti,O as dr,S as St,c as rn,cd as At,d as nn,hd as jt,l as on,nd as ri,pd as ni,q as an,qc as mr,rd as cn,sc as Zn,tc as ln,uc as hr,v as Kn,wc as ie,wd as _t,xa as sn,xc as un,yd as rt}from"./chunk-LVJHIGHJ.js";import{a as et,b as It,f as Ct,h as Df}from"./chunk-TWZW5B45.js";var ma=Ct(()=>{"use strict"});var ha=Ct(()=>{"use strict"});var ga=Ct(()=>{"use strict"});var va=Ct((Gr,Ln)=>{"use strict";var zn=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e){e=e||{};var e=typeof e<"u"?e:{},i,s;e.ready=new Promise(function(n,o){i=n,s=o});var c=Object.assign({},e),p=[],l="./this.program",m=(n,o)=>{throw o},_=typeof window=="object",g=typeof importScripts=="function",S=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A="";function L(n){return e.locateFile?e.locateFile(n,A):A+n}var B,X,oe,U;function G(n){if(n instanceof Vn)return;Y("exiting due to exception: "+n)}if(S){var Z=ma(),R=ha();g?A=R.dirname(A)+"/":A=__dirname+"/",B=(n,o)=>(n=cr(n)?new URL(n):R.normalize(n),Z.readFileSync(n,o?void 0:"utf8")),oe=n=>{var o=B(n,!0);return o.buffer||(o=new Uint8Array(o)),o},X=(n,o,u)=>{n=cr(n)?new URL(n):R.normalize(n),Z.readFile(n,function(d,h){d?u(d):o(h.buffer)})},process.argv.length>1&&(l=process.argv[1].replace(/\\/g,"/")),p=process.argv.slice(2),process.on("uncaughtException",function(n){if(!(n instanceof Vn))throw n}),process.on("unhandledRejection",function(n){throw n}),m=(n,o)=>{if(lt())throw process.exitCode=n,o;G(o),process.exit(n)},e.inspect=function(){return"[Emscripten Module object]"}}else(_||g)&&(g?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),t&&(A=t),A.indexOf("blob:")!==0?A=A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):A="",B=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.send(null),o.responseText},g&&(oe=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),X=(n,o,u)=>{var d=new XMLHttpRequest;d.open("GET",n,!0),d.responseType="arraybuffer",d.onload=()=>{if(d.status==200||d.status==0&&d.response){o(d.response);return}u()},d.onerror=u,d.send(null)},U=n=>document.title=n);var K=e.print||console.log.bind(console),Y=e.printErr||console.warn.bind(console);Object.assign(e,c),c=null,e.arguments&&(p=e.arguments),e.thisProgram&&(l=e.thisProgram),e.quit&&(m=e.quit);var ne;e.wasmBinary&&(ne=e.wasmBinary);var ce=e.noExitRuntime||!0;typeof WebAssembly!="object"&&$e("no native wasm support detected");var fe,_e=!1,de;function De(n,o){n||$e(o)}var M=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function w(n,o,u){for(var d=o+u,h=o;n[h]&&!(h>=d);)++h;if(h-o>16&&n.buffer&&M)return M.decode(n.subarray(o,h));for(var v="";o<h;){var x=n[o++];if(!(x&128)){v+=String.fromCharCode(x);continue}var k=n[o++]&63;if((x&224)==192){v+=String.fromCharCode((x&31)<<6|k);continue}var j=n[o++]&63;if((x&240)==224?x=(x&15)<<12|k<<6|j:x=(x&7)<<18|k<<12|j<<6|n[o++]&63,x<65536)v+=String.fromCharCode(x);else{var Q=x-65536;v+=String.fromCharCode(55296|Q>>10,56320|Q&1023)}}return v}function D(n,o){return n?w(E,n,o):""}function T(n,o,u,d){if(!(d>0))return 0;for(var h=u,v=u+d-1,x=0;x<n.length;++x){var k=n.charCodeAt(x);if(k>=55296&&k<=57343){var j=n.charCodeAt(++x);k=65536+((k&1023)<<10)|j&1023}if(k<=127){if(u>=v)break;o[u++]=k}else if(k<=2047){if(u+1>=v)break;o[u++]=192|k>>6,o[u++]=128|k&63}else if(k<=65535){if(u+2>=v)break;o[u++]=224|k>>12,o[u++]=128|k>>6&63,o[u++]=128|k&63}else{if(u+3>=v)break;o[u++]=240|k>>18,o[u++]=128|k>>12&63,o[u++]=128|k>>6&63,o[u++]=128|k&63}}return o[u]=0,u-h}function C(n,o,u){return T(n,E,o,u)}function b(n){for(var o=0,u=0;u<n.length;++u){var d=n.charCodeAt(u);d<=127?o++:d<=2047?o+=2:d>=55296&&d<=57343?(o+=4,++u):o+=3}return o}var a,y,E,P,$,F,O,N,I;function z(n){a=n,e.HEAP8=y=new Int8Array(n),e.HEAP16=P=new Int16Array(n),e.HEAP32=F=new Int32Array(n),e.HEAPU8=E=new Uint8Array(n),e.HEAPU16=$=new Uint16Array(n),e.HEAPU32=O=new Uint32Array(n),e.HEAPF32=N=new Float32Array(n),e.HEAPF64=I=new Float64Array(n)}var H=e.INITIAL_MEMORY||16777216,q,V=[],ee=[],we=[],ge=!1;function lt(){return ce}function Xe(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Ft(e.preRun.shift());Jr(V)}function ut(){ge=!0,!e.noFSInit&&!f.init.initialized&&f.init(),f.ignorePermissions=!1,Ze.init(),Jr(ee)}function ct(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Ea(e.postRun.shift());Jr(we)}function Ft(n){V.unshift(n)}function ft(n){ee.unshift(n)}function Ea(n){we.unshift(n)}var pt=0,Qr=null,Bt=null;function cd(n){return n}function Zr(n){pt++,e.monitorRunDependencies&&e.monitorRunDependencies(pt)}function ur(n){if(pt--,e.monitorRunDependencies&&e.monitorRunDependencies(pt),pt==0&&(Qr!==null&&(clearInterval(Qr),Qr=null),Bt)){var o=Bt;Bt=null,o()}}function $e(n){e.onAbort&&e.onAbort(n),n="Aborted("+n+")",Y(n),_e=!0,de=1,n+=". Build with -sASSERTIONS for more info.";var o=new WebAssembly.RuntimeError(n);throw s(o),o}var ka="data:application/octet-stream;base64,";function Cn(n){return n.startsWith(ka)}function cr(n){return n.startsWith("file://")}var Ne;Ne="glpk.all.wasm",Cn(Ne)||(Ne=L(Ne));function jn(n){try{if(n==Ne&&ne)return new Uint8Array(ne);if(oe)return oe(n);throw"both async and sync fetching of the wasm failed"}catch(o){$e(o)}}function Ia(){if(!ne&&(_||g)){if(typeof fetch=="function"&&!cr(Ne))return fetch(Ne,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Ne+"'";return n.arrayBuffer()}).catch(function(){return jn(Ne)});if(X)return new Promise(function(n,o){X(Ne,function(u){n(new Uint8Array(u))},o)})}return Promise.resolve().then(function(){return jn(Ne)})}function Sa(){var n={a:as};function o(x,k){var j=x.exports;e.asm=j,fe=e.asm.D,z(fe.buffer),q=e.asm.N,ft(e.asm.E),ur("wasm-instantiate")}Zr("wasm-instantiate");function u(x){o(x.instance)}function d(x){return Ia().then(function(k){return WebAssembly.instantiate(k,n)}).then(function(k){return k}).then(x,function(k){Y("failed to asynchronously prepare wasm: "+k),$e(k)})}function h(){return!ne&&typeof WebAssembly.instantiateStreaming=="function"&&!Cn(Ne)&&!cr(Ne)&&!S&&typeof fetch=="function"?fetch(Ne,{credentials:"same-origin"}).then(function(x){var k=WebAssembly.instantiateStreaming(x,n);return k.then(u,function(j){return Y("wasm streaming compile failed: "+j),Y("falling back to ArrayBuffer instantiation"),d(u)})}):d(u)}if(e.instantiateWasm)try{var v=e.instantiateWasm(n,o);return v}catch(x){Y("Module.instantiateWasm callback failed with error: "+x),s(x)}return h().catch(s),{}}var te,ve;function Vn(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function Jr(n){for(;n.length>0;)n.shift()(e)}function Aa(n,o="i8"){switch(o.endsWith("*")&&(o="*"),o){case"i1":return y[n>>0];case"i8":return y[n>>0];case"i16":return P[n>>1];case"i32":return F[n>>2];case"i64":return F[n>>2];case"float":return N[n>>2];case"double":return I[n>>3];case"*":return O[n>>2];default:$e("invalid type for getValue: "+o)}return null}function Ta(n,o,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":y[n>>0]=o;break;case"i8":y[n>>0]=o;break;case"i16":P[n>>1]=o;break;case"i32":F[n>>2]=o;break;case"i64":ve=[o>>>0,(te=o,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],F[n>>2]=ve[0],F[n+4>>2]=ve[1];break;case"float":N[n>>2]=o;break;case"double":I[n>>3]=o;break;case"*":O[n>>2]=o;break;default:$e("invalid type for setValue: "+u)}}function Oa(n,o,u,d){$e("Assertion failed: "+D(n)+", at: "+[o?D(o):"unknown filename",u,d?D(d):"unknown function"])}function Ma(n){return F[Gn()>>2]=n,n}var ue={isAbs:n=>n.charAt(0)==="/",splitPath:n=>{var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return o.exec(n).slice(1)},normalizeArray:(n,o)=>{for(var u=0,d=n.length-1;d>=0;d--){var h=n[d];h==="."?n.splice(d,1):h===".."?(n.splice(d,1),u++):u&&(n.splice(d,1),u--)}if(o)for(;u;u--)n.unshift("..");return n},normalize:n=>{var o=ue.isAbs(n),u=n.substr(-1)==="/";return n=ue.normalizeArray(n.split("/").filter(d=>!!d),!o).join("/"),!n&&!o&&(n="."),n&&u&&(n+="/"),(o?"/":"")+n},dirname:n=>{var o=ue.splitPath(n),u=o[0],d=o[1];return!u&&!d?".":(d&&(d=d.substr(0,d.length-1)),u+d)},basename:n=>{if(n==="/")return"/";n=ue.normalize(n),n=n.replace(/\/$/,"");var o=n.lastIndexOf("/");return o===-1?n:n.substr(o+1)},join:function(){var n=Array.prototype.slice.call(arguments);return ue.normalize(n.join("/"))},join2:(n,o)=>ue.normalize(n+"/"+o)};function Na(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}else if(S)try{var o=ga();return()=>o.randomBytes(1)[0]}catch{}return()=>$e("randomDevice")}var We={resolve:function(){for(var n="",o=!1,u=arguments.length-1;u>=-1&&!o;u--){var d=u>=0?arguments[u]:f.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!d)return"";n=d+"/"+n,o=ue.isAbs(d)}return n=ue.normalizeArray(n.split("/").filter(h=>!!h),!o).join("/"),(o?"/":"")+n||"."},relative:(n,o)=>{n=We.resolve(n).substr(1),o=We.resolve(o).substr(1);function u(Q){for(var ae=0;ae<Q.length&&Q[ae]==="";ae++);for(var le=Q.length-1;le>=0&&Q[le]==="";le--);return ae>le?[]:Q.slice(ae,le-ae+1)}for(var d=u(n.split("/")),h=u(o.split("/")),v=Math.min(d.length,h.length),x=v,k=0;k<v;k++)if(d[k]!==h[k]){x=k;break}for(var j=[],k=x;k<d.length;k++)j.push("..");return j=j.concat(h.slice(x)),j.join("/")}};function en(n,o,u){var d=u>0?u:b(n)+1,h=new Array(d),v=T(n,h,0,h.length);return o&&(h.length=v),h}var Ze={ttys:[],init:function(){},shutdown:function(){},register:function(n,o){Ze.ttys[n]={input:[],output:[],ops:o},f.registerDevice(n,Ze.stream_ops)},stream_ops:{open:function(n){var o=Ze.ttys[n.node.rdev];if(!o)throw new f.ErrnoError(43);n.tty=o,n.seekable=!1},close:function(n){n.tty.ops.fsync(n.tty)},fsync:function(n){n.tty.ops.fsync(n.tty)},read:function(n,o,u,d,h){if(!n.tty||!n.tty.ops.get_char)throw new f.ErrnoError(60);for(var v=0,x=0;x<d;x++){var k;try{k=n.tty.ops.get_char(n.tty)}catch{throw new f.ErrnoError(29)}if(k===void 0&&v===0)throw new f.ErrnoError(6);if(k==null)break;v++,o[u+x]=k}return v&&(n.node.timestamp=Date.now()),v},write:function(n,o,u,d,h){if(!n.tty||!n.tty.ops.put_char)throw new f.ErrnoError(60);try{for(var v=0;v<d;v++)n.tty.ops.put_char(n.tty,o[u+v])}catch{throw new f.ErrnoError(29)}return d&&(n.node.timestamp=Date.now()),v}},default_tty_ops:{get_char:function(n){if(!n.input.length){var o=null;if(S){var u=256,d=Buffer.alloc(u),h=0;try{h=Z.readSync(process.stdin.fd,d,0,u,-1)}catch(v){if(v.toString().includes("EOF"))h=0;else throw v}h>0?o=d.slice(0,h).toString("utf-8"):o=null}else typeof window<"u"&&typeof window.prompt=="function"?(o=window.prompt("Input: "),o!==null&&(o+=`
`)):typeof readline=="function"&&(o=readline(),o!==null&&(o+=`
`));if(!o)return null;n.input=en(o,!0)}return n.input.shift()},put_char:function(n,o){o===null||o===10?(K(w(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&n.output.length>0&&(K(w(n.output,0)),n.output=[])}},default_tty1_ops:{put_char:function(n,o){o===null||o===10?(Y(w(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&n.output.length>0&&(Y(w(n.output,0)),n.output=[])}}};function Un(n){$e()}var re={ops_table:null,mount:function(n){return re.createNode(null,"/",16895,0)},createNode:function(n,o,u,d){if(f.isBlkdev(u)||f.isFIFO(u))throw new f.ErrnoError(63);re.ops_table||(re.ops_table={dir:{node:{getattr:re.node_ops.getattr,setattr:re.node_ops.setattr,lookup:re.node_ops.lookup,mknod:re.node_ops.mknod,rename:re.node_ops.rename,unlink:re.node_ops.unlink,rmdir:re.node_ops.rmdir,readdir:re.node_ops.readdir,symlink:re.node_ops.symlink},stream:{llseek:re.stream_ops.llseek}},file:{node:{getattr:re.node_ops.getattr,setattr:re.node_ops.setattr},stream:{llseek:re.stream_ops.llseek,read:re.stream_ops.read,write:re.stream_ops.write,allocate:re.stream_ops.allocate,mmap:re.stream_ops.mmap,msync:re.stream_ops.msync}},link:{node:{getattr:re.node_ops.getattr,setattr:re.node_ops.setattr,readlink:re.node_ops.readlink},stream:{}},chrdev:{node:{getattr:re.node_ops.getattr,setattr:re.node_ops.setattr},stream:f.chrdev_stream_ops}});var h=f.createNode(n,o,u,d);return f.isDir(h.mode)?(h.node_ops=re.ops_table.dir.node,h.stream_ops=re.ops_table.dir.stream,h.contents={}):f.isFile(h.mode)?(h.node_ops=re.ops_table.file.node,h.stream_ops=re.ops_table.file.stream,h.usedBytes=0,h.contents=null):f.isLink(h.mode)?(h.node_ops=re.ops_table.link.node,h.stream_ops=re.ops_table.link.stream):f.isChrdev(h.mode)&&(h.node_ops=re.ops_table.chrdev.node,h.stream_ops=re.ops_table.chrdev.stream),h.timestamp=Date.now(),n&&(n.contents[o]=h,n.timestamp=h.timestamp),h},getFileDataAsTypedArray:function(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage:function(n,o){var u=n.contents?n.contents.length:0;if(!(u>=o)){var d=1024*1024;o=Math.max(o,u*(u<d?2:1.125)>>>0),u!=0&&(o=Math.max(o,256));var h=n.contents;n.contents=new Uint8Array(o),n.usedBytes>0&&n.contents.set(h.subarray(0,n.usedBytes),0)}},resizeFileStorage:function(n,o){if(n.usedBytes!=o)if(o==0)n.contents=null,n.usedBytes=0;else{var u=n.contents;n.contents=new Uint8Array(o),u&&n.contents.set(u.subarray(0,Math.min(o,n.usedBytes))),n.usedBytes=o}},node_ops:{getattr:function(n){var o={};return o.dev=f.isChrdev(n.mode)?n.id:1,o.ino=n.id,o.mode=n.mode,o.nlink=1,o.uid=0,o.gid=0,o.rdev=n.rdev,f.isDir(n.mode)?o.size=4096:f.isFile(n.mode)?o.size=n.usedBytes:f.isLink(n.mode)?o.size=n.link.length:o.size=0,o.atime=new Date(n.timestamp),o.mtime=new Date(n.timestamp),o.ctime=new Date(n.timestamp),o.blksize=4096,o.blocks=Math.ceil(o.size/o.blksize),o},setattr:function(n,o){o.mode!==void 0&&(n.mode=o.mode),o.timestamp!==void 0&&(n.timestamp=o.timestamp),o.size!==void 0&&re.resizeFileStorage(n,o.size)},lookup:function(n,o){throw f.genericErrors[44]},mknod:function(n,o,u,d){return re.createNode(n,o,u,d)},rename:function(n,o,u){if(f.isDir(n.mode)){var d;try{d=f.lookupNode(o,u)}catch{}if(d)for(var h in d.contents)throw new f.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=u,o.contents[u]=n,o.timestamp=n.parent.timestamp,n.parent=o},unlink:function(n,o){delete n.contents[o],n.timestamp=Date.now()},rmdir:function(n,o){var u=f.lookupNode(n,o);for(var d in u.contents)throw new f.ErrnoError(55);delete n.contents[o],n.timestamp=Date.now()},readdir:function(n){var o=[".",".."];for(var u in n.contents)n.contents.hasOwnProperty(u)&&o.push(u);return o},symlink:function(n,o,u){var d=re.createNode(n,o,41471,0);return d.link=u,d},readlink:function(n){if(!f.isLink(n.mode))throw new f.ErrnoError(28);return n.link}},stream_ops:{read:function(n,o,u,d,h){var v=n.node.contents;if(h>=n.node.usedBytes)return 0;var x=Math.min(n.node.usedBytes-h,d);if(x>8&&v.subarray)o.set(v.subarray(h,h+x),u);else for(var k=0;k<x;k++)o[u+k]=v[h+k];return x},write:function(n,o,u,d,h,v){if(o.buffer===y.buffer&&(v=!1),!d)return 0;var x=n.node;if(x.timestamp=Date.now(),o.subarray&&(!x.contents||x.contents.subarray)){if(v)return x.contents=o.subarray(u,u+d),x.usedBytes=d,d;if(x.usedBytes===0&&h===0)return x.contents=o.slice(u,u+d),x.usedBytes=d,d;if(h+d<=x.usedBytes)return x.contents.set(o.subarray(u,u+d),h),d}if(re.expandFileStorage(x,h+d),x.contents.subarray&&o.subarray)x.contents.set(o.subarray(u,u+d),h);else for(var k=0;k<d;k++)x.contents[h+k]=o[u+k];return x.usedBytes=Math.max(x.usedBytes,h+d),d},llseek:function(n,o,u){var d=o;if(u===1?d+=n.position:u===2&&f.isFile(n.node.mode)&&(d+=n.node.usedBytes),d<0)throw new f.ErrnoError(28);return d},allocate:function(n,o,u){re.expandFileStorage(n.node,o+u),n.node.usedBytes=Math.max(n.node.usedBytes,o+u)},mmap:function(n,o,u,d,h){if(!f.isFile(n.node.mode))throw new f.ErrnoError(43);var v,x,k=n.node.contents;if(!(h&2)&&k.buffer===a)x=!1,v=k.byteOffset;else{if((u>0||u+o<k.length)&&(k.subarray?k=k.subarray(u,u+o):k=Array.prototype.slice.call(k,u,u+o)),x=!0,v=Un(o),!v)throw new f.ErrnoError(48);y.set(k,v)}return{ptr:v,allocated:x}},msync:function(n,o,u,d,h){return re.stream_ops.write(n,o,0,d,u,!1),0}}};function Ra(n,o,u,d){var h=d?"":"al "+n;X(n,v=>{De(v,'Loading data file "'+n+'" failed (no arrayBuffer).'),o(new Uint8Array(v)),h&&ur(h)},v=>{if(u)u();else throw'Loading data file "'+n+'" failed.'}),h&&Zr(h)}var f={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(n,o={})=>{if(n=We.resolve(n),!n)return{path:"",node:null};var u={follow_mount:!0,recurse_count:0};if(o=Object.assign(u,o),o.recurse_count>8)throw new f.ErrnoError(32);for(var d=n.split("/").filter(le=>!!le),h=f.root,v="/",x=0;x<d.length;x++){var k=x===d.length-1;if(k&&o.parent)break;if(h=f.lookupNode(h,d[x]),v=ue.join2(v,d[x]),f.isMountpoint(h)&&(!k||k&&o.follow_mount)&&(h=h.mounted.root),!k||o.follow)for(var j=0;f.isLink(h.mode);){var Q=f.readlink(v);v=We.resolve(ue.dirname(v),Q);var ae=f.lookupPath(v,{recurse_count:o.recurse_count+1});if(h=ae.node,j++>40)throw new f.ErrnoError(32)}}return{path:v,node:h}},getPath:n=>{for(var o;;){if(f.isRoot(n)){var u=n.mount.mountpoint;return o?u[u.length-1]!=="/"?u+"/"+o:u+o:u}o=o?n.name+"/"+o:n.name,n=n.parent}},hashName:(n,o)=>{for(var u=0,d=0;d<o.length;d++)u=(u<<5)-u+o.charCodeAt(d)|0;return(n+u>>>0)%f.nameTable.length},hashAddNode:n=>{var o=f.hashName(n.parent.id,n.name);n.name_next=f.nameTable[o],f.nameTable[o]=n},hashRemoveNode:n=>{var o=f.hashName(n.parent.id,n.name);if(f.nameTable[o]===n)f.nameTable[o]=n.name_next;else for(var u=f.nameTable[o];u;){if(u.name_next===n){u.name_next=n.name_next;break}u=u.name_next}},lookupNode:(n,o)=>{var u=f.mayLookup(n);if(u)throw new f.ErrnoError(u,n);for(var d=f.hashName(n.id,o),h=f.nameTable[d];h;h=h.name_next){var v=h.name;if(h.parent.id===n.id&&v===o)return h}return f.lookup(n,o)},createNode:(n,o,u,d)=>{var h=new f.FSNode(n,o,u,d);return f.hashAddNode(h),h},destroyNode:n=>{f.hashRemoveNode(n)},isRoot:n=>n===n.parent,isMountpoint:n=>!!n.mounted,isFile:n=>(n&61440)===32768,isDir:n=>(n&61440)===16384,isLink:n=>(n&61440)===40960,isChrdev:n=>(n&61440)===8192,isBlkdev:n=>(n&61440)===24576,isFIFO:n=>(n&61440)===4096,isSocket:n=>(n&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:n=>{var o=f.flagModes[n];if(typeof o>"u")throw new Error("Unknown file open mode: "+n);return o},flagsToPermissionString:n=>{var o=["r","w","rw"][n&3];return n&512&&(o+="w"),o},nodePermissions:(n,o)=>f.ignorePermissions?0:o.includes("r")&&!(n.mode&292)||o.includes("w")&&!(n.mode&146)||o.includes("x")&&!(n.mode&73)?2:0,mayLookup:n=>{var o=f.nodePermissions(n,"x");return o||(n.node_ops.lookup?0:2)},mayCreate:(n,o)=>{try{var u=f.lookupNode(n,o);return 20}catch{}return f.nodePermissions(n,"wx")},mayDelete:(n,o,u)=>{var d;try{d=f.lookupNode(n,o)}catch(v){return v.errno}var h=f.nodePermissions(n,"wx");if(h)return h;if(u){if(!f.isDir(d.mode))return 54;if(f.isRoot(d)||f.getPath(d)===f.cwd())return 10}else if(f.isDir(d.mode))return 31;return 0},mayOpen:(n,o)=>n?f.isLink(n.mode)?32:f.isDir(n.mode)&&(f.flagsToPermissionString(o)!=="r"||o&512)?31:f.nodePermissions(n,f.flagsToPermissionString(o)):44,MAX_OPEN_FDS:4096,nextfd:(n=0,o=f.MAX_OPEN_FDS)=>{for(var u=n;u<=o;u++)if(!f.streams[u])return u;throw new f.ErrnoError(33)},getStream:n=>f.streams[n],createStream:(n,o,u)=>{f.FSStream||(f.FSStream=function(){this.shared={}},f.FSStream.prototype={},Object.defineProperties(f.FSStream.prototype,{object:{get:function(){return this.node},set:function(h){this.node=h}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(h){this.shared.flags=h}},position:{get:function(){return this.shared.position},set:function(h){this.shared.position=h}}})),n=Object.assign(new f.FSStream,n);var d=f.nextfd(o,u);return n.fd=d,f.streams[d]=n,n},closeStream:n=>{f.streams[n]=null},chrdev_stream_ops:{open:n=>{var o=f.getDevice(n.node.rdev);n.stream_ops=o.stream_ops,n.stream_ops.open&&n.stream_ops.open(n)},llseek:()=>{throw new f.ErrnoError(70)}},major:n=>n>>8,minor:n=>n&255,makedev:(n,o)=>n<<8|o,registerDevice:(n,o)=>{f.devices[n]={stream_ops:o}},getDevice:n=>f.devices[n],getMounts:n=>{for(var o=[],u=[n];u.length;){var d=u.pop();o.push(d),u.push.apply(u,d.mounts)}return o},syncfs:(n,o)=>{typeof n=="function"&&(o=n,n=!1),f.syncFSRequests++,f.syncFSRequests>1&&Y("warning: "+f.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var u=f.getMounts(f.root.mount),d=0;function h(x){return f.syncFSRequests--,o(x)}function v(x){if(x)return v.errored?void 0:(v.errored=!0,h(x));++d>=u.length&&h(null)}u.forEach(x=>{if(!x.type.syncfs)return v(null);x.type.syncfs(x,n,v)})},mount:(n,o,u)=>{var d=u==="/",h=!u,v;if(d&&f.root)throw new f.ErrnoError(10);if(!d&&!h){var x=f.lookupPath(u,{follow_mount:!1});if(u=x.path,v=x.node,f.isMountpoint(v))throw new f.ErrnoError(10);if(!f.isDir(v.mode))throw new f.ErrnoError(54)}var k={type:n,opts:o,mountpoint:u,mounts:[]},j=n.mount(k);return j.mount=k,k.root=j,d?f.root=j:v&&(v.mounted=k,v.mount&&v.mount.mounts.push(k)),j},unmount:n=>{var o=f.lookupPath(n,{follow_mount:!1});if(!f.isMountpoint(o.node))throw new f.ErrnoError(28);var u=o.node,d=u.mounted,h=f.getMounts(d);Object.keys(f.nameTable).forEach(x=>{for(var k=f.nameTable[x];k;){var j=k.name_next;h.includes(k.mount)&&f.destroyNode(k),k=j}}),u.mounted=null;var v=u.mount.mounts.indexOf(d);u.mount.mounts.splice(v,1)},lookup:(n,o)=>n.node_ops.lookup(n,o),mknod:(n,o,u)=>{var d=f.lookupPath(n,{parent:!0}),h=d.node,v=ue.basename(n);if(!v||v==="."||v==="..")throw new f.ErrnoError(28);var x=f.mayCreate(h,v);if(x)throw new f.ErrnoError(x);if(!h.node_ops.mknod)throw new f.ErrnoError(63);return h.node_ops.mknod(h,v,o,u)},create:(n,o)=>(o=o!==void 0?o:438,o&=4095,o|=32768,f.mknod(n,o,0)),mkdir:(n,o)=>(o=o!==void 0?o:511,o&=1023,o|=16384,f.mknod(n,o,0)),mkdirTree:(n,o)=>{for(var u=n.split("/"),d="",h=0;h<u.length;++h)if(u[h]){d+="/"+u[h];try{f.mkdir(d,o)}catch(v){if(v.errno!=20)throw v}}},mkdev:(n,o,u)=>(typeof u>"u"&&(u=o,o=438),o|=8192,f.mknod(n,o,u)),symlink:(n,o)=>{if(!We.resolve(n))throw new f.ErrnoError(44);var u=f.lookupPath(o,{parent:!0}),d=u.node;if(!d)throw new f.ErrnoError(44);var h=ue.basename(o),v=f.mayCreate(d,h);if(v)throw new f.ErrnoError(v);if(!d.node_ops.symlink)throw new f.ErrnoError(63);return d.node_ops.symlink(d,h,n)},rename:(n,o)=>{var u=ue.dirname(n),d=ue.dirname(o),h=ue.basename(n),v=ue.basename(o),x,k,j;if(x=f.lookupPath(n,{parent:!0}),k=x.node,x=f.lookupPath(o,{parent:!0}),j=x.node,!k||!j)throw new f.ErrnoError(44);if(k.mount!==j.mount)throw new f.ErrnoError(75);var Q=f.lookupNode(k,h),ae=We.relative(n,d);if(ae.charAt(0)!==".")throw new f.ErrnoError(28);if(ae=We.relative(o,u),ae.charAt(0)!==".")throw new f.ErrnoError(55);var le;try{le=f.lookupNode(j,v)}catch{}if(Q!==le){var J=f.isDir(Q.mode),W=f.mayDelete(k,h,J);if(W)throw new f.ErrnoError(W);if(W=le?f.mayDelete(j,v,J):f.mayCreate(j,v),W)throw new f.ErrnoError(W);if(!k.node_ops.rename)throw new f.ErrnoError(63);if(f.isMountpoint(Q)||le&&f.isMountpoint(le))throw new f.ErrnoError(10);if(j!==k&&(W=f.nodePermissions(k,"w"),W))throw new f.ErrnoError(W);f.hashRemoveNode(Q);try{k.node_ops.rename(Q,j,v)}catch(se){throw se}finally{f.hashAddNode(Q)}}},rmdir:n=>{var o=f.lookupPath(n,{parent:!0}),u=o.node,d=ue.basename(n),h=f.lookupNode(u,d),v=f.mayDelete(u,d,!0);if(v)throw new f.ErrnoError(v);if(!u.node_ops.rmdir)throw new f.ErrnoError(63);if(f.isMountpoint(h))throw new f.ErrnoError(10);u.node_ops.rmdir(u,d),f.destroyNode(h)},readdir:n=>{var o=f.lookupPath(n,{follow:!0}),u=o.node;if(!u.node_ops.readdir)throw new f.ErrnoError(54);return u.node_ops.readdir(u)},unlink:n=>{var o=f.lookupPath(n,{parent:!0}),u=o.node;if(!u)throw new f.ErrnoError(44);var d=ue.basename(n),h=f.lookupNode(u,d),v=f.mayDelete(u,d,!1);if(v)throw new f.ErrnoError(v);if(!u.node_ops.unlink)throw new f.ErrnoError(63);if(f.isMountpoint(h))throw new f.ErrnoError(10);u.node_ops.unlink(u,d),f.destroyNode(h)},readlink:n=>{var o=f.lookupPath(n),u=o.node;if(!u)throw new f.ErrnoError(44);if(!u.node_ops.readlink)throw new f.ErrnoError(28);return We.resolve(f.getPath(u.parent),u.node_ops.readlink(u))},stat:(n,o)=>{var u=f.lookupPath(n,{follow:!o}),d=u.node;if(!d)throw new f.ErrnoError(44);if(!d.node_ops.getattr)throw new f.ErrnoError(63);return d.node_ops.getattr(d)},lstat:n=>f.stat(n,!0),chmod:(n,o,u)=>{var d;if(typeof n=="string"){var h=f.lookupPath(n,{follow:!u});d=h.node}else d=n;if(!d.node_ops.setattr)throw new f.ErrnoError(63);d.node_ops.setattr(d,{mode:o&4095|d.mode&-4096,timestamp:Date.now()})},lchmod:(n,o)=>{f.chmod(n,o,!0)},fchmod:(n,o)=>{var u=f.getStream(n);if(!u)throw new f.ErrnoError(8);f.chmod(u.node,o)},chown:(n,o,u,d)=>{var h;if(typeof n=="string"){var v=f.lookupPath(n,{follow:!d});h=v.node}else h=n;if(!h.node_ops.setattr)throw new f.ErrnoError(63);h.node_ops.setattr(h,{timestamp:Date.now()})},lchown:(n,o,u)=>{f.chown(n,o,u,!0)},fchown:(n,o,u)=>{var d=f.getStream(n);if(!d)throw new f.ErrnoError(8);f.chown(d.node,o,u)},truncate:(n,o)=>{if(o<0)throw new f.ErrnoError(28);var u;if(typeof n=="string"){var d=f.lookupPath(n,{follow:!0});u=d.node}else u=n;if(!u.node_ops.setattr)throw new f.ErrnoError(63);if(f.isDir(u.mode))throw new f.ErrnoError(31);if(!f.isFile(u.mode))throw new f.ErrnoError(28);var h=f.nodePermissions(u,"w");if(h)throw new f.ErrnoError(h);u.node_ops.setattr(u,{size:o,timestamp:Date.now()})},ftruncate:(n,o)=>{var u=f.getStream(n);if(!u)throw new f.ErrnoError(8);if(!(u.flags&2097155))throw new f.ErrnoError(28);f.truncate(u.node,o)},utime:(n,o,u)=>{var d=f.lookupPath(n,{follow:!0}),h=d.node;h.node_ops.setattr(h,{timestamp:Math.max(o,u)})},open:(n,o,u)=>{if(n==="")throw new f.ErrnoError(44);o=typeof o=="string"?f.modeStringToFlags(o):o,u=typeof u>"u"?438:u,o&64?u=u&4095|32768:u=0;var d;if(typeof n=="object")d=n;else{n=ue.normalize(n);try{var h=f.lookupPath(n,{follow:!(o&131072)});d=h.node}catch{}}var v=!1;if(o&64)if(d){if(o&128)throw new f.ErrnoError(20)}else d=f.mknod(n,u,0),v=!0;if(!d)throw new f.ErrnoError(44);if(f.isChrdev(d.mode)&&(o&=-513),o&65536&&!f.isDir(d.mode))throw new f.ErrnoError(54);if(!v){var x=f.mayOpen(d,o);if(x)throw new f.ErrnoError(x)}o&512&&!v&&f.truncate(d,0),o&=-131713;var k=f.createStream({node:d,path:f.getPath(d),flags:o,seekable:!0,position:0,stream_ops:d.stream_ops,ungotten:[],error:!1});return k.stream_ops.open&&k.stream_ops.open(k),e.logReadFiles&&!(o&1)&&(f.readFiles||(f.readFiles={}),n in f.readFiles||(f.readFiles[n]=1)),k},close:n=>{if(f.isClosed(n))throw new f.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(o){throw o}finally{f.closeStream(n.fd)}n.fd=null},isClosed:n=>n.fd===null,llseek:(n,o,u)=>{if(f.isClosed(n))throw new f.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new f.ErrnoError(70);if(u!=0&&u!=1&&u!=2)throw new f.ErrnoError(28);return n.position=n.stream_ops.llseek(n,o,u),n.ungotten=[],n.position},read:(n,o,u,d,h)=>{if(d<0||h<0)throw new f.ErrnoError(28);if(f.isClosed(n))throw new f.ErrnoError(8);if((n.flags&2097155)===1)throw new f.ErrnoError(8);if(f.isDir(n.node.mode))throw new f.ErrnoError(31);if(!n.stream_ops.read)throw new f.ErrnoError(28);var v=typeof h<"u";if(!v)h=n.position;else if(!n.seekable)throw new f.ErrnoError(70);var x=n.stream_ops.read(n,o,u,d,h);return v||(n.position+=x),x},write:(n,o,u,d,h,v)=>{if(d<0||h<0)throw new f.ErrnoError(28);if(f.isClosed(n))throw new f.ErrnoError(8);if(!(n.flags&2097155))throw new f.ErrnoError(8);if(f.isDir(n.node.mode))throw new f.ErrnoError(31);if(!n.stream_ops.write)throw new f.ErrnoError(28);n.seekable&&n.flags&1024&&f.llseek(n,0,2);var x=typeof h<"u";if(!x)h=n.position;else if(!n.seekable)throw new f.ErrnoError(70);var k=n.stream_ops.write(n,o,u,d,h,v);return x||(n.position+=k),k},allocate:(n,o,u)=>{if(f.isClosed(n))throw new f.ErrnoError(8);if(o<0||u<=0)throw new f.ErrnoError(28);if(!(n.flags&2097155))throw new f.ErrnoError(8);if(!f.isFile(n.node.mode)&&!f.isDir(n.node.mode))throw new f.ErrnoError(43);if(!n.stream_ops.allocate)throw new f.ErrnoError(138);n.stream_ops.allocate(n,o,u)},mmap:(n,o,u,d,h)=>{if(d&2&&!(h&2)&&(n.flags&2097155)!==2)throw new f.ErrnoError(2);if((n.flags&2097155)===1)throw new f.ErrnoError(2);if(!n.stream_ops.mmap)throw new f.ErrnoError(43);return n.stream_ops.mmap(n,o,u,d,h)},msync:(n,o,u,d,h)=>n.stream_ops.msync?n.stream_ops.msync(n,o,u,d,h):0,munmap:n=>0,ioctl:(n,o,u)=>{if(!n.stream_ops.ioctl)throw new f.ErrnoError(59);return n.stream_ops.ioctl(n,o,u)},readFile:(n,o={})=>{if(o.flags=o.flags||0,o.encoding=o.encoding||"binary",o.encoding!=="utf8"&&o.encoding!=="binary")throw new Error('Invalid encoding type "'+o.encoding+'"');var u,d=f.open(n,o.flags),h=f.stat(n),v=h.size,x=new Uint8Array(v);return f.read(d,x,0,v,0),o.encoding==="utf8"?u=w(x,0):o.encoding==="binary"&&(u=x),f.close(d),u},writeFile:(n,o,u={})=>{u.flags=u.flags||577;var d=f.open(n,u.flags,u.mode);if(typeof o=="string"){var h=new Uint8Array(b(o)+1),v=T(o,h,0,h.length);f.write(d,h,0,v,void 0,u.canOwn)}else if(ArrayBuffer.isView(o))f.write(d,o,0,o.byteLength,void 0,u.canOwn);else throw new Error("Unsupported data type");f.close(d)},cwd:()=>f.currentPath,chdir:n=>{var o=f.lookupPath(n,{follow:!0});if(o.node===null)throw new f.ErrnoError(44);if(!f.isDir(o.node.mode))throw new f.ErrnoError(54);var u=f.nodePermissions(o.node,"x");if(u)throw new f.ErrnoError(u);f.currentPath=o.path},createDefaultDirectories:()=>{f.mkdir("/tmp"),f.mkdir("/home"),f.mkdir("/home/web_user")},createDefaultDevices:()=>{f.mkdir("/dev"),f.registerDevice(f.makedev(1,3),{read:()=>0,write:(o,u,d,h,v)=>h}),f.mkdev("/dev/null",f.makedev(1,3)),Ze.register(f.makedev(5,0),Ze.default_tty_ops),Ze.register(f.makedev(6,0),Ze.default_tty1_ops),f.mkdev("/dev/tty",f.makedev(5,0)),f.mkdev("/dev/tty1",f.makedev(6,0));var n=Na();f.createDevice("/dev","random",n),f.createDevice("/dev","urandom",n),f.mkdir("/dev/shm"),f.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{f.mkdir("/proc");var n=f.mkdir("/proc/self");f.mkdir("/proc/self/fd"),f.mount({mount:()=>{var o=f.createNode(n,"fd",16895,73);return o.node_ops={lookup:(u,d)=>{var h=+d,v=f.getStream(h);if(!v)throw new f.ErrnoError(8);var x={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>v.path}};return x.parent=x,x}},o}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?f.createDevice("/dev","stdin",e.stdin):f.symlink("/dev/tty","/dev/stdin"),e.stdout?f.createDevice("/dev","stdout",null,e.stdout):f.symlink("/dev/tty","/dev/stdout"),e.stderr?f.createDevice("/dev","stderr",null,e.stderr):f.symlink("/dev/tty1","/dev/stderr");var n=f.open("/dev/stdin",0),o=f.open("/dev/stdout",1),u=f.open("/dev/stderr",1)},ensureErrnoError:()=>{f.ErrnoError||(f.ErrnoError=function(o,u){this.node=u,this.setErrno=function(d){this.errno=d},this.setErrno(o),this.message="FS error"},f.ErrnoError.prototype=new Error,f.ErrnoError.prototype.constructor=f.ErrnoError,[44].forEach(n=>{f.genericErrors[n]=new f.ErrnoError(n),f.genericErrors[n].stack="<generic error, no stack>"}))},staticInit:()=>{f.ensureErrnoError(),f.nameTable=new Array(4096),f.mount(re,{},"/"),f.createDefaultDirectories(),f.createDefaultDevices(),f.createSpecialDirectories(),f.filesystems={MEMFS:re}},init:(n,o,u)=>{f.init.initialized=!0,f.ensureErrnoError(),e.stdin=n||e.stdin,e.stdout=o||e.stdout,e.stderr=u||e.stderr,f.createStandardStreams()},quit:()=>{f.init.initialized=!1;for(var n=0;n<f.streams.length;n++){var o=f.streams[n];o&&f.close(o)}},getMode:(n,o)=>{var u=0;return n&&(u|=365),o&&(u|=146),u},findObject:(n,o)=>{var u=f.analyzePath(n,o);return u.exists?u.object:null},analyzePath:(n,o)=>{try{var u=f.lookupPath(n,{follow:!o});n=u.path}catch{}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=f.lookupPath(n,{parent:!0});d.parentExists=!0,d.parentPath=u.path,d.parentObject=u.node,d.name=ue.basename(n),u=f.lookupPath(n,{follow:!o}),d.exists=!0,d.path=u.path,d.object=u.node,d.name=u.node.name,d.isRoot=u.path==="/"}catch(h){d.error=h.errno}return d},createPath:(n,o,u,d)=>{n=typeof n=="string"?n:f.getPath(n);for(var h=o.split("/").reverse();h.length;){var v=h.pop();if(v){var x=ue.join2(n,v);try{f.mkdir(x)}catch{}n=x}}return x},createFile:(n,o,u,d,h)=>{var v=ue.join2(typeof n=="string"?n:f.getPath(n),o),x=f.getMode(d,h);return f.create(v,x)},createDataFile:(n,o,u,d,h,v)=>{var x=o;n&&(n=typeof n=="string"?n:f.getPath(n),x=o?ue.join2(n,o):n);var k=f.getMode(d,h),j=f.create(x,k);if(u){if(typeof u=="string"){for(var Q=new Array(u.length),ae=0,le=u.length;ae<le;++ae)Q[ae]=u.charCodeAt(ae);u=Q}f.chmod(j,k|146);var J=f.open(j,577);f.write(J,u,0,u.length,0,v),f.close(J),f.chmod(j,k)}return j},createDevice:(n,o,u,d)=>{var h=ue.join2(typeof n=="string"?n:f.getPath(n),o),v=f.getMode(!!u,!!d);f.createDevice.major||(f.createDevice.major=64);var x=f.makedev(f.createDevice.major++,0);return f.registerDevice(x,{open:k=>{k.seekable=!1},close:k=>{d&&d.buffer&&d.buffer.length&&d(10)},read:(k,j,Q,ae,le)=>{for(var J=0,W=0;W<ae;W++){var se;try{se=u()}catch{throw new f.ErrnoError(29)}if(se===void 0&&J===0)throw new f.ErrnoError(6);if(se==null)break;J++,j[Q+W]=se}return J&&(k.node.timestamp=Date.now()),J},write:(k,j,Q,ae,le)=>{for(var J=0;J<ae;J++)try{d(j[Q+J])}catch{throw new f.ErrnoError(29)}return ae&&(k.node.timestamp=Date.now()),J}}),f.mkdev(h,v,x)},forceLoadFile:n=>{if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(B)try{n.contents=en(B(n.url),!0),n.usedBytes=n.contents.length}catch{throw new f.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(n,o,u,d,h)=>{function v(){this.lengthKnown=!1,this.chunks=[]}if(v.prototype.get=function(W){if(!(W>this.length-1||W<0)){var se=W%this.chunkSize,xe=W/this.chunkSize|0;return this.getter(xe)[se]}},v.prototype.setDataGetter=function(W){this.getter=W},v.prototype.cacheLength=function(){var W=new XMLHttpRequest;if(W.open("HEAD",u,!1),W.send(null),!(W.status>=200&&W.status<300||W.status===304))throw new Error("Couldn't load "+u+". Status: "+W.status);var se=Number(W.getResponseHeader("Content-length")),xe,Ge=(xe=W.getResponseHeader("Accept-Ranges"))&&xe==="bytes",ze=(xe=W.getResponseHeader("Content-Encoding"))&&xe==="gzip",Le=1024*1024;Ge||(Le=se);var Ce=(He,kt)=>{if(He>kt)throw new Error("invalid range ("+He+", "+kt+") or no bytes requested!");if(kt>se-1)throw new Error("only "+se+" bytes available! programmer error!");var Ee=new XMLHttpRequest;if(Ee.open("GET",u,!1),se!==Le&&Ee.setRequestHeader("Range","bytes="+He+"-"+kt),Ee.responseType="arraybuffer",Ee.overrideMimeType&&Ee.overrideMimeType("text/plain; charset=x-user-defined"),Ee.send(null),!(Ee.status>=200&&Ee.status<300||Ee.status===304))throw new Error("Couldn't load "+u+". Status: "+Ee.status);return Ee.response!==void 0?new Uint8Array(Ee.response||[]):en(Ee.responseText||"",!0)},Lt=this;Lt.setDataGetter(He=>{var kt=He*Le,Ee=(He+1)*Le-1;if(Ee=Math.min(Ee,se-1),typeof Lt.chunks[He]>"u"&&(Lt.chunks[He]=Ce(kt,Ee)),typeof Lt.chunks[He]>"u")throw new Error("doXHR failed!");return Lt.chunks[He]}),(ze||!se)&&(Le=se=1,se=this.getter(0).length,Le=se,K("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=se,this._chunkSize=Le,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!g)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var x=new v;Object.defineProperties(x,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var k={isDevice:!1,contents:x}}else var k={isDevice:!1,url:u};var j=f.createFile(n,o,k,d,h);k.contents?j.contents=k.contents:k.url&&(j.contents=null,j.url=k.url),Object.defineProperties(j,{usedBytes:{get:function(){return this.contents.length}}});var Q={},ae=Object.keys(j.stream_ops);ae.forEach(J=>{var W=j.stream_ops[J];Q[J]=function(){return f.forceLoadFile(j),W.apply(null,arguments)}});function le(J,W,se,xe,Ge){var ze=J.node.contents;if(Ge>=ze.length)return 0;var Le=Math.min(ze.length-Ge,xe);if(ze.slice)for(var Ce=0;Ce<Le;Ce++)W[se+Ce]=ze[Ge+Ce];else for(var Ce=0;Ce<Le;Ce++)W[se+Ce]=ze.get(Ge+Ce);return Le}return Q.read=(J,W,se,xe,Ge)=>(f.forceLoadFile(j),le(J,W,se,xe,Ge)),Q.mmap=(J,W,se,xe,Ge)=>{f.forceLoadFile(j);var ze=Un(W);if(!ze)throw new f.ErrnoError(48);return le(J,y,ze,W,se),{ptr:ze,allocated:!0}},j.stream_ops=Q,j},createPreloadedFile:(n,o,u,d,h,v,x,k,j,Q)=>{var ae=o?We.resolve(ue.join2(n,o)):n,le="cp "+ae;function J(W){function se(xe){Q&&Q(),k||f.createDataFile(n,o,xe,d,h,j),v&&v(),ur(le)}Browser.handledByPreloadPlugin(W,ae,se,()=>{x&&x(),ur(le)})||se(W)}Zr(le),typeof u=="string"?Ra(u,W=>J(W),x):J(u)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(n,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var d=f.indexedDB();try{var h=d.open(f.DB_NAME(),f.DB_VERSION)}catch(v){return u(v)}h.onupgradeneeded=()=>{K("creating db");var v=h.result;v.createObjectStore(f.DB_STORE_NAME)},h.onsuccess=()=>{var v=h.result,x=v.transaction([f.DB_STORE_NAME],"readwrite"),k=x.objectStore(f.DB_STORE_NAME),j=0,Q=0,ae=n.length;function le(){Q==0?o():u()}n.forEach(J=>{var W=k.put(f.analyzePath(J).object.contents,J);W.onsuccess=()=>{j++,j+Q==ae&&le()},W.onerror=()=>{Q++,j+Q==ae&&le()}}),x.onerror=u},h.onerror=u},loadFilesFromDB:(n,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var d=f.indexedDB();try{var h=d.open(f.DB_NAME(),f.DB_VERSION)}catch(v){return u(v)}h.onupgradeneeded=u,h.onsuccess=()=>{var v=h.result;try{var x=v.transaction([f.DB_STORE_NAME],"readonly")}catch(J){u(J);return}var k=x.objectStore(f.DB_STORE_NAME),j=0,Q=0,ae=n.length;function le(){Q==0?o():u()}n.forEach(J=>{var W=k.get(J);W.onsuccess=()=>{f.analyzePath(J).exists&&f.unlink(J),f.createDataFile(ue.dirname(J),ue.basename(J),W.result,!0,!0,!0),j++,j+Q==ae&&le()},W.onerror=()=>{Q++,j+Q==ae&&le()}}),x.onerror=u},h.onerror=u}},ye={DEFAULT_POLLMASK:5,calculateAt:function(n,o,u){if(ue.isAbs(o))return o;var d;if(n===-100)d=f.cwd();else{var h=ye.getStreamFromFD(n);d=h.path}if(o.length==0){if(!u)throw new f.ErrnoError(44);return d}return ue.join2(d,o)},doStat:function(n,o,u){try{var d=n(o)}catch(k){if(k&&k.node&&ue.normalize(o)!==ue.normalize(f.getPath(k.node)))return-54;throw k}F[u>>2]=d.dev,F[u+8>>2]=d.ino,F[u+12>>2]=d.mode,O[u+16>>2]=d.nlink,F[u+20>>2]=d.uid,F[u+24>>2]=d.gid,F[u+28>>2]=d.rdev,ve=[d.size>>>0,(te=d.size,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],F[u+40>>2]=ve[0],F[u+44>>2]=ve[1],F[u+48>>2]=4096,F[u+52>>2]=d.blocks;var h=d.atime.getTime(),v=d.mtime.getTime(),x=d.ctime.getTime();return ve=[Math.floor(h/1e3)>>>0,(te=Math.floor(h/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],F[u+56>>2]=ve[0],F[u+60>>2]=ve[1],O[u+64>>2]=h%1e3*1e3,ve=[Math.floor(v/1e3)>>>0,(te=Math.floor(v/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],F[u+72>>2]=ve[0],F[u+76>>2]=ve[1],O[u+80>>2]=v%1e3*1e3,ve=[Math.floor(x/1e3)>>>0,(te=Math.floor(x/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],F[u+88>>2]=ve[0],F[u+92>>2]=ve[1],O[u+96>>2]=x%1e3*1e3,ve=[d.ino>>>0,(te=d.ino,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],F[u+104>>2]=ve[0],F[u+108>>2]=ve[1],0},doMsync:function(n,o,u,d,h){if(!f.isFile(o.node.mode))throw new f.ErrnoError(43);if(d&2)return 0;var v=E.slice(n,n+u);f.msync(o,v,h,u,d)},varargs:void 0,get:function(){ye.varargs+=4;var n=F[ye.varargs-4>>2];return n},getStr:function(n){var o=D(n);return o},getStreamFromFD:function(n){var o=f.getStream(n);if(!o)throw new f.ErrnoError(8);return o}};function Da(n,o,u){ye.varargs=u;try{var d=ye.getStreamFromFD(n);switch(o){case 0:{var h=ye.get();if(h<0)return-28;var v;return v=f.createStream(d,h),v.fd}case 1:case 2:return 0;case 3:return d.flags;case 4:{var h=ye.get();return d.flags|=h,0}case 5:{var h=ye.get(),x=0;return P[h+x>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Ma(28),-1;default:return-28}}catch(k){if(typeof f>"u"||!(k instanceof f.ErrnoError))throw k;return-k.errno}}function Pa(n,o,u){ye.varargs=u;try{var d=ye.getStreamFromFD(n);switch(o){case 21509:case 21505:return d.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return d.tty?0:-59;case 21519:{if(!d.tty)return-59;var h=ye.get();return F[h>>2]=0,0}case 21520:return d.tty?-28:-59;case 21531:{var h=ye.get();return f.ioctl(d,o,h)}case 21523:return d.tty?0:-59;case 21524:return d.tty?0:-59;default:return-28}}catch(v){if(typeof f>"u"||!(v instanceof f.ErrnoError))throw v;return-v.errno}}function Fa(n,o,u,d){ye.varargs=d;try{o=ye.getStr(o),o=ye.calculateAt(n,o);var h=d?ye.get():0;return f.open(o,u,h).fd}catch(v){if(typeof f>"u"||!(v instanceof f.ErrnoError))throw v;return-v.errno}}function Ba(){throw 1/0}function za(n){return O[n>>2]+F[n+4>>2]*4294967296}function La(n,o){var u=new Date(za(n)*1e3);F[o>>2]=u.getUTCSeconds(),F[o+4>>2]=u.getUTCMinutes(),F[o+8>>2]=u.getUTCHours(),F[o+12>>2]=u.getUTCDate(),F[o+16>>2]=u.getUTCMonth(),F[o+20>>2]=u.getUTCFullYear()-1900,F[o+24>>2]=u.getUTCDay();var d=Date.UTC(u.getUTCFullYear(),0,1,0,0,0,0),h=(u.getTime()-d)/(1e3*60*60*24)|0;F[o+28>>2]=h}function $n(n){var o=b(n)+1,u=Wn(o);return u&&T(n,y,u,o),u}function Ca(n,o,u){var d=new Date().getFullYear(),h=new Date(d,0,1),v=new Date(d,6,1),x=h.getTimezoneOffset(),k=v.getTimezoneOffset(),j=Math.max(x,k);O[n>>2]=j*60,F[o>>2]=+(x!=k);function Q(se){var xe=se.toTimeString().match(/\(([A-Za-z ]+)\)$/);return xe?xe[1]:"GMT"}var ae=Q(h),le=Q(v),J=$n(ae),W=$n(le);k<x?(O[u>>2]=J,O[u+4>>2]=W):(O[u>>2]=W,O[u+4>>2]=J)}function ja(){$e("")}function Va(){return Date.now()}function Ua(n,o,u){E.copyWithin(n,o,o+u)}function $a(){return 2147483648}function Ha(n){try{return fe.grow(n-a.byteLength+65535>>>16),z(fe.buffer),1}catch{}}function qa(n){var o=E.length;n=n>>>0;var u=$a();if(n>u)return!1;let d=(j,Q)=>j+(Q-j%Q)%Q;for(var h=1;h<=4;h*=2){var v=o*(1+.2/h);v=Math.min(v,n+100663296);var x=Math.min(u,d(Math.max(n,v),65536)),k=Ha(x);if(k)return!0}return!1}function Xa(n){try{var o=ye.getStreamFromFD(n);return f.close(o),0}catch(u){if(typeof f>"u"||!(u instanceof f.ErrnoError))throw u;return u.errno}}function Wa(n,o,u,d){for(var h=0,v=0;v<u;v++){var x=O[o>>2],k=O[o+4>>2];o+=8;var j=f.read(n,y,x,k,d);if(j<0)return-1;if(h+=j,j<k)break}return h}function Ga(n,o,u,d){try{var h=ye.getStreamFromFD(n),v=Wa(h,o,u);return O[d>>2]=v,0}catch(x){if(typeof f>"u"||!(x instanceof f.ErrnoError))throw x;return x.errno}}function Ya(n,o){return o+2097152>>>0<4194305-!!n?(n>>>0)+o*4294967296:NaN}function Ka(n,o,u,d,h){try{var v=Ya(o,u);if(isNaN(v))return 61;var x=ye.getStreamFromFD(n);return f.llseek(x,v,d),ve=[x.position>>>0,(te=x.position,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],F[h>>2]=ve[0],F[h+4>>2]=ve[1],x.getdents&&v===0&&d===0&&(x.getdents=null),0}catch(k){if(typeof f>"u"||!(k instanceof f.ErrnoError))throw k;return k.errno}}function Qa(n,o,u,d){for(var h=0,v=0;v<u;v++){var x=O[o>>2],k=O[o+4>>2];o+=8;var j=f.write(n,y,x,k,d);if(j<0)return-1;h+=j}return h}function Za(n,o,u,d){try{var h=ye.getStreamFromFD(n),v=Qa(h,o,u);return O[d>>2]=v,0}catch(x){if(typeof f>"u"||!(x instanceof f.ErrnoError))throw x;return x.errno}}var zt=[];function Ie(n){var o=zt[n];return o||(n>=zt.length&&(zt.length=n+1),zt[n]=o=q.get(n)),o}function Hn(n,o){n<128?o.push(n):o.push(n%128|128,n>>7)}function Ja(n){for(var o={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},u={parameters:[],results:n[0]=="v"?[]:[o[n[0]]]},d=1;d<n.length;++d)u.parameters.push(o[n[d]]),n[d]==="j"&&u.parameters.push("i32");return u}function es(n,o){var u=n.slice(0,1),d=n.slice(1),h={i:127,p:127,j:126,f:125,d:124};o.push(96),Hn(d.length,o);for(var v=0;v<d.length;++v)o.push(h[d[v]]);u=="v"?o.push(0):o.push(1,h[u])}function ts(n,o){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(Ja(o),n);var u=[1];es(o,u);var d=[0,97,115,109,1,0,0,0,1];Hn(u.length,d),d.push.apply(d,u),d.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var h=new WebAssembly.Module(new Uint8Array(d)),v=new WebAssembly.Instance(h,{e:{f:n}}),x=v.exports.f;return x}function rs(n,o){if(Je)for(var u=n;u<n+o;u++){var d=Ie(u);d&&Je.set(d,u)}}var Je=void 0,tn=[];function ns(){if(tn.length)return tn.pop();try{q.grow(1)}catch(n){throw n instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":n}return q.length-1}function qn(n,o){q.set(n,o),zt[n]=q.get(n)}function is(n,o){if(Je||(Je=new WeakMap,rs(0,q.length)),Je.has(n))return Je.get(n);var u=ns();try{qn(u,n)}catch(h){if(!(h instanceof TypeError))throw h;var d=ts(n,o);qn(u,d)}return Je.set(n,u),u}function os(n){Je.delete(Ie(n)),tn.push(n)}var Xn=function(n,o,u,d){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=f.nextInode++,this.name=o,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=d},fr=365,pr=146;Object.defineProperties(Xn.prototype,{read:{get:function(){return(this.mode&fr)===fr},set:function(n){n?this.mode|=fr:this.mode&=~fr}},write:{get:function(){return(this.mode&pr)===pr},set:function(n){n?this.mode|=pr:this.mode&=~pr}},isFolder:{get:function(){return f.isDir(this.mode)}},isDevice:{get:function(){return f.isChrdev(this.mode)}}}),f.FSNode=Xn,f.staticInit();var as={i:Oa,q:Da,x:Pa,y:Fa,u:Ba,z:La,A:Ca,j:ja,r:Va,B:Ua,v:qa,o:Xa,w:Ga,t:Ka,p:Za,n:Of,s:Rf,g:xf,e:kf,c:wf,f:Sf,C:Nf,b:bf,l:Mf,d:yf,k:If,a:Ef,h:Tf,m:Af},fd=Sa(),ss=e.___wasm_call_ctors=function(){return(ss=e.___wasm_call_ctors=e.asm.E).apply(null,arguments)},ls=e._glp_printf=function(){return(ls=e._glp_printf=e.asm.F).apply(null,arguments)},us=e._glp_alloc=function(){return(us=e._glp_alloc=e.asm.G).apply(null,arguments)},cs=e._glp_free=function(){return(cs=e._glp_free=e.asm.H).apply(null,arguments)},fs=e._glp_adv_basis=function(){return(fs=e._glp_adv_basis=e.asm.I).apply(null,arguments)},ps=e._glp_std_basis=function(){return(ps=e._glp_std_basis=e.asm.J).apply(null,arguments)},_s=e._glp_set_row_stat=function(){return(_s=e._glp_set_row_stat=e.asm.K).apply(null,arguments)},ds=e._glp_set_col_stat=function(){return(ds=e._glp_set_col_stat=e.asm.L).apply(null,arguments)},ms=e._glp_assert_=function(){return(ms=e._glp_assert_=e.asm.M).apply(null,arguments)},hs=e._glp_asnprob_hall=function(){return(hs=e._glp_asnprob_hall=e.asm.O).apply(null,arguments)},gs=e._glp_check_asnprob=function(){return(gs=e._glp_check_asnprob=e.asm.P).apply(null,arguments)},vs=e._glp_asnprob_lp=function(){return(vs=e._glp_asnprob_lp=e.asm.Q).apply(null,arguments)},ys=e._glp_erase_prob=function(){return(ys=e._glp_erase_prob=e.asm.R).apply(null,arguments)},ws=e._glp_set_prob_name=function(){return(ws=e._glp_set_prob_name=e.asm.S).apply(null,arguments)},bs=e._glp_set_obj_dir=function(){return(bs=e._glp_set_obj_dir=e.asm.T).apply(null,arguments)},xs=e._glp_add_rows=function(){return(xs=e._glp_add_rows=e.asm.U).apply(null,arguments)},Es=e._glp_set_row_name=function(){return(Es=e._glp_set_row_name=e.asm.V).apply(null,arguments)},ks=e._glp_set_row_bnds=function(){return(ks=e._glp_set_row_bnds=e.asm.W).apply(null,arguments)},Is=e._glp_add_cols=function(){return(Is=e._glp_add_cols=e.asm.X).apply(null,arguments)},Ss=e._glp_set_col_name=function(){return(Ss=e._glp_set_col_name=e.asm.Y).apply(null,arguments)},As=e._glp_set_mat_col=function(){return(As=e._glp_set_mat_col=e.asm.Z).apply(null,arguments)},Ts=e._glp_set_col_bnds=function(){return(Ts=e._glp_set_col_bnds=e.asm._).apply(null,arguments)},Os=e._glp_set_obj_coef=function(){return(Os=e._glp_set_obj_coef=e.asm.$).apply(null,arguments)},Ms=e._glp_asnprob_okalg=function(){return(Ms=e._glp_asnprob_okalg=e.asm.aa).apply(null,arguments)},Ns=e._glp_check_cnfsat=function(){return(Ns=e._glp_check_cnfsat=e.asm.ba).apply(null,arguments)},Rs=e._glp_init_cpxcp=function(){return(Rs=e._glp_init_cpxcp=e.asm.ca).apply(null,arguments)},Ds=e._glp_read_lp=function(){return(Ds=e._glp_read_lp=e.asm.da).apply(null,arguments)},Wn=e._malloc=function(){return(Wn=e._malloc=e.asm.ea).apply(null,arguments)},Ps=e._glp_create_index=function(){return(Ps=e._glp_create_index=e.asm.fa).apply(null,arguments)},Fs=e._glp_set_obj_name=function(){return(Fs=e._glp_set_obj_name=e.asm.ga).apply(null,arguments)},Bs=e._glp_find_row=function(){return(Bs=e._glp_find_row=e.asm.ha).apply(null,arguments)},zs=e._glp_set_mat_row=function(){return(zs=e._glp_set_mat_row=e.asm.ia).apply(null,arguments)},Ls=e._glp_get_col_name=function(){return(Ls=e._glp_get_col_name=e.asm.ja).apply(null,arguments)},Cs=e._glp_get_num_int=function(){return(Cs=e._glp_get_num_int=e.asm.ka).apply(null,arguments)},js=e._glp_get_num_bin=function(){return(js=e._glp_get_num_bin=e.asm.la).apply(null,arguments)},Vs=e._glp_delete_index=function(){return(Vs=e._glp_delete_index=e.asm.ma).apply(null,arguments)},Us=e._glp_sort_matrix=function(){return(Us=e._glp_sort_matrix=e.asm.na).apply(null,arguments)},$s=e._glp_set_col_kind=function(){return($s=e._glp_set_col_kind=e.asm.oa).apply(null,arguments)},Hs=e._free=function(){return(Hs=e._free=e.asm.pa).apply(null,arguments)},qs=e._glp_write_lp=function(){return(qs=e._glp_write_lp=e.asm.qa).apply(null,arguments)},Xs=e._glp_get_obj_name=function(){return(Xs=e._glp_get_obj_name=e.asm.ra).apply(null,arguments)},Ws=e._glp_get_row_name=function(){return(Ws=e._glp_get_row_name=e.asm.sa).apply(null,arguments)},Gs=e._glp_find_col=function(){return(Gs=e._glp_find_col=e.asm.ta).apply(null,arguments)},Ys=e._glp_cpp=function(){return(Ys=e._glp_cpp=e.asm.ua).apply(null,arguments)},Ks=e._glp_top_sort=function(){return(Ks=e._glp_top_sort=e.asm.va).apply(null,arguments)},Qs=e._glp_cpx_basis=function(){return(Qs=e._glp_cpx_basis=e.asm.wa).apply(null,arguments)},Zs=e._glp_get_num_rows=function(){return(Zs=e._glp_get_num_rows=e.asm.xa).apply(null,arguments)},Js=e._glp_get_num_cols=function(){return(Js=e._glp_get_num_cols=e.asm.ya).apply(null,arguments)},el=e._glp_get_row_type=function(){return(el=e._glp_get_row_type=e.asm.za).apply(null,arguments)},tl=e._glp_get_row_lb=function(){return(tl=e._glp_get_row_lb=e.asm.Aa).apply(null,arguments)},rl=e._glp_get_row_ub=function(){return(rl=e._glp_get_row_ub=e.asm.Ba).apply(null,arguments)},nl=e._glp_get_col_type=function(){return(nl=e._glp_get_col_type=e.asm.Ca).apply(null,arguments)},il=e._glp_get_col_lb=function(){return(il=e._glp_get_col_lb=e.asm.Da).apply(null,arguments)},ol=e._glp_get_col_ub=function(){return(ol=e._glp_get_col_ub=e.asm.Ea).apply(null,arguments)},al=e._glp_get_obj_coef=function(){return(al=e._glp_get_obj_coef=e.asm.Fa).apply(null,arguments)},sl=e._glp_get_obj_dir=function(){return(sl=e._glp_get_obj_dir=e.asm.Ga).apply(null,arguments)},ll=e._glp_get_mat_col=function(){return(ll=e._glp_get_mat_col=e.asm.Ha).apply(null,arguments)},ul=e._glp_create_graph=function(){return(ul=e._glp_create_graph=e.asm.Ia).apply(null,arguments)},cl=e._glp_set_graph_name=function(){return(cl=e._glp_set_graph_name=e.asm.Ja).apply(null,arguments)},fl=e._glp_add_vertices=function(){return(fl=e._glp_add_vertices=e.asm.Ka).apply(null,arguments)},pl=e._glp_set_vertex_name=function(){return(pl=e._glp_set_vertex_name=e.asm.La).apply(null,arguments)},_l=e._glp_add_arc=function(){return(_l=e._glp_add_arc=e.asm.Ma).apply(null,arguments)},dl=e._glp_del_vertices=function(){return(dl=e._glp_del_vertices=e.asm.Na).apply(null,arguments)},ml=e._glp_del_arc=function(){return(ml=e._glp_del_arc=e.asm.Oa).apply(null,arguments)},hl=e._glp_erase_graph=function(){return(hl=e._glp_erase_graph=e.asm.Pa).apply(null,arguments)},gl=e._glp_delete_graph=function(){return(gl=e._glp_delete_graph=e.asm.Qa).apply(null,arguments)},vl=e._glp_create_v_index=function(){return(vl=e._glp_create_v_index=e.asm.Ra).apply(null,arguments)},yl=e._glp_find_vertex=function(){return(yl=e._glp_find_vertex=e.asm.Sa).apply(null,arguments)},wl=e._glp_delete_v_index=function(){return(wl=e._glp_delete_v_index=e.asm.Ta).apply(null,arguments)},bl=e._glp_gridgen=function(){return(bl=e._glp_gridgen=e.asm.Ua).apply(null,arguments)},xl=e._glp_intfeas1=function(){return(xl=e._glp_intfeas1=e.asm.Va).apply(null,arguments)},El=e._glp_create_prob=function(){return(El=e._glp_create_prob=e.asm.Wa).apply(null,arguments)},kl=e._glp_minisat1=function(){return(kl=e._glp_minisat1=e.asm.Xa).apply(null,arguments)},Il=e._glp_delete_prob=function(){return(Il=e._glp_delete_prob=e.asm.Ya).apply(null,arguments)},Sl=e._glp_del_rows=function(){return(Sl=e._glp_del_rows=e.asm.Za).apply(null,arguments)},Al=e._glp_maxflow_ffalg=function(){return(Al=e._glp_maxflow_ffalg=e.asm._a).apply(null,arguments)},Tl=e._glp_maxflow_lp=function(){return(Tl=e._glp_maxflow_lp=e.asm.$a).apply(null,arguments)},Ol=e._glp_mincost_lp=function(){return(Ol=e._glp_mincost_lp=e.asm.ab).apply(null,arguments)},Ml=e._glp_mincost_okalg=function(){return(Ml=e._glp_mincost_okalg=e.asm.bb).apply(null,arguments)},Nl=e._glp_mincost_relax4=function(){return(Nl=e._glp_mincost_relax4=e.asm.cb).apply(null,arguments)},Rl=e._glp_mpl_alloc_wksp=function(){return(Rl=e._glp_mpl_alloc_wksp=e.asm.db).apply(null,arguments)},Dl=e._glp_mpl_init_rand=function(){return(Dl=e._glp_mpl_init_rand=e.asm.eb).apply(null,arguments)},Pl=e._glp_mpl_read_model=function(){return(Pl=e._glp_mpl_read_model=e.asm.fb).apply(null,arguments)},Fl=e._glp_mpl_read_data=function(){return(Fl=e._glp_mpl_read_data=e.asm.gb).apply(null,arguments)},Bl=e._glp_mpl_generate=function(){return(Bl=e._glp_mpl_generate=e.asm.hb).apply(null,arguments)},zl=e._glp_mpl_build_prob=function(){return(zl=e._glp_mpl_build_prob=e.asm.ib).apply(null,arguments)},Ll=e._glp_mpl_postsolve=function(){return(Ll=e._glp_mpl_postsolve=e.asm.jb).apply(null,arguments)},Cl=e._glp_get_row_stat=function(){return(Cl=e._glp_get_row_stat=e.asm.kb).apply(null,arguments)},jl=e._glp_get_row_prim=function(){return(jl=e._glp_get_row_prim=e.asm.lb).apply(null,arguments)},Vl=e._glp_get_row_dual=function(){return(Vl=e._glp_get_row_dual=e.asm.mb).apply(null,arguments)},Ul=e._glp_ipt_row_prim=function(){return(Ul=e._glp_ipt_row_prim=e.asm.nb).apply(null,arguments)},$l=e._glp_ipt_row_dual=function(){return($l=e._glp_ipt_row_dual=e.asm.ob).apply(null,arguments)},Hl=e._glp_mip_row_val=function(){return(Hl=e._glp_mip_row_val=e.asm.pb).apply(null,arguments)},ql=e._glp_get_col_stat=function(){return(ql=e._glp_get_col_stat=e.asm.qb).apply(null,arguments)},Xl=e._glp_get_col_prim=function(){return(Xl=e._glp_get_col_prim=e.asm.rb).apply(null,arguments)},Wl=e._glp_get_col_dual=function(){return(Wl=e._glp_get_col_dual=e.asm.sb).apply(null,arguments)},Gl=e._glp_ipt_col_prim=function(){return(Gl=e._glp_ipt_col_prim=e.asm.tb).apply(null,arguments)},Yl=e._glp_ipt_col_dual=function(){return(Yl=e._glp_ipt_col_dual=e.asm.ub).apply(null,arguments)},Kl=e._glp_mip_col_val=function(){return(Kl=e._glp_mip_col_val=e.asm.vb).apply(null,arguments)},Ql=e._glp_mpl_free_wksp=function(){return(Ql=e._glp_mpl_free_wksp=e.asm.wb).apply(null,arguments)},Zl=e._glp_init_mpscp=function(){return(Zl=e._glp_init_mpscp=e.asm.xb).apply(null,arguments)},Jl=e._glp_read_mps=function(){return(Jl=e._glp_read_mps=e.asm.yb).apply(null,arguments)},eu=e._glp_write_mps=function(){return(eu=e._glp_write_mps=e.asm.zb).apply(null,arguments)},tu=e._glp_netgen=function(){return(tu=e._glp_netgen=e.asm.Ab).apply(null,arguments)},ru=e._glp_npp_alloc_wksp=function(){return(ru=e._glp_npp_alloc_wksp=e.asm.Bb).apply(null,arguments)},nu=e._glp_npp_load_prob=function(){return(nu=e._glp_npp_load_prob=e.asm.Cb).apply(null,arguments)},iu=e._glp_npp_preprocess1=function(){return(iu=e._glp_npp_preprocess1=e.asm.Db).apply(null,arguments)},ou=e._glp_npp_build_prob=function(){return(ou=e._glp_npp_build_prob=e.asm.Eb).apply(null,arguments)},au=e._glp_npp_postprocess=function(){return(au=e._glp_npp_postprocess=e.asm.Fb).apply(null,arguments)},su=e._glp_get_status=function(){return(su=e._glp_get_status=e.asm.Gb).apply(null,arguments)},lu=e._glp_ipt_status=function(){return(lu=e._glp_ipt_status=e.asm.Hb).apply(null,arguments)},uu=e._glp_mip_status=function(){return(uu=e._glp_mip_status=e.asm.Ib).apply(null,arguments)},cu=e._glp_npp_obtain_sol=function(){return(cu=e._glp_npp_obtain_sol=e.asm.Jb).apply(null,arguments)},fu=e._glp_npp_free_wksp=function(){return(fu=e._glp_npp_free_wksp=e.asm.Kb).apply(null,arguments)},pu=e._glp_print_ipt=function(){return(pu=e._glp_print_ipt=e.asm.Lb).apply(null,arguments)},_u=e._glp_print_mip=function(){return(_u=e._glp_print_mip=e.asm.Mb).apply(null,arguments)},du=e._glp_load_matrix=function(){return(du=e._glp_load_matrix=e.asm.Nb).apply(null,arguments)},mu=e._glp_check_dup=function(){return(mu=e._glp_check_dup=e.asm.Ob).apply(null,arguments)},hu=e._glp_del_cols=function(){return(hu=e._glp_del_cols=e.asm.Pb).apply(null,arguments)},gu=e._glp_copy_prob=function(){return(gu=e._glp_copy_prob=e.asm.Qb).apply(null,arguments)},vu=e._glp_get_bfcp=function(){return(vu=e._glp_get_bfcp=e.asm.Rb).apply(null,arguments)},yu=e._glp_set_bfcp=function(){return(yu=e._glp_set_bfcp=e.asm.Sb).apply(null,arguments)},wu=e._glp_get_prob_name=function(){return(wu=e._glp_get_prob_name=e.asm.Tb).apply(null,arguments)},bu=e._glp_get_num_nz=function(){return(bu=e._glp_get_num_nz=e.asm.Ub).apply(null,arguments)},xu=e._glp_get_mat_row=function(){return(xu=e._glp_get_mat_row=e.asm.Vb).apply(null,arguments)},Eu=e._glp_set_rii=function(){return(Eu=e._glp_set_rii=e.asm.Wb).apply(null,arguments)},ku=e._glp_set_sjj=function(){return(ku=e._glp_set_sjj=e.asm.Xb).apply(null,arguments)},Iu=e._glp_get_rii=function(){return(Iu=e._glp_get_rii=e.asm.Yb).apply(null,arguments)},Su=e._glp_get_sjj=function(){return(Su=e._glp_get_sjj=e.asm.Zb).apply(null,arguments)},Au=e._glp_unscale_prob=function(){return(Au=e._glp_unscale_prob=e.asm._b).apply(null,arguments)},Tu=e._glp_print_ranges=function(){return(Tu=e._glp_print_ranges=e.asm.$b).apply(null,arguments)},Ou=e._glp_bf_exists=function(){return(Ou=e._glp_bf_exists=e.asm.ac).apply(null,arguments)},Mu=e._glp_version=function(){return(Mu=e._glp_version=e.asm.bc).apply(null,arguments)},Nu=e._glp_analyze_bound=function(){return(Nu=e._glp_analyze_bound=e.asm.cc).apply(null,arguments)},Ru=e._glp_analyze_coef=function(){return(Ru=e._glp_analyze_coef=e.asm.dc).apply(null,arguments)},Du=e._glp_print_sol=function(){return(Du=e._glp_print_sol=e.asm.ec).apply(null,arguments)},Pu=e._glp_read_asnprob=function(){return(Pu=e._glp_read_asnprob=e.asm.fc).apply(null,arguments)},Fu=e._glp_read_ccdata=function(){return(Fu=e._glp_read_ccdata=e.asm.gc).apply(null,arguments)},Bu=e._glp_read_graph=function(){return(Bu=e._glp_read_graph=e.asm.hc).apply(null,arguments)},zu=e._glp_read_cnfsat=function(){return(zu=e._glp_read_cnfsat=e.asm.ic).apply(null,arguments)},Lu=e._glp_read_ipt=function(){return(Lu=e._glp_read_ipt=e.asm.jc).apply(null,arguments)},Cu=e._glp_read_maxflow=function(){return(Cu=e._glp_read_maxflow=e.asm.kc).apply(null,arguments)},ju=e._glp_read_mincost=function(){return(ju=e._glp_read_mincost=e.asm.lc).apply(null,arguments)},Vu=e._glp_read_mip=function(){return(Vu=e._glp_read_mip=e.asm.mc).apply(null,arguments)},Uu=e._glp_read_prob=function(){return(Uu=e._glp_read_prob=e.asm.nc).apply(null,arguments)},$u=e._glp_read_sol=function(){return($u=e._glp_read_sol=e.asm.oc).apply(null,arguments)},Hu=e._glp_rmfgen=function(){return(Hu=e._glp_rmfgen=e.asm.pc).apply(null,arguments)},qu=e._glp_strong_comp=function(){return(qu=e._glp_strong_comp=e.asm.qc).apply(null,arguments)},Xu=e._glp_weak_comp=function(){return(Xu=e._glp_weak_comp=e.asm.rc).apply(null,arguments)},Wu=e._glp_wclique_exact=function(){return(Wu=e._glp_wclique_exact=e.asm.sc).apply(null,arguments)},Gu=e._glp_write_asnprob=function(){return(Gu=e._glp_write_asnprob=e.asm.tc).apply(null,arguments)},Yu=e._glp_write_ccdata=function(){return(Yu=e._glp_write_ccdata=e.asm.uc).apply(null,arguments)},Ku=e._glp_write_graph=function(){return(Ku=e._glp_write_graph=e.asm.vc).apply(null,arguments)},Qu=e._glp_write_cnfsat=function(){return(Qu=e._glp_write_cnfsat=e.asm.wc).apply(null,arguments)},Zu=e._glp_write_ipt=function(){return(Zu=e._glp_write_ipt=e.asm.xc).apply(null,arguments)},Ju=e._glp_write_maxflow=function(){return(Ju=e._glp_write_maxflow=e.asm.yc).apply(null,arguments)},ec=e._glp_write_mincost=function(){return(ec=e._glp_write_mincost=e.asm.zc).apply(null,arguments)},tc=e._glp_write_mip=function(){return(tc=e._glp_write_mip=e.asm.Ac).apply(null,arguments)},rc=e._glp_write_prob=function(){return(rc=e._glp_write_prob=e.asm.Bc).apply(null,arguments)},nc=e._glp_write_sol=function(){return(nc=e._glp_write_sol=e.asm.Cc).apply(null,arguments)},ic=e._glp_realloc=function(){return(ic=e._glp_realloc=e.asm.Dc).apply(null,arguments)},oc=e._glp_simplex=function(){return(oc=e._glp_simplex=e.asm.Ec).apply(null,arguments)},ac=e._glp_scale_prob=function(){return(ac=e._glp_scale_prob=e.asm.Fc).apply(null,arguments)},sc=e._glp_init_smcp=function(){return(sc=e._glp_init_smcp=e.asm.Gc).apply(null,arguments)},lc=e._glp_factorize=function(){return(lc=e._glp_factorize=e.asm.Hc).apply(null,arguments)},uc=e._glp_get_prim_stat=function(){return(uc=e._glp_get_prim_stat=e.asm.Ic).apply(null,arguments)},cc=e._glp_get_dual_stat=function(){return(cc=e._glp_get_dual_stat=e.asm.Jc).apply(null,arguments)},fc=e._glp_get_obj_val=function(){return(fc=e._glp_get_obj_val=e.asm.Kc).apply(null,arguments)},pc=e._glp_get_unbnd_ray=function(){return(pc=e._glp_get_unbnd_ray=e.asm.Lc).apply(null,arguments)},_c=e._glp_get_it_cnt=function(){return(_c=e._glp_get_it_cnt=e.asm.Mc).apply(null,arguments)},dc=e._glp_set_it_cnt=function(){return(dc=e._glp_set_it_cnt=e.asm.Nc).apply(null,arguments)},mc=e._glp_exact=function(){return(mc=e._glp_exact=e.asm.Oc).apply(null,arguments)},hc=e._glp_time=function(){return(hc=e._glp_time=e.asm.Pc).apply(null,arguments)},gc=e._glp_interior=function(){return(gc=e._glp_interior=e.asm.Qc).apply(null,arguments)},vc=e._glp_init_iptcp=function(){return(vc=e._glp_init_iptcp=e.asm.Rc).apply(null,arguments)},yc=e._glp_ipt_obj_val=function(){return(yc=e._glp_ipt_obj_val=e.asm.Sc).apply(null,arguments)},wc=e._glp_get_col_kind=function(){return(wc=e._glp_get_col_kind=e.asm.Tc).apply(null,arguments)},bc=e._glp_intopt=function(){return(bc=e._glp_intopt=e.asm.Uc).apply(null,arguments)},xc=e._glp_init_iocp=function(){return(xc=e._glp_init_iocp=e.asm.Vc).apply(null,arguments)},Ec=e._glp_mip_obj_val=function(){return(Ec=e._glp_mip_obj_val=e.asm.Wc).apply(null,arguments)},kc=e._glp_bf_updated=function(){return(kc=e._glp_bf_updated=e.asm.Xc).apply(null,arguments)},Ic=e._glp_get_bhead=function(){return(Ic=e._glp_get_bhead=e.asm.Yc).apply(null,arguments)},Sc=e._glp_get_row_bind=function(){return(Sc=e._glp_get_row_bind=e.asm.Zc).apply(null,arguments)},Ac=e._glp_get_col_bind=function(){return(Ac=e._glp_get_col_bind=e.asm._c).apply(null,arguments)},Tc=e._glp_ftran=function(){return(Tc=e._glp_ftran=e.asm.$c).apply(null,arguments)},Oc=e._glp_btran=function(){return(Oc=e._glp_btran=e.asm.ad).apply(null,arguments)},Mc=e._glp_warm_up=function(){return(Mc=e._glp_warm_up=e.asm.bd).apply(null,arguments)},Nc=e._glp_eval_tab_row=function(){return(Nc=e._glp_eval_tab_row=e.asm.cd).apply(null,arguments)},Rc=e._glp_eval_tab_col=function(){return(Rc=e._glp_eval_tab_col=e.asm.dd).apply(null,arguments)},Dc=e._glp_transform_row=function(){return(Dc=e._glp_transform_row=e.asm.ed).apply(null,arguments)},Pc=e._glp_transform_col=function(){return(Pc=e._glp_transform_col=e.asm.fd).apply(null,arguments)},Fc=e._glp_prim_rtest=function(){return(Fc=e._glp_prim_rtest=e.asm.gd).apply(null,arguments)},Bc=e._glp_dual_rtest=function(){return(Bc=e._glp_dual_rtest=e.asm.hd).apply(null,arguments)},zc=e._glp_ios_reason=function(){return(zc=e._glp_ios_reason=e.asm.id).apply(null,arguments)},Lc=e._glp_ios_get_prob=function(){return(Lc=e._glp_ios_get_prob=e.asm.jd).apply(null,arguments)},Cc=e._glp_ios_tree_size=function(){return(Cc=e._glp_ios_tree_size=e.asm.kd).apply(null,arguments)},jc=e._glp_ios_curr_node=function(){return(jc=e._glp_ios_curr_node=e.asm.ld).apply(null,arguments)},Vc=e._glp_ios_next_node=function(){return(Vc=e._glp_ios_next_node=e.asm.md).apply(null,arguments)},Uc=e._glp_ios_prev_node=function(){return(Uc=e._glp_ios_prev_node=e.asm.nd).apply(null,arguments)},$c=e._glp_ios_up_node=function(){return($c=e._glp_ios_up_node=e.asm.od).apply(null,arguments)},Hc=e._glp_ios_node_level=function(){return(Hc=e._glp_ios_node_level=e.asm.pd).apply(null,arguments)},qc=e._glp_ios_node_bound=function(){return(qc=e._glp_ios_node_bound=e.asm.qd).apply(null,arguments)},Xc=e._glp_ios_best_node=function(){return(Xc=e._glp_ios_best_node=e.asm.rd).apply(null,arguments)},Wc=e._glp_ios_mip_gap=function(){return(Wc=e._glp_ios_mip_gap=e.asm.sd).apply(null,arguments)},Gc=e._glp_ios_node_data=function(){return(Gc=e._glp_ios_node_data=e.asm.td).apply(null,arguments)},Yc=e._glp_ios_row_attr=function(){return(Yc=e._glp_ios_row_attr=e.asm.ud).apply(null,arguments)},Kc=e._glp_ios_pool_size=function(){return(Kc=e._glp_ios_pool_size=e.asm.vd).apply(null,arguments)},Qc=e._glp_ios_add_row=function(){return(Qc=e._glp_ios_add_row=e.asm.wd).apply(null,arguments)},Zc=e._glp_ios_del_row=function(){return(Zc=e._glp_ios_del_row=e.asm.xd).apply(null,arguments)},Jc=e._glp_ios_clear_pool=function(){return(Jc=e._glp_ios_clear_pool=e.asm.yd).apply(null,arguments)},ef=e._glp_ios_can_branch=function(){return(ef=e._glp_ios_can_branch=e.asm.zd).apply(null,arguments)},tf=e._glp_ios_branch_upon=function(){return(tf=e._glp_ios_branch_upon=e.asm.Ad).apply(null,arguments)},rf=e._glp_ios_select_node=function(){return(rf=e._glp_ios_select_node=e.asm.Bd).apply(null,arguments)},nf=e._glp_ios_heur_sol=function(){return(nf=e._glp_ios_heur_sol=e.asm.Cd).apply(null,arguments)},of=e._glp_ios_terminate=function(){return(of=e._glp_ios_terminate=e.asm.Dd).apply(null,arguments)},af=e._glp_difftime=function(){return(af=e._glp_difftime=e.asm.Ed).apply(null,arguments)},sf=e._glp_mem_usage=function(){return(sf=e._glp_mem_usage=e.asm.Fd).apply(null,arguments)},lf=e._glp_mem_limit=function(){return(lf=e._glp_mem_limit=e.asm.Gd).apply(null,arguments)},uf=e._glp_init_env=function(){return(uf=e._glp_init_env=e.asm.Hd).apply(null,arguments)},cf=e._glp_config=function(){return(cf=e._glp_config=e.asm.Id).apply(null,arguments)},ff=e._glp_free_env=function(){return(ff=e._glp_free_env=e.asm.Jd).apply(null,arguments)},pf=e._glp_at_error=function(){return(pf=e._glp_at_error=e.asm.Kd).apply(null,arguments)},_f=e._glp_error_hook=function(){return(_f=e._glp_error_hook=e.asm.Ld).apply(null,arguments)},df=e._glp_puts=function(){return(df=e._glp_puts=e.asm.Md).apply(null,arguments)},mf=e._glp_term_out=function(){return(mf=e._glp_term_out=e.asm.Nd).apply(null,arguments)},hf=e._glp_term_hook=function(){return(hf=e._glp_term_hook=e.asm.Od).apply(null,arguments)},gf=e._glp_open_tee=function(){return(gf=e._glp_open_tee=e.asm.Pd).apply(null,arguments)},vf=e._glp_close_tee=function(){return(vf=e._glp_close_tee=e.asm.Qd).apply(null,arguments)},Gn=e.___errno_location=function(){return(Gn=e.___errno_location=e.asm.Rd).apply(null,arguments)},Ae=e._setThrew=function(){return(Ae=e._setThrew=e.asm.Sd).apply(null,arguments)},Te=e.stackSave=function(){return(Te=e.stackSave=e.asm.Td).apply(null,arguments)},Oe=e.stackRestore=function(){return(Oe=e.stackRestore=e.asm.Ud).apply(null,arguments)};function yf(n,o,u){var d=Te();try{Ie(n)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}function wf(n,o,u){var d=Te();try{return Ie(n)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}function bf(n,o){var u=Te();try{Ie(n)(o)}catch(d){if(Oe(u),d!==d+0)throw d;Ae(1,0)}}function xf(n){var o=Te();try{return Ie(n)()}catch(u){if(Oe(o),u!==u+0)throw u;Ae(1,0)}}function Ef(n,o,u,d){var h=Te();try{Ie(n)(o,u,d)}catch(v){if(Oe(h),v!==v+0)throw v;Ae(1,0)}}function kf(n,o){var u=Te();try{return Ie(n)(o)}catch(d){if(Oe(u),d!==d+0)throw d;Ae(1,0)}}function If(n,o,u,d){var h=Te();try{Ie(n)(o,u,d)}catch(v){if(Oe(h),v!==v+0)throw v;Ae(1,0)}}function Sf(n,o,u,d){var h=Te();try{return Ie(n)(o,u,d)}catch(v){if(Oe(h),v!==v+0)throw v;Ae(1,0)}}function Af(n,o,u,d,h,v){var x=Te();try{Ie(n)(o,u,d,h,v)}catch(k){if(Oe(x),k!==k+0)throw k;Ae(1,0)}}function Tf(n,o,u,d,h,v){var x=Te();try{Ie(n)(o,u,d,h,v)}catch(k){if(Oe(x),k!==k+0)throw k;Ae(1,0)}}function Of(n,o){var u=Te();try{return Ie(n)(o)}catch(d){if(Oe(u),d!==d+0)throw d;Ae(1,0)}}function Mf(n,o,u){var d=Te();try{Ie(n)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}function Nf(n,o,u,d,h,v){var x=Te();try{return Ie(n)(o,u,d,h,v)}catch(k){if(Oe(x),k!==k+0)throw k;Ae(1,0)}}function Rf(n,o,u){var d=Te();try{return Ie(n)(o,u)}catch(h){if(Oe(d),h!==h+0)throw h;Ae(1,0)}}e.UTF8ToString=D,e.stringToUTF8=C,e.lengthBytesUTF8=b,e.addFunction=is,e.removeFunction=os,e.setValue=Ta,e.getValue=Aa,e.FS=f;var _r;Bt=function n(){_r||Yn(),_r||(Bt=n)};function Yn(n){if(n=n||p,pt>0||(Xe(),pt>0))return;function o(){_r||(_r=!0,e.calledRun=!0,!_e&&(ut(),i(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),ct()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),o()},1)):o()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Yn(),e.ready}})();typeof Gr=="object"&&typeof Ln=="object"?Ln.exports=zn:typeof define=="function"&&define.amd?define([],function(){return zn}):typeof Gr=="object"&&(Gr.Module=zn)});var wa=Ct((Yr,ya)=>{"use strict";(function(t,r){typeof Yr=="object"&&typeof ya<"u"?r(Yr,va()):typeof define=="function"&&define.amd?define(["exports","glpk-wasm"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.GLPK={},t.glpkWasm))})(Yr,function(t,r){"use strict";function e(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}var i=e(r);function s(b,a){var y={};for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&a.indexOf(E)<0&&(y[E]=b[E]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,E=Object.getOwnPropertySymbols(b);P<E.length;P++)a.indexOf(E[P])<0&&Object.prototype.propertyIsEnumerable.call(b,E[P])&&(y[E[P]]=b[E[P]]);return y}function c(b,a,y,E){function P($){return $ instanceof y?$:new y(function(F){F($)})}return new(y||(y=Promise))(function($,F){function O(z){try{I(E.next(z))}catch(H){F(H)}}function N(z){try{I(E.throw(z))}catch(H){F(H)}}function I(z){z.done?$(z.value):P(z.value).then(O,N)}I((E=E.apply(b,a||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;let p,l;function m(b){return c(this,void 0,void 0,function*(){return p===void 0&&(p=b===void 0?i.default():i.default({locateFile(){return b}})),l=yield p,l})}var _;(function(b){(function(a){a[a.MIN=1]="MIN",a[a.MAX=2]="MAX"})(b.ObjectiveDirection||(b.ObjectiveDirection={})),function(a){a[a.FREE=1]="FREE",a[a.LB=2]="LB",a[a.UB=3]="UB",a[a.BOUNDED=4]="BOUNDED",a[a.FIXED=5]="FIXED"}(b.BoundType||(b.BoundType={})),function(a){a[a.BASIC=1]="BASIC",a[a.LB=2]="LB",a[a.UB=3]="UB",a[a.FREE=4]="FREE",a[a.FIXED=5]="FIXED"}(b.VariableStatus||(b.VariableStatus={})),function(a){a[a.CONTINUOUS=1]="CONTINUOUS",a[a.INTEGER=2]="INTEGER",a[a.BINARY=3]="BINARY"}(b.VariableType||(b.VariableType={})),function(a){a[a.GEOMETRIC_MEAN=1]="GEOMETRIC_MEAN",a[a.EQUILIBRATION=16]="EQUILIBRATION",a[a.POWER_TWO=32]="POWER_TWO",a[a.SKIP=64]="SKIP",a[a.AUTO=128]="AUTO"}(b.Scaling||(b.Scaling={})),function(a){a[a.BASIC=1]="BASIC",a[a.INTERIOR_POINT=2]="INTERIOR_POINT",a[a.MIXED_INTEGER=3]="MIXED_INTEGER"}(b.SolutionIndicator||(b.SolutionIndicator={})),function(a){a[a.UNDEFINED=1]="UNDEFINED",a[a.FEASIBLE=2]="FEASIBLE",a[a.INFEASIBLE=3]="INFEASIBLE",a[a.NO_FEASIBLE=4]="NO_FEASIBLE",a[a.OPTIMAL=5]="OPTIMAL",a[a.UNBOUNDED=6]="UNBOUNDED"}(b.Status||(b.Status={})),function(a){a[a.OFF=0]="OFF",a[a.ERR=1]="ERR",a[a.ON=2]="ON",a[a.ALL=3]="ALL",a[a.DBG=4]="DBG"}(b.MessageLevel||(b.MessageLevel={})),function(a){a[a.PRIMAL=1]="PRIMAL",a[a.DUALP=2]="DUALP",a[a.DUAL=3]="DUAL"}(b.Method||(b.Method={})),function(a){a[a.STD=17]="STD",a[a.PSE=34]="PSE"}(b.Pricing||(b.Pricing={})),function(a){a[a.STD=17]="STD",a[a.HAR=34]="HAR",a[a.FLIP=51]="FLIP"}(b.RatioTest||(b.RatioTest={})),function(a){a[a.NONE=0]="NONE",a[a.QMD=1]="QMD",a[a.AMD=2]="AMD",a[a.SYMAMD=3]="SYMAMD"}(b.OrderingAlgorithm||(b.OrderingAlgorithm={})),function(a){a[a.OK=0]="OK",a[a.EBADB=1]="EBADB",a[a.ESING=2]="ESING",a[a.ECOND=3]="ECOND",a[a.EBOUND=4]="EBOUND",a[a.EFAIL=5]="EFAIL",a[a.EOBJLL=6]="EOBJLL",a[a.EOBJUL=7]="EOBJUL",a[a.EITLIM=8]="EITLIM",a[a.ETMLIM=9]="ETMLIM",a[a.ENOPFS=10]="ENOPFS",a[a.ENODFS=11]="ENODFS",a[a.EROOT=12]="EROOT",a[a.ESTOP=13]="ESTOP",a[a.EMIPGAP=14]="EMIPGAP",a[a.ENOFEAS=15]="ENOFEAS",a[a.ENOCVG=16]="ENOCVG",a[a.EINSTAB=17]="EINSTAB",a[a.EDATA=18]="EDATA",a[a.ERANGE=19]="ERANGE"}(b.ReturnCode||(b.ReturnCode={})),function(a){a[a.FFV=1]="FFV",a[a.LFV=2]="LFV",a[a.MFV=3]="MFV",a[a.DTH=4]="DTH",a[a.PCH=5]="PCH"}(b.BranchingTechnique||(b.BranchingTechnique={})),function(a){a[a.DFS=1]="DFS",a[a.BFS=2]="BFS",a[a.BLB=3]="BLB",a[a.BPH=4]="BPH"}(b.BacktrackingTechnique||(b.BacktrackingTechnique={})),function(a){a[a.NONE=0]="NONE",a[a.ROOT=1]="ROOT",a[a.ALL=2]="ALL"}(b.PreprocessingTechnique||(b.PreprocessingTechnique={})),function(a){a[a.PE=1]="PE",a[a.PB=2]="PB",a[a.DE=3]="DE",a[a.DB=4]="DB",a[a.CS=5]="CS"}(b.ConditionIndicator||(b.ConditionIndicator={})),function(a){a[a.ROWGEN=1]="ROWGEN",a[a.BINGO=2]="BINGO",a[a.HEUR=3]="HEUR",a[a.CUTGEN=4]="CUTGEN",a[a.BRANCH=5]="BRANCH",a[a.SELECT=6]="SELECT",a[a.PREPRO=7]="PREPRO"}(b.ReasonCode||(b.ReasonCode={})),function(a){a[a.NO_BRNCH=0]="NO_BRNCH",a[a.DN_BRNCH=1]="DN_BRNCH",a[a.UP_BRNCH=2]="UP_BRNCH"}(b.BranchSelection||(b.BranchSelection={})),function(a){a[a.REG=0]="REG",a[a.LAZY=1]="LAZY",a[a.CUT=2]="CUT"}(b.RowOrigin||(b.RowOrigin={})),function(a){a[a.GMI=1]="GMI",a[a.MIR=2]="MIR",a[a.COV=3]="COV",a[a.CLQ=4]="CLQ"}(b.RowClass||(b.RowClass={})),function(a){a[a.DECK=1]="DECK",a[a.FILE=2]="FILE"}(b.MPSFormat||(b.MPSFormat={}))})(_||(_={}));function g(b,a){return b===void 0?a===void 0?_.BoundType.FREE:_.BoundType.UB:a===void 0?_.BoundType.LB:b===a?_.BoundType.FIXED:_.BoundType.BOUNDED}function S(b){let a=b.model.numConstrs,y=b.model.numVars,E=l._malloc((y+1)*12),P=new Float64Array(l.HEAPU8.buffer,E,y+1),$=new Int32Array(l.HEAPU8.buffer,E+(y+1)*8,y+1);l._glp_eval_tab_row(b.model.ptr,b instanceof G?a+b.id:b.id,E+(y+1)*8,E);let F=Array.from($.slice(1).filter(O=>O>0),(O,N)=>[O<=a?b.model.constrs[O-1]:b.model.vars[O-1-a],P[N+1]]);return l._free(E),F}function A(b){let a=b.model.numConstrs,y=l._malloc((a+1)*12),E=new Float64Array(l.HEAPU8.buffer,y,a+1),P=new Int32Array(l.HEAPU8.buffer,y+(a+1)*8,a+1);l._glp_eval_tab_col(b.model.ptr,b instanceof G?a+b.id:b.id,y+(a+1)*8,y);let $=Array.from(P.slice(1).filter(F=>F>0),(F,O)=>[F<=a?b.model.constrs[F-1]:b.model.vars[F-1-a],E[O+1]]);return l._free(y),$}let L=new Map([[void 0,_.VariableType.CONTINUOUS],["c",_.VariableType.CONTINUOUS],["cont",_.VariableType.CONTINUOUS],["continuous",_.VariableType.CONTINUOUS],["i",_.VariableType.INTEGER],["int",_.VariableType.INTEGER],["integer",_.VariableType.INTEGER],["b",_.VariableType.BINARY],["bin",_.VariableType.BINARY],["binary",_.VariableType.BINARY]]),B=new Map(Array.from(L.entries(),([b,a])=>[a,b]));function X(b){let a=L.get(b);if(a===void 0)throw new Error(`unknown variable type '${b}'`);return a}let oe=new Map([["basic",_.VariableStatus.BASIC],["lower-bound",_.VariableStatus.LB],["upper-bound",_.VariableStatus.UB],["free",_.VariableStatus.FREE],["fixed",_.VariableStatus.FIXED]]),U=new Map(Array.from(oe.entries(),([b,a])=>[a,b]));class G{get ptr(){return this.model.ptr}constructor(a,y,E){if(this._lb=0,this._ub=0,this.model=a,this._idx=y,E===void 0)return;let{obj:P,lb:$,ub:F,type:O,name:N}=E;P!==void 0&&(this.obj=P),this.setBounds($,F),O!==void 0&&(this.type=O),N!==void 0&&(this.name=N)}get id(){return this._idx}setBounds(a,y){if(a===this._lb&&y===this._ub)return;this._lb=a,this._ub=y;let E=g(a,y);l._glp_set_col_bnds(this.ptr,this._idx,E,a||0,y||0)}set bounds([a,y]){this.setBounds(a,y)}set name(a){let y=l.lengthBytesUTF8(a)+1,E=l._malloc(y);l.stringToUTF8(a,E,y),l._glp_set_col_name(this.ptr,this._idx,E),l._free(E)}get name(){let a=l._glp_get_col_name(this.ptr,this._idx);return l.UTF8ToString(a)}set lb(a){this.setBounds(a,this.ub)}set ub(a){this.setBounds(this.lb,a)}get lb(){return this._lb}get ub(){return this._ub}get obj(){return l._glp_get_obj_coef(this.ptr,this._idx)}set obj(a){if(typeof a!="number")throw new Error("obj should be a number");l._glp_set_obj_coef(this.ptr,this._idx,a)}set type(a){l._glp_set_col_kind(this.ptr,this._idx,X(a))}get type(){return B.get(l._glp_get_col_kind(this.ptr,this._idx))}get value(){return l._glp_get_col_prim(this.ptr,this._idx)}get dual(){return l._glp_get_col_dual(this.ptr,this._idx)}get valueInt(){return l._glp_ipt_col_prim(this.ptr,this._idx)}get dualInt(){return l._glp_ipt_col_dual(this.ptr,this._idx)}get valueMIP(){return l._glp_mip_col_val(this.ptr,this._idx)}get status(){return U.get(l._glp_get_col_stat(this.ptr,this._idx))}get row(){return S(this)}get column(){return A(this)}}class Z{get ptr(){return this.model.ptr}constructor(a,y,E){if(this._needsUpdate=!1,this.model=a,this._idx=y,this._coeffs=new Map,!E)return;let{lb:P,ub:$,coeffs:F,name:O}=E;this.setBounds(P,$),F!==void 0&&this.addCollection(F),O!==void 0&&(this.name=O)}get id(){return this._idx}set name(a){let y=l.lengthBytesUTF8(a)+1,E=l._malloc(y);l.stringToUTF8(a,E,y),l._glp_set_row_name(this.ptr,this._idx,E),l._free(E)}get name(){let a=l._glp_get_row_name(this.ptr,this._idx);return l.UTF8ToString(a)}setBounds(a,y){if(a===this._lb&&y===this._ub)return;let E=g(a,y);this._lb=a,this._ub=y,l._glp_set_row_bnds(this.ptr,this._idx,E,a||0,y||0)}set bounds([a,y]){this.setBounds(a,y)}set lb(a){this.setBounds(a,this._ub)}set ub(a){this.setBounds(this.lb,a)}get lb(){return this._lb}get ub(){return this._ub}add(a,y){if(y===void 0)return this.addCollection(a);if(!(a instanceof G))throw new Error("variable should have type Variable");if(!y)return this;let E=(this._coeffs.get(a.id)||0)+y;return E?this._coeffs.set(a.id,E):this._coeffs.delete(a.id),this._needsUpdate=!0,this}addCollection(a){let y=a instanceof Array?a:a instanceof Map?a.entries():void 0;if(y===void 0)throw new Error("coeffs should have type Array or Map");for(let[E,P]of y){if(!(E instanceof G))throw new Error("variable should have type Variable");if(!P)continue;let $=(this._coeffs.get(E.id)||0)+P;$?this._coeffs.set(E.id,$):this._coeffs.delete(E.id),this._needsUpdate=!0}return this}update(){if(!this._needsUpdate)return this;let a=this._coeffs.size+1,y=l._malloc(a*4),E=l._malloc(a*8),P=new Int32Array(l.HEAPU8.buffer,y,a),$=new Float64Array(l.HEAPU8.buffer,E,a);P[0]=0,$[0]=0;let F=0;for(let[O,N]of this._coeffs.entries())F++,P[F]=O,$[F]=N;return l._glp_set_mat_row(this.ptr,this._idx,a-1,y,E),l._free(y),l._free(E),this._needsUpdate=!1,this}get value(){return l._glp_get_row_prim(this.ptr,this._idx)}get dual(){return l._glp_get_row_dual(this.ptr,this._idx)}get valueInt(){return l._glp_ipt_row_prim(this.ptr,this._idx)}get dualInt(){return l._glp_ipt_row_dual(this.ptr,this._idx)}get valueMIP(){return l._glp_mip_row_val(this.ptr,this._idx)}get status(){return U.get(l._glp_get_row_stat(this.ptr,this._idx))}get row(){return S(this)}get column(){return A(this)}}let R=new Map([["optimal",_.Status.OPTIMAL],["feasible",_.Status.FEASIBLE],["infeasible",_.Status.INFEASIBLE],["no_feasible",_.Status.NO_FEASIBLE],["unbounded",_.Status.UNBOUNDED],["undefined",_.Status.UNDEFINED]]),K=new Map(Array.from(R.entries(),([b,a])=>[a,b]));function Y(b){return K.get(b)}function ne(b){let a={all:_.MessageLevel.ALL,on:_.MessageLevel.ON,off:_.MessageLevel.OFF,debug:_.MessageLevel.DBG,error:_.MessageLevel.ERR}[b];if(a===void 0)throw new Error(`unknown message level '${b}'`);return a}t.Interior=void 0,function(b){function a(E){let P={none:_.OrderingAlgorithm.NONE,qmd:_.OrderingAlgorithm.QMD,amd:_.OrderingAlgorithm.AMD,symamd:_.OrderingAlgorithm.SYMAMD}[E];if(P===void 0)throw new Error(`unknown ordering '${E}'`);return P}function y(E,P){let $=l._malloc(392);l._glp_init_iptcp($),P.msgLevel!==void 0&&l.setValue($,ne(P.msgLevel),"i32"),P.ordering!==void 0&&l.setValue($+4,a(P.ordering),"i32");let F=l._glp_interior(E.ptr,$);switch(l._free($),F){case _.ReturnCode.OK:return"ok";case _.ReturnCode.EFAIL:return"no_data";case _.ReturnCode.ENOCVG:return"no_convergence";case _.ReturnCode.EITLIM:return"iteration_limit";case _.ReturnCode.EINSTAB:return"instability";default:throw new Error(`unknown return code from interior: ${F}`)}}b.solve=y}(t.Interior||(t.Interior={})),t.Simplex=void 0,function(b){function a(N){let I={primal:_.Method.PRIMAL,dual:_.Method.DUAL,dual_primal:_.Method.DUALP}[N];if(I===void 0)throw new Error(`unknown method '${N}'`);return I}function y(N){let I={std:_.Pricing.STD,pse:_.Pricing.PSE}[N];if(I===void 0)throw new Error(`unknown pricing '${N}'`);return I}function E(N){let I={std:_.RatioTest.STD,harris:_.RatioTest.HAR,flipflop:_.RatioTest.FLIP}[N];if(I===void 0)throw new Error(`unknown ratioTest '${N}'`);return I}function P(N){switch(N){case _.ReturnCode.OK:return"ok";case _.ReturnCode.EBADB:return"basis_invalid";case _.ReturnCode.ESING:return"basis_singular";case _.ReturnCode.ECOND:return"basis_ill_conditioned";case _.ReturnCode.EBOUND:return"bounds_incorrect";case _.ReturnCode.EFAIL:return"failure";case _.ReturnCode.EOBJLL:return"objective_lower";case _.ReturnCode.EOBJUL:return"objective_upper";case _.ReturnCode.EITLIM:return"iteration_limit";case _.ReturnCode.ETMLIM:return"time_limit";case _.ReturnCode.ENOPFS:return"no_primal_feasible";case _.ReturnCode.ENODFS:return"no_dual_feasible";default:throw new Error(`unknown return code from simplex: ${N}`)}}function $(N){let I=l._malloc(352);return l._glp_init_smcp(I),N.msgLevel!==void 0&&l.setValue(I,ne(N.msgLevel),"i32"),N.method!==void 0&&l.setValue(I+4,a(N.method),"i32"),N.pricing!==void 0&&l.setValue(I+8,y(N.pricing),"i32"),N.ratioTest!==void 0&&l.setValue(I+12,E(N.ratioTest),"i32"),N.tolPrimal!==void 0&&l.setValue(I+16,N.tolPrimal,"double"),N.tolDual!==void 0&&l.setValue(I+24,N.tolDual,"double"),N.tolPivot!==void 0&&l.setValue(I+32,N.tolPivot,"double"),N.objLower!==void 0&&l.setValue(I+40,N.objLower,"double"),N.objUpper!==void 0&&l.setValue(I+48,N.objUpper,"double"),N.limitIter!==void 0&&l.setValue(I+56,N.limitIter,"i32"),N.limitTime!==void 0&&l.setValue(I+60,N.limitTime,"i32"),N.logFreq!==void 0&&l.setValue(I+64,N.logFreq,"i32"),N.logDelay!==void 0&&l.setValue(I+68,N.logDelay,"i32"),N.presolve!==void 0&&l.setValue(I+72,N.presolve?1:0,"i32"),I}function F(N,I){let z=$(I),H=l._glp_simplex(N.ptr,z);return l._free(z),P(H)}b.solve=F;function O(N,I){let z=$(I),H=l._glp_exact(N.ptr,z);return l._free(z),P(H)}b.solveExact=O}(t.Simplex||(t.Simplex={}));let ce={row:_.ReasonCode.ROWGEN,improved:_.ReasonCode.BINGO,heuristic:_.ReasonCode.HEUR,cut:_.ReasonCode.CUTGEN,branch:_.ReasonCode.BRANCH,select:_.ReasonCode.SELECT,preprocessing:_.ReasonCode.PREPRO},fe=new Map(Object.entries(ce).map(([b,a])=>[a,b])),_e={regular:_.RowOrigin.REG,lazy:_.RowOrigin.LAZY,cut:_.RowOrigin.CUT},de=new Map(Object.entries(_e).map(([b,a])=>[a,b])),De={gomory:_.RowClass.GMI,mir:_.RowClass.MIR,cover:_.RowClass.COV,clique:_.RowClass.CLQ},M=new Map(Object.entries(De).map(([b,a])=>[a,b])),w={down:_.BranchSelection.DN_BRNCH,up:_.BranchSelection.UP_BRNCH,general:_.BranchSelection.NO_BRNCH};class D{constructor(a,y){this.tree=a,this.idx=y}select(){l._glp_ios_select_node(this.tree.ptr,this.idx)}get next(){let a=l._glp_ios_next_node(this.tree.ptr,this.idx);if(a!==0)return new D(this.tree,a)}get previous(){let a=l._glp_ios_prev_node(this.tree.ptr,this.idx);if(a!==0)return new D(this.tree,a)}get parent(){let a=l._glp_ios_up_node(this.tree.ptr,this.idx);if(a!==0)return new D(this.tree,a)}get level(){return l._glp_ios_node_level(this.tree.ptr,this.idx)}get bound(){return l._glp_ios_node_bound(this.tree.ptr,this.idx)}}class T{constructor(a){this.ptr=a}static _alloc(){T._data===void 0&&(T._data=l._malloc(72))}get reason(){let a=l._glp_ios_reason(this.ptr),y=fe.get(a);if(y===void 0)throw new Error(`unknown reason code '${a}'`);return y}get model(){let a=l._glp_ios_get_prob(this.ptr);return C.fromPointer(a)}rowAttribute(a){return T._alloc(),l._glp_ios_row_attr(this.ptr,a,T._data),{level:l.getValue(T._data+0,"i32"),origin:de.get(l.getValue(T._data+4,"i32")),cls:M.get(l.getValue(T._data+8,"i32"))}}get gap(){return l._glp_ios_mip_gap(this.ptr)}setHeuristicSolution(a){let y=a.length,E=l._malloc(y*8),P=new Float64Array(l.HEAPU8.buffer,E,y);if(a instanceof Float64Array)a.set(P);else for(let[$,F]of a.entries())P[$]=F;l._glp_ios_heur_sol(this.ptr,E),l._free(E)}canBranch(a){return l._glp_ios_can_branch(this.ptr,a)}branchUpon(a,y){let E=w[y];if(E===void 0)throw new Error(`unknown branch selection '${y}'`);l._glp_ios_branch_upon(this.ptr,a,E)}terminate(){l._glp_ios_terminate(this.ptr)}get size(){T._alloc();let a=T._data;return l._glp_ios_tree_size(this.ptr,a,a+4,a+8),{active:l.getValue(a,"i32"),current:l.getValue(a+4,"i32"),total:l.getValue(a+8,"i32")}}get currentNode(){let a=l._glp_ios_curr_node(this.ptr);if(a!==0)return new D(this,a)}get bestNode(){let a=l._glp_ios_best_node(this.ptr);if(a!==0)return new D(this,a)}get firstNode(){let a=l._glp_ios_next_node(this.ptr,0);if(a!==0)return new D(this,a)}get lastNode(){let a=l._glp_ios_prev_node(this.ptr,0);if(a!==0)return new D(this,a)}get cutPoolSize(){return l._glp_ios_pool_size(this.ptr)}clearCutPool(){l._glp_ios_clear_pool(this.ptr)}}t.MIP=void 0,function(b){let a={ffv:_.BranchingTechnique.FFV,lfv:_.BranchingTechnique.LFV,mfv:_.BranchingTechnique.MFV,dth:_.BranchingTechnique.DTH,pch:_.BranchingTechnique.PCH,first_fractional:_.BranchingTechnique.FFV,last_fractional:_.BranchingTechnique.LFV,most_fractional:_.BranchingTechnique.MFV,driebeck_tomlin:_.BranchingTechnique.DTH,hybrid_pseudocost:_.BranchingTechnique.PCH},y={dfs:_.BacktrackingTechnique.DFS,bfs:_.BacktrackingTechnique.BFS,blb:_.BacktrackingTechnique.BLB,bph:_.BacktrackingTechnique.BPH,depth_first:_.BacktrackingTechnique.DFS,breadth_first:_.BacktrackingTechnique.BFS,best_bound:_.BacktrackingTechnique.BLB,best_projection:_.BacktrackingTechnique.BPH},E={none:_.PreprocessingTechnique.NONE,root:_.PreprocessingTechnique.ROOT,all:_.PreprocessingTechnique.ALL};function P(O){switch(O){case _.ReturnCode.OK:return"ok";case _.ReturnCode.EBOUND:return"bounds_incorrect";case _.ReturnCode.EROOT:return"no_root_basis";case _.ReturnCode.ENOPFS:return"no_primal_feasible";case _.ReturnCode.ENODFS:return"no_dual_feasible";case _.ReturnCode.EFAIL:return"failure";case _.ReturnCode.EMIPGAP:return"mip_gap_tolerance";case _.ReturnCode.ETMLIM:return"time_limit";case _.ReturnCode.ESTOP:return"stopped";default:throw new Error(`unknown return code from intopt: ${O}`)}}function $(O){let N=l._malloc(328);l._glp_init_iocp(N);let I;if(O.msgLevel!==void 0&&l.setValue(N,ne(O.msgLevel),"i32"),O.branching!==void 0){if(I=a[O.branching],I===void 0)throw new Error(`unknown branching technique '${O.branching}'`);l.setValue(N+4,I,"i32")}if(O.backtracking!==void 0){if(I=y[O.backtracking],I===void 0)throw new Error(`unknown backtracking technique '${O.backtracking}'`);l.setValue(N+8,I,"i32")}if(O.tolInt!==void 0&&l.setValue(N+16,O.tolInt,"double"),O.tolObj!==void 0&&l.setValue(N+24,O.tolObj,"double"),O.limitTime!==void 0&&l.setValue(N+32,O.limitTime,"i32"),O.logFreq!==void 0&&l.setValue(N+36,O.logFreq,"i32"),O.logDelay!==void 0&&l.setValue(N+40,O.logDelay,"i32"),O.callbackPtr!==void 0&&l.setValue(N+44,O.callbackPtr,"*"),O.preprocessing!==void 0){if(I=E[O.preprocessing],I===void 0)throw new Error(`unknown preprocessing technique '${O.preprocessing}'`);l.setValue(N+56,I,"i32")}return O.gapMIP!==void 0&&l.setValue(N+64,O.gapMIP,"double"),O.cutsMIR!==void 0&&l.setValue(N+72,O.cutsMIR?1:0,"i32"),O.cutsGomory!==void 0&&l.setValue(N+76,O.cutsGomory?1:0,"i32"),O.cutsCover!==void 0&&l.setValue(N+80,O.cutsCover?1:0,"i32"),O.cutsClique!==void 0&&l.setValue(N+84,O.cutsClique?1:0,"i32"),O.presolve!==void 0&&l.setValue(N+88,O.presolve?1:0,"i32"),O.binarize!==void 0&&l.setValue(N+92,O.binarize?1:0,"i32"),O.heuristicFP!==void 0&&l.setValue(N+96,O.heuristicFP?1:0,"i32"),O.heuristicPS!==void 0&&l.setValue(N+100,O.heuristicPS?1:0,"i32"),O.limitProxy!==void 0&&l.setValue(N+104,O.limitProxy,"i32"),O.heuristicRound!==void 0&&l.setValue(N+108,O.heuristicRound?1:0,"i32"),N}function F(O,N){if(N.callback!==void 0){let H=N.callback;N.callbackPtr=l.addFunction(q=>H(new T(q)),"vii")}let I=$(N||{}),z=l._glp_intopt(O.ptr,I);return l._free(I),N.callback!==void 0&&(l.removeFunction(N.callbackPtr),N.callbackPtr=void 0),P(z)}b.solve=F}(t.MIP||(t.MIP={}));class C{get vars(){return this._vars}get constrs(){return this._constrs}constructor(a){if(this._vars=[],this._constrs=[],l===void 0)throw new Error("wasm module not loaded");if(this.ptr=l._glp_create_prob(),a===void 0)return;let{name:y,sense:E}=a;y!==void 0&&(this.name=y),E!==void 0&&(this.sense=E)}set name(a){let y=l.lengthBytesUTF8(a)+1,E=l._malloc(y);l.stringToUTF8(a,E,y),l._glp_set_prob_name(this.ptr,E),l._free(E)}get name(){let a=l._glp_get_prob_name(this.ptr);return l.UTF8ToString(a)}static fromPointer(a){let y=Object.create(C.prototype);return y.ptr=a,y}get value(){return l._glp_get_obj_val(this.ptr)}get valueInt(){return l._glp_ipt_obj_val(this.ptr)}get valueMIP(){return l._glp_mip_obj_val(this.ptr)}get numVars(){return l._glp_get_num_cols(this.ptr)}get numConstrs(){return l._glp_get_num_rows(this.ptr)}get numNZs(){return l._glp_get_num_nz(this.ptr)}get numBinary(){return l._glp_get_num_bin(this.ptr)}get numInteger(){return l._glp_get_num_int(this.ptr)}get status(){let a=l._glp_get_status(this.ptr);return Y(a)}get statusPrimal(){let a=l._glp_get_prim_stat(this.ptr);return Y(a)}get statusDual(){let a=l._glp_get_dual_stat(this.ptr);return Y(a)}get statusInt(){let a=l._glp_ipt_status(this.ptr);return Y(a)}get statusMIP(){let a=l._glp_mip_status(this.ptr);return Y(a)}addVars(a,y){return Number.isInteger(a)?this.addVarsByCount(a,y):Array.isArray(a)?a.length===0||typeof a[0]=="string"?this.addVarsByKeys(a,y):this.addVarsByProperties(a):this.addVarsFromPropertiesArray(a)}addVar(a){let y=l._glp_add_cols(this.ptr,1),E=new G(this,y,a);return this._vars.push(E),E}addVarsByProperties(a){let y=l._glp_add_cols(this.ptr,a.length),E=a.map((P,$)=>new G(this,y+$,P));return this._vars=this._vars.concat(E),E}addVarsByCount(a,y){let E=l._glp_add_cols(this.ptr,a),P=Array.from(Array(a).keys(),$=>new G(this,E+$,y&&y.name?Object.assign(Object.assign({},y),{name:`${y.name}_${$}`}):y));return this._vars=this._vars.concat(P),P}addVarsByKeys(a,y){let E=y||{},{name:P}=E,$=s(E,["name"]);return this.addVarsFromPropertiesArray(Object.fromEntries(a.map(F=>[F,Object.assign(Object.assign({},$),{name:`${P}[${F}]`})])))}addVarsFromPropertiesArray(a){let y=[...Object.keys(a)];return Object.fromEntries(this.addVarsByProperties(Object.values(a)).map((E,P)=>[y[P],E]))}addConstrs(a,y){return Number.isInteger(a)?this.addConstrsByCount(a,y):this.addConstrsByProperties(a)}addConstr(a){let y=l._glp_add_rows(this.ptr,1),E=new Z(this,y,a);return this._constrs.push(E),E}addConstrsByProperties(a){let y=l._glp_add_rows(this.ptr,a.length),E=a.map((P,$)=>new Z(this,y+$,P));return this._constrs=this._constrs.concat(E),E}addConstrsByCount(a,y){let E=l._glp_add_rows(this.ptr,a),P=Array.from(Array(a).keys(),$=>new Z(this,E+$,y&&y.name?Object.assign(Object.assign({},y),{name:`${y.name}_${$}`}):y));return this._constrs=this._constrs.concat(P),P}update(){for(let a of this._constrs)a.update()}get sense(){return l._glp_get_obj_dir(this.ptr)===_.ObjectiveDirection.MIN?"min":"max"}set sense(a){if(a!=="min"&&a!=="max")throw new Error(`unknown sense '${a}'`);l._glp_set_obj_dir(this.ptr,a==="min"?_.ObjectiveDirection.MIN:_.ObjectiveDirection.MAX)}toModelLP(){this.update();let a="_tmp.lp",y=l._malloc(a.length+1);return l.stringToUTF8(a,y,a.length+1),l._glp_write_lp(this.ptr,0,y),l._free(y),l.FS.readFile(a,{encoding:"utf8"})}_refreshVariables(){let a=l._glp_get_num_cols(this.ptr);this._vars=Array.from(Array(a).keys(),y=>new G(this,y+1,{lb:l._glp_get_col_lb(this.ptr,y+1),ub:l._glp_get_col_ub(this.ptr,y+1)}))}_refreshConstraints(){let a=l._glp_get_num_rows(this.ptr);this._constrs=Array.from(Array(a).keys(),y=>new Z(this,y+1,{lb:l._glp_get_row_lb(this.ptr,y+1),ub:l._glp_get_row_ub(this.ptr,y+1)}))}static fromModelLP(a){let y=new C,E="_tmp.lp";l.FS.writeFile(E,a);let P=l._malloc(E.length+1);return l.stringToUTF8(E,P,E.length+1),l._glp_read_lp(y.ptr,0,P),l._free(P),y._refreshVariables(),y._refreshConstraints(),y}toMPS(){this.update();let a="_tmp.mps",y=l._malloc(a.length+1);return l.stringToUTF8(a,y,a.length+1),l._glp_write_mps(this.ptr,_.MPSFormat.FILE,0,y),l._free(y),l.FS.readFile(a,{encoding:"utf8"})}static fromMPS(a,y){let E=new C,P="_tmp.mps";l.FS.writeFile(P,a);let $=l._malloc(P.length+1);l.stringToUTF8(P,$,P.length+1);let F=y==="deck"?_.MPSFormat.DECK:_.MPSFormat.FILE,O=l._glp_read_mps(E.ptr,F,0,$);if(l._free($),O!==0)throw new Error("mps reading failed");return E._refreshVariables(),E._refreshConstraints(),E}simplex(a){return this.update(),t.Simplex.solve(this,a||{})}exact(a){return this.update(),t.Simplex.solveExact(this,a||{})}interior(a){return this.update(),t.Interior.solve(this,a||{})}intopt(a){return this.update(),t.MIP.solve(this,a||{})}get solution(){switch(this.status){case"undefined":case"infeasible":throw new Error(`status is '${this.status}', run simplex first`);case"feasible":case"optimal":return[`status = ${this.status}`,...this._vars.map(a=>`${a.name} = ${a.value}`),`value = ${this.value}`].join(`
`);case"unbounded":return"problem is unbounded";case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionInt(){switch(this.statusInt){case"undefined":case"infeasible":throw new Error(`status is '${this.statusInt}', run interior first`);case"optimal":return[`status = ${this.statusInt}`,...this._vars.map(a=>`${a.name} = ${Number(a.valueInt.toFixed(6))}`),`value = ${Number(this.valueInt.toFixed(6))}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionMIP(){switch(this.statusMIP){case"undefined":throw new Error(`status is '${this.statusMIP}', run intopt first`);case"feasible":case"optimal":return[`status = ${this.statusMIP}`,...this._vars.map(a=>`${a.name} = ${a.valueMIP}`),`value = ${this.valueMIP}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get ray(){let a=l._glp_get_unbnd_ray(this.ptr);if(a===0)throw new Error("no unbounded ray");return a<=this.numConstrs?this._constrs[a-1]:this._vars[a-1-this.numConstrs]}getTableau(a){let y=a===void 0?a=E=>E.toString():a;return[...[...this.vars,...this.constrs].filter(E=>E.status==="basic").map(E=>E.name+" = "+[...E.row.map(([P,$])=>`${y(P instanceof G?$:-$)} ${P.name}`),y(E.value)].join(" + ")),"z = "+[...[...this.vars,...this.constrs].filter(E=>E.status!=="basic").map(E=>`${y(E instanceof G?E.dual:-E.dual)} ${E.name}`),y(this.value)].join(" + ")].join(`
`)}}t.Constraint=Z,t.Model=C,t.Node=D,t.Tree=T,t.Variable=G,t.loadModule=m,Object.defineProperty(t,"__esModule",{value:!0})})});var Ff=576,vd=(()=>{let r=class r{constructor(){this.windowScrollY=()=>window.scrollY,this.windowInnerWidth=()=>window.innerWidth,this.scrollTop=ln(an(window,"scroll").pipe(on(this.windowScrollY)),{initialValue:window.scrollY}),this.width=ln(an(window,"resize").pipe(on(this.windowInnerWidth)),{initialValue:window.innerWidth}),this.isMobile=Se(()=>this.width()<Ff),this.showToast$=new rn,this.showConfirm$=new rn,this.translateSelectedItem$=new nn(void 0),this.translateItem$=new nn(void 0),this.settingsActive=sn(!1),this.settingsXlHidden=sn(!1),this.version=`${ti} ${mr.version}`}confirm(i){this.showConfirm$.next(i)}toggleSettings(){this.settingsActive.set(!this.settingsActive())}toggleSettingsXl(){this.settingsXlHidden.set(!this.settingsXlHidden())}};r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=dr({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();var pe=function(t){return t[t.Output=0]="Output",t[t.Input=1]="Input",t[t.Maximize=2]="Maximize",t[t.Limit=3]="Limit",t}(pe||{}),wd=[{value:pe.Output,label:"options.objectiveType.output"},{value:pe.Input,label:"options.objectiveType.input"},{value:pe.Maximize,label:"options.objectiveType.maximize"},{value:pe.Limit,label:"options.objectiveType.limit"}];function Bf(){}function dt(t){return t==null?Bf:function(){return this.querySelector(t)}}function ci(t){typeof t!="function"&&(t=dt(t));for(var r=this._groups,e=r.length,i=new Array(e),s=0;s<e;++s)for(var c=r[s],p=c.length,l=i[s]=new Array(p),m,_,g=0;g<p;++g)(m=c[g])&&(_=t.call(m,m.__data__,g,c))&&("__data__"in m&&(_.__data__=m.__data__),l[g]=_);return new he(i,this._parents)}function fn(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function zf(){return[]}function Ut(t){return t==null?zf:function(){return this.querySelectorAll(t)}}function Lf(t){return function(){return fn(t.apply(this,arguments))}}function fi(t){typeof t=="function"?t=Lf(t):t=Ut(t);for(var r=this._groups,e=r.length,i=[],s=[],c=0;c<e;++c)for(var p=r[c],l=p.length,m,_=0;_<l;++_)(m=p[_])&&(i.push(t.call(m,m.__data__,_,p)),s.push(m));return new he(i,s)}function $t(t){return function(){return this.matches(t)}}function vr(t){return function(r){return r.matches(t)}}var Cf=Array.prototype.find;function jf(t){return function(){return Cf.call(this.children,t)}}function Vf(){return this.firstElementChild}function pi(t){return this.select(t==null?Vf:jf(typeof t=="function"?t:vr(t)))}var Uf=Array.prototype.filter;function $f(){return Array.from(this.children)}function Hf(t){return function(){return Uf.call(this.children,t)}}function _i(t){return this.selectAll(t==null?$f:Hf(typeof t=="function"?t:vr(t)))}function di(t){typeof t!="function"&&(t=$t(t));for(var r=this._groups,e=r.length,i=new Array(e),s=0;s<e;++s)for(var c=r[s],p=c.length,l=i[s]=[],m,_=0;_<p;++_)(m=c[_])&&t.call(m,m.__data__,_,c)&&l.push(m);return new he(i,this._parents)}function yr(t){return new Array(t.length)}function mi(){return new he(this._enter||this._groups.map(yr),this._parents)}function Ht(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}Ht.prototype={constructor:Ht,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function hi(t){return function(){return t}}function qf(t,r,e,i,s,c){for(var p=0,l,m=r.length,_=c.length;p<_;++p)(l=r[p])?(l.__data__=c[p],i[p]=l):e[p]=new Ht(t,c[p]);for(;p<m;++p)(l=r[p])&&(s[p]=l)}function Xf(t,r,e,i,s,c,p){var l,m,_=new Map,g=r.length,S=c.length,A=new Array(g),L;for(l=0;l<g;++l)(m=r[l])&&(A[l]=L=p.call(m,m.__data__,l,r)+"",_.has(L)?s[l]=m:_.set(L,m));for(l=0;l<S;++l)L=p.call(t,c[l],l,c)+"",(m=_.get(L))?(i[l]=m,m.__data__=c[l],_.delete(L)):e[l]=new Ht(t,c[l]);for(l=0;l<g;++l)(m=r[l])&&_.get(A[l])===m&&(s[l]=m)}function Wf(t){return t.__data__}function gi(t,r){if(!arguments.length)return Array.from(this,Wf);var e=r?Xf:qf,i=this._parents,s=this._groups;typeof t!="function"&&(t=hi(t));for(var c=s.length,p=new Array(c),l=new Array(c),m=new Array(c),_=0;_<c;++_){var g=i[_],S=s[_],A=S.length,L=Gf(t.call(g,g&&g.__data__,_,i)),B=L.length,X=l[_]=new Array(B),oe=p[_]=new Array(B),U=m[_]=new Array(A);e(g,S,X,oe,U,L,r);for(var G=0,Z=0,R,K;G<B;++G)if(R=X[G]){for(G>=Z&&(Z=G+1);!(K=oe[Z])&&++Z<B;);R._next=K||null}}return p=new he(p,i),p._enter=l,p._exit=m,p}function Gf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vi(){return new he(this._exit||this._groups.map(yr),this._parents)}function yi(t,r,e){var i=this.enter(),s=this,c=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),r!=null&&(s=r(s),s&&(s=s.selection())),e==null?c.remove():e(c),i&&s?i.merge(s).order():s}function wi(t){for(var r=t.selection?t.selection():t,e=this._groups,i=r._groups,s=e.length,c=i.length,p=Math.min(s,c),l=new Array(s),m=0;m<p;++m)for(var _=e[m],g=i[m],S=_.length,A=l[m]=new Array(S),L,B=0;B<S;++B)(L=_[B]||g[B])&&(A[B]=L);for(;m<s;++m)l[m]=e[m];return new he(l,this._parents)}function bi(){for(var t=this._groups,r=-1,e=t.length;++r<e;)for(var i=t[r],s=i.length-1,c=i[s],p;--s>=0;)(p=i[s])&&(c&&p.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(p,c),c=p);return this}function xi(t){t||(t=Yf);function r(S,A){return S&&A?t(S.__data__,A.__data__):!S-!A}for(var e=this._groups,i=e.length,s=new Array(i),c=0;c<i;++c){for(var p=e[c],l=p.length,m=s[c]=new Array(l),_,g=0;g<l;++g)(_=p[g])&&(m[g]=_);m.sort(r)}return new he(s,this._parents).order()}function Yf(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function Ei(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ki(){return Array.from(this)}function Ii(){for(var t=this._groups,r=0,e=t.length;r<e;++r)for(var i=t[r],s=0,c=i.length;s<c;++s){var p=i[s];if(p)return p}return null}function Si(){let t=0;for(let r of this)++t;return t}function Ai(){return!this.node()}function Ti(t){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var s=r[e],c=0,p=s.length,l;c<p;++c)(l=s[c])&&t.call(l,l.__data__,c,s);return this}var wr="http://www.w3.org/1999/xhtml",pn={svg:"http://www.w3.org/2000/svg",xhtml:wr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ye(t){var r=t+="",e=r.indexOf(":");return e>=0&&(r=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),pn.hasOwnProperty(r)?{space:pn[r],local:t}:t}function Kf(t){return function(){this.removeAttribute(t)}}function Qf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zf(t,r){return function(){this.setAttribute(t,r)}}function Jf(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function ep(t,r){return function(){var e=r.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function tp(t,r){return function(){var e=r.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Oi(t,r){var e=Ye(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((r==null?e.local?Qf:Kf:typeof r=="function"?e.local?tp:ep:e.local?Jf:Zf)(e,r))}function br(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rp(t){return function(){this.style.removeProperty(t)}}function np(t,r,e){return function(){this.style.setProperty(t,r,e)}}function ip(t,r,e){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Mi(t,r,e){return arguments.length>1?this.each((r==null?rp:typeof r=="function"?ip:np)(t,r,e??"")):nt(this.node(),t)}function nt(t,r){return t.style.getPropertyValue(r)||br(t).getComputedStyle(t,null).getPropertyValue(r)}function op(t){return function(){delete this[t]}}function ap(t,r){return function(){this[t]=r}}function sp(t,r){return function(){var e=r.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Ni(t,r){return arguments.length>1?this.each((r==null?op:typeof r=="function"?sp:ap)(t,r)):this.node()[t]}function Ri(t){return t.trim().split(/^|\s+/)}function _n(t){return t.classList||new Di(t)}function Di(t){this._node=t,this._names=Ri(t.getAttribute("class")||"")}Di.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Pi(t,r){for(var e=_n(t),i=-1,s=r.length;++i<s;)e.add(r[i])}function Fi(t,r){for(var e=_n(t),i=-1,s=r.length;++i<s;)e.remove(r[i])}function lp(t){return function(){Pi(this,t)}}function up(t){return function(){Fi(this,t)}}function cp(t,r){return function(){(r.apply(this,arguments)?Pi:Fi)(this,t)}}function Bi(t,r){var e=Ri(t+"");if(arguments.length<2){for(var i=_n(this.node()),s=-1,c=e.length;++s<c;)if(!i.contains(e[s]))return!1;return!0}return this.each((typeof r=="function"?cp:r?lp:up)(e,r))}function fp(){this.textContent=""}function pp(t){return function(){this.textContent=t}}function _p(t){return function(){var r=t.apply(this,arguments);this.textContent=r??""}}function zi(t){return arguments.length?this.each(t==null?fp:(typeof t=="function"?_p:pp)(t)):this.node().textContent}function dp(){this.innerHTML=""}function mp(t){return function(){this.innerHTML=t}}function hp(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r??""}}function Li(t){return arguments.length?this.each(t==null?dp:(typeof t=="function"?hp:mp)(t)):this.node().innerHTML}function gp(){this.nextSibling&&this.parentNode.appendChild(this)}function Ci(){return this.each(gp)}function vp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ji(){return this.each(vp)}function yp(t){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===wr&&r.documentElement.namespaceURI===wr?r.createElement(t):r.createElementNS(e,t)}}function wp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function xr(t){var r=Ye(t);return(r.local?wp:yp)(r)}function Vi(t){var r=typeof t=="function"?t:xr(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function bp(){return null}function Ui(t,r){var e=typeof t=="function"?t:xr(t),i=r==null?bp:typeof r=="function"?r:dt(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function xp(){var t=this.parentNode;t&&t.removeChild(this)}function $i(){return this.each(xp)}function Ep(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function kp(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Hi(t){return this.select(t?kp:Ep)}function qi(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ip(t){return function(r){t.call(this,r,this.__data__)}}function Sp(t){return t.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function Ap(t){return function(){var r=this.__on;if(r){for(var e=0,i=-1,s=r.length,c;e<s;++e)c=r[e],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):r[++i]=c;++i?r.length=i:delete this.__on}}}function Tp(t,r,e){return function(){var i=this.__on,s,c=Ip(r);if(i){for(var p=0,l=i.length;p<l;++p)if((s=i[p]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=c,s.options=e),s.value=r;return}}this.addEventListener(t.type,c,e),s={type:t.type,name:t.name,value:r,listener:c,options:e},i?i.push(s):this.__on=[s]}}function Xi(t,r,e){var i=Sp(t+""),s,c=i.length,p;if(arguments.length<2){var l=this.node().__on;if(l){for(var m=0,_=l.length,g;m<_;++m)for(s=0,g=l[m];s<c;++s)if((p=i[s]).type===g.type&&p.name===g.name)return g.value}return}for(l=r?Tp:Ap,s=0;s<c;++s)this.each(l(i[s],r,e));return this}function Wi(t,r,e){var i=br(t),s=i.CustomEvent;typeof s=="function"?s=new s(r,e):(s=i.document.createEvent("Event"),e?(s.initEvent(r,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(r,!1,!1)),t.dispatchEvent(s)}function Op(t,r){return function(){return Wi(this,t,r)}}function Mp(t,r){return function(){return Wi(this,t,r.apply(this,arguments))}}function Gi(t,r){return this.each((typeof r=="function"?Mp:Op)(t,r))}function*Yi(){for(var t=this._groups,r=0,e=t.length;r<e;++r)for(var i=t[r],s=0,c=i.length,p;s<c;++s)(p=i[s])&&(yield p)}var dn=[null];function he(t,r){this._groups=t,this._parents=r}function Ki(){return new he([[document.documentElement]],dn)}function Np(){return this}he.prototype=Ki.prototype={constructor:he,select:ci,selectAll:fi,selectChild:pi,selectChildren:_i,filter:di,data:gi,enter:mi,exit:vi,join:yi,merge:wi,selection:Np,order:bi,sort:xi,call:Ei,nodes:ki,node:Ii,size:Si,empty:Ai,each:Ti,attr:Oi,style:Mi,property:Ni,classed:Bi,text:zi,html:Li,raise:Ci,lower:ji,append:Vi,insert:Ui,remove:$i,clone:Hi,datum:qi,on:Xi,dispatch:Gi,[Symbol.iterator]:Yi};var Ke=Ki;function Pe(t){return typeof t=="string"?new he([[document.querySelector(t)]],[document.documentElement]):new he([[t]],dn)}function Qi(t){let r;for(;r=t.sourceEvent;)t=r;return t}function Fe(t,r){if(t=Qi(t),r===void 0&&(r=t.currentTarget),r){var e=r.ownerSVGElement||r;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var s=r.getBoundingClientRect();return[t.clientX-s.left-r.clientLeft,t.clientY-s.top-r.clientTop]}}return[t.pageX,t.pageY]}var Rp={value:()=>{}};function Ji(){for(var t=0,r=arguments.length,e={},i;t<r;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Er(e)}function Er(t){this._=t}function Dp(t,r){return t.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");if(s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}Er.prototype=Ji.prototype={constructor:Er,on:function(t,r){var e=this._,i=Dp(t+"",e),s,c=-1,p=i.length;if(arguments.length<2){for(;++c<p;)if((s=(t=i[c]).type)&&(s=Pp(e[s],t.name)))return s;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++c<p;)if(s=(t=i[c]).type)e[s]=Zi(e[s],t.name,r);else if(r==null)for(s in e)e[s]=Zi(e[s],t.name,null);return this},copy:function(){var t={},r=this._;for(var e in r)t[e]=r[e].slice();return new Er(t)},call:function(t,r){if((s=arguments.length-2)>0)for(var e=new Array(s),i=0,s,c;i<s;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],i=0,s=c.length;i<s;++i)c[i].value.apply(r,e)},apply:function(t,r,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,c=i.length;s<c;++s)i[s].value.apply(r,e)}};function Pp(t,r){for(var e=0,i=t.length,s;e<i;++e)if((s=t[e]).name===r)return s.value}function Zi(t,r,e){for(var i=0,s=t.length;i<s;++i)if(t[i].name===r){t[i]=Rp,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:r,value:e}),t}var mt=Ji;var eo={passive:!1},ht={capture:!0,passive:!1};function kr(t){t.stopImmediatePropagation()}function it(t){t.preventDefault(),t.stopImmediatePropagation()}function qt(t){var r=t.document.documentElement,e=Pe(t).on("dragstart.drag",it,ht);"onselectstart"in r?e.on("selectstart.drag",it,ht):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Xt(t,r){var e=t.document.documentElement,i=Pe(t).on("dragstart.drag",null);r&&(i.on("click.drag",it,ht),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Wt=t=>()=>t;function Gt(t,{sourceEvent:r,subject:e,target:i,identifier:s,active:c,x:p,y:l,dx:m,dy:_,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:p,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:g}})}Gt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Fp(t){return!t.ctrlKey&&!t.button}function Bp(){return this.parentNode}function zp(t,r){return r??{x:t.x,y:t.y}}function Lp(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cp(){var t=Fp,r=Bp,e=zp,i=Lp,s={},c=mt("start","drag","end"),p=0,l,m,_,g,S=0;function A(R){R.on("mousedown.drag",L).filter(i).on("touchstart.drag",oe).on("touchmove.drag",U,eo).on("touchend.drag touchcancel.drag",G).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(R,K){if(!(g||!t.call(this,R,K))){var Y=Z(this,r.call(this,R,K),R,K,"mouse");Y&&(Pe(R.view).on("mousemove.drag",B,ht).on("mouseup.drag",X,ht),qt(R.view),kr(R),_=!1,l=R.clientX,m=R.clientY,Y("start",R))}}function B(R){if(it(R),!_){var K=R.clientX-l,Y=R.clientY-m;_=K*K+Y*Y>S}s.mouse("drag",R)}function X(R){Pe(R.view).on("mousemove.drag mouseup.drag",null),Xt(R.view,_),it(R),s.mouse("end",R)}function oe(R,K){if(t.call(this,R,K)){var Y=R.changedTouches,ne=r.call(this,R,K),ce=Y.length,fe,_e;for(fe=0;fe<ce;++fe)(_e=Z(this,ne,R,K,Y[fe].identifier,Y[fe]))&&(kr(R),_e("start",R,Y[fe]))}}function U(R){var K=R.changedTouches,Y=K.length,ne,ce;for(ne=0;ne<Y;++ne)(ce=s[K[ne].identifier])&&(it(R),ce("drag",R,K[ne]))}function G(R){var K=R.changedTouches,Y=K.length,ne,ce;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),ne=0;ne<Y;++ne)(ce=s[K[ne].identifier])&&(kr(R),ce("end",R,K[ne]))}function Z(R,K,Y,ne,ce,fe){var _e=c.copy(),de=Fe(fe||Y,K),De,M,w;if((w=e.call(R,new Gt("beforestart",{sourceEvent:Y,target:A,identifier:ce,active:p,x:de[0],y:de[1],dx:0,dy:0,dispatch:_e}),ne))!=null)return De=w.x-de[0]||0,M=w.y-de[1]||0,function D(T,C,b){var a=de,y;switch(T){case"start":s[ce]=D,y=p++;break;case"end":delete s[ce],--p;case"drag":de=Fe(b||C,K),y=p;break}_e.call(T,R,new Gt(T,{sourceEvent:C,subject:w,target:A,identifier:ce,active:y,x:de[0]+De,y:de[1]+M,dx:de[0]-a[0],dy:de[1]-a[1],dispatch:_e}),ne)}}return A.filter=function(R){return arguments.length?(t=typeof R=="function"?R:Wt(!!R),A):t},A.container=function(R){return arguments.length?(r=typeof R=="function"?R:Wt(R),A):r},A.subject=function(R){return arguments.length?(e=typeof R=="function"?R:Wt(R),A):e},A.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:Wt(!!R),A):i},A.on=function(){var R=c.on.apply(c,arguments);return R===c?A:R},A.clickDistance=function(R){return arguments.length?(S=(R=+R)*R,A):Math.sqrt(S)},A}function Ir(t,r,e){t.prototype=r.prototype=e,e.constructor=t}function mn(t,r){var e=Object.create(t.prototype);for(var i in r)e[i]=r[i];return e}function Qt(){}var Yt=.7,Tr=1/Yt,Tt="\\s*([+-]?\\d+)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jp=/^#([0-9a-f]{3,8})$/,Vp=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),Up=new RegExp(`^rgb\\(${qe},${qe},${qe}\\)$`),$p=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Kt}\\)$`),Hp=new RegExp(`^rgba\\(${qe},${qe},${qe},${Kt}\\)$`),qp=new RegExp(`^hsl\\(${Kt},${qe},${qe}\\)$`),Xp=new RegExp(`^hsla\\(${Kt},${qe},${qe},${Kt}\\)$`),to={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ir(Qt,ot,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ro,formatHex:ro,formatHex8:Wp,formatHsl:Gp,formatRgb:no,toString:no});function ro(){return this.rgb().formatHex()}function Wp(){return this.rgb().formatHex8()}function Gp(){return uo(this).formatHsl()}function no(){return this.rgb().formatRgb()}function ot(t){var r,e;return t=(t+"").trim().toLowerCase(),(r=jp.exec(t))?(e=r[1].length,r=parseInt(r[1],16),e===6?io(r):e===3?new Re(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):e===8?Sr(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):e===4?Sr(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Vp.exec(t))?new Re(r[1],r[2],r[3],1):(r=Up.exec(t))?new Re(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=$p.exec(t))?Sr(r[1],r[2],r[3],r[4]):(r=Hp.exec(t))?Sr(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=qp.exec(t))?so(r[1],r[2]/100,r[3]/100,1):(r=Xp.exec(t))?so(r[1],r[2]/100,r[3]/100,r[4]):to.hasOwnProperty(t)?io(to[t]):t==="transparent"?new Re(NaN,NaN,NaN,0):null}function io(t){return new Re(t>>16&255,t>>8&255,t&255,1)}function Sr(t,r,e,i){return i<=0&&(t=r=e=NaN),new Re(t,r,e,i)}function Yp(t){return t instanceof Qt||(t=ot(t)),t?(t=t.rgb(),new Re(t.r,t.g,t.b,t.opacity)):new Re}function Ot(t,r,e,i){return arguments.length===1?Yp(t):new Re(t,r,e,i??1)}function Re(t,r,e,i){this.r=+t,this.g=+r,this.b=+e,this.opacity=+i}Ir(Re,Ot,mn(Qt,{brighter(t){return t=t==null?Tr:Math.pow(Tr,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yt:Math.pow(Yt,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Re(vt(this.r),vt(this.g),vt(this.b),Or(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oo,formatHex:oo,formatHex8:Kp,formatRgb:ao,toString:ao}));function oo(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}`}function Kp(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}${gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ao(){let t=Or(this.opacity);return`${t===1?"rgb(":"rgba("}${vt(this.r)}, ${vt(this.g)}, ${vt(this.b)}${t===1?")":`, ${t})`}`}function Or(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gt(t){return t=vt(t),(t<16?"0":"")+t.toString(16)}function so(t,r,e,i){return i<=0?t=r=e=NaN:e<=0||e>=1?t=r=NaN:r<=0&&(t=NaN),new je(t,r,e,i)}function uo(t){if(t instanceof je)return new je(t.h,t.s,t.l,t.opacity);if(t instanceof Qt||(t=ot(t)),!t)return new je;if(t instanceof je)return t;t=t.rgb();var r=t.r/255,e=t.g/255,i=t.b/255,s=Math.min(r,e,i),c=Math.max(r,e,i),p=NaN,l=c-s,m=(c+s)/2;return l?(r===c?p=(e-i)/l+(e<i)*6:e===c?p=(i-r)/l+2:p=(r-e)/l+4,l/=m<.5?c+s:2-c-s,p*=60):l=m>0&&m<1?0:p,new je(p,l,m,t.opacity)}function co(t,r,e,i){return arguments.length===1?uo(t):new je(t,r,e,i??1)}function je(t,r,e,i){this.h=+t,this.s=+r,this.l=+e,this.opacity=+i}Ir(je,co,mn(Qt,{brighter(t){return t=t==null?Tr:Math.pow(Tr,t),new je(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yt:Math.pow(Yt,t),new je(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*r,s=2*e-i;return new Re(hn(t>=240?t-240:t+120,s,i),hn(t,s,i),hn(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new je(lo(this.h),Ar(this.s),Ar(this.l),Or(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Or(this.opacity);return`${t===1?"hsl(":"hsla("}${lo(this.h)}, ${Ar(this.s)*100}%, ${Ar(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lo(t){return t=(t||0)%360,t<0?t+360:t}function Ar(t){return Math.max(0,Math.min(1,t||0))}function hn(t,r,e){return(t<60?r+(e-r)*t/60:t<180?e:t<240?r+(e-r)*(240-t)/60:r)*255}function gn(t,r,e,i,s){var c=t*t,p=c*t;return((1-3*t+3*c-p)*r+(4-6*c+3*p)*e+(1+3*t+3*c-3*p)*i+p*s)/6}function fo(t){var r=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,r-1):Math.floor(e*r),s=t[i],c=t[i+1],p=i>0?t[i-1]:2*s-c,l=i<r-1?t[i+2]:2*c-s;return gn((e-i/r)*r,p,s,c,l)}}function po(t){var r=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*r),s=t[(i+r-1)%r],c=t[i%r],p=t[(i+1)%r],l=t[(i+2)%r];return gn((e-i/r)*r,s,c,p,l)}}var vn=t=>()=>t;function Qp(t,r){return function(e){return t+e*r}}function Zp(t,r,e){return t=Math.pow(t,e),r=Math.pow(r,e)-t,e=1/e,function(i){return Math.pow(t+i*r,e)}}function _o(t){return(t=+t)==1?Mr:function(r,e){return e-r?Zp(r,e,t):vn(isNaN(r)?e:r)}}function Mr(t,r){var e=r-t;return e?Qp(t,e):vn(isNaN(t)?r:t)}var Nr=function t(r){var e=_o(r);function i(s,c){var p=e((s=Ot(s)).r,(c=Ot(c)).r),l=e(s.g,c.g),m=e(s.b,c.b),_=Mr(s.opacity,c.opacity);return function(g){return s.r=p(g),s.g=l(g),s.b=m(g),s.opacity=_(g),s+""}}return i.gamma=t,i}(1);function mo(t){return function(r){var e=r.length,i=new Array(e),s=new Array(e),c=new Array(e),p,l;for(p=0;p<e;++p)l=Ot(r[p]),i[p]=l.r||0,s[p]=l.g||0,c[p]=l.b||0;return i=t(i),s=t(s),c=t(c),l.opacity=1,function(m){return l.r=i(m),l.g=s(m),l.b=c(m),l+""}}}var Jp=mo(fo),e_=mo(po);function Be(t,r){return t=+t,r=+r,function(e){return t*(1-e)+r*e}}var wn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yn=new RegExp(wn.source,"g");function t_(t){return function(){return t}}function r_(t){return function(r){return t(r)+""}}function bn(t,r){var e=wn.lastIndex=yn.lastIndex=0,i,s,c,p=-1,l=[],m=[];for(t=t+"",r=r+"";(i=wn.exec(t))&&(s=yn.exec(r));)(c=s.index)>e&&(c=r.slice(e,c),l[p]?l[p]+=c:l[++p]=c),(i=i[0])===(s=s[0])?l[p]?l[p]+=s:l[++p]=s:(l[++p]=null,m.push({i:p,x:Be(i,s)})),e=yn.lastIndex;return e<r.length&&(c=r.slice(e),l[p]?l[p]+=c:l[++p]=c),l.length<2?m[0]?r_(m[0].x):t_(r):(r=m.length,function(_){for(var g=0,S;g<r;++g)l[(S=m[g]).i]=S.x(_);return l.join("")})}var ho=180/Math.PI,Rr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xn(t,r,e,i,s,c){var p,l,m;return(p=Math.sqrt(t*t+r*r))&&(t/=p,r/=p),(m=t*e+r*i)&&(e-=t*m,i-=r*m),(l=Math.sqrt(e*e+i*i))&&(e/=l,i/=l,m/=l),t*i<r*e&&(t=-t,r=-r,m=-m,p=-p),{translateX:s,translateY:c,rotate:Math.atan2(r,t)*ho,skewX:Math.atan(m)*ho,scaleX:p,scaleY:l}}var Dr;function go(t){let r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?Rr:xn(r.a,r.b,r.c,r.d,r.e,r.f)}function vo(t){return t==null?Rr:(Dr||(Dr=document.createElementNS("http://www.w3.org/2000/svg","g")),Dr.setAttribute("transform",t),(t=Dr.transform.baseVal.consolidate())?(t=t.matrix,xn(t.a,t.b,t.c,t.d,t.e,t.f)):Rr)}function yo(t,r,e,i){function s(_){return _.length?_.pop()+" ":""}function c(_,g,S,A,L,B){if(_!==S||g!==A){var X=L.push("translate(",null,r,null,e);B.push({i:X-4,x:Be(_,S)},{i:X-2,x:Be(g,A)})}else(S||A)&&L.push("translate("+S+r+A+e)}function p(_,g,S,A){_!==g?(_-g>180?g+=360:g-_>180&&(_+=360),A.push({i:S.push(s(S)+"rotate(",null,i)-2,x:Be(_,g)})):g&&S.push(s(S)+"rotate("+g+i)}function l(_,g,S,A){_!==g?A.push({i:S.push(s(S)+"skewX(",null,i)-2,x:Be(_,g)}):g&&S.push(s(S)+"skewX("+g+i)}function m(_,g,S,A,L,B){if(_!==S||g!==A){var X=L.push(s(L)+"scale(",null,",",null,")");B.push({i:X-4,x:Be(_,S)},{i:X-2,x:Be(g,A)})}else(S!==1||A!==1)&&L.push(s(L)+"scale("+S+","+A+")")}return function(_,g){var S=[],A=[];return _=t(_),g=t(g),c(_.translateX,_.translateY,g.translateX,g.translateY,S,A),p(_.rotate,g.rotate,S,A),l(_.skewX,g.skewX,S,A),m(_.scaleX,_.scaleY,g.scaleX,g.scaleY,S,A),_=g=null,function(L){for(var B=-1,X=A.length,oe;++B<X;)S[(oe=A[B]).i]=oe.x(L);return S.join("")}}}var En=yo(go,"px, ","px)","deg)"),kn=yo(vo,", ",")",")");var n_=1e-12;function wo(t){return((t=Math.exp(t))+1/t)/2}function i_(t){return((t=Math.exp(t))-1/t)/2}function o_(t){return((t=Math.exp(2*t))-1)/(t+1)}var In=function t(r,e,i){function s(c,p){var l=c[0],m=c[1],_=c[2],g=p[0],S=p[1],A=p[2],L=g-l,B=S-m,X=L*L+B*B,oe,U;if(X<n_)U=Math.log(A/_)/r,oe=function(ne){return[l+ne*L,m+ne*B,_*Math.exp(r*ne*U)]};else{var G=Math.sqrt(X),Z=(A*A-_*_+i*X)/(2*_*e*G),R=(A*A-_*_-i*X)/(2*A*e*G),K=Math.log(Math.sqrt(Z*Z+1)-Z),Y=Math.log(Math.sqrt(R*R+1)-R);U=(Y-K)/r,oe=function(ne){var ce=ne*U,fe=wo(K),_e=_/(e*G)*(fe*o_(r*ce+K)-i_(K));return[l+_e*L,m+_e*B,_*fe/wo(r*ce+K)]}}return oe.duration=U*1e3*r/Math.SQRT2,oe}return s.rho=function(c){var p=Math.max(.001,+c),l=p*p,m=l*l;return t(p,l,m)},s}(Math.SQRT2,2,4);var Mt=0,Jt=0,Zt=0,xo=1e3,Pr,er,Fr=0,yt=0,Br=0,tr=typeof performance=="object"&&performance.now?performance:Date,Eo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function nr(){return yt||(Eo(a_),yt=tr.now()+Br)}function a_(){yt=0}function rr(){this._call=this._time=this._next=null}rr.prototype=zr.prototype={constructor:rr,restart:function(t,r,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?nr():+e)+(r==null?0:+r),!this._next&&er!==this&&(er?er._next=this:Pr=this,er=this),this._call=t,this._time=e,Sn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sn())}};function zr(t,r,e){var i=new rr;return i.restart(t,r,e),i}function ko(){nr(),++Mt;for(var t=Pr,r;t;)(r=yt-t._time)>=0&&t._call.call(void 0,r),t=t._next;--Mt}function bo(){yt=(Fr=tr.now())+Br,Mt=Jt=0;try{ko()}finally{Mt=0,l_(),yt=0}}function s_(){var t=tr.now(),r=t-Fr;r>xo&&(Br-=r,Fr=t)}function l_(){for(var t,r=Pr,e,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:Pr=e);er=t,Sn(i)}function Sn(t){if(!Mt){Jt&&(Jt=clearTimeout(Jt));var r=t-yt;r>24?(t<1/0&&(Jt=setTimeout(bo,t-tr.now()-Br)),Zt&&(Zt=clearInterval(Zt))):(Zt||(Fr=tr.now(),Zt=setInterval(s_,xo)),Mt=1,Eo(bo))}}function Lr(t,r,e){var i=new rr;return r=r==null?0:+r,i.restart(s=>{i.stop(),t(s+r)},r,e),i}var u_=mt("start","end","cancel","interrupt"),c_=[],Ao=0,Io=1,jr=2,Cr=3,So=4,Vr=5,ir=6;function at(t,r,e,i,s,c){var p=t.__transition;if(!p)t.__transition={};else if(e in p)return;f_(t,e,{name:r,index:i,group:s,on:u_,tween:c_,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Ao})}function or(t,r){var e=be(t,r);if(e.state>Ao)throw new Error("too late; already scheduled");return e}function ke(t,r){var e=be(t,r);if(e.state>Cr)throw new Error("too late; already running");return e}function be(t,r){var e=t.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}function f_(t,r,e){var i=t.__transition,s;i[r]=e,e.timer=zr(c,0,e.time);function c(_){e.state=Io,e.timer.restart(p,e.delay,e.time),e.delay<=_&&p(_-e.delay)}function p(_){var g,S,A,L;if(e.state!==Io)return m();for(g in i)if(L=i[g],L.name===e.name){if(L.state===Cr)return Lr(p);L.state===So?(L.state=ir,L.timer.stop(),L.on.call("interrupt",t,t.__data__,L.index,L.group),delete i[g]):+g<r&&(L.state=ir,L.timer.stop(),L.on.call("cancel",t,t.__data__,L.index,L.group),delete i[g])}if(Lr(function(){e.state===Cr&&(e.state=So,e.timer.restart(l,e.delay,e.time),l(_))}),e.state=jr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===jr){for(e.state=Cr,s=new Array(A=e.tween.length),g=0,S=-1;g<A;++g)(L=e.tween[g].value.call(t,t.__data__,e.index,e.group))&&(s[++S]=L);s.length=S+1}}function l(_){for(var g=_<e.duration?e.ease.call(null,_/e.duration):(e.timer.restart(m),e.state=Vr,1),S=-1,A=s.length;++S<A;)s[S].call(t,g);e.state===Vr&&(e.on.call("end",t,t.__data__,e.index,e.group),m())}function m(){e.state=ir,e.timer.stop(),delete i[r];for(var _ in i)return;delete t.__transition}}function st(t,r){var e=t.__transition,i,s,c=!0,p;if(e){r=r==null?null:r+"";for(p in e){if((i=e[p]).name!==r){c=!1;continue}s=i.state>jr&&i.state<Vr,i.state=ir,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[p]}c&&delete t.__transition}}function To(t){return this.each(function(){st(this,t)})}function p_(t,r){var e,i;return function(){var s=ke(this,t),c=s.tween;if(c!==e){i=e=c;for(var p=0,l=i.length;p<l;++p)if(i[p].name===r){i=i.slice(),i.splice(p,1);break}}s.tween=i}}function __(t,r,e){var i,s;if(typeof e!="function")throw new Error;return function(){var c=ke(this,t),p=c.tween;if(p!==i){s=(i=p).slice();for(var l={name:r,value:e},m=0,_=s.length;m<_;++m)if(s[m].name===r){s[m]=l;break}m===_&&s.push(l)}c.tween=s}}function Oo(t,r){var e=this._id;if(t+="",arguments.length<2){for(var i=be(this.node(),e).tween,s=0,c=i.length,p;s<c;++s)if((p=i[s]).name===t)return p.value;return null}return this.each((r==null?p_:__)(e,t,r))}function Nt(t,r,e){var i=t._id;return t.each(function(){var s=ke(this,i);(s.value||(s.value={}))[r]=e.apply(this,arguments)}),function(s){return be(s,i).value[r]}}function Ur(t,r){var e;return(typeof r=="number"?Be:r instanceof ot?Nr:(e=ot(r))?(r=e,Nr):bn)(t,r)}function d_(t){return function(){this.removeAttribute(t)}}function m_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function h_(t,r,e){var i,s=e+"",c;return function(){var p=this.getAttribute(t);return p===s?null:p===i?c:c=r(i=p,e)}}function g_(t,r,e){var i,s=e+"",c;return function(){var p=this.getAttributeNS(t.space,t.local);return p===s?null:p===i?c:c=r(i=p,e)}}function v_(t,r,e){var i,s,c;return function(){var p,l=e(this),m;return l==null?void this.removeAttribute(t):(p=this.getAttribute(t),m=l+"",p===m?null:p===i&&m===s?c:(s=m,c=r(i=p,l)))}}function y_(t,r,e){var i,s,c;return function(){var p,l=e(this),m;return l==null?void this.removeAttributeNS(t.space,t.local):(p=this.getAttributeNS(t.space,t.local),m=l+"",p===m?null:p===i&&m===s?c:(s=m,c=r(i=p,l)))}}function Mo(t,r){var e=Ye(t),i=e==="transform"?kn:Ur;return this.attrTween(t,typeof r=="function"?(e.local?y_:v_)(e,i,Nt(this,"attr."+t,r)):r==null?(e.local?m_:d_)(e):(e.local?g_:h_)(e,i,r))}function w_(t,r){return function(e){this.setAttribute(t,r.call(this,e))}}function b_(t,r){return function(e){this.setAttributeNS(t.space,t.local,r.call(this,e))}}function x_(t,r){var e,i;function s(){var c=r.apply(this,arguments);return c!==i&&(e=(i=c)&&b_(t,c)),e}return s._value=r,s}function E_(t,r){var e,i;function s(){var c=r.apply(this,arguments);return c!==i&&(e=(i=c)&&w_(t,c)),e}return s._value=r,s}function No(t,r){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;var i=Ye(t);return this.tween(e,(i.local?x_:E_)(i,r))}function k_(t,r){return function(){or(this,t).delay=+r.apply(this,arguments)}}function I_(t,r){return r=+r,function(){or(this,t).delay=r}}function Ro(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?k_:I_)(r,t)):be(this.node(),r).delay}function S_(t,r){return function(){ke(this,t).duration=+r.apply(this,arguments)}}function A_(t,r){return r=+r,function(){ke(this,t).duration=r}}function Do(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?S_:A_)(r,t)):be(this.node(),r).duration}function T_(t,r){if(typeof r!="function")throw new Error;return function(){ke(this,t).ease=r}}function Po(t){var r=this._id;return arguments.length?this.each(T_(r,t)):be(this.node(),r).ease}function O_(t,r){return function(){var e=r.apply(this,arguments);if(typeof e!="function")throw new Error;ke(this,t).ease=e}}function Fo(t){if(typeof t!="function")throw new Error;return this.each(O_(this._id,t))}function Bo(t){typeof t!="function"&&(t=$t(t));for(var r=this._groups,e=r.length,i=new Array(e),s=0;s<e;++s)for(var c=r[s],p=c.length,l=i[s]=[],m,_=0;_<p;++_)(m=c[_])&&t.call(m,m.__data__,_,c)&&l.push(m);return new Me(i,this._parents,this._name,this._id)}function zo(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,e=t._groups,i=r.length,s=e.length,c=Math.min(i,s),p=new Array(i),l=0;l<c;++l)for(var m=r[l],_=e[l],g=m.length,S=p[l]=new Array(g),A,L=0;L<g;++L)(A=m[L]||_[L])&&(S[L]=A);for(;l<i;++l)p[l]=r[l];return new Me(p,this._parents,this._name,this._id)}function M_(t){return(t+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||r==="start"})}function N_(t,r,e){var i,s,c=M_(r)?or:ke;return function(){var p=c(this,t),l=p.on;l!==i&&(s=(i=l).copy()).on(r,e),p.on=s}}function Lo(t,r){var e=this._id;return arguments.length<2?be(this.node(),e).on.on(t):this.each(N_(e,t,r))}function R_(t){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==t)return;r&&r.removeChild(this)}}function Co(){return this.on("end.remove",R_(this._id))}function jo(t){var r=this._name,e=this._id;typeof t!="function"&&(t=dt(t));for(var i=this._groups,s=i.length,c=new Array(s),p=0;p<s;++p)for(var l=i[p],m=l.length,_=c[p]=new Array(m),g,S,A=0;A<m;++A)(g=l[A])&&(S=t.call(g,g.__data__,A,l))&&("__data__"in g&&(S.__data__=g.__data__),_[A]=S,at(_[A],r,e,A,_,be(g,e)));return new Me(c,this._parents,r,e)}function Vo(t){var r=this._name,e=this._id;typeof t!="function"&&(t=Ut(t));for(var i=this._groups,s=i.length,c=[],p=[],l=0;l<s;++l)for(var m=i[l],_=m.length,g,S=0;S<_;++S)if(g=m[S]){for(var A=t.call(g,g.__data__,S,m),L,B=be(g,e),X=0,oe=A.length;X<oe;++X)(L=A[X])&&at(L,r,e,X,A,B);c.push(A),p.push(g)}return new Me(c,p,r,e)}var D_=Ke.prototype.constructor;function Uo(){return new D_(this._groups,this._parents)}function P_(t,r){var e,i,s;return function(){var c=nt(this,t),p=(this.style.removeProperty(t),nt(this,t));return c===p?null:c===e&&p===i?s:s=r(e=c,i=p)}}function $o(t){return function(){this.style.removeProperty(t)}}function F_(t,r,e){var i,s=e+"",c;return function(){var p=nt(this,t);return p===s?null:p===i?c:c=r(i=p,e)}}function B_(t,r,e){var i,s,c;return function(){var p=nt(this,t),l=e(this),m=l+"";return l==null&&(m=l=(this.style.removeProperty(t),nt(this,t))),p===m?null:p===i&&m===s?c:(s=m,c=r(i=p,l))}}function z_(t,r){var e,i,s,c="style."+r,p="end."+c,l;return function(){var m=ke(this,t),_=m.on,g=m.value[c]==null?l||(l=$o(r)):void 0;(_!==e||s!==g)&&(i=(e=_).copy()).on(p,s=g),m.on=i}}function Ho(t,r,e){var i=(t+="")=="transform"?En:Ur;return r==null?this.styleTween(t,P_(t,i)).on("end.style."+t,$o(t)):typeof r=="function"?this.styleTween(t,B_(t,i,Nt(this,"style."+t,r))).each(z_(this._id,t)):this.styleTween(t,F_(t,i,r),e).on("end.style."+t,null)}function L_(t,r,e){return function(i){this.style.setProperty(t,r.call(this,i),e)}}function C_(t,r,e){var i,s;function c(){var p=r.apply(this,arguments);return p!==s&&(i=(s=p)&&L_(t,p,e)),i}return c._value=r,c}function qo(t,r,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,C_(t,r,e??""))}function j_(t){return function(){this.textContent=t}}function V_(t){return function(){var r=t(this);this.textContent=r??""}}function Xo(t){return this.tween("text",typeof t=="function"?V_(Nt(this,"text",t)):j_(t==null?"":t+""))}function U_(t){return function(r){this.textContent=t.call(this,r)}}function $_(t){var r,e;function i(){var s=t.apply(this,arguments);return s!==e&&(r=(e=s)&&U_(s)),r}return i._value=t,i}function Wo(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,$_(t))}function Go(){for(var t=this._name,r=this._id,e=$r(),i=this._groups,s=i.length,c=0;c<s;++c)for(var p=i[c],l=p.length,m,_=0;_<l;++_)if(m=p[_]){var g=be(m,r);at(m,t,e,_,p,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Me(i,this._parents,t,e)}function Yo(){var t,r,e=this,i=e._id,s=e.size();return new Promise(function(c,p){var l={value:p},m={value:function(){--s===0&&c()}};e.each(function(){var _=ke(this,i),g=_.on;g!==t&&(r=(t=g).copy(),r._.cancel.push(l),r._.interrupt.push(l),r._.end.push(m)),_.on=r}),s===0&&c()})}var H_=0;function Me(t,r,e,i){this._groups=t,this._parents=r,this._name=e,this._id=i}function Ko(t){return Ke().transition(t)}function $r(){return++H_}var Qe=Ke.prototype;Me.prototype=Ko.prototype={constructor:Me,select:jo,selectAll:Vo,selectChild:Qe.selectChild,selectChildren:Qe.selectChildren,filter:Bo,merge:zo,selection:Uo,transition:Go,call:Qe.call,nodes:Qe.nodes,node:Qe.node,size:Qe.size,empty:Qe.empty,each:Qe.each,on:Lo,attr:Mo,attrTween:No,style:Ho,styleTween:qo,text:Xo,textTween:Wo,remove:Co,tween:Oo,delay:Ro,duration:Do,ease:Po,easeVarying:Fo,end:Yo,[Symbol.iterator]:Qe[Symbol.iterator]};function Hr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var q_={time:null,delay:0,duration:250,ease:Hr};function X_(t,r){for(var e;!(e=t.__transition)||!(e=e[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return e}function Qo(t){var r,e;t instanceof Me?(r=t._id,t=t._name):(r=$r(),(e=q_).time=nr(),t=t==null?null:t+"");for(var i=this._groups,s=i.length,c=0;c<s;++c)for(var p=i[c],l=p.length,m,_=0;_<l;++_)(m=p[_])&&at(m,t,r,_,p,e||X_(m,r));return new Me(i,this._parents,t,r)}Ke.prototype.interrupt=To;Ke.prototype.transition=Qo;var ar=t=>()=>t;function An(t,{sourceEvent:r,target:e,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Ve(t,r,e){this.k=t,this.x=r,this.y=e}Ve.prototype={constructor:Ve,scale:function(t){return t===1?this:new Ve(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new Ve(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sr=new Ve(1,0,0);Tn.prototype=Ve.prototype;function Tn(t){for(;!t.__zoom;)if(!(t=t.parentNode))return sr;return t.__zoom}function qr(t){t.stopImmediatePropagation()}function Rt(t){t.preventDefault(),t.stopImmediatePropagation()}function W_(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function G_(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Zo(){return this.__zoom||sr}function Y_(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function K_(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q_(t,r,e){var i=t.invertX(r[0][0])-e[0][0],s=t.invertX(r[1][0])-e[1][0],c=t.invertY(r[0][1])-e[0][1],p=t.invertY(r[1][1])-e[1][1];return t.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),p>c?(c+p)/2:Math.min(0,c)||Math.max(0,p))}function Z_(){var t=W_,r=G_,e=Q_,i=Y_,s=K_,c=[0,1/0],p=[[-1/0,-1/0],[1/0,1/0]],l=250,m=In,_=mt("start","zoom","end"),g,S,A,L=500,B=150,X=0,oe=10;function U(w){w.property("__zoom",Zo).on("wheel.zoom",ce,{passive:!1}).on("mousedown.zoom",fe).on("dblclick.zoom",_e).filter(s).on("touchstart.zoom",de).on("touchmove.zoom",De).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}U.transform=function(w,D,T,C){var b=w.selection?w.selection():w;b.property("__zoom",Zo),w!==b?K(w,D,T,C):b.interrupt().each(function(){Y(this,arguments).event(C).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},U.scaleBy=function(w,D,T,C){U.scaleTo(w,function(){var b=this.__zoom.k,a=typeof D=="function"?D.apply(this,arguments):D;return b*a},T,C)},U.scaleTo=function(w,D,T,C){U.transform(w,function(){var b=r.apply(this,arguments),a=this.__zoom,y=T==null?R(b):typeof T=="function"?T.apply(this,arguments):T,E=a.invert(y),P=typeof D=="function"?D.apply(this,arguments):D;return e(Z(G(a,P),y,E),b,p)},T,C)},U.translateBy=function(w,D,T,C){U.transform(w,function(){return e(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof T=="function"?T.apply(this,arguments):T),r.apply(this,arguments),p)},null,C)},U.translateTo=function(w,D,T,C,b){U.transform(w,function(){var a=r.apply(this,arguments),y=this.__zoom,E=C==null?R(a):typeof C=="function"?C.apply(this,arguments):C;return e(sr.translate(E[0],E[1]).scale(y.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof T=="function"?-T.apply(this,arguments):-T),a,p)},C,b)};function G(w,D){return D=Math.max(c[0],Math.min(c[1],D)),D===w.k?w:new Ve(D,w.x,w.y)}function Z(w,D,T){var C=D[0]-T[0]*w.k,b=D[1]-T[1]*w.k;return C===w.x&&b===w.y?w:new Ve(w.k,C,b)}function R(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function K(w,D,T,C){w.on("start.zoom",function(){Y(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).event(C).end()}).tween("zoom",function(){var b=this,a=arguments,y=Y(b,a).event(C),E=r.apply(b,a),P=T==null?R(E):typeof T=="function"?T.apply(b,a):T,$=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),F=b.__zoom,O=typeof D=="function"?D.apply(b,a):D,N=m(F.invert(P).concat($/F.k),O.invert(P).concat($/O.k));return function(I){if(I===1)I=O;else{var z=N(I),H=$/z[2];I=new Ve(H,P[0]-z[0]*H,P[1]-z[1]*H)}y.zoom(null,I)}})}function Y(w,D,T){return!T&&w.__zooming||new ne(w,D)}function ne(w,D){this.that=w,this.args=D,this.active=0,this.sourceEvent=null,this.extent=r.apply(w,D),this.taps=0}ne.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,D){return this.mouse&&w!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var D=Pe(this.that).datum();_.call(w,this.that,new An(w,{sourceEvent:this.sourceEvent,target:U,type:w,transform:this.that.__zoom,dispatch:_}),D)}};function ce(w,...D){if(!t.apply(this,arguments))return;var T=Y(this,D).event(w),C=this.__zoom,b=Math.max(c[0],Math.min(c[1],C.k*Math.pow(2,i.apply(this,arguments)))),a=Fe(w);if(T.wheel)(T.mouse[0][0]!==a[0]||T.mouse[0][1]!==a[1])&&(T.mouse[1]=C.invert(T.mouse[0]=a)),clearTimeout(T.wheel);else{if(C.k===b)return;T.mouse=[a,C.invert(a)],st(this),T.start()}Rt(w),T.wheel=setTimeout(y,B),T.zoom("mouse",e(Z(G(C,b),T.mouse[0],T.mouse[1]),T.extent,p));function y(){T.wheel=null,T.end()}}function fe(w,...D){if(A||!t.apply(this,arguments))return;var T=w.currentTarget,C=Y(this,D,!0).event(w),b=Pe(w.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",$,!0),a=Fe(w,T),y=w.clientX,E=w.clientY;qt(w.view),qr(w),C.mouse=[a,this.__zoom.invert(a)],st(this),C.start();function P(F){if(Rt(F),!C.moved){var O=F.clientX-y,N=F.clientY-E;C.moved=O*O+N*N>X}C.event(F).zoom("mouse",e(Z(C.that.__zoom,C.mouse[0]=Fe(F,T),C.mouse[1]),C.extent,p))}function $(F){b.on("mousemove.zoom mouseup.zoom",null),Xt(F.view,C.moved),Rt(F),C.event(F).end()}}function _e(w,...D){if(t.apply(this,arguments)){var T=this.__zoom,C=Fe(w.changedTouches?w.changedTouches[0]:w,this),b=T.invert(C),a=T.k*(w.shiftKey?.5:2),y=e(Z(G(T,a),C,b),r.apply(this,D),p);Rt(w),l>0?Pe(this).transition().duration(l).call(K,y,C,w):Pe(this).call(U.transform,y,C,w)}}function de(w,...D){if(t.apply(this,arguments)){var T=w.touches,C=T.length,b=Y(this,D,w.changedTouches.length===C).event(w),a,y,E,P;for(qr(w),y=0;y<C;++y)E=T[y],P=Fe(E,this),P=[P,this.__zoom.invert(P),E.identifier],b.touch0?!b.touch1&&b.touch0[2]!==P[2]&&(b.touch1=P,b.taps=0):(b.touch0=P,a=!0,b.taps=1+!!g);g&&(g=clearTimeout(g)),a&&(b.taps<2&&(S=P[0],g=setTimeout(function(){g=null},L)),st(this),b.start())}}function De(w,...D){if(this.__zooming){var T=Y(this,D).event(w),C=w.changedTouches,b=C.length,a,y,E,P;for(Rt(w),a=0;a<b;++a)y=C[a],E=Fe(y,this),T.touch0&&T.touch0[2]===y.identifier?T.touch0[0]=E:T.touch1&&T.touch1[2]===y.identifier&&(T.touch1[0]=E);if(y=T.that.__zoom,T.touch1){var $=T.touch0[0],F=T.touch0[1],O=T.touch1[0],N=T.touch1[1],I=(I=O[0]-$[0])*I+(I=O[1]-$[1])*I,z=(z=N[0]-F[0])*z+(z=N[1]-F[1])*z;y=G(y,Math.sqrt(I/z)),E=[($[0]+O[0])/2,($[1]+O[1])/2],P=[(F[0]+N[0])/2,(F[1]+N[1])/2]}else if(T.touch0)E=T.touch0[0],P=T.touch0[1];else return;T.zoom("touch",e(Z(y,E,P),T.extent,p))}}function M(w,...D){if(this.__zooming){var T=Y(this,D).event(w),C=w.changedTouches,b=C.length,a,y;for(qr(w),A&&clearTimeout(A),A=setTimeout(function(){A=null},L),a=0;a<b;++a)y=C[a],T.touch0&&T.touch0[2]===y.identifier?delete T.touch0:T.touch1&&T.touch1[2]===y.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(y=Fe(y,this),Math.hypot(S[0]-y[0],S[1]-y[1])<oe)){var E=Pe(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return U.wheelDelta=function(w){return arguments.length?(i=typeof w=="function"?w:ar(+w),U):i},U.filter=function(w){return arguments.length?(t=typeof w=="function"?w:ar(!!w),U):t},U.touchable=function(w){return arguments.length?(s=typeof w=="function"?w:ar(!!w),U):s},U.extent=function(w){return arguments.length?(r=typeof w=="function"?w:ar([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),U):r},U.scaleExtent=function(w){return arguments.length?(c[0]=+w[0],c[1]=+w[1],U):[c[0],c[1]]},U.translateExtent=function(w){return arguments.length?(p[0][0]=+w[0][0],p[1][0]=+w[1][0],p[0][1]=+w[0][1],p[1][1]=+w[1][1],U):[[p[0][0],p[0][1]],[p[1][0],p[1][1]]]},U.constrain=function(w){return arguments.length?(e=w,U):e},U.duration=function(w){return arguments.length?(l=+w,U):l},U.interpolate=function(w){return arguments.length?(m=w,U):m},U.on=function(){var w=_.on.apply(_,arguments);return w===_?U:w},U.clickDistance=function(w){return arguments.length?(X=(w=+w)*w,U):Math.sqrt(X)},U.tapDistance=function(w){return arguments.length?(oe=+w,U):oe},U}function Xr(t,r){let e;if(r===void 0)for(let i of t)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let s of t)(s=r(s,++i,t))!=null&&(e<s||e===void 0&&s>=s)&&(e=s)}return e}function Dt(t,r){let e;if(r===void 0)for(let i of t)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let s of t)(s=r(s,++i,t))!=null&&(e>s||e===void 0&&s>=s)&&(e=s)}return e}function Pt(t,r){let e=0;if(r===void 0)for(let i of t)(i=+i)&&(e+=i);else{let i=-1;for(let s of t)(s=+r(s,++i,t))&&(e+=s)}return e}var{abs:ly,max:uy,min:cy}=Math;function Jo(t){return[+t[0],+t[1]]}function J_(t){return[Jo(t[0]),Jo(t[1])]}var fy={name:"x",handles:["w","e"].map(On),input:function(t,r){return t==null?null:[[+t[0],r[0][1]],[+t[1],r[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},py={name:"y",handles:["n","s"].map(On),input:function(t,r){return t==null?null:[[r[0][0],+t[0]],[r[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},_y={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(On),input:function(t){return t==null?null:J_(t)},output:function(t){return t}};function On(t){return{type:t}}var Mn=Math.PI,Nn=2*Mn,wt=1e-6,ed=Nn-wt;function ea(t){this._+=t[0];for(let r=1,e=t.length;r<e;++r)this._+=arguments[r]+t[r]}function td(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return ea;let e=10**r;return function(i){this._+=i[0];for(let s=1,c=i.length;s<c;++s)this._+=Math.round(arguments[s]*e)/e+i[s]}}var bt=class{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?ea:td(r)}moveTo(r,e){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,e){this._append`L${this._x1=+r},${this._y1=+e}`}quadraticCurveTo(r,e,i,s){this._append`Q${+r},${+e},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(r,e,i,s,c,p){this._append`C${+r},${+e},${+i},${+s},${this._x1=+c},${this._y1=+p}`}arcTo(r,e,i,s,c){if(r=+r,e=+e,i=+i,s=+s,c=+c,c<0)throw new Error(`negative radius: ${c}`);let p=this._x1,l=this._y1,m=i-r,_=s-e,g=p-r,S=l-e,A=g*g+S*S;if(this._x1===null)this._append`M${this._x1=r},${this._y1=e}`;else if(A>wt)if(!(Math.abs(S*m-_*g)>wt)||!c)this._append`L${this._x1=r},${this._y1=e}`;else{let L=i-p,B=s-l,X=m*m+_*_,oe=L*L+B*B,U=Math.sqrt(X),G=Math.sqrt(A),Z=c*Math.tan((Mn-Math.acos((X+A-oe)/(2*U*G)))/2),R=Z/G,K=Z/U;Math.abs(R-1)>wt&&this._append`L${r+R*g},${e+R*S}`,this._append`A${c},${c},0,0,${+(S*L>g*B)},${this._x1=r+K*m},${this._y1=e+K*_}`}}arc(r,e,i,s,c,p){if(r=+r,e=+e,i=+i,p=!!p,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),m=i*Math.sin(s),_=r+l,g=e+m,S=1^p,A=p?s-c:c-s;this._x1===null?this._append`M${_},${g}`:(Math.abs(this._x1-_)>wt||Math.abs(this._y1-g)>wt)&&this._append`L${_},${g}`,i&&(A<0&&(A=A%Nn+Nn),A>ed?this._append`A${i},${i},0,1,${S},${r-l},${e-m}A${i},${i},0,1,${S},${this._x1=_},${this._y1=g}`:A>wt&&this._append`A${i},${i},0,${+(A>=Mn)},${S},${this._x1=r+i*Math.cos(c)},${this._y1=e+i*Math.sin(c)}`)}rect(r,e,i,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+e}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}};function ta(){return new bt}ta.prototype=bt.prototype;function Rn(t){return function(){return t}}function ra(t){let r=3;return t.digits=function(e){if(!arguments.length)return r;if(e==null)r=null;else{let i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);r=i}return t},()=>new bt(r)}var na=Array.prototype.slice;function ia(t){return t[0]}function oa(t){return t[1]}var Dn=class{constructor(r,e){this._context=r,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,e){switch(r=+r,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,e,r,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,r,this._y0,r,e);break}}this._x0=r,this._y0=e}};function aa(t){return new Dn(t,!0)}function rd(t){return t.source}function nd(t){return t.target}function sa(t){let r=rd,e=nd,i=ia,s=oa,c=null,p=null,l=ra(m);function m(){let _,g=na.call(arguments),S=r.apply(this,g),A=e.apply(this,g);if(c==null&&(p=t(_=l())),p.lineStart(),g[0]=S,p.point(+i.apply(this,g),+s.apply(this,g)),g[0]=A,p.point(+i.apply(this,g),+s.apply(this,g)),p.lineEnd(),_)return p=null,_+""||null}return m.source=function(_){return arguments.length?(r=_,m):r},m.target=function(_){return arguments.length?(e=_,m):e},m.x=function(_){return arguments.length?(i=typeof _=="function"?_:Rn(+_),m):i},m.y=function(_){return arguments.length?(s=typeof _=="function"?_:Rn(+_),m):s},m.context=function(_){return arguments.length?(_==null?c=p=null:p=t(c=_),m):c},m}function id(){return sa(aa)}function od(t){return t.target.depth}function xw(t){return me(t.depth,0)}function Ew(t,r){return r-1-me(t.height,0)}function la(t,r){return t.sourceLinks?.length?me(t.depth,0):r-1}function kw(t){return t.targetLinks?.length?me(t.depth,0):t.sourceLinks?.length?me(Dt(t.sourceLinks,od),0)-1:0}function Pn(t){return()=>t}function ua(t){let r=new Set,e=new Map,i=new Map;for(let _ of t.nodes){r.add(_);let g=0,S=0;for(let A of me(_.targetLinks,[]))A.source!==_&&g++;for(let A of me(_.sourceLinks,[]))A.target!==_&&S++;e.set(_,g),i.set(_,S)}function s(_){r.delete(_);for(let g of me(_.targetLinks,[])){let S=g.source;if(r.has(S)){let A=me(i.get(S),0);i.set(S,A-1)}}for(let g of me(_.sourceLinks,[])){let S=g.target;if(r.has(S)){let A=me(e.get(S),0);e.set(S,A-1)}}}let c=[],p=[];for(;r.size>0;){for(;;){let S=!1;for(let A of r)i.get(A)===0&&(S=!0,p.push(A),s(A));if(!S)break}for(;;){let S=!1;for(let A of r)e.get(A)===0&&(S=!0,c.push(A),s(A));if(!S)break}if(r.size===0)break;let _=null,g=null;for(let S of r){let A=me(i.get(S),0)-me(e.get(S),0);(_===null||A>_)&&(_=A,g=S)}g!=null&&(c.push(g),s(g))}p.reverse();let l=c.concat(p),m=new Map;for(let[_,g]of l.entries())m.set(g,_);for(let _ of t.links){let g=me(m.get(_.source),0),S=me(m.get(_.target),0);g===S?_.direction="self":g<S?_.direction="forward":_.direction="backward"}}function ca(t,r){return Wr(t.source,r.source)||t.index-r.index}function fa(t,r){return Wr(t.target,r.target)||t.index-r.index}function Wr(t,r){return t.y0-r.y0}function Fn(t){return t.value}function ad(t){return t.index}function sd(t){return t.nodes}function ld(t){return t.links}function pa(t,r){let e=t.get(r);if(!e)throw new Error("missing: "+r.toString());return e}function _a({nodes:t}){for(let r of t){let e=r.y0,i=e;for(let s of r.sourceLinks)s.y0=e+s.width/2,e+=s.width;for(let s of r.targetLinks)s.y1=i+s.width/2,i+=s.width}}function lr(t){return me(t,0)}function da(){let t=0,r=0,e=1,i=1,s=24,c=8,p=ad,l=la,m,_,g=sd,S=ld,A=6;function L(I){let z={nodes:[...I.nodes],links:[...I.links]};return _e(z),de(z),De(z),M(z),w(z),C(z),_a(z),z}let B=L;B.update=function(I){return _a(I),I};function X(I){return I==null?p:(p=I,B)}B.nodeId=X;function oe(I){return I==null?l:(l=I,B)}B.nodeAlign=oe;function U(I){return I==null?m:(m=I,B)}B.nodeSort=U;function G(I){return I==null?s:(s=I,B)}B.nodeWidth=G;function Z(I){return I==null?c:(c=I,B)}B.nodePadding=Z;function R(I){return I==null?g:(g=typeof I=="function"?I:Pn(I),B)}B.nodes=R;function K(I){return I==null?S:(S=typeof I=="function"?I:Pn(I),B)}B.links=K;function Y(I){return I==null?_:(_=I,B)}B.linkSort=Y;function ne(I){return I==null?[e-t,i-r]:(t=r=0,[e,i]=I,B)}B.size=ne;function ce(I){return I==null?[[t,r],[e,i]]:([[t,r],[e,i]]=I,B)}B.extent=ce;function fe(I){return I==null?A:(A=I,B)}B.iterations=fe;function _e({nodes:I,links:z}){for(let[q,V]of I.entries())V.index=q,V.sourceLinks=[],V.targetLinks=[];let H=new Map(I.map(q=>[p(q),q]));for(let[q,V]of z.entries()){V.index=q;let{source:ee,target:we}=V;typeof ee!="object"&&(ee=V.source=pa(H,ee)),typeof we!="object"&&(we=V.target=pa(H,we)),ee.sourceLinks.push(V),we.targetLinks.push(V)}}function de({nodes:I}){for(let z of I)z.value=Math.max(Pt(z.sourceLinks,Fn),Pt(z.targetLinks,Fn))}function De(I){ua(I)}function M({nodes:I}){let z=I.length,H=new Set(I),q=new Set,V=0;for(;H.size;){for(let ee of H){ee.depth=V;for(let{target:we,direction:ge}of ee.sourceLinks)ge==="forward"&&q.add(we)}if(++V>z)throw new Error("circular link");H=q,q=new Set}}function w({nodes:I}){let z=I.length,H=new Set(I),q=new Set,V=0;for(;H.size;){for(let ee of H){ee.height=V;for(let{source:we,direction:ge}of ee.targetLinks)ge==="forward"&&q.add(we)}if(++V>z)throw new Error("circular link");H=q,q=new Set}}function D({nodes:I}){let z=lr(Xr(I,V=>V.depth))+1,H=(e-t-s)/(z-1),q=new Array(z);for(let V of I){let ee=Math.max(0,Math.min(z-1,Math.floor(l.call(null,V,z))));V.layer=ee,V.x0=t+ee*H,V.x1=V.x0+s,q[ee]?q[ee].push(V):q[ee]=[V]}if(m)for(let V of q)V.sort(m);return q}function T(I){let z=Dt(I,H=>(i-r-(H.length-1)*c)/Pt(H,Fn));z=me(z,0);for(let H of I){let q=r;for(let V of H){V.y0=q,V.y1=q+V.value*z,q=V.y1+c;for(let ee of V.sourceLinks)ee.width=ee.value*z}q=(i-q+c)/(H.length+1);for(let V=0;V<H.length;++V){let ee=H[V];ee.y0+=q*(V+1),ee.y1+=q*(V+1)}F(H)}return i}function C(I){let z=D(I),H=T(z);for(let q=0;q<A;++q){let V=Math.pow(.99,q),ee=Math.max(1-V,(q+1)/A);a(z,V,ee,H),b(z,V,ee,H)}}function b(I,z,H,q){for(let V=1,ee=I.length;V<ee;++V){let we=I[V];for(let ge of we){let lt=0,Xe=0;for(let{source:ct,value:Ft}of ge.targetLinks){let ft=Ft*(lr(ge.layer)-lr(ct.layer));lt+=O(ct,ge)*ft,Xe+=ft}if(!(Xe>0))continue;let ut=(lt/Xe-ge.y0)*z;ge.y0+=ut,ge.y1+=ut,$(ge)}m===void 0&&we.sort(Wr),y(we,H,q)}}function a(I,z,H,q){for(let V=I.length,ee=V-2;ee>=0;--ee){let we=I[ee];for(let ge of we){let lt=0,Xe=0;for(let{target:ct,value:Ft}of ge.sourceLinks){let ft=Ft*(lr(ct.layer)-lr(ge.layer));lt+=N(ge,ct)*ft,Xe+=ft}if(!(Xe>0))continue;let ut=(lt/Xe-ge.y0)*z;ge.y0+=ut,ge.y1+=ut,$(ge)}m===void 0&&we.sort(Wr),y(we,H,q)}}function y(I,z,H){let q=I.length>>1,V=I[q];P(I,V.y0-c,q-1,z),E(I,V.y1+c,q+1,z),P(I,H,I.length-1,z),E(I,r,0,z)}function E(I,z,H,q){for(;H<I.length;++H){let V=I[H],ee=(z-V.y0)*q;ee>1e-6&&(V.y0+=ee,V.y1+=ee),z=V.y1+c}}function P(I,z,H,q){for(;H>=0;--H){let V=I[H],ee=(V.y1-z)*q;ee>1e-6&&(V.y0-=ee,V.y1-=ee),z=V.y0-c}}function $({sourceLinks:I,targetLinks:z}){if(_===void 0){for(let H of z)H.source.sourceLinks.sort(fa);for(let H of I)H.target.targetLinks.sort(ca)}}function F(I){if(_===void 0)for(let{sourceLinks:z,targetLinks:H}of I)z.sort(fa),H.sort(ca)}function O(I,z){let H=I.y0-(I.sourceLinks.length-1)*c/2;for(let{target:q,width:V}of I.sourceLinks){if(q===z)break;H+=V+c}for(let{source:q,width:V}of z.targetLinks){if(q===I)break;H-=V}return H}function N(I,z){let H=z.y0-(z.targetLinks.length-1)*c/2;for(let{source:q,width:V}of z.targetLinks){if(q===I)break;H+=V+c}for(let{target:q,width:V}of I.sourceLinks){if(q===z)break;H-=V}return H}return B}var Ue=function(t){return t.None="none",t.Item="item",t.Recipe="recipe",t.Machine="machine",t.Recipes="recipes",t}(Ue||{}),Fw={[Ue.None]:"",[Ue.Item]:"fa-solid fa-box",[Ue.Recipe]:"fa-solid fa-flask",[Ue.Machine]:"fa-solid fa-industry",[Ue.Recipes]:"fa-solid fa-flask-vial"};var Bn="",xt=class{static objectiveNormalizedRate(r,e,i,s,c){if(r.unit===rt.Machines||r.type===pe.Maximize)return r.value;let p=r.value,l=ie.one;switch(r.unit){case rt.Items:{l=s.value.reciprocal();break}case rt.Belts:{let _=e[r.targetId].beltId;_&&(l=i[_]);break}case rt.Wagons:{let _=e[r.targetId].wagonId;if(_){let g=c.itemEntities[r.targetId],S=c.itemEntities[_];g.stack&&S.cargoWagon?l=g.stack.mul(S.cargoWagon.size).div(s.value):S.fluidWagon&&(l=S.fluidWagon.capacity.div(s.value))}break}}let m=c.adjustedRecipe[c.itemRecipeIds[r.targetId][0]];return m?.isTechnology&&(l=l.mul(m.productivity)),p.mul(l)}static addEntityValue(r,e,i,s){let c=r[e];c?c[i]?c[i]=c[i].add(s):c[i]=s:r[e]={[i]:s}}static adjustPowerPollution(r,e,i){if(r.machines?.nonzero()&&!e.part){if(e.drain?.nonzero()||e.consumption?.nonzero()){if(r.power=ie.zero,e.drain?.nonzero()){let s=r.machines.ceil();i===At.DysonSphereProgram&&(s=s.sub(r.machines)),r.power=r.power.add(s.mul(e.drain))}e.consumption?.nonzero()&&(r.power=r.power.add(r.machines.mul(e.consumption)))}e.pollution?.nonzero()&&(r.pollution=r.machines.mul(e.pollution))}}static normalizeSteps(r,e,i,s,c,p,l,m){let _=this.copy(r);for(let S of _)this.calculateParentsOutputs(S,_);let g=gr(e);for(let S of _)this.calculateSettings(S,g,s),this.calculateBelts(S,i,c,m),this.calculateBeacons(S,l.beaconReceivers,m),this.calculateDisplayRate(S,p),this.calculateChecked(S,l);return this.sortBySankey(_),this.calculateHierarchy(_)}static calculateParentsOutputs(r,e){if(r.recipe&&r.machines?.nonzero()){let i=r.recipe,s=r.machines.div(i.time);for(let c of Object.keys(i.in))if(i.in[c].nonzero()){let p=i.in[c].mul(s),l=e.find(m=>m.itemId===c);l!=null&&this.addEntityValue(l,"parents",r.id,p)}for(let c of Object.keys(i.out))if(i.out[c].nonzero()){let p=i.out[c].mul(s),l=e.find(m=>m.itemId===c);l?.items?.nonzero()&&this.addEntityValue(r,"outputs",c,p.div(l.items))}}}static calculateSettings(r,e,i){r.recipeId&&(r.recipeObjectiveId?r.recipeSettings=e[r.recipeObjectiveId]:r.recipeSettings=i[r.recipeId])}static calculateBelts(r,e,i,s){let c=!1;if(r.recipeId!=null&&r.recipeSettings!=null){let p=r.recipeSettings.machineId;if(p!=null){let l=s.machineEntities[p],m=s.recipeEntities[r.recipeId];c=!!(m.isTechnology||l.silo&&!m.part)}}if(c)delete r.belts,delete r.wagons;else if(r.itemId!=null){let p=e[r.itemId].beltId;r.items!=null&&p!=null&&(r.belts=r.items.div(i[p]));let l=e[r.itemId].wagonId;if(r.items!=null&&l!=null){let m=s.itemEntities[r.itemId];m.stack?r.wagons=r.items.div(s.cargoWagonEntities[l].size.mul(m.stack)):r.wagons=r.items.div(s.fluidWagonEntities[l].capacity)}}}static calculateBeacons(r,e,i){if(!e?.nonzero()||r.recipeId==null||!r.machines?.nonzero()||i.recipeEntities[r.recipeId].part||r.recipeSettings==null)return;let s=r.machines,c=r.recipeSettings;c.beacons!=null&&(r.recipeSettings=It(et({},r.recipeSettings),{beacons:c.beacons.map(p=>{let l=p.total;if(p.id!=null){p.count!=null&&l==null&&(l=s.ceil().mul(p.count).div(e),l.lt(p.count)&&(l=p.count));let m=i.beaconEntities[p.id];m.type===ii.Electric&&m.usage!=null&&l!=null&&(r.power=(r.power??ie.zero).add(l.mul(m.usage)))}return It(et({},p),{total:l})})}))}static calculateDisplayRate(r,e){if(r.items){if(r.parents)for(let i of Object.keys(r.parents))r.parents[i]=r.parents[i].div(r.items);r.items=r.items.mul(e.value)}r.surplus&&(r.surplus=r.surplus.mul(e.value)),r.wagons&&(r.wagons=r.wagons.mul(e.value)),r.pollution&&(r.pollution=r.pollution.mul(e.value)),r.output&&(r.output=r.output.mul(e.value))}static calculateChecked(r,e){r.itemId!=null?r.checked=e.checkedItemIds.has(r.itemId):r.recipeObjectiveId!=null?r.checked=e.checkedObjectiveIds.has(r.recipeObjectiveId):r.recipeId!=null&&(r.checked=e.checkedRecipeIds.has(r.recipeId))}static sortBySankey(r){let e=r.reduce((l,m)=>(l[m.id]=m,l),{}),i=[],s=[];for(let l of r){if(l.itemId){let m=`i|${l.itemId}`;if(i.push({id:m,stepId:l.id}),l.parents)for(let _ of Object.keys(l.parents)){if(_==="")continue;let g=e[_].recipeId;g!=null&&s.push({source:m,target:`r|${g}`,value:1})}}if(l.recipeId){let m=`r|${l.recipeId}`;if(i.push({id:m,stepId:l.id}),l.outputs)for(let _ of Object.keys(l.outputs))s.push({source:m,target:`i|${_}`,value:1})}}if(!i.length||!s.length)return;let c=da().nodeId(l=>l.id)({nodes:i,links:s});for(let l of r)l.depth=c.nodes.find(m=>m.stepId===l.id)?.depth;function p(l){return l.output?1e5:me(l.depth,0)}r.sort((l,m)=>p(m)-p(l))}static calculateHierarchy(r){let e={};for(let c of r)if(c.parents==null||c.parents[""]||Object.keys(c.parents).length>1)e[c.id]=Bn;else{let p=Object.keys(c.parents)[0],l=r.find(m=>m.id===p);l&&(c.id===l.id?e[c.id]=Bn:e[c.id]=l.id)}let i={};for(let c of r){let p=e[c.id];i[p]||(i[p]=[]),i[p].push(c)}let s=this.sortRecursive(i,Bn,[]);return s.push(...r.filter(c=>!s.includes(c))),s}static sortRecursive(r,e,i){if(!r[e])return[];let s=r[e];for(let c of s)i.push(c),this.sortRecursive(r,c.id,i);return i}static copy(r){return r.map(e=>e.parents?It(et({},e),{parents:et({},e.parents)}):et({},e))}};var xa=Df(wa());var Et=function(t){return t.Failed="failed",t.Paused="paused",t.Skipped="skipped",t.Solved="solved",t}(Et||{});var ba=ie(1n,10n);var ud=mr.debug?{}:{msgLevel:"off"},Kr=class{static addItemValue(r,e,i=ie.zero,s="out"){if(r[e]){let c=r[e][s];c?r[e][s]=c.add(i):r[e][s]=i}else r[e]={out:ie.zero,[s]:i}}static solve(r,e,i,s){if(s)return{steps:[],resultType:Et.Paused};if(r.length===0)return{steps:[],resultType:Et.Skipped};let c=this.getState(r,e,i),p=this.getSolution(c);return p.resultType===Et.Solved&&this.updateSteps(p,c),{steps:c.steps,resultType:p.resultType,returnCode:p.returnCode,simplexStatus:p.simplexStatus,unboundedRecipeId:p.unboundedRecipeId,time:p.time,cost:p.cost}}static getState(r,e,i){let s={objectives:r,recipeObjectives:r.filter(c=>Vt(c)&&[pe.Output,pe.Maximize].includes(c.type)),steps:[],recipes:{},itemValues:{},recipeLimits:{},unproduceableIds:new Set,excludedIds:e.excludedItemIds,recipeIds:i.recipeIds.filter(c=>{let p=i.recipeEntities[c];return!e.excludedRecipeIds.has(c)&&(p.unlockedBy==null||e.researchedTechnologyIds.has(p.unlockedBy))}),itemIds:i.itemIds.filter(c=>!e.excludedItemIds.has(c)),maximizeType:e.maximizeType,surplusMachinesOutput:e.surplusMachinesOutput,costs:e.costs,data:i};for(let c of r)if(Vt(c))switch(c.type){case pe.Output:case pe.Maximize:{for(let p of Object.keys(c.recipe.out))this.addItemValue(s.itemValues,p),this.parseItemRecursively(p,s);this.parseRecipeRecursively(c.recipe,s);break}case pe.Input:{for(let p of Object.keys(c.recipe.out).filter(l=>c.recipe.produces.has(l))){let l=c.value.mul(c.recipe.output[p]);this.addItemValue(s.itemValues,p,l,"in")}break}case pe.Limit:{let p=s.recipeLimits[c.targetId];(p==null||p.gt(c.value))&&(s.recipeLimits[c.targetId]=c.value);break}}else switch(c.type){case pe.Output:{this.addItemValue(s.itemValues,c.targetId,c.value),this.parseItemRecursively(c.targetId,s);break}case pe.Input:{this.addItemValue(s.itemValues,c.targetId,c.value,"in");break}case pe.Maximize:{this.addItemValue(s.itemValues,c.targetId,c.value,"max"),this.addItemValue(s.itemValues,c.targetId),this.parseItemRecursively(c.targetId,s);break}case pe.Limit:{this.addItemValue(s.itemValues,c.targetId),this.parseItemRecursively(c.targetId,s);let p=s.itemValues[c.targetId].lim;(p==null||p.gt(c.value))&&(s.itemValues[c.targetId].lim=c.value);break}}return this.addSurplusVariables(s),this.parseUnproduceable(s),s}static recipeMatches(r,e){let i=e.data.itemIncludedRecipeIds[r].filter(s=>!e.recipes[s]).map(s=>e.data.adjustedRecipe[s]);return i.forEach(s=>e.recipes[s.id]=s),i}static itemMatches(r,e){let i=Object.keys(r.in).filter(s=>e.itemValues[s]?.out==null);for(let s of i)this.addItemValue(e.itemValues,s);return i}static parseRecipeRecursively(r,e){if(r.in){let i=this.itemMatches(r,e);for(let s of i.filter(c=>e.itemIds.includes(c)))this.parseItemRecursively(s,e)}}static parseItemRecursively(r,e){let i=this.recipeMatches(r,e);for(let s of i)this.parseRecipeRecursively(s,e)}static addSurplusVariables(r){let e=Object.keys(r.recipes).map(i=>r.recipes[i]);for(let i of e)for(let s of Object.keys(i.out).filter(c=>r.itemValues[c]?.out==null))this.addItemValue(r.itemValues,s)}static parseUnproduceable(r){let e=Object.keys(r.itemValues),i=new Set(Object.keys(r.recipes));r.unproduceableIds=new Set(e.filter(s=>r.data.itemIncludedRecipeIds[s].every(c=>!i.has(c))))}static getSolution(r){let e=this.glpk(r);if(e.error)return{resultType:Et.Failed,returnCode:e.returnCode,simplexStatus:e.status,unboundedRecipeId:e.unboundedRecipeId,surplus:{},unproduceable:{},excluded:{},recipes:{},time:0,cost:ie.zero,itemIds:[],recipeIds:[],unproduceableIds:new Set,excludedIds:new Set};let i=Object.keys(r.itemValues),s=Object.keys(r.recipes),{unproduceableIds:c,excludedIds:p}=r,{surplus:l,unproduceable:m,excluded:_,recipes:g}=e;return{resultType:Et.Solved,surplus:l,recipes:g,unproduceable:m,excluded:_,time:e.time,itemIds:i,recipeIds:s,unproduceableIds:c,excludedIds:p,cost:e.cost}}static itemCost(r,e,i){let s=i.data.itemEntities[r].stack==null&&i.data.game===At.Factorio?ba:ie.one,c=i.costs[e];return s.mul(c).toNumber()}static glpk(r){let e=Object.keys(r.itemValues),i=Object.keys(r.recipes),s=new xa.Model({sense:"min"}),c={},p={},l={},m={},_={},g={},S={},A={},L={},B={},X={},oe={obj:r.costs.maximize.toNumber(),lb:0,name:"maximize"},U=s.addVar(oe),G=ie.zero;for(let M of i){let w={obj:(r.recipes[M].cost??ie.zero).toNumber(),lb:0,name:M};r.recipeLimits[M]&&(w.ub=r.recipeLimits[M].toNumber()),c[M]=s.addVar(w)}for(let M of r.recipeObjectives){let w={lb:0,name:M.id};if(M.type===pe.Output&&(w.ub=M.value.toNumber(),w.lb=M.value.toNumber()),p[M.id]=s.addVar(w),M.type===pe.Maximize)switch(r.maximizeType){case _t.Weight:{let D={obj:M.value.mul(r.costs.maximize).toNumber(),lb:0,name:M.id};A[M.id]=s.addVar(D);let C={coeffs:[[p[M.id],1],[A[M.id],-1]],lb:0,name:M.id};X[M.id]=s.addConstr(C);break}case _t.Ratio:{G=G.add(M.value);let T={coeffs:[[p[M.id],1],[U,M.value.inverse().toNumber()]],lb:0,name:M.id};X[M.id]=s.addConstr(T);break}}}for(let M of r.unproduceableIds){let D={obj:this.itemCost(M,"unproduceable",r),lb:0,name:M};m[M]=s.addVar(D)}for(let M of r.excludedIds){let D={obj:this.itemCost(M,"excluded",r),lb:0,name:M};_[M]=s.addVar(D)}for(let M of e){let D={obj:this.itemCost(M,"surplus",r),lb:0,name:M};g[M]=s.addVar(D);let T=r.itemValues[M];if(T.in){let C={lb:0,ub:T.in.toNumber(),name:M};l[M]=s.addVar(C)}}let Z={};for(let M of e){let w=r.itemValues[M],D=[],T=[];r.data.itemIncludedIoRecipeIds[M].forEach(b=>{let a=r.recipes[b];if(a==null)return;let y=a.output[M];y?.nonzero()&&D.push([c[b],y.toNumber()]),a.in[M]&&T.push([c[b],a.in[M].div(a.time).toNumber()])});for(let b of r.recipeObjectives){let a=b.recipe,y=a.output[M];y?.nonzero()&&(y.gt(ie.zero)&&!r.surplusMachinesOutput?(Z[M]==null&&(Z[M]={}),Z[M][b.id]=y):D.push([p[b.id],y.toNumber()])),a.in[M]&&T.push([p[b.id],a.in[M].div(a.time).toNumber()])}if(r.unproduceableIds.has(M)&&D.push([m[M],1]),r.excludedIds.has(M)&&D.push([_[M],1]),w.in&&D.push([l[M],1]),D.push([g[M],-1]),w.max!=null)switch(r.maximizeType){case _t.Weight:{let b={obj:w.max.mul(r.costs.maximize).toNumber(),lb:0,name:M};S[M]=s.addVar(b),D.push([S[M],-1]);break}case _t.Ratio:{G=G.add(w.max),D.push([U,w.max.inverse().toNumber()]);break}}let C={coeffs:D,lb:w.out.toNumber(),ub:w.out.toNumber(),name:M};if(L[M]=s.addConstr(C),w.lim){let b={coeffs:T,ub:w.lim.toNumber(),name:M};B[M]=s.addConstr(b)}}U.obj=U.obj*G.toNumber();let R=Date.now(),[K,Y]=this.glpkSimplex(s),ne=Date.now()-R,ce={},fe={},_e={},de={},De=ie(s.value);if(K!=="ok"||Y!=="optimal"){let M;try{M=s.ray}catch{}let w;return M&&Jn(c,M)&&(w=M.name),{returnCode:K,status:Y,unboundedRecipeId:w,time:ne,surplus:ce,unproduceable:fe,excluded:_e,recipes:de,cost:De,error:!0}}for(let M of e){let w=r.itemValues[M],D=ie(g[M].value);if(D.nonzero()&&(ce[M]=D),Z[M])for(let T of Object.keys(Z[M])){let C=Z[M][T],b=p[T].value,y=ie(b).mul(C);w.out=w.out.add(y)}if(w.max!=null)switch(r.maximizeType){case _t.Ratio:{let T=U.value,b=ie(T).mul(w.max);w.out=w.out.add(b);break}case _t.Weight:{let T=S[M].value,C=ie(T);w.out=w.out.add(C);break}}}for(let M of i){let w=ie(c[M].value);w.nonzero()&&(de[M]=w)}for(let M of r.unproduceableIds){let w=ie(m[M].value);w.nonzero()&&(fe[M]=w)}for(let M of r.excludedIds){let w=ie(_[M].value);w.nonzero()&&(_e[M]=w)}return r.recipeObjectives=r.recipeObjectives.map(M=>It(et({},M),{value:ie(p[M.id].value)})),{returnCode:K,status:Y,time:ne,surplus:ce,unproduceable:fe,excluded:_e,recipes:de,cost:De,error:!1}}static glpkSimplex(r){return[r.simplex(ud),r.status]}static updateSteps(r,e){for(let i of Object.keys(e.itemValues))this.addItemStep(i,r,e);this.assignRecipes(r,e);for(let i of Object.keys(r.recipes).map(s=>e.recipes[s]))this.addRecipeStep(i,r,e);for(let i of e.recipeObjectives)this.addRecipeStep(i.recipe,r,e,i);e.steps.sort((i,s)=>(i.output!=null?0:1)-(s.output!=null?0:1))}static addItemStep(r,e,i){let s=i.itemValues[r],c=i.steps,p=ie.zero;i.data.itemIncludedIoRecipeIds[r].forEach(m=>{if(e.recipes[m]==null)return;let g=i.recipes[m];if(g?.out[r]==null)return;let S=g.out[r].mul(e.recipes[g.id]).div(g.time);p=p.add(S)});let l=i.itemValues[r].in;l&&(p=p.add(l));for(let m of i.recipeObjectives){let _=m.recipe;_.out[r]&&(p=p.add(_.out[r].mul(m.value).div(_.time)))}if(e.unproduceable[r]&&(p=p.add(e.unproduceable[r])),e.excluded[r]&&(p=p.add(e.excluded[r])),p.nonzero()){let m={id:c.length.toString(),itemId:r,items:p};if(s.out.gt(ie.zero)&&(m.output=s.out,m.parents={"":m.output}),c.push(m),e.surplus[r]?.nonzero()){let _=ie(p.sub(e.surplus[r]).toNumber());m.surplus=_.isZero()?m.items:e.surplus[r]}}}static assignRecipes(r,e){let i=e.steps,s=Object.keys(r.recipes).map(l=>e.recipes[l]);s.push(...e.recipeObjectives.map(l=>l.recipe));for(let l of i.filter(m=>m.recipeId==null)){let m=s.findIndex(_=>_.id===l.itemId&&_.produces.has(l.itemId));m!==-1&&(l.recipeId=s[m].id,s.splice(m,1))}let c={};for(let l of i.filter(m=>m.recipeId==null))l.itemId&&(c[l.itemId]=s.filter(m=>l.itemId&&m.produces.has(l.itemId)).sort((m,_)=>Object.keys(m.out).length-Object.keys(_.out).length).map(m=>m.id));let p=Object.keys(c).sort((l,m)=>c[l].length-c[m].length);for(let l of p)for(let m of c[l])if(!i.some(_=>_.recipeId===m)){let _=i.find(g=>g.itemId===l);if(_){_.recipeId=m;break}}}static addRecipeStep(r,e,i,s){let c=i.steps,p=c.filter(m=>m.machines==null),l=p.find(m=>m.recipeId===r.id);if(l||(l=p.find(m=>m.recipeId==null&&m.itemId!=null&&r.produces.has(m.itemId))),!l){let m=c.findIndex(_=>_.itemId&&r.produces.has(_.itemId));l={id:c.length.toString()},m!==-1&&m<c.length-1?c.splice(m+1,0,l):c.push(l)}l.recipeId=r.id,l.recipe=r,s?(l.machines=s.value,l.recipeObjectiveId=s.id):l.machines=e.recipes[r.id].add(l.machines??ie.zero),xt.adjustPowerPollution(l,r,i.data.game)}};var Bb=(()=>{let r=class r extends ri{constructor(){super(),this.itemsSvc=St(si),this.machinesSvc=St(li),this.preferencesSvc=St(ni),this.recipesSvc=St(ui),this.settingsSvc=St(ai),this.baseObjectives=Se(()=>{let i=this.state(),s=this.settingsSvc.dataset();return Object.keys(i).map(c=>i[c]).filter(c=>Vt(c)?s.recipeEntities[c.targetId]!=null:s.itemEntities[c.targetId]!=null)}),this.objectives=Se(()=>{let i=this.baseObjectives(),s=this.itemsSvc.itemsState(),c=this.recipesSvc.recipesState(),p=this.machinesSvc.machinesState(),l=this.settingsSvc.settings(),m=this.recipesSvc.adjustedDataset();return i.map(_=>oi.adjustObjective(_,s,c,p,l,m))}),this.normalizedObjectives=Se(()=>{let i=this.objectives(),s=this.itemsSvc.itemsState(),c=this.settingsSvc.beltSpeed(),p=this.settingsSvc.displayRateInfo(),l=this.recipesSvc.adjustedDataset();return i.map(m=>tt(m,{value:xt.objectiveNormalizedRate(m,s,c,p,l)}))}),this.matrixResult=Se(()=>{let i=this.normalizedObjectives(),s=this.settingsSvc.settings(),c=this.recipesSvc.adjustedDataset(),p=this.preferencesSvc.paused();return Kr.solve(i,s,c,p)}),this.steps=Se(()=>{let i=this.matrixResult(),s=this.objectives(),c=this.itemsSvc.itemsState(),p=this.recipesSvc.recipesState(),l=this.settingsSvc.beltSpeed(),m=this.settingsSvc.displayRateInfo(),_=this.settingsSvc.settings(),g=this.recipesSvc.adjustedDataset();return xt.normalizeSteps(i.steps,s,c,p,l,m,_,g)}),this.stepsModified=Se(()=>{let i=this.steps(),s=this.baseObjectives(),c=this.itemsSvc.state(),p=this.recipesSvc.state();return{objectives:s.reduce((l,m)=>(l[m.id]=m.machineId!=null||m.modules!=null||m.beacons!=null||m.overclock!=null,l),{}),items:i.reduce((l,m)=>(m.itemId&&(l[m.itemId]=c[m.itemId]!=null),l),{}),recipes:i.reduce((l,m)=>(m.recipeId&&(l[m.recipeId]=p[m.recipeId]!=null),l),{})}}),this.totals=Se(()=>{let i=this.steps(),s=this.itemsSvc.itemsState(),c=this.recipesSvc.adjustedDataset(),p={},l={},m={},_={},g={},S={},A=ie.zero,L=ie.zero;for(let B of i){if(B.itemId!=null){if(B.belts?.nonzero()){let X=s[B.itemId].beltId;X!=null&&(p[X]||(p[X]=ie.zero),p[X]=p[X].add(B.belts.ceil()))}if(B.wagons?.nonzero()){let X=s[B.itemId].wagonId;X!=null&&(l[X]||(l[X]=ie.zero),l[X]=l[X].add(B.wagons.ceil()))}}if(B.recipeId!=null&&B.recipe!=null&&B.recipeSettings!=null){if(B.machines?.nonzero()&&!B.recipe.part){let U=B.recipeSettings,G=U.machineId;if(c.game===At.DysonSphereProgram&&G===hr.MiningMachine&&(G=B.recipeId),G!=null){m[G]||(m[G]=ie.zero);let Z=B.machines.ceil();m[G]=m[G].add(Z),U.modules!=null&&U.modules.forEach(R=>{R.id==null||R.count==null||R.id===hr.Module||un(_,[R.id],Z.mul(R.count))})}}let X=B.recipeSettings?.beacons;if(X!=null)for(let oe of X){let U=oe.id,G=oe.total;if(U==null||!G?.nonzero())continue;g[U]||(g[U]=ie.zero);let Z=G.ceil();g[U]=g[U].add(Z),oe.modules!=null&&oe.modules.forEach(R=>{R.id==null||R.count==null||R.id===hr.Module||un(S,[R.id],Z.mul(R.count))})}}B.power!=null&&(A=A.add(B.power)),B.pollution!=null&&(L=L.add(B.pollution))}return{belts:p,wagons:l,machines:m,modules:_,beacons:g,beaconModules:S,power:A,pollution:L}}),this.stepDetails=Se(()=>{let i=this.steps(),s=this.settingsSvc.settings(),c=this.recipesSvc.adjustedDataset();return i.reduce((p,l)=>{let m=[],_=[],g=[];if(l.itemId!=null&&l.items!=null){let S=l.itemId;m.push(Ue.Item),_.push(...i.filter(ei("outputs","recipeId","machines")).filter(L=>L.outputs[S]!=null).map(L=>({step:L,value:L.outputs[S]})));let A=_.reduce((L,B)=>L.sub(B.value),ie.one);A.nonzero()&&_.push({inputs:!0,value:A}),_.sort((L,B)=>B.value.sub(L.value).toNumber())}return l.recipeId!=null&&m.push(Ue.Recipe),l.machines?.nonzero()&&m.push(Ue.Machine),l.itemId!=null&&(g=c.itemRecipeIds[l.itemId],g.length&&m.push(Ue.Recipes)),p[l.id]={tabs:m.map(S=>{let A=`step_${l.id}_${S}_tab`;return{id:A,label:S,command:()=>{history.replaceState({},"",`${window.location.href.replace(/#(.*)$/,"")}#${A}`)}}}),outputs:_,recipeIds:g,allRecipesIncluded:g.every(S=>!s.excludedRecipeIds.has(S))},p},{})}),this.stepById=Se(()=>{let i=this.steps();return gr(i)}),this.stepByItemEntities=Se(()=>this.steps().reduce((s,c)=>(c.itemId!=null&&(s[c.itemId]=c),s),{})),this.stepTree=Se(()=>{let i=this.steps(),s={},c={};for(let p of i){let l=[];if(p.parents){let m=Object.keys(p.parents);m.length===1&&c[m[0]]!=null&&(l=new Array(c[m[0]]+1).fill(!1))}c[p.id]=l.length,s[p.id]=l}for(let p=0;p<i.length;p++){let l=i[p];if(s[l.id].length)for(let m=p+1;m<i.length;m++){let _=i[m];if(s[_.id]){if(s[_.id].length===s[l.id].length){for(let g=p;g<m;g++){let S=i[g];s[S.id]&&(s[S.id][s[l.id].length-1]=!0)}break}else if(s[_.id].length<s[l.id].length)break}}}return s}),this.effectivePowerUnit=Se(()=>{let i=this.preferencesSvc.powerUnit();if(i!==jt.Auto)return i;let s=this.steps(),c;for(let p of s)p.power!=null&&(c==null||p.power.lt(c))&&(c=p.power);return c=c??ie.zero,c.lt(ie(1000n))?jt.kW:c.lt(ie(1000000n))?jt.MW:jt.GW}),this.recipesModified=Se(()=>{let i=this.recipesSvc.state(),s=this.baseObjectives();return{machines:Object.keys(i).some(c=>i[c].fuelId!=null||i[c].machineId!=null||i[c].modules!=null||i[c].overclock!=null)||s.some(c=>c.fuelId!=null||c.machineId!=null||c.modules!=null||c.overclock!=null),beacons:Object.keys(i).some(c=>i[c].beacons!=null)||s.some(c=>c.beacons!=null),cost:Object.keys(i).some(c=>i[c].cost)}}),Zn(this.settingsSvc.displayRate).pipe(Qn(),Kn(([i,s])=>i!==s)).subscribe(([i,s])=>{let c=cn[s].value.div(cn[i].value);this.adjustDisplayRate(c)})}add(i){this.reduce(s=>{let c=ie.one,l=Object.keys(s).at(-1);l&&(c=s[l].value);let m=1;for(;s[m.toString()]!=null;)m++;let _=m.toString(),g={id:_,value:c,type:pe.Output};return tt(s,{[_]:tt(g,i)})})}create(i){let s="1";this.set({[s]:tt(i,{id:s})})}remove(i){this.reduce(s=>{s=this._removeEntry(s,i);let c=Object.keys(s).map(p=>s[p]);return this.reduceObjectives(c)})}setOrder(i){this.set(this.reduceObjectives(i))}adjustDisplayRate(i){this.reduce(s=>{let c=tt(s),p=Object.keys(c);for(let l of p.map(m=>s[m]).filter(m=>m.type!==pe.Maximize&&(m.unit===rt.Items||m.unit===rt.Wagons))){let m=l.value.mul(i);c[l.id]=tt(l,{value:m})}return c})}reduceObjectives(i){return i.reduce((s,c,p)=>{let l=(p+1).toString();return s[l]=tt(c,{id:l}),s},{})}};r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=dr({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();export{vd as a,wa as b,pe as c,wd as d,Ue as e,Fw as f,Pe as g,Cp as h,sa as i,id as j,Z_ as k,xw as l,Ew as m,la as n,kw as o,da as p,xt as q,Et as r,Bb as s};
