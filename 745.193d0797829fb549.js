"use strict";(self.webpackChunkfactoriolab=self.webpackChunkfactoriolab||[]).push([[745],{4745:(j,_,a)=>{a.r(_),a.d(_,{LandingModule:()=>p});var f=a(6895),v=a(5108),h=a(3021),m=a(4258),C=a(9841),Z=a(4004),u=a(8328),c=a(9105),L=a(3953),t=a(4650),T=a(2997),y=a(7155),A=a(5593),I=a(4247),J=a(805),M=a(2210),b=a(1795),x=a(4006),w=a(3822),P=a(6188),N=a(974);function Q(o,n){if(1&o&&(t.TgZ(0,"div",19)(1,"i",20),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"span",21),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&o){const e=n.ngIf;t.xp6(1),t.Tol(t.lcZ(2,3,e.icon)),t.xp6(3),t.Oqu(t.lcZ(5,5,e.label))}}function S(o,n){if(1&o&&t.YNc(0,Q,6,7,"div",18),2&o){const e=t.oxw().ngIf,i=t.oxw();t.Q6J("ngIf",i.gameInfo[e.data.game])}}function B(o,n){if(1&o&&(t.TgZ(0,"div",19)(1,"i"),t.ALo(2,"iconSmClass"),t.qZA(),t.TgZ(3,"span",21),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&o){const e=n.ngIf;t.xp6(1),t.Tol(t.lcZ(2,3,e.icon)),t.xp6(3),t.Oqu(t.lcZ(5,5,e.label))}}function H(o,n){if(1&o&&t.YNc(0,B,6,7,"div",18),2&o){const e=n.$implicit,i=t.oxw(2);t.Q6J("ngIf",i.gameInfo[e.value])}}function U(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"p-dropdown",22),t.NdJ("onChange",function(s){t.CHM(e);const l=t.oxw(2);return t.KtG(l.setMod(s.value))}),t.qZA()}if(2&o){const e=t.oxw().ngIf;t.Q6J("filter",!0)("ngModel",e.settings.modId)("options",e.modOptions)}}function Y(o,n){1&o&&t._UZ(0,"p-divider")}function G(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"span",23)(1,"span",24),t._UZ(2,"i",25),t.qZA(),t.TgZ(3,"p-dropdown",26),t.NdJ("onChange",function(s){t.CHM(e);const l=t.oxw().ngIf,r=t.oxw();return t.KtG(r.setState(s.value,l.preferences))}),t.ALo(4,"translate"),t.qZA()()}if(2&o){const e=t.oxw().ngIf;t.xp6(3),t.Q6J("placeholder",t.lcZ(4,2,"landing.loadSavedState"))("options",e.savedStates)}}function O(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.router.navigateByUrl(s.BrowserUtility.routerState))}),t.ALo(1,"translate"),t.qZA()}2&o&&t.Q6J("label",t.lcZ(1,1,"landing.loadLastState"))}function F(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"p-card")(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t._UZ(4,"div",4),t.ALo(5,"translate"),t.TgZ(6,"p-dropdown",5),t.NdJ("onChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.setGame(s.value))}),t.YNc(7,S,1,1,"ng-template",6),t.YNc(8,H,1,1,"ng-template",7),t.qZA(),t.YNc(9,U,1,3,"p-dropdown",8),t.TgZ(10,"button",9),t.NdJ("click",function(){const l=t.CHM(e).ngIf,r=t.MAs(15);return t.KtG(r.clickOpen(l.data,"item"))}),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",10),t.NdJ("click",function(){const l=t.CHM(e).ngIf,r=t.MAs(17);return t.KtG(r.clickOpen(l.data,"recipe"))}),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"lab-picker",11,12),t.NdJ("selectId",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.selectProduct(s))}),t.qZA(),t.TgZ(16,"lab-picker",11,13),t.NdJ("selectId",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.selectProducer(s))}),t.qZA(),t.YNc(18,Y,1,0,"p-divider",0),t.YNc(19,G,5,4,"span",14),t.YNc(20,O,2,3,"button",15),t._UZ(21,"p-divider")(22,"button",16),t.ALo(23,"translate"),t._UZ(24,"button",17),t.ALo(25,"translate"),t.qZA()()}if(2&o){const e=n.ngIf,i=t.oxw();t.xp6(4),t.Q6J("innerHTML",t.lcZ(5,11,"landing.welcome"),t.oJD),t.xp6(2),t.Q6J("ngModel",e.data.game)("options",i.gameOptions),t.xp6(3),t.Q6J("ngIf",e.data.game===i.Game.Factorio),t.xp6(1),t.Q6J("label",t.lcZ(11,13,"landing.addAProduct")),t.xp6(2),t.Q6J("label",t.lcZ(13,15,"landing.addAProducer")),t.xp6(6),t.Q6J("ngIf",e.savedStates.length||i.BrowserUtility.routerState),t.xp6(1),t.Q6J("ngIf",e.savedStates.length),t.xp6(1),t.Q6J("ngIf",i.BrowserUtility.routerState),t.xp6(2),t.Q6J("label",t.lcZ(23,17,"landing.help")),t.xp6(2),t.Q6J("label",t.lcZ(25,19,"landing.skip"))}}class g{constructor(n,e,i){this.router=n,this.store=e,this.routerSvc=i,this.vm$=(0,C.a)([this.store.select(c.Zr.Gw),this.store.select(c.Zr.Ym),this.store.select(c.Zr.pY),this.store.select(c.uP.eD),this.store.select(c.uP.D0)]).pipe((0,Z.U)(([s,l,r,K,k])=>({settings:s,modOptions:l,data:r,preferences:K,savedStates:k}))),this.gameInfo=u.dL,this.gameOptions=u.oy,this.Game=u.lA,this.BrowserUtility=L.R7}selectProduct(n){this.addProduct(n),this.router.navigate(["list"])}selectProducer(n){this.addProducer(n),this.router.navigate(["list"])}setState(n,e){const i=e.states[n];if(i){const s=this.routerSvc.getParams(i);this.router.navigate(["list"],{queryParams:s})}}setGame(n){this.setMod(u.dL[n].modId)}setMod(n){this.store.dispatch(new c.Zr.Lr(n))}addProduct(n){this.store.dispatch(new c.QI.OV(n))}addProducer(n){this.store.dispatch(new c.$_.OV(n))}}g.\u0275fac=function(n){return new(n||g)(t.Y36(m.F0),t.Y36(T.yh),t.Y36(y.cw))},g.\u0275cmp=t.Xpm({type:g,selectors:[["lab-landing"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-center"],["src","assets/icons/icon-128x128.png","alt","FactorioLab","height","128","width","128"],[1,"mt-2",3,"innerHTML"],["styleClass","my-2 w-100",3,"ngModel","options","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["styleClass","mb-2 w-100",3,"filter","ngModel","options","onChange",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",3,"label","click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"label","click"],[3,"selectId"],["addProductPicker",""],["addRecipePicker",""],["class","p-inputgroup",4,"ngIf"],["pButton","","pRipple","","type","button","class","mt-2","icon","fa-solid fa-clock-rotate-left",3,"label","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","fa-solid fa-question","routerLink","wizard","queryParamsHandling","preserve",1,"mt-2","p-button-help",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-forward","routerLink","list","queryParamsHandling","preserve",1,"mt-2","p-button-outlined",3,"label"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"mx-1"],[1,"ms-3"],["styleClass","mb-2 w-100",3,"filter","ngModel","options","onChange"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-file-import"],["styleClass","w-100",3,"placeholder","options","onChange"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"label","click"]],template:function(n,e){1&n&&(t.YNc(0,F,26,21,"p-card",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,e.vm$))},dependencies:[f.O5,v.i,m.rH,A.Hq,I.Z,J.jx,M.Lt,b.H,x.JJ,x.On,w.q,f.Ov,P.X$,N.y],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"],changeDetection:0});const R=[{path:"",component:g}];class d{}d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[m.Bz.forChild(R),m.Bz]});class p{}p.\u0275fac=function(n){return new(n||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[f.ez,v.x,d,h.o]})}}]);