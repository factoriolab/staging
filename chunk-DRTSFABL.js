import{a as re,b as le}from"./chunk-CIJOALZA.js";import{a as oe,b as ae,e as _e}from"./chunk-AB2PESBE.js";import{a as fe,b as ge}from"./chunk-6ZGAV7MZ.js";import{j as G}from"./chunk-MKL5SMAB.js";import{I as ee,d as Y}from"./chunk-4I6PI4DQ.js";import"./chunk-XHKWQBSJ.js";import"./chunk-YRULWP2O.js";import{a as de,b as ce}from"./chunk-M722GOBI.js";import{b as ue}from"./chunk-DSQSMI6Y.js";import{j as U,k as M}from"./chunk-PO6CS6VK.js";import{b as me}from"./chunk-YHVJNU2N.js";import{f as pe,g as se}from"./chunk-CJCZGPJH.js";import{e as te,f as ie,h as ne}from"./chunk-W3YFTCAI.js";import"./chunk-4XFKTOO7.js";import{B as H,n as D,y as j,z as F}from"./chunk-CPQAAETV.js";import{i as Z}from"./chunk-NX7N6GPF.js";import{Aa as I,Ab as V,Ea as n,Ee as $,Ie as J,Jd as k,Kb as s,Kd as B,Lb as d,Oe as K,Pa as v,Sa as c,Se as Q,Tc as E,Ue as W,Vd as N,Wa as y,Xa as C,Ye as X,ab as r,bb as l,cb as f,da as x,fa as T,gb as b,hb as g,ib as p,ma as _,md as q,na as u,nd as A,rb as w,sb as h,sd as L,tb as S,tc as P,vc as O,wc as R,wd as z}from"./chunk-GUCGGAKT.js";import"./chunk-TWZW5B45.js";function Ce(t,m){if(t&1&&(r(0,"div",19),f(1,"i",20),s(2,"iconSmClass"),r(3,"span",21),h(4),s(5,"translate"),l()()),t&2){let e=m;n(),y(d(2,3,e.icon)),n(3),S(d(5,5,e.label))}}function ve(t,m){if(t&1&&v(0,Ce,6,7,"div",19),t&2){let e,o=p(2);C((e=o.gameInfo[o.data().game])?0:-1,e)}}function xe(t,m){if(t&1&&(r(0,"div",19),f(1,"i"),s(2,"iconSmClass"),r(3,"span",21),h(4),s(5,"translate"),l()()),t&2){let e=m;n(),y(d(2,3,e.icon)),n(3),S(d(5,5,e.label))}}function be(t,m){if(t&1&&v(0,xe,6,7,"div",19),t&2){let e,o=m.$implicit,i=p(2);C((e=i.gameInfo[o.value])?0:-1,e)}}function he(t,m){if(t&1){let e=b();r(0,"p-dropdown",22),g("onChange",function(i){_(e);let a=p(2);return u(a.setMod(i.value))}),l()}if(t&2){let e=p(2);c("filter",!0)("autofocusFilter",!e.contentSvc.isMobile())("ngModel",e.settings().modId)("options",e.modOptions())}}function Se(t,m){t&1&&f(0,"p-divider")}function ye(t,m){if(t&1){let e=b();r(0,"span",14)(1,"span",23),f(2,"i",24),l(),r(3,"p-dropdown",25),s(4,"translate"),g("onChange",function(i){_(e);let a=p(2);return u(a.setState(a.preferences().states[a.data().game][i.value]))}),l()()}if(t&2){let e=p(2);n(3),c("placeholder",d(4,2,"landing.loadSavedState"))("options",e.savedStates())}}function we(t,m){if(t&1){let e=b();r(0,"button",26),s(1,"translate"),g("click",function(){_(e);let i=p(2);return u(i.router.navigateByUrl(i.BrowserUtility.routerState))}),l()}t&2&&c("label",d(1,1,"landing.loadLastState"))}function Le(t,m){if(t&1){let e=b();r(0,"p-card")(1,"div",3)(2,"div",4),f(3,"img",5),l(),f(4,"div",6),s(5,"translate"),r(6,"p-dropdown",7),g("onChange",function(i){_(e);let a=p();return u(a.setGame(i.value))}),v(7,ve,1,1,"ng-template",8)(8,be,1,1,"ng-template",9),l(),v(9,he,1,4,"p-dropdown",10),r(10,"button",11),s(11,"translate"),g("click",function(){_(e);let i=w(15),a=p();return u(i.clickOpen("item",a.itemIds()))}),l(),r(12,"button",12),s(13,"translate"),g("click",function(){_(e);let i=w(18),a=p();return u(i.clickOpen("recipe",a.recipeIds()))}),l(),r(14,"lab-picker",13,0),s(16,"translate"),g("selectId",function(i){_(e);let a=p();return u(a.selectItem(i))}),l(),r(17,"lab-picker",13,1),s(19,"translate"),g("selectId",function(i){_(e);let a=p();return u(a.selectRecipe(i))}),l(),v(20,Se,1,0,"p-divider")(21,ye,5,4,"span",14)(22,we,2,3,"button",15),f(23,"p-divider")(24,"button",16),s(25,"translate"),f(26,"button",17),s(27,"translate"),r(28,"p-checkbox",18),s(29,"translate"),g("onChange",function(i){_(e);let a=p();return u(a.setBypassLanding(i.checked))}),l()()()}if(t&2){let e=p();n(4),c("innerHTML",d(5,16,"landing.welcome"),I),n(2),c("ngModel",e.data().game)("options",e.gameOptions),n(3),C(e.data().game===e.Game.Factorio?9:-1),n(),c("label",d(11,18,"landing.addItems")),n(2),c("label",d(13,20,"landing.addMachines")),n(2),c("header",d(16,22,"landing.selectAnItem")),n(3),c("header",d(19,24,"landing.selectARecipe")),n(3),C(e.savedStates().length||e.BrowserUtility.routerState?20:-1),n(),C(e.savedStates().length?21:-1),n(),C(e.BrowserUtility.routerState?22:-1),n(2),c("label",d(25,26,"landing.help")),n(2),c("label",d(27,28,"landing.skip")),n(2),c("binary",!0)("label",d(29,30,"landing.bypass"))("ngModel",e.preferences().bypassLanding)}}function ke(t,m){t&1&&f(0,"p-progressSpinner")}var ct=(()=>{class t{router=x(O);route=x(P);store=x(E);contentSvc=x(U);routerSvc=x(ee);itemIds=this.store.selectSignal(Z);settings=this.store.selectSignal(W);modOptions=this.store.selectSignal(K);data=this.store.selectSignal(Q);mod=this.store.selectSignal($);recipeIds=this.store.selectSignal(X);savedStates=this.store.selectSignal(J);preferences=this.store.selectSignal(z);gameInfo=B;gameOptions=A;Game=q;BrowserUtility=Y;selectItem(e){this.createObjective({id:"0",targetId:e,value:L.one,unit:k.Items,type:M.Output}),this.router.navigate(["list"],{relativeTo:this.route,queryParamsHandling:"preserve"})}selectRecipe(e){this.createObjective({id:"0",targetId:e,value:L.one,unit:k.Machines,type:M.Output}),this.router.navigate(["list"],{relativeTo:this.route,queryParamsHandling:"preserve"})}setState(e){e&&this.router.navigate(["list"],{queryParams:this.routerSvc.toParams(e),relativeTo:this.route})}setGame(e){this.setMod(B[e].modId)}setMod(e){this.store.dispatch(N({modId:e}))}createObjective(e){this.store.dispatch(ue({objective:e}))}setBypassLanding(e){this.store.dispatch(G({bypassLanding:e}))}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=T({type:t,selectors:[["ng-component"]],standalone:!0,features:[V],decls:4,vars:2,consts:[["addItemPicker",""],["addRecipePicker",""],[1,"position-absolute","bottom-0","mb-3"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-center"],["src","factoriolab.webp","alt","FactorioLab","height","128","width","128"],[1,"mt-2",3,"innerHTML"],["styleClass","my-2 w-100",3,"onChange","ngModel","options"],["pTemplate","selectedItem"],["pTemplate","item"],["styleClass","mb-2 w-100",3,"filter","autofocusFilter","ngModel","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"click","label"],[3,"selectId","header"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-question","routerLink","wizard","queryParamsHandling","preserve",1,"mt-2","p-button-help",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-forward","routerLink","list","queryParamsHandling","preserve",1,"mt-2","mb-3","p-button-outlined",3,"label"],[3,"onChange","binary","label","ngModel"],[1,"d-flex","align-items-center"],[1,"mx-1"],[1,"ms-3"],["styleClass","mb-2 w-100",3,"onChange","filter","autofocusFilter","ngModel","options"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-file-import"],["styleClass","w-100",3,"onChange","placeholder","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"click","label"]],template:function(o,i){o&1&&(v(0,Le,30,32,"p-card")(1,ke,1,0,"p-progressSpinner"),r(2,"span",2),h(3),l()),o&2&&(C(i.mod()!=null?0:1),n(3),S(i.contentSvc.version))},dependencies:[ne,te,ie,R,F,j,D,ae,oe,ce,de,le,re,se,pe,ge,fe,me,_e,H],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}"],changeDetection:0})}return t})();export{ct as LandingComponent};
