import{a as te,b as ie,d as ne}from"./chunk-NGREKOCE.js";import{Aa as E,Fa as d,Gd as L,Ha as f,Ia as S,Id as q,Jb as D,Ke as Q,La as g,Ld as N,Oc as z,Qa as o,Ra as r,Rb as H,Re as W,Sa as m,Sb as j,Se as Y,Ua as h,Ue as ee,Va as M,Wa as p,Zb as A,_ as R,ae as Z,ba as s,bb as u,be as $,cb as v,da as P,db as y,ea as k,he as G,ia as x,ja as C,je as U,mb as I,mc as V,nd as b,qb as c,qc as X,rb as _,sb as O,u as w,ue as J,vd as F,wa as n,yb as B,ze as K}from"./chunk-JGLTWOH3.js";var le=(e,a)=>({time:e,cost:a});function pe(e,a){e&1&&(o(0,"div",7),m(1,"i",8),o(2,"span"),u(3),c(4,"translate"),r()()),e&2&&(n(3),v(_(4,1,"app.error")))}function se(e,a){if(e&1){let t=h();o(0,"p-dialog",1),d(1,pe,5,3,"ng-template",2),o(2,"div",3)(3,"div"),u(4),c(5,"translate"),r(),o(6,"div",4),u(7),r(),o(8,"div",5)(9,"button",6),c(10,"translate"),M("click",function(){x(t);let l=p();return C(l.reset())}),r()()()()}if(e&2){let t=p();f("visible",!0)("modal",!0)("draggable",!1)("resizable",!1)("closable",!1)("closeOnEscape",!1),n(4),v(_(5,10,"app.errorDetail")),n(3),v(a),n(2),f("label",_(10,12,"reset"))("loading",t.isResetting)}}function me(e,a){e&1&&m(0,"p-tabMenu",15),e&2&&f("model",a)}function ce(e,a){if(e&1&&(o(0,"div"),u(1),c(2,"translate"),r()),e&2){let t,i=p(4);n(),y(" ",O(2,1,"app.simplexSolved",I(4,le,i.result().time,(t=i.result().cost)==null?null:t.toPrecision(2)))," ")}}function de(e,a){if(e&1&&(o(0,"div"),u(1),c(2,"translate"),r()),e&2){let t=p(4);n(),y(" ",_(2,1,"options.simplexResultType."+t.result().resultType)," ")}}function fe(e,a){if(e&1&&(o(0,"div",17),d(1,ce,3,7,"div")(2,de,3,3,"div"),o(3,"span"),u(4),r()()),e&2){let t=p(3);n(),g(t.result().resultType===t.SimplexResultType.Solved?1:2),n(3),v(t.contentSvc.version)}}function ue(e,a){if(e&1&&(m(0,"lab-objectives"),o(1,"p-card",14),c(2,"translate"),d(3,me,1,1,"p-tabMenu",15),c(4,"async"),m(5,"router-outlet"),d(6,fe,5,2,"ng-template",16),r()),e&2){let t,i=p(2);n(),f("header",_(2,2,"app.factory")),n(2),g((t=_(4,4,i.tabItems$))?3:-1,t)}}function _e(e,a){e&1&&(o(0,"div",13),m(1,"p-progressSpinner"),r())}function ge(e,a){if(e&1){let t=h();m(0,"lab-settings",9),o(1,"div",10),M("click",function(){x(t);let l=p();return C(l.contentSvc.toggleSettings())}),r(),o(2,"div",11)(3,"main",12),d(4,ue,7,6)(5,_e,2,0,"div",13),r()()}if(e&2){let t=p();f("active",t.contentSvc.settingsActive())("hidden",t.contentSvc.settingsXlHidden()),n(),S("active",t.contentSvc.settingsActive()),n(),S("settings-xl-hidden",t.contentSvc.settingsXlHidden()),n(2),g(t.mod()?4:5)}}var oe=(()=>{class e{contentSvc=s(L);ngZone=s(E);ref=s(B);router=s(j);store=s(V);errorSvc=s(N);translateSvc=s(q);gameInfo=this.store.selectSignal(b.getGameInfo);mod=this.store.selectSignal(b.getMod);result=this.store.selectSignal(F.getMatrixResult);isResetting=!1;tabItems$=this.translateSvc.multi(["app.list","app.flow","app.data"]).pipe(w(([t,i,l])=>[{label:t,icon:"fa-solid fa-list",routerLink:"list",queryParamsHandling:"preserve"},{label:i,icon:"fa-solid fa-diagram-project",routerLink:"flow",queryParamsHandling:"preserve"},{label:l,icon:"fa-solid fa-database",routerLink:"data",queryParamsHandling:"preserve"}]));SimplexResultType=z;reset(){this.isResetting=!0,setTimeout(()=>{this.ngZone.run(()=>{this.errorSvc.message.set(null),this.router.navigateByUrl(this.gameInfo().route),this.store.dispatch(new X.ResetAction),this.isResetting=!1})},10)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=P({type:e,selectors:[["lab-main"]],decls:3,vars:3,consts:[[3,"sticky","settingsXlHidden"],[3,"visible","modal","draggable","resizable","closable","closeOnEscape"],["pTemplate","header"],[1,"p-error"],[1,"mt-4"],[1,"text-end","mt-4"],["pButton","","pRipple","","type","button",1,"p-button-outlined",3,"click","label","loading"],[1,"p-dialog-title","p-error"],[1,"fa-solid","fa-circle-exclamation","me-2"],[3,"active","hidden"],[1,"layout-mask",3,"click"],[1,"layout-content"],[1,"px-sm-4","py-4"],[1,"d-flex","flex-column","align-items-center","mt-5"],["styleClass","mt-4",3,"header"],[3,"model"],["pTemplate","footer"],[1,"d-flex","align-items-center","justify-content-between"]],template:function(i,l){if(i&1&&(m(0,"lab-header",0),d(1,se,11,14,"p-dialog",1)(2,ge,6,7)),i&2){let T;f("sticky",l.contentSvc.scrollTop()>16)("settingsXlHidden",l.contentSvc.settingsXlHidden()),n(),g((T=l.errorSvc.message())?1:2,T)}},dependencies:[Z,H,G,Q,U,W,$,Y,K,te,ie,D,J],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}main[_ngcontent-%COMP%]{overflow-x:hidden}.layout-content[_ngcontent-%COMP%]{transition:margin .4s cubic-bezier(.05,.74,.2,.99);margin-left:320px;padding-top:4rem}@media (max-width: 1199.98px){.layout-content[_ngcontent-%COMP%]{margin-left:0;padding-top:6rem}}@media (min-width: 1200px){.layout-content.settings-xl-hidden[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1199.98px){.layout-mask.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:3;background-color:var(--maskbg);width:100%;height:100%}}"],changeDetection:0})}return e})();var ve=[{path:"",component:oe,children:[{path:"list",loadComponent:()=>import("./chunk-33GFOMBQ.js").then(e=>e.ListComponent)},{path:"flow",loadComponent:()=>import("./chunk-WGFPIC6T.js").then(e=>e.FlowComponent)},{path:"data",loadChildren:()=>import("./chunk-6ZRFG3QX.js").then(e=>e.DataModule)}]}],ae=A.forChild(ve);var Je=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=k({type:e});static \u0275inj=R({imports:[ee,ne,ae]})}return e})();export{Je as MainModule};
