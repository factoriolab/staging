import{a as Ht,b as $t,c as Ci,d as vi,e as Xo}from"./chunk-EDKMDOX4.js";import{a as Uo,b as Qo,c as qo,d as Wo}from"./chunk-6CSVWJCN.js";import{a as Yt,b as Jt,c as oi,d as ai,e as li}from"./chunk-AB2PESBE.js";import{a as ri}from"./chunk-JEZUOZET.js";import{a as Bo,b as Po}from"./chunk-6ZGAV7MZ.js";import{a as Do,b as Ro,c as pi,d as Lo,e as No,f as Ko,g as Go,h as Zo}from"./chunk-PS2XZHP6.js";import{b as sn,d as ln}from"./chunk-VTWBICUW.js";import{a as ct}from"./chunk-3SLXZAXE.js";import{a as pn,b as cn,f as dn,g as mn,h as un,i as _n,j as gn,k as fn,l as hn,m as bn,n as Cn}from"./chunk-MKL5SMAB.js";import{I as xo,c as rn,d as It,s as Tt,t as St,u as vo,v as Ti,w as wt}from"./chunk-4I6PI4DQ.js";import{a as Ze,b as Xe,e as si,g as ut}from"./chunk-XHKWQBSJ.js";import"./chunk-YRULWP2O.js";import{a as dt,b as mt}from"./chunk-M722GOBI.js";import{a as So,c as wo,d as Mo,e as ko,f as Oo,g as Eo,h as Vo}from"./chunk-DSQSMI6Y.js";import{a as yi,j as ye,k as Ve,l as fo}from"./chunk-PO6CS6VK.js";import{a as jo,b as Ho}from"./chunk-HKCMXAJQ.js";import{a as xi}from"./chunk-5CPRPA6M.js";import{a as wi,b as Fo,c as Ao,d as $o,i as zo}from"./chunk-2OCYAVWT.js";import"./chunk-AP5DBYCD.js";import{b as Ye}from"./chunk-YHVJNU2N.js";import{e as pt,f as ei,g as ti}from"./chunk-CJCZGPJH.js";import{a as yo,b as Xt,d as Io,e as We,f as Be,g as To,h as Ge,i as Z,j as X,k as ii,l as ni,m as Si}from"./chunk-W3YFTCAI.js";import{c as Ke,d as be,f as Ce,g as fi,h as ve,p as bi}from"./chunk-4XFKTOO7.js";import{A as hi,B as xe,a as G,b as $e,c as ze,h as tn,i as nn,j as Lt,k as Ne,l as on,n as H,o as we,q as k,r as Ft,s as At,t as jt,w as Ue,x as Qe,y as de,z as ae}from"./chunk-CPQAAETV.js";import{b as Zt,e as ho,g as bo,h as rt,i as Co}from"./chunk-NX7N6GPF.js";import{$a as J,$b as Bt,Aa as Pe,Ab as fe,Ba as nt,Bb as Q,Bd as xn,Cb as E,Cd as yn,Db as ee,Dc as st,De as to,Ea as a,Eb as Ct,Ec as Ji,Ed as In,Ee as io,Fa as O,Gc as en,Ge as qt,Hd as Kt,He as Ii,Ia as ht,Ie as no,Jd as Ee,Je as Wt,Kb as m,Kd as lt,L as je,La as ge,Lb as u,Ld as Tn,Le as oo,Ma as Ki,Mb as ke,Md as Sn,Me as ao,Na as Et,Nb as Wi,Ne as so,Oa as W,Ob as P,Oe as lo,Pa as h,Pd as wn,Qd as yt,Qe as ro,Ra as S,Rd as Mn,Re as po,Sa as l,Sd as kn,Se as co,Tb as te,Tc as he,Td as On,Te as mo,Ua as U,Ub as V,Ud as En,Ue as Gt,V as ji,Va as Te,Vb as ie,Ve as uo,Wa as M,Wb as Fe,We as _o,Xa as w,Xd as Vn,Ya as ui,Yb as gi,Yd as Bn,Ye as go,Za as bt,Zc as an,Zd as Ut,_ as He,_a as Y,_d as Pn,aa as se,ab as r,ad as vt,ae as Dn,bb as p,bc as q,be as Rn,cb as C,cc as ot,ce as Ln,da as D,db as $,dc as pe,de as Fn,eb as z,ee as An,fa as F,fb as N,fe as jn,ga as le,gb as y,gc as ne,h as Fi,ha as Hi,hb as b,hc as oe,he as Hn,ia as $i,ib as c,ic as Pt,ie as $n,jb as _i,jc as Gi,je as zn,kb as Vt,kc as ce,ke as Nn,lb as re,lc as Ae,ld as Oe,le as Kn,ma as g,mb as Se,md as zt,me as Un,na as f,nb as A,nd as xt,ne as Qn,o as et,ob as j,oe as qn,p as it,pa as Ot,pb as Ui,pe as Wn,qb as Qi,qc as Zi,qe as Gn,rb as T,rc as Xi,re as Zn,sa as B,sb as v,sd as qe,se as Xn,ta as zi,tb as x,te as Yn,ub as L,uc as Yi,ue as Jn,v as Ai,vc as Dt,vd as Nt,ve as eo,wa as Ni,wb as De,wc as at,wd as vn,xa as _e,xb as Re,xc as Rt,ya as ft,yb as Le,ye as Qt,zb as qi}from"./chunk-GUCGGAKT.js";import{a as Me,b as kt}from"./chunk-TWZW5B45.js";var va=["sublist"],xa=(t,s)=>({"p-submenu-list":t,"p-tieredmenu-root-list":s}),Jo=t=>({"p-menuitem-link":!0,"p-disabled":t}),ya=()=>({exact:!1}),Ia=(t,s)=>({$implicit:t,hasSubmenu:s});function Ta(t,s){if(t&1&&C(0,"li",7),t&2){let e=c().$implicit,n=c();l("ngStyle",n.getItemProp(e,"style"))("ngClass",n.getSeparatorItemClass(e)),S("id",n.getItemId(e))("data-pc-section","separator")}}function Sa(t,s){if(t&1&&C(0,"span",18),t&2){let e=c(4).$implicit,n=c();l("ngClass",n.getItemProp(e,"icon"))("ngStyle",n.getItemProp(e,"iconStyle")),S("data-pc-section","icon")("tabindex",-1)}}function wa(t,s){if(t&1&&(r(0,"span",19),v(1),p()),t&2){let e=c(4).$implicit,n=c();S("data-pc-section","label"),a(),L(" ",n.getItemLabel(e)," ")}}function Ma(t,s){if(t&1&&C(0,"span",20),t&2){let e=c(4).$implicit,n=c();l("innerHTML",n.getItemLabel(e),Pe),S("data-pc-section","label")}}function ka(t,s){if(t&1&&(r(0,"span",21),v(1),p()),t&2){let e=c(4).$implicit,n=c();l("ngClass",n.getItemProp(e,"badgeStyleClass")),a(),x(n.getItemProp(e,"badge"))}}function Oa(t,s){t&1&&C(0,"AngleRightIcon",24),t&2&&(l("styleClass","p-submenu-icon"),S("data-pc-section","submenuicon")("aria-hidden",!0))}function Ea(t,s){}function Va(t,s){t&1&&h(0,Ea,0,0,"ng-template",25),t&2&&l("data-pc-section","submenuicon")("aria-hidden",!0)}function Ba(t,s){if(t&1&&($(0),h(1,Oa,1,3,"AngleRightIcon",22)(2,Va,1,2,null,23),z()),t&2){let e=c(5);a(),l("ngIf",!e.tieredMenu.submenuIconTemplate),a(),l("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}function Pa(t,s){if(t&1&&(r(0,"a",14),h(1,Sa,1,4,"span",15)(2,wa,2,2,"span",16)(3,Ma,1,2,"ng-template",null,2,P)(5,ka,2,2,"span",17)(6,Ba,3,2,"ng-container",10),p()),t&2){let e=T(4),n=c(3).$implicit,i=c();l("target",i.getItemProp(n,"target"))("ngClass",E(11,Jo,i.getItemProp(n,"disabled"))),S("href",i.getItemProp(n,"url"),nt)("data-automationid",i.getItemProp(n,"automationId"))("data-pc-section","action")("tabindex",-1),a(),l("ngIf",i.getItemProp(n,"icon")),a(),l("ngIf",i.getItemProp(n,"escape"))("ngIfElse",e),a(3),l("ngIf",i.getItemProp(n,"badge")),a(),l("ngIf",i.isItemGroup(n))}}function Da(t,s){if(t&1&&C(0,"span",18),t&2){let e=c(4).$implicit,n=c();l("ngClass",n.getItemProp(e,"icon"))("ngStyle",n.getItemProp(e,"iconStyle")),S("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Ra(t,s){if(t&1&&(r(0,"span",19),v(1),p()),t&2){let e=c(4).$implicit,n=c();S("data-pc-section","label"),a(),L(" ",n.getItemLabel(e)," ")}}function La(t,s){if(t&1&&C(0,"span",20),t&2){let e=c(4).$implicit,n=c();l("innerHTML",n.getItemLabel(e),Pe),S("data-pc-section","label")}}function Fa(t,s){if(t&1&&(r(0,"span",21),v(1),p()),t&2){let e=c(4).$implicit,n=c();l("ngClass",n.getItemProp(e,"badgeStyleClass")),a(),x(n.getItemProp(e,"badge"))}}function Aa(t,s){t&1&&C(0,"AngleRightIcon",24),t&2&&(l("styleClass","p-submenu-icon"),S("data-pc-section","submenuicon")("aria-hidden",!0))}function ja(t,s){}function Ha(t,s){t&1&&h(0,ja,0,0,"ng-template",25),t&2&&l("data-pc-section","submenuicon")("aria-hidden",!0)}function $a(t,s){if(t&1&&($(0),h(1,Aa,1,3,"AngleRightIcon",22)(2,Ha,1,2,null,23),z()),t&2){let e=c(5);a(),l("ngIf",!e.tieredMenu.submenuIconTemplate),a(),l("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}function za(t,s){if(t&1&&(r(0,"a",26),h(1,Da,1,5,"span",15)(2,Ra,2,2,"span",16)(3,La,1,2,"ng-template",null,2,P)(5,Fa,2,2,"span",17)(6,$a,3,2,"ng-container",10),p()),t&2){let e=T(4),n=c(3).$implicit,i=c();l("routerLink",i.getItemProp(n,"routerLink"))("queryParams",i.getItemProp(n,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.getItemProp(n,"routerLinkActiveOptions")||Q(20,ya))("target",i.getItemProp(n,"target"))("ngClass",E(21,Jo,i.getItemProp(n,"disabled")))("fragment",i.getItemProp(n,"fragment"))("queryParamsHandling",i.getItemProp(n,"queryParamsHandling"))("preserveFragment",i.getItemProp(n,"preserveFragment"))("skipLocationChange",i.getItemProp(n,"skipLocationChange"))("replaceUrl",i.getItemProp(n,"replaceUrl"))("state",i.getItemProp(n,"state")),S("data-automationid",i.getItemProp(n,"automationId"))("tabindex",-1)("data-pc-section","action"),a(),l("ngIf",i.getItemProp(n,"icon")),a(),l("ngIf",i.getItemProp(n,"escape"))("ngIfElse",e),a(3),l("ngIf",i.getItemProp(n,"badge")),a(),l("ngIf",i.isItemGroup(n))}}function Na(t,s){if(t&1&&($(0),h(1,Pa,7,13,"a",12)(2,za,7,23,"a",13),z()),t&2){let e=c(2).$implicit,n=c();a(),l("ngIf",!n.getItemProp(e,"routerLink")),a(),l("ngIf",n.getItemProp(e,"routerLink"))}}function Ka(t,s){}function Ua(t,s){t&1&&h(0,Ka,0,0,"ng-template")}function Qa(t,s){if(t&1&&($(0),h(1,Ua,1,0,null,27),z()),t&2){let e=c(2).$implicit,n=c();a(),l("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",ee(2,Ia,e.item,n.getItemProp(e,"items")))}}function qa(t,s){if(t&1){let e=y();r(0,"p-tieredMenuSub",28),b("itemClick",function(i){g(e);let o=c(3);return f(o.itemClick.emit(i))})("itemMouseEnter",function(i){g(e);let o=c(3);return f(o.onItemMouseEnter(i))}),p()}if(t&2){let e=c(2).$implicit,n=c();l("items",e.items)("itemTemplate",n.itemTemplate)("autoDisplay",n.autoDisplay)("menuId",n.menuId)("activeItemPath",n.activeItemPath())("focusedItemId",n.focusedItemId)("ariaLabelledBy",n.getItemId(e))("level",n.level+1)}}function Wa(t,s){if(t&1){let e=y();r(0,"li",8,1)(2,"div",9),b("click",function(i){g(e);let o=c().$implicit,d=c();return f(d.onItemClick(i,o))})("mouseenter",function(i){g(e);let o=c().$implicit,d=c();return f(d.onItemMouseEnter({$event:i,processedItem:o}))}),h(3,Na,3,2,"ng-container",10)(4,Qa,2,5,"ng-container",10),p(),h(5,qa,1,8,"p-tieredMenuSub",11),p()}if(t&2){let e=c(),n=e.$implicit,i=e.index,o=c();M(o.getItemProp(n,"styleClass")),l("ngStyle",o.getItemProp(n,"style"))("ngClass",o.getItemClass(n))("pTooltip",o.getItemProp(n,"tooltip"))("tooltipOptions",o.getItemProp(n,"tooltipOptions")),S("id",o.getItemId(n))("data-pc-section","menuitem")("data-p-highlight",o.isItemActive(n))("data-p-focused",o.isItemFocused(n))("data-p-disabled",o.isItemDisabled(n))("aria-label",o.getItemLabel(n))("aria-disabled",o.isItemDisabled(n)||void 0)("aria-haspopup",o.isItemGroup(n)&&!o.getItemProp(n,"to")?"menu":void 0)("aria-expanded",o.isItemGroup(n)?o.isItemActive(n):void 0)("aria-setsize",o.getAriaSetSize())("aria-posinset",o.getAriaPosInset(i)),a(2),S("data-pc-section","content"),a(),l("ngIf",!o.itemTemplate),a(),l("ngIf",o.itemTemplate),a(),l("ngIf",o.isItemVisible(n)&&o.isItemGroup(n))}}function Ga(t,s){if(t&1&&h(0,Ta,1,4,"li",5)(1,Wa,6,21,"li",6),t&2){let e=s.$implicit,n=c();l("ngIf",n.isItemVisible(e)&&n.getItemProp(e,"separator")),a(),l("ngIf",n.isItemVisible(e)&&!n.getItemProp(e,"separator"))}}var Za=["rootmenu"],Xa=["container"],Ya=t=>({"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":t}),Ja=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),es=t=>({value:"visible",params:t});function ts(t,s){if(t&1){let e=y();r(0,"div",3,0),b("click",function(i){g(e);let o=c();return f(o.onOverlayClick(i))})("@overlayAnimation.start",function(i){g(e);let o=c();return f(o.onOverlayAnimationStart(i))})("@overlayAnimation.done",function(i){g(e);let o=c();return f(o.onOverlayAnimationEnd(i))}),r(2,"p-tieredMenuSub",4,1),b("itemClick",function(i){g(e);let o=c();return f(o.onItemClick(i))})("menuFocus",function(i){g(e);let o=c();return f(o.onMenuFocus(i))})("menuBlur",function(i){g(e);let o=c();return f(o.onMenuBlur(i))})("menuKeydown",function(i){g(e);let o=c();return f(o.onKeyDown(i))})("itemMouseEnter",function(i){g(e);let o=c();return f(o.onItemMouseEnter(i))}),p()()}if(t&2){let e=c();M(e.styleClass),l("id",e.id)("ngClass",E(22,Ya,e.popup))("ngStyle",e.style)("@overlayAnimation",E(27,es,ee(24,Ja,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),S("data-pc-section","root")("data-pc-name","tieredmenu"),a(2),l("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var is=(()=>{class t{el;renderer;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=Ni([]);tabindex=0;itemClick=new B;itemMouseEnter=new B;menuFocus=new B;menuBlur=new B;menuKeydown=new B;sublistViewChild;constructor(e,n,i){this.el=e,this.renderer=n,this.tieredMenu=i,gi(()=>{let o=this.activeItemPath();G.isNotEmpty(o)&&this.positionSubmenu()})}positionSubmenu(){if(Ae(this.tieredMenu.platformId)){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(e){let n=e.parentElement.parentElement,i=k.getOffset(n),o=k.getViewport(),d=e.offsetParent?e.offsetWidth:k.getOuterWidth(e),_=k.getOuterWidth(n.children[0]),I="p-submenu-list-flipped";parseInt(i.left,10)+_+d>o.width-k.calculateScrollbarWidth()?k.addClass(e,I):k.hasClass(e,I)&&k.removeClass(e,I)}}}getItemProp(e,n,i=null){return e&&e.item?G.getItemValue(e.item[n],i):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return kt(Me({},this.getItemProp(e,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return kt(Me({},this.getItemProp(e,"class")),{"p-menuitem-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(n=>{let i=this.isItemVisible(n),o=i&&this.getItemProp(n,"separator");return!i||o}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath())return this.activeItemPath().some(n=>n.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return G.isNotEmpty(e.items)}onItemMouseEnter(e){if(this.autoDisplay){let{event:n,processedItem:i}=e;this.itemMouseEnter.emit({originalEvent:n,processedItem:i})}}onItemClick(e,n){this.getItemProp(n,"command",{originalEvent:e,item:n.item}),this.itemClick.emit({originalEvent:e,processedItem:n,isFocus:!0})}static \u0275fac=function(n){return new(n||t)(O(_e),O(ht),O(He(()=>ki)))};static \u0275cmp=F({type:t,selectors:[["p-tieredMenuSub"]],viewQuery:function(n,i){if(n&1&&Se(va,7),n&2){let o;A(o=j())&&(i.sublistViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",V],autoDisplay:[2,"autoDisplay","autoDisplay",V],autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",ie],popup:[2,"popup","popup",V],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",ie],focusedItemId:"focusedItemId",activeItemPath:[1,"activeItemPath"],tabindex:[2,"tabindex","tabindex",ie]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[W],decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","ngClass","id","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem",3,"ngStyle","ngClass","class","pTooltip","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem",3,"ngStyle","ngClass","pTooltip","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level"]],template:function(n,i){if(n&1){let o=y();r(0,"ul",3,0),b("keydown",function(_){return g(o),f(i.menuKeydown.emit(_))})("focus",function(_){return g(o),f(i.menuFocus.emit(_))})("blur",function(_){return g(o),f(i.menuBlur.emit(_))}),h(2,Ga,2,2,"ng-template",4),p()}n&2&&(l("ngClass",ee(9,xa,!i.root,i.root))("id",i.menuId+"_list")("tabindex",i.tabindex),S("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("aria-activedescendant",i.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),a(2),l("ngForOf",i.items))},dependencies:()=>[q,ot,pe,oe,ne,at,Rt,Ue,Z,wi,t],encapsulation:2})}return t})(),ki=(()=>{class t{document;platformId;el;renderer;cd;config;overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;onShow=new B;onHide=new B;templates;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;dirty=!1;focused=!1;activeItemPath=ge([]);number=ge(0);focusedItemInfo=ge({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){let e=this.activeItemPath().find(n=>n.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${G.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,n,i,o,d,_,I){this.document=e,this.platformId=n,this.el=i,this.renderer=o,this.cd=d,this.config=_,this.overlayService=I,gi(()=>{let R=this.activeItemPath();G.isNotEmpty(R)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.id=this.id||$e()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this.submenuIconTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}createProcessedItems(e,n=0,i={},o=""){let d=[];return e&&e.forEach((_,I)=>{let R=(o!==""?o+"_":"")+I,K={item:_,index:I,level:n,key:R,parent:i,parentKey:o};K.items=this.createProcessedItems(_.items,n+1,K,R),d.push(K)}),d}getItemProp(e,n){return e?G.getItemValue(e[n]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&G.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(n=>n.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&G.isNotEmpty(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:n,processedItem:i}=e,o=this.isProcessedItemGroup(i),d=G.isEmpty(i.parent);if(this.isSelected(i)){let{index:I,key:R,level:K,parentKey:me,item:ue}=i;this.activeItemPath.set(this.activeItemPath().filter(gt=>R!==gt.key&&R.startsWith(gt.key))),this.focusedItemInfo.set({index:I,level:K,parentKey:me,item:ue}),this.dirty=!0,k.focus(this.rootmenu.sublistViewChild.nativeElement)}else if(o)this.onItemChange(e);else{let I=d?i:this.activeItemPath().find(R=>R.parentKey==="");this.hide(n),this.changeFocusedItemIndex(n,I?I.index:-1),k.focus(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(e){k.isTouchDevice()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay}):(this.autoDisplay&&(this.dirty=!0),this.dirty&&this.onItemChange(e))}onKeyDown(e){let n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!n&&G.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let n=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,n),e.preventDefault()}onArrowRightKey(e){let n=this.visibleItems[this.focusedItemInfo().index],i=this.isProccessedItemGroup(n),o=n?.item;i&&(this.onItemChange({originalEvent:e,processedItem:n}),this.focusedItemInfo.set({index:-1,parentKey:n.key,item:o}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let n=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(n)&&this.onItemChange({originalEvent:e,processedItem:n})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let n=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,n),e.preventDefault()}}onArrowLeftKey(e){let n=this.visibleItems[this.focusedItemInfo().index],i=this.activeItemPath().find(_=>_.key===n.parentKey);G.isEmpty(n.parent)||(this.focusedItemInfo.set({index:-1,parentKey:i?i.parentKey:"",item:n.item}),this.searchValue="",this.onArrowDownKey(e));let d=this.activeItemPath().filter(_=>_.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(d),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let n=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(n)&&this.onItemChange({originalEvent:e,processedItem:n})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let n=k.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),i=n&&k.findSingle(n,'a[data-pc-section="action"]');if(i?i.click():n&&n.click(),!this.popup){let o=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(o)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e){let{processedItem:n,isFocus:i}=e;if(G.isEmpty(n))return;let{index:o,key:d,level:_,parentKey:I,items:R,item:K}=n,me=G.isNotEmpty(R),ue=this.activeItemPath().filter(gt=>gt.parentKey!==I&&gt.parentKey!==d);me&&ue.push(n),this.focusedItemInfo.set({index:o,level:_,parentKey:I,item:K}),this.activeItemPath.set(ue),me&&(this.dirty=!0),i&&k.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0,this.focusedItemInfo().index===-1&&this.popup}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),k.focus(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}alignOverlay(){this.relativeAlign?k.relativePosition(this.container,this.target):k.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(e){switch(e.toState){case"void":ze.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):k.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&ze.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,n){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),n&&k.focus(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,n){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),n&&k.focus(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(e,n){this.searchValue=(this.searchValue||"")+n;let i=-1,o=!1;return this.focusedItemInfo().index!==-1?(i=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(d=>this.isItemMatched(d)),i=i===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(d=>this.isItemMatched(d)):i+this.focusedItemInfo().index):i=this.visibleItems.findIndex(d=>this.isItemMatched(d)),i!==-1&&(o=!0),i===-1&&this.focusedItemInfo().index===-1&&(i=this.findFirstFocusedItemIndex()),i!==-1&&this.changeFocusedItemIndex(e,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return G.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let n=e>0?G.findLastIndex(this.visibleItems.slice(0,e),i=>this.isValidItem(i)):-1;return n>-1?n:e}findNextItemIndex(e){let n=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(i=>this.isValidItem(i)):-1;return n>-1?n+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,n){if(this.focusedItemInfo().index!==n){let i=this.focusedItemInfo();this.focusedItemInfo.set(kt(Me({},i),{item:this.visibleItems[n].item,index:n})),this.scrollInView()}}scrollInView(e=-1){let n=e!==-1?`${this.id}_${e}`:this.focusedItemId,i=k.findSingle(this.rootmenu.el.nativeElement,`li[id="${n}"]`);i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ft(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){Ae(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{k.isTouchDevice()||this.hide(e,!0)})))}bindOutsideClickListener(){Ae(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let n=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),i=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;n&&i&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&ze.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}static \u0275fac=function(n){return new(n||t)(O(Bt),O(ft),O(_e),O(ht),O(te),O(Ne),O(Lt))};static \u0275cmp=F({type:t,selectors:[["p-tieredMenu"]],contentQueries:function(n,i,o){if(n&1&&re(o,H,4),n&2){let d;A(d=j())&&(i.templates=d)}},viewQuery:function(n,i){if(n&1&&(Se(Za,5),Se(Xa,5)),n&2){let o;A(o=j())&&(i.rootmenu=o.first),A(o=j())&&(i.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",V],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",ie],autoDisplay:[2,"autoDisplay","autoDisplay",V],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",V],tabindex:[2,"tabindex","tabindex",ie]},outputs:{onShow:"onShow",onHide:"onHide"},features:[W],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(n,i){n&1&&h(0,ts,4,29,"div",2),n&2&&l("ngIf",!i.popup||i.visible)},dependencies:[q,pe,ne,is],styles:[`@layer primeng{.p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-tieredmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}}
`],encapsulation:2,data:{animation:[Ke("overlayAnimation",[ve(":enter",[Ce({opacity:0,transform:"scaleY(0.8)"}),be("{{showTransitionParams}}")]),ve(":leave",[be("{{hideTransitionParams}}",Ce({opacity:0}))])])]},changeDetection:0})}return t})(),Oi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=le({type:t});static \u0275inj=se({imports:[ce,st,Qe,X,wi,we,st,X,we]})}return t})();var as=["container"],ss=["defaultbtn"],ls=["menu"];function rs(t,s){t&1&&N(0)}function ps(t,s){if(t&1){let e=y();$(0),r(1,"button",10),b("click",function(i){g(e);let o=c();return f(o.onDefaultButtonClick(i))}),h(2,rs,1,0,"ng-container",8),p(),z()}if(t&2){let e=c();a(),l("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("disabled",e.disabled)("ariaLabel",(e.buttonProps==null?null:e.buttonProps.ariaLabel)||e.label)("autofocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),S("tabindex",e.tabindex),a(),l("ngTemplateOutlet",e.contentTemplate)}}function cs(t,s){if(t&1){let e=y();r(0,"button",11,3),b("click",function(i){g(e);let o=c();return f(o.onDefaultButtonClick(i))}),p()}if(t&2){let e=c();l("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.buttonDisabled)("ariaLabel",e.buttonProps==null?null:e.buttonProps.ariaLabel)("autofocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),S("tabindex",e.tabindex)}}function ds(t,s){t&1&&C(0,"ChevronDownIcon")}function ms(t,s){}function us(t,s){t&1&&h(0,ms,0,0,"ng-template")}var ea=(()=>{class t{model;severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;icon;iconPos="left";label;tooltip;tooltipOptions;style;styleClass;menuStyle;menuStyleClass;appendTo;dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";buttonProps;menuButtonProps;autofocus;set disabled(e){this._disabled=e,this._buttonDisabled=e,this.menuButtonDisabled=e}get disabled(){return this._disabled}tabindex;set menuButtonDisabled(e){this.disabled?this._menuButtonDisabled=this.disabled:this._menuButtonDisabled=e}get menuButtonDisabled(){return this._menuButtonDisabled}set buttonDisabled(e){this.disabled?this.buttonDisabled=this.disabled:this._buttonDisabled=e}get buttonDisabled(){return this._buttonDisabled}onClick=new B;onMenuHide=new B;onMenuShow=new B;onDropdownClick=new B;containerViewChild;buttonViewChild;menu;templates;contentTemplate;dropdownIconTemplate;ariaId;isExpanded=ge(!1);_disabled;_buttonDisabled;_menuButtonDisabled;ngOnInit(){this.ariaId=$e()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}get containerClass(){let e={"p-splitbutton p-component":!0,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-outlined":this.outlined,"p-button-text":this.text,[`p-button-${this.size==="small"?"sm":"lg"}`]:this.size};return Me({},e)}onDefaultButtonClick(e){this.onClick.emit(e),this.menu.hide()}onDropdownButtonClick(e){this.onDropdownClick.emit(e),this.menu?.toggle({currentTarget:this.containerViewChild?.nativeElement,relativeAlign:this.appendTo==null})}onDropdownButtonKeydown(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())}onHide(){this.isExpanded.set(!1),this.onMenuHide.emit()}onShow(){this.isExpanded.set(!0),this.onMenuShow.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=F({type:t,selectors:[["p-splitButton"]],contentQueries:function(n,i,o){if(n&1&&re(o,H,4),n&2){let d;A(d=j())&&(i.templates=d)}},viewQuery:function(n,i){if(n&1&&(Se(as,5),Se(ss,5),Se(ls,5)),n&2){let o;A(o=j())&&(i.containerViewChild=o.first),A(o=j())&&(i.buttonViewChild=o.first),A(o=j())&&(i.menu=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",severity:"severity",raised:[2,"raised","raised",V],rounded:[2,"rounded","rounded",V],text:[2,"text","text",V],outlined:[2,"outlined","outlined",V],size:"size",plain:[2,"plain","plain",V],icon:"icon",iconPos:"iconPos",label:"label",tooltip:"tooltip",tooltipOptions:"tooltipOptions",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonProps:"buttonProps",menuButtonProps:"menuButtonProps",autofocus:[2,"autofocus","autofocus",V],disabled:[2,"disabled","disabled",V],tabindex:[2,"tabindex","tabindex",ie],menuButtonDisabled:"menuButtonDisabled",buttonDisabled:"buttonDisabled"},outputs:{onClick:"onClick",onMenuHide:"onMenuHide",onMenuShow:"onMenuShow",onDropdownClick:"onDropdownClick"},features:[W],decls:10,vars:26,consts:[["container",""],["defaultButton",""],["menu",""],["defaultbtn",""],[3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["type","button","pButton","",1,"p-splitbutton-menubutton","p-button-icon-only",3,"click","keydown","size","severity","text","outlined","disabled","ariaLabel"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"onHide","onShow","id","popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","label","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"]],template:function(n,i){if(n&1){let o=y();r(0,"div",4,0),h(2,ps,3,13,"ng-container",5)(3,cs,2,13,"ng-template",null,1,P),r(5,"button",6),b("click",function(_){return g(o),f(i.onDropdownButtonClick(_))})("keydown",function(_){return g(o),f(i.onDropdownButtonKeydown(_))}),h(6,ds,1,0,"ChevronDownIcon",7)(7,us,1,0,null,8),p(),r(8,"p-tieredMenu",9,2),b("onHide",function(){return g(o),f(i.onHide())})("onShow",function(){return g(o),f(i.onShow())}),p()()}if(n&2){let o=T(4);M(i.styleClass),l("ngClass",i.containerClass)("ngStyle",i.style),a(2),l("ngIf",i.contentTemplate)("ngIfElse",o),a(3),l("size",i.size)("severity",i.severity)("text",i.text)("outlined",i.outlined)("disabled",i.menuButtonDisabled)("ariaLabel",(i.menuButtonProps==null?null:i.menuButtonProps.ariaLabel)||i.expandAriaLabel),S("aria-haspopup",(i.menuButtonProps==null?null:i.menuButtonProps.ariaHasPopup)||!0)("aria-expanded",(i.menuButtonProps==null?null:i.menuButtonProps.ariaExpanded)||i.isExpanded())("aria-controls",(i.menuButtonProps==null?null:i.menuButtonProps.ariaControls)||i.ariaId),a(),l("ngIf",!i.dropdownIconTemplate),a(),l("ngTemplateOutlet",i.dropdownIconTemplate),a(),Te(i.menuStyle),l("id",i.ariaId)("popup",!0)("model",i.model)("styleClass",i.menuStyleClass)("appendTo",i.appendTo)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions)}},dependencies:()=>[q,pe,oe,ne,de,ki,Z,At,pt],styles:[`@layer primeng{.p-splitbutton{display:inline-flex;position:relative}.p-splitbutton .p-splitbutton-defaultbutton,.p-splitbutton.p-button-rounded>.p-splitbutton-defaultbutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-defaultbutton.p-button{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0;border-right:0 none}.p-splitbutton-menubutton,.p-splitbutton.p-button-rounded>.p-splitbutton-menubutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-menubutton.p-button{display:flex;align-items:center;justify-content:center;border-top-left-radius:0;border-bottom-left-radius:0}.p-splitbutton .p-menu{min-width:100%}.p-fluid .p-splitbutton{display:flex}}
`],encapsulation:2,changeDetection:0})}return t})(),ta=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=le({type:t});static \u0275inj=se({imports:[ce,ae,Oi,jt,pt,ae,Oi]})}return t})();var gs=(t,s)=>s.routerLink,fs=(t,s)=>s.href;function hs(t,s){if(t&1){let e=y();r(0,"button",8),m(1,"translate"),b("click",function(){g(e);let i=c();return f(i.contentSvc.toggleSettingsXl())}),p()}t&2&&l("label",u(1,1,"settings.header"))}function bs(t,s){if(t&1&&(r(0,"a",3),C(1,"button",9),m(2,"iconSmClass"),p()),t&2){let e,n=s.$implicit;l("routerLink",n.routerLink),a(),l("icon",u(2,3,n.icon))("pTooltip",(e=n.label)!==null&&e!==void 0?e:"")}}function Cs(t,s){if(t&1&&(r(0,"li")(1,"a",10),C(2,"button",11),m(3,"translate"),p()()),t&2){let e=s.$implicit;a(),l("href",e.href,nt),a(),l("icon",e.icon)("label",u(3,3,e.label))}}var ia=(()=>{class t{title=D(Zi);store=D(he);contentSvc=D(ye);translateSvc=D(Oe);sticky=!1;settingsXlHidden=!1;gameInfo=this.store.selectSignal(Wt);gameOptions=en(it([this.store.select(qt),...xt.map(e=>this.translateSvc.get(lt[e.value].label))]).pipe(et(([e,...n])=>xt.map((i,o)=>[i.value,n[o]]).filter(([i])=>i!==e).map(([i,o])=>({icon:"lab-icon small "+lt[i].icon,label:o,routerLink:lt[i].route})))));links=[{label:"header.source",icon:"fa-brands fa-github",href:"https://github.com/factoriolab/factoriolab"},{label:"header.discord",icon:"fa-brands fa-discord",href:"https://discord.gg/N4FKV687x2"},{label:"header.support",icon:"fa-solid fa-mug-hot",href:"https://ko-fi.com/dcbroad3"}];constructor(){it({objectives:this.store.select(vo),data:this.store.select(co),lang:this.translateSvc.lang$}).pipe(Ji()).subscribe(({objectives:e,data:n})=>{let i=e.map(o=>wn(o)?n.recipeEntities[o.targetId]?.name:n.itemEntities[o.targetId]?.name).find(o=>o!=null);this.title.setTitle(i!=null?`${i} | ${yi}`:yi)})}cancelRouterLink(e){e.preventDefault(),e.stopPropagation()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=F({type:t,selectors:[["lab-header"]],hostVars:4,hostBindings:function(n,i){n&2&&U("sticky",i.sticky)("settings-xl-hidden",i.settingsXlHidden)},inputs:{sticky:"sticky",settingsXlHidden:"settingsXlHidden"},standalone:!0,features:[fe],decls:17,vars:19,consts:[["pButton","","pRipple","","type","button","icon","fa-solid fa-bars",1,"d-inline-flex","d-none","d-xl-flex","p-button-lg","p-button-text","settings-button","me-3",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-bars",1,"d-inline-flex","d-xl-none","p-button-lg","p-button-text","settings-button",3,"click","label"],[1,"d-none","d-sm-flex","p-inputgroup","w-auto"],[3,"routerLink"],["type","button","pButton","","pRipple","","tooltipPosition","bottom",1,"p-button-lg","p-button-text","icon-btn-lg",3,"icon","label","pTooltip"],[1,"d-sm-none",3,"routerLink"],["styleClass","p-button-lg","text","","size","large",3,"onDropdownClick","icon","model"],[1,"header-menu","mb-1","mb-xl-0","px-0","px-sm-4","px-xl-0"],["pButton","","pRipple","","type","button","icon","fa-solid fa-bars",1,"d-inline-flex","d-none","d-xl-flex","p-button-lg","p-button-text","settings-button","me-3",3,"click","label"],["type","button","pButton","","pRipple","","tooltipPosition","bottom",1,"p-button-lg","p-button-text",3,"icon","pTooltip"],["target","_blank",1,"w-100",3,"href"],["pButton","","pRipple","","type","button",1,"p-button-text","p-button-secondary","p-button-sm","d-flex","justify-content-center","w-100",3,"icon","label"]],template:function(n,i){n&1&&(h(0,hs,2,3,"button",0),r(1,"button",1),m(2,"translate"),b("click",function(){return i.contentSvc.toggleSettings()}),p(),r(3,"div",2)(4,"a",3),C(5,"button",4),m(6,"iconSmClass"),m(7,"translate"),m(8,"translate"),p(),Y(9,bs,3,5,"a",3,gs),p(),r(11,"a",5)(12,"p-splitButton",6),m(13,"iconSmClass"),b("onDropdownClick",function(d){return i.cancelRouterLink(d)}),p()(),r(14,"ul",7),Y(15,Cs,4,5,"li",null,fs),p()),n&2&&(w(i.contentSvc.settingsXlHidden()?0:-1),a(),l("label",u(2,9,"settings.header")),a(3),l("routerLink",i.gameInfo().route),a(),l("icon",u(6,11,i.gameInfo().icon))("label",u(7,13,i.gameInfo().label))("pTooltip",u(8,15,"app.resetTooltip")),a(4),J(i.gameOptions()),a(2),l("routerLink",i.gameInfo().route),a(),l("icon",u(13,17,i.gameInfo().icon))("model",i.gameOptions()),a(3),J(i.links))},dependencies:[at,ae,de,ta,ea,Z,X,Ye,xe],styles:["[_nghost-%COMP%]{display:flex;position:fixed;top:0;left:320px;align-items:center;transition:all .4s cubic-bezier(.05,.74,.2,.99);transition-property:width,left;z-index:2;padding:0 1.5rem;width:calc(100% - 320px);height:4rem}.sticky[_nghost-%COMP%]{background-color:var(--header-sticky-color);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}@media (max-width: 1199.98px){[_nghost-%COMP%]{left:0;flex-wrap:wrap;justify-content:space-between;width:100%;height:6rem}}@media (max-width: 575.98px){[_nghost-%COMP%]{padding:0 .25rem}}@media (min-width: 1200px){.settings-xl-hidden[_nghost-%COMP%]{left:0;width:100%}}.header-menu[_ngcontent-%COMP%]{display:flex;margin:0 0 0 auto}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:.5rem}@media (max-width: 1199.98px){.header-menu[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:25%}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin:0}}@media (max-width: 575.98px){.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:33%}}[_nghost-%COMP%]     .p-tieredmenu{right:0;left:unset!important}a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0})}return t})();var vs=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),xs=t=>({value:"visible",params:t});function ys(t,s){if(t&1&&C(0,"span"),t&2){let e=c().$implicit;M("p-message-icon pi "+e.icon),S("data-pc-section","icon")}}function Is(t,s){t&1&&C(0,"CheckIcon"),t&2&&S("data-pc-section","icon")}function Ts(t,s){t&1&&C(0,"InfoCircleIcon"),t&2&&S("data-pc-section","icon")}function Ss(t,s){t&1&&C(0,"TimesCircleIcon"),t&2&&S("data-pc-section","icon")}function ws(t,s){t&1&&C(0,"ExclamationTriangleIcon"),t&2&&S("data-pc-section","icon")}function Ms(t,s){if(t&1&&(r(0,"span",10),$(1),h(2,Is,1,1,"CheckIcon",11)(3,Ts,1,1,"InfoCircleIcon",11)(4,Ss,1,1,"TimesCircleIcon",11)(5,ws,1,1,"ExclamationTriangleIcon",11),z(),p()),t&2){let e=c().$implicit;a(2),l("ngIf",e.severity==="success"),a(),l("ngIf",e.severity==="info"),a(),l("ngIf",e.severity==="error"),a(),l("ngIf",e.severity==="warn")}}function ks(t,s){if(t&1&&C(0,"span",14),t&2){let e=c(2).$implicit;l("innerHTML",e.summary,Pe),S("data-pc-section","summary")}}function Os(t,s){if(t&1&&C(0,"span",15),t&2){let e=c(2).$implicit;l("innerHTML",e.detail,Pe),S("data-pc-section","detail")}}function Es(t,s){if(t&1&&($(0),h(1,ks,1,2,"span",12)(2,Os,1,2,"span",13),z()),t&2){let e=c().$implicit;a(),l("ngIf",e.summary),a(),l("ngIf",e.detail)}}function Vs(t,s){if(t&1&&(r(0,"span",18),v(1),p()),t&2){let e=c(2).$implicit;S("data-pc-section","summary"),a(),x(e.summary)}}function Bs(t,s){if(t&1&&(r(0,"span",19),v(1),p()),t&2){let e=c(2).$implicit;S("data-pc-section","detail"),a(),x(e.detail)}}function Ps(t,s){if(t&1&&h(0,Vs,2,2,"span",16)(1,Bs,2,2,"span",17),t&2){let e=c().$implicit;l("ngIf",e.summary),a(),l("ngIf",e.detail)}}function Ds(t,s){if(t&1){let e=y();r(0,"button",20),b("click",function(){g(e);let i=c().index,o=c(2);return f(o.removeMessage(i))}),C(1,"TimesIcon",21),p()}if(t&2){let e=c(3);S("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),a(),l("styleClass","p-message-close-icon"),S("data-pc-section","closeicon")}}function Rs(t,s){if(t&1&&(r(0,"div",5)(1,"div",6),h(2,ys,1,3,"span",7)(3,Ms,6,4,"span",8)(4,Es,3,2,"ng-container",3)(5,Ps,2,2,"ng-template",null,1,P)(7,Ds,2,4,"button",9),p()()),t&2){let e,n=s.$implicit,i=T(6),o=c(2);M("p-message p-message-"+n.severity),l("@messageAnimation",E(13,xs,ee(10,vs,o.showTransitionOptions,o.hideTransitionOptions))),a(),S("data-pc-section","wrapper")("id",n.id||null),a(),l("ngIf",n.icon),a(),l("ngIf",!n.icon),a(),l("ngIf",!o.escape)("ngIfElse",i),a(3),l("ngIf",o.closable&&((e=n.closable)!==null&&e!==void 0?e:!0))}}function Ls(t,s){if(t&1&&($(0),h(1,Rs,8,15,"div",4),z()),t&2){let e=c();a(),l("ngForOf",e.messages)}}function Fs(t,s){t&1&&N(0)}function As(t,s){if(t&1&&(r(0,"div",22)(1,"div",6),h(2,Fs,1,0,"ng-container",23),p()()),t&2){let e=c();l("ngClass","p-message p-message-"+e.severity),a(2),l("ngTemplateOutlet",e.contentTemplate)}}var na=(()=>{class t{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new B;onClose=new B;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,n,i,o){this.messageService=e,this.el=n,this.cd=i,this.config=o}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);let n=e.filter(i=>this.key===i.key);this.messages=this.messages?[...this.messages,...n]:[...n],this.startMessageLifes(n),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return e&&e.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){let n=this.messages[e];this.messages=this.messages?.filter((i,o)=>o!==e),n&&this.onClose.emit(n),this.valueChange.emit(this.messages)}get icon(){let e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(n=>n.life&&this.startMessageLife(n))}startMessageLife(e){let n=Ai(e.life).subscribe(()=>{this.messages=this.messages?.filter(i=>i!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(i=>i!==n),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(n)}static \u0275fac=function(n){return new(n||t)(O(nn,8),O(_e),O(te),O(Ne))};static \u0275cmp=F({type:t,selectors:[["p-messages"]],contentQueries:function(n,i,o){if(n&1&&re(o,H,4),n&2){let d;A(d=j())&&(i.templates=d)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",V],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",V],key:"key",escape:[2,"escape","escape",V],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[W],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(n,i){if(n&1&&(r(0,"div",2),h(1,Ls,2,1,"ng-container",3)(2,As,3,2,"ng-template",null,0,P),p()),n&2){let o=T(3);M(i.styleClass),l("ngStyle",i.style),S("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),a(),l("ngIf",!i.contentTemplate)("ngIfElse",o)}},dependencies:()=>[q,ot,pe,oe,ne,Ue,hi,vi,xi,Ci,bi],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[Ke("messageAnimation",[ve(":enter",[Ce({opacity:0,transform:"translateY(-25%)"}),be("{{showTransitionParams}}")]),ve(":leave",[be("{{hideTransitionParams}}",Ce({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return t})(),oa=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=le({type:t});static \u0275inj=se({imports:[ce,Qe,hi,vi,xi,Ci,bi]})}return t})();var Hs=(t,s,e)=>({"p-togglebutton p-button p-component":!0,"p-button-icon-only":t,"p-highlight":s,"p-disabled":e}),$s=(t,s)=>({"p-button-icon":!0,"p-button-icon-left":t,"p-button-icon-right":s}),zs=t=>({$implicit:t});function Ns(t,s){if(t&1&&C(0,"span",4),t&2){let e=c(2);M(e.checked?e.onIcon:e.offIcon),l("ngClass",ee(4,$s,e.iconPos==="left",e.iconPos==="right")),S("data-pc-section","icon")}}function Ks(t,s){if(t&1&&h(0,Ns,1,7,"span",3),t&2){let e=c();l("ngIf",e.onIcon||e.offIcon)}}function Us(t,s){t&1&&N(0)}function Qs(t,s){if(t&1&&h(0,Us,1,0,"ng-container",5),t&2){let e=c();l("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",E(2,zs,e.checked))}}function qs(t,s){if(t&1&&(r(0,"span",6),v(1),p()),t&2){let e=c();S("data-pc-section","label"),a(),x(e.checked?e.hasOnLabel?e.onLabel:"":e.hasOffLabel?e.offLabel:"")}}var Ws={provide:yo,useExisting:He(()=>Ei),multi:!0},Ei=(()=>{class t{cd;onLabel;offLabel;onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;inputId;tabindex=0;iconPos="left";autofocus;onChange=new B;templates;iconTemplate;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.iconTemplate=e.template;break;default:this.iconTemplate=e.template;break}})}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onKeyDown(e){switch(e.code){case"Enter":this.toggle(e),e.preventDefault();break;case"Space":this.toggle(e),e.preventDefault();break}}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}static \u0275fac=function(n){return new(n||t)(O(te))};static \u0275cmp=F({type:t,selectors:[["p-toggleButton"]],contentQueries:function(n,i,o){if(n&1&&re(o,H,4),n&2){let d;A(d=j())&&(i.templates=d)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",V],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",ie],iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",V]},outputs:{onChange:"onChange"},features:[qi([Ws]),W],decls:4,vars:17,consts:[["role","switch","pRipple","","pAutoFocus","",3,"click","keydown","ngClass","ngStyle","autofocus"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(n,i){n&1&&(r(0,"div",0),b("click",function(d){return i.toggle(d)})("keydown",function(d){return i.onKeyDown(d)}),h(1,Ks,1,1,"span",1)(2,Qs,1,4,"ng-container")(3,qs,2,2,"span",2),p()),n&2&&(M(i.styleClass),l("ngClass",Ct(13,Hs,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style)("autofocus",i.autofocus),S("tabindex",i.disabled?null:i.tabindex)("aria-checked",i.checked)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),a(),w(i.iconTemplate?2:1),a(2),l("ngIf",i.onLabel||i.offLabel))},dependencies:[q,pe,oe,ne,Ue,At],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%]{position:relative;z-index:1}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover, .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover{border-right:0 none}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%]{border-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0})}return t})(),aa=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=le({type:t});static \u0275inj=se({imports:[ce,Qe,we,jt,we]})}return t})();function Js(t,s){if(t&1&&(r(0,"span",26),v(1),p()),t&2){let e=c(2).$implicit,n=c();a(),x(n.data().recipeEntities[e.targetId].name)}}function el(t,s){if(t&1){let e=y();r(0,"button",24),m(1,"translate"),b("click",function(){g(e);let i=T(8),o=c().$implicit,d=c();return f(i.clickOpen("recipe",d.recipeIds(),o.targetId))}),r(2,"i",25),m(3,"iconSmClass"),r(4,"span"),v(5),p()(),h(6,Js,2,1,"span",26),p(),r(7,"lab-picker",17,4),m(9,"translate"),b("selectId",function(i){g(e);let o=c().$implicit,d=c();return f(d.setTarget(o.id,i))}),p()}if(t&2){let e=c().$implicit,n=c();l("pTooltip",u(1,6,"objectives.selectARecipe")),a(2),M(ke(3,8,e.targetId,"recipe")),a(3),L("#",e.id,""),a(),w(n.contentSvc.isMobile()?-1:6),a(),l("header",u(9,11,"objectives.selectARecipe"))}}function tl(t,s){if(t&1){let e=y();r(0,"button",27),m(1,"iconSmClass"),m(2,"translate"),b("click",function(){g(e);let i=T(4),o=c().$implicit,d=c();return f(i.clickOpen("item",d.itemIds(),o.targetId))}),p(),r(3,"lab-picker",17,5),m(5,"translate"),b("selectId",function(i){g(e);let o=c().$implicit,d=c();return f(d.setTarget(o.id,i))}),p()}if(t&2){let e=c().$implicit,n=c();l("icon",u(1,4,e.targetId))("label",n.contentSvc.isMobile()?"":n.data().itemEntities[e.targetId].name)("pTooltip",u(2,6,"objectives.selectAnItem")),a(3),l("header",u(5,8,"objectives.selectAnItem"))}}function il(t,s){if(t&1){let e=y();r(0,"p-dropdown",22),m(1,"translate"),b("onChange",function(i){g(e);let o=c().$implicit,d=c(),_=T(23),I=T(26);return f(d.changeUnit(o,i.value,_,I))}),p()}if(t&2){let e=c().$implicit,n=c();l("pTooltip",u(1,3,"objectives.unitTooltip"))("options",n.rateUnitOptions())("ngModel",e.unit)}}function nl(t,s){if(t&1){let e=y();r(0,"div",18),C(1,"button",19),h(2,el,10,13)(3,tl,6,10),r(4,"lab-input-number",20),m(5,"translate"),m(6,"translate"),m(7,"translate"),b("setValue",function(i){let o=g(e).$implicit,d=c();return f(d.setValue(o.id,i))}),p(),h(8,il,2,5,"p-dropdown",21),r(9,"p-dropdown",22),m(10,"translate"),b("onChange",function(i){let o=g(e).$implicit,d=c();return f(d.setType(o.id,i.value))}),p(),r(11,"button",23),m(12,"translate"),b("click",function(){let i=g(e).$implicit,o=c();return f(o.removeObjective(i.id))}),p()()}if(t&2){let e=s.$implicit,n=c();a(2),w(e.unit===n.ObjectiveUnit.Machines?2:3),a(2),l("pTooltip",e.type===n.ObjectiveType.Maximize?n.maximizeType()===n.MaximizeType.Weight?u(5,9,"objectives.valueWeightTooltip"):u(6,11,"objectives.valueRatioTooltip"):u(7,13,"objectives.valueTooltip"))("hideButtons",n.contentSvc.isMobile())("value",e.value),a(4),w(e.type!==n.ObjectiveType.Maximize?8:-1),a(),l("pTooltip",u(10,15,"objectives.typeTooltip"))("options",n.objectiveTypeOptions)("ngModel",e.type),a(2),l("pTooltip",u(12,17,"objectives.removeTooltip"))}}function ol(t,s){if(t&1&&C(0,"lab-tooltip",34),t&2){let e=c(2);l("id",e)}}function al(t,s){if(t&1){let e=y();r(0,"div")(1,"div",29)(2,"span",30),v(3),m(4,"translate"),p(),C(5,"i",31),m(6,"iconSmClass"),r(7,"span",32),v(8),p(),h(9,ol,1,1,"ng-template",null,6,P),p(),r(11,"button",33),m(12,"translate"),b("click",function(){g(e);let i=c(),o=c();return f(o.addRecipeLimit(i))}),p()()}if(t&2){let e=T(10),n=c(),i=c();a(3),x(u(4,6,"objectives.errorSimplexUnboundedRecipe")),a(2),M(ke(6,8,n,"recipe")),l("pTooltip",e),a(3),x(i.data().recipeEntities[n].name),a(3),l("label",u(12,11,"objectives.errorSimplexUnboundedAddRecipeLimit"))}}function sl(t,s){t&1&&(r(0,"p-messages",16),h(1,al,13,13,"ng-template",28),p())}function ll(t,s){if(t&1&&C(0,"p-messages",35),t&2){let e=c();l("value",e)("closable",!1)("escape",!1)}}function rl(t,s){t&1&&h(0,ll,1,3,"p-messages",35),t&2&&w(s.length?0:-1)}function pl(t,s){if(t&1&&(h(0,rl,1,1),m(1,"async")),t&2){let e,n=c();w((e=u(1,1,n.messages$))?0:-1,e)}}var sa=(()=>{class t{store=D(he);contentSvc=D(ye);trackSvc=D(Lo);translateSvc=D(Oe);_objectives=this.store.selectSignal(Ti);result=this.store.selectSignal(wt);itemsState=this.store.selectSignal(Zt);itemIds=this.store.selectSignal(Co);data=this.store.selectSignal(rt);maximizeType=this.store.selectSignal(to);beltSpeed=this.store.selectSignal(_o);dispRateInfo=this.store.selectSignal(oo);rateUnitOptions=this.store.selectSignal(ao);recipeIds=this.store.selectSignal(go);paused=this.store.selectSignal(yn);convertObjectiveValues=this.store.selectSignal(In);objectives=Fe(()=>[...this._objectives()]);messages$=it({objectives:this.store.select(Ti),matrixResult:this.store.select(wt),settings:this.store.select(Gt)}).pipe(ji(({objectives:e,matrixResult:n,settings:i})=>this.getMessages(e,n,i)));objectiveTypeOptions=fo;displayRateOptions=Kt;MaximizeType=kn;ObjectiveUnit=Ee;ObjectiveType=Ve;getMessages(e,n,i){if(n.resultType===St.Paused)return this.translateSvc.get("objectives.pausedMessage").pipe(et(o=>[{severity:"info",detail:o}]));if(n.resultType!==St.Failed)return Fi;if(n.simplexStatus==="unbounded"){let o=e.filter(d=>d.type===Ve.Maximize);return o.length&&e.every(d=>d.type!==Ve.Limit)?this.buildErrorMessages("objectives.errorUnbounded","objectives.errorNoLimits",n):o.some(d=>d.unit===Ee.Machines?i.excludedRecipeIds.has(d.targetId):i.excludedItemIds.has(d.targetId))?this.buildErrorMessages("objectives.errorUnbounded","objectives.errorMaximizeExcluded",n):this.buildErrorMessages("objectives.errorUnbounded","objectives.errorUnboundedDetail",n)}else return n.simplexStatus==="no_feasible"?this.buildErrorMessages("objectives.errorInfeasible","objectives.errorInfeasibleDetail",n):this.buildErrorMessages("objectives.error","objectives.errorDetail",n)}buildErrorMessages(e,n,i){return it([this.translateSvc.get(e),this.translateSvc.get(n),this.translateSvc.get("objectives.errorSimplexInfo",{returnCode:i.returnCode??"unknown",simplexStatus:i.simplexStatus??"unknown"})]).pipe(et(([o,d,_])=>[{severity:"error",summary:o,detail:`${d} ${_}`}]))}setObjectiveOrder(e){this.setOrder(e.map(n=>n.id))}changeUnit(e,n,i,o){let d=this.data();if(n===Ee.Machines){if(e.unit!==Ee.Machines){let _=d.itemRecipeIds[e.targetId],I=R=>{this.convertItemsToMachines(e,R,d)};_.length===1?I(_[0]):(o.selectId.pipe(je()).subscribe(R=>{I(R)}),o.clickOpen("recipe",_))}}else if(e.unit===Ee.Machines){let _=Array.from(d.adjustedRecipe[e.targetId].produces),I=R=>{this.convertMachinesToItems(e,R,n,d)};_.length===1?I(_[0]):(i.selectId.pipe(je()).subscribe(R=>{I(R)}),i.clickOpen("item",_))}else this.convertItemsToItems(e,e.targetId,n,d)}convertItemsToMachines(e,n,i){if(this.setUnit(e.id,{targetId:n,unit:Ee.Machines}),!this.convertObjectiveValues()||e.type===Ve.Maximize)return;let o=this.itemsState(),d=this.beltSpeed(),_=this.dispRateInfo(),I=Tt.objectiveNormalizedRate(e,o,d,_,i),R=i.adjustedRecipe[n],K=I.div(R.output[e.targetId]);this.setValue(e.id,K)}convertMachinesToItems(e,n,i,o){if(this.setUnit(e.id,{targetId:n,unit:i}),!this.convertObjectiveValues()||e.type===Ve.Maximize||e.recipe==null)return;let d=this.itemsState(),_=this.beltSpeed(),I=this.dispRateInfo(),R=Tt.objectiveNormalizedRate({id:"",targetId:n,value:qe.one,unit:i,type:Ve.Output},d,_,I,o),me=e.value.mul(e.recipe.output[n]).div(R);this.setValue(e.id,me)}convertItemsToItems(e,n,i,o){if(this.setUnit(e.id,{targetId:n,unit:i}),!this.convertObjectiveValues()||e.type===Ve.Maximize)return;let d=this.itemsState(),_=this.beltSpeed(),I=this.dispRateInfo(),R=Tt.objectiveNormalizedRate(e,d,_,I,o),K=Tt.objectiveNormalizedRate({id:"",targetId:n,value:qe.one,unit:i,type:Ve.Output},d,_,I,o),me=R.div(K);this.setValue(e.id,me)}addItemObjective(e){this.addObjective({targetId:e,unit:Ee.Items})}addRecipeObjective(e){this.addObjective({targetId:e,unit:Ee.Machines})}addRecipeLimit(e){this.addObjective({targetId:e,unit:Ee.Machines,type:Ve.Limit})}removeObjective(e){this.store.dispatch(wo({id:e}))}setOrder(e){this.store.dispatch(Mo({ids:e}))}setTarget(e,n){this.store.dispatch(ko({id:e,value:n}))}setValue(e,n){this.store.dispatch(Oo({id:e,value:n}))}setUnit(e,n){this.store.dispatch(Eo({id:e,objective:n}))}setType(e,n){this.store.dispatch(Vo({id:e,value:n}))}addObjective(e){this.store.dispatch(So({objective:e}))}setDisplayRate(e,n){this.store.dispatch(Ut({displayRate:e,previous:n}))}setPaused(e){this.store.dispatch(bn({paused:e}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=F({type:t,selectors:[["lab-objectives"]],standalone:!0,features:[fe],decls:28,vars:35,consts:[["addItemPicker",""],["addRecipePicker",""],["chooseItemPicker",""],["chooseRecipePicker",""],["editRecipePicker",""],["editItemPicker",""],["tooltip",""],[3,"header"],[1,"objectives-content"],[3,"onReorder","value","dragdrop","trackBy"],["pTemplate","item"],[1,"objectives-buttons","d-flex","flex-wrap","mt-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box","tooltipPosition","top",1,"flex-grow-1","p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry","tooltipPosition","top",1,"flex-grow-1","p-button-outlined",3,"click","label"],["labDropdownTranslate","","styleClass","h-100",3,"onChange","pTooltip","ngModel","options"],["offIcon","fa-solid fa-pause",3,"onChange","ngModel","onIcon","pTooltip"],["severity","warn","styleClass","mt-2"],[3,"selectId","header"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-grip-lines",1,"p-button-outlined","border-end-0","cursor-grab"],["labNoDrag","","tooltipPosition","top",3,"setValue","pTooltip","hideButtons","value"],["labDropdownTranslate","","labNoDrag","","tooltipPosition","top",3,"pTooltip","options","ngModel"],["labDropdownTranslate","","labNoDrag","","tooltipPosition","top",3,"onChange","pTooltip","options","ngModel"],["pButton","","pRipple","","labNoDrag","","type","button","icon","fa-solid fa-xmark","tooltipPosition","left",1,"p-button-outlined",3,"click","pTooltip"],["pButton","","pRipple","","labNoDrag","","type","button","tooltipPosition","top",1,"p-button-outlined","lab-button-icon-only","text-truncate",3,"click","pTooltip"],[1,"p-button-icon"],[1,"p-button-label"],["labNoDrag","","pButton","","pRipple","","type","button","tooltipPosition","top",1,"p-button-outlined","text-truncate",3,"click","icon","label","pTooltip"],["pTemplate",""],[1,"d-flex","align-items-center"],[1,"me-3"],[3,"pTooltip"],[1,"ms-3"],["type","button","pButton","","pRipple","","icon","fa-solid fa-plus",1,"mt-2","p-button-rounded",3,"click","label"],["type","recipe",3,"id"],["styleClass","mt-2",3,"value","closable","escape"]],template:function(n,i){if(n&1){let o=y();r(0,"p-card",7),m(1,"translate"),r(2,"div",8)(3,"p-orderList",9),b("onReorder",function(){return g(o),f(i.setObjectiveOrder(i.objectives()))}),h(4,nl,13,19,"ng-template",10),p(),r(5,"div",11)(6,"button",12),m(7,"translate"),b("click",function(){g(o);let _=T(17);return f(_.clickOpen("item",i.itemIds()))}),p(),r(8,"button",13),m(9,"translate"),b("click",function(){g(o);let _=T(20);return f(_.clickOpen("recipe",i.recipeIds()))}),p(),r(10,"p-dropdown",14),m(11,"translate"),b("onChange",function(_){return g(o),f(i.setDisplayRate(_.value,i.dispRateInfo().option))}),p(),r(12,"p-toggleButton",15),m(13,"translate"),b("onChange",function(_){let I;return g(o),f(i.setPaused((I=_.checked)!==null&&I!==void 0?I:!1))}),p()(),h(14,sl,2,0,"p-messages",16)(15,pl,2,3),p(),r(16,"lab-picker",17,0),m(18,"translate"),b("selectId",function(_){return g(o),f(i.addItemObjective(_))}),p(),r(19,"lab-picker",17,1),m(21,"translate"),b("selectId",function(_){return g(o),f(i.addRecipeObjective(_))}),p(),C(22,"lab-picker",7,2),m(24,"translate"),C(25,"lab-picker",7,3),m(27,"translate"),p()}if(n&2){let o;l("header",u(1,17,"objectives.title")),a(3),l("value",i.objectives())("dragdrop",!0)("trackBy",i.trackSvc.trackById),a(3),l("label",u(7,19,"objectives.addItems")),a(2),l("label",u(9,21,"objectives.addMachines")),a(2),l("pTooltip",u(11,23,"objectives.selectDisplayRate"))("ngModel",i.dispRateInfo().option)("options",i.displayRateOptions),a(2),l("ngModel",i.paused())("onIcon","fa-solid fa-play")("pTooltip",u(13,25,"objectives.pauseTooltip")),a(2),w((o=i.result().unboundedRecipeId)?14:15,o),a(2),l("header",u(18,27,"objectives.selectAnItem")),a(3),l("header",u(21,29,"objectives.selectARecipe")),a(3),l("header",u(24,31,"objectives.selectAnItem")),a(3),l("header",u(27,33,"objectives.selectARecipe"))}},dependencies:[Pt,Ge,We,Be,ae,de,H,Jt,Yt,ti,ei,oa,na,$t,Ht,aa,Ei,X,Z,ri,pi,li,Ye,ct,ut,xe],styles:[".objectives-content[_ngcontent-%COMP%]{max-width:1000px}.objectives-buttons[_ngcontent-%COMP%]{gap:.25rem}.p-inputgroup[_ngcontent-%COMP%]   p-dropdown.icon[_ngcontent-%COMP%]{flex:0 0 36px}@media (min-width: 576px){button.text-truncate[_ngcontent-%COMP%], .p-inputgroup[_ngcontent-%COMP%]   lab-input-number.p-inputwrapper[_ngcontent-%COMP%]{flex:0 0 25%}}@media (max-width: 575.98px){.p-inputgroup[_ngcontent-%COMP%]   lab-input-number.p-inputwrapper[_ngcontent-%COMP%]{flex:0 0 15%}}@media (max-width: 575.98px){[_nghost-%COMP%]     button.lab-button-icon-only{justify-content:center;padding:.5rem 0;width:2.571rem}[_nghost-%COMP%]     button.lab-button-icon-only .p-button-icon{margin:0}[_nghost-%COMP%]     button.lab-button-icon-only .p-button-label{flex:0 0 auto;visibility:hidden;width:0}}"],changeDetection:0})}return t})();var cl=["*",[["p-header"]]],dl=["*","p-header"],ml=t=>({$implicit:t}),la=t=>({transitionParams:t}),ul=t=>({value:"visible",params:t}),_l=t=>({value:"hidden",params:t});function gl(t,s){if(t&1&&C(0,"span",11),t&2){let e=c(3);M(e.accordion.collapseIcon),l("ngClass",e.iconClass),S("aria-hidden",!0)}}function fl(t,s){if(t&1&&C(0,"ChevronDownIcon",11),t&2){let e=c(3);l("ngClass",e.iconClass),S("aria-hidden",!0)}}function hl(t,s){if(t&1&&($(0),h(1,gl,1,4,"span",9)(2,fl,1,2,"ChevronDownIcon",10),z()),t&2){let e=c(2);a(),l("ngIf",e.accordion.collapseIcon),a(),l("ngIf",!e.accordion.collapseIcon)}}function bl(t,s){if(t&1&&C(0,"span",11),t&2){let e=c(3);M(e.accordion.expandIcon),l("ngClass",e.iconClass),S("aria-hidden",!0)}}function Cl(t,s){if(t&1&&C(0,"ChevronRightIcon",11),t&2){let e=c(3);l("ngClass",e.iconClass),S("aria-hidden",!0)}}function vl(t,s){if(t&1&&($(0),h(1,bl,1,4,"span",9)(2,Cl,1,2,"ChevronRightIcon",10),z()),t&2){let e=c(2);a(),l("ngIf",e.accordion.expandIcon),a(),l("ngIf",!e.accordion.expandIcon)}}function xl(t,s){if(t&1&&($(0),h(1,hl,3,2,"ng-container",3)(2,vl,3,2,"ng-container",3),z()),t&2){let e=c();a(),l("ngIf",e.selected),a(),l("ngIf",!e.selected)}}function yl(t,s){}function Il(t,s){t&1&&h(0,yl,0,0,"ng-template")}function Tl(t,s){if(t&1&&(r(0,"span",12),v(1),p()),t&2){let e=c();a(),L(" ",e.header," ")}}function Sl(t,s){t&1&&N(0)}function wl(t,s){t&1&&Vt(0,1,["*ngIf","hasHeaderFacet"])}function Ml(t,s){t&1&&N(0)}function kl(t,s){if(t&1&&($(0),h(1,Ml,1,0,"ng-container",6),z()),t&2){let e=c();a(),l("ngTemplateOutlet",e.contentTemplate)}}var Ol=["*"],Vi=(()=>{class t{el;changeDetector;id;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}headerAriaLevel=2;selectedChange=new B;headerFacet;templates;_selected=!1;get iconClass(){return this.iconPos==="end"?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;loaded=!1;accordion;constructor(e,n,i){this.el=n,this.changeDetector=i,this.accordion=e,this.id=$e()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}toggle(e){if(this.disabled)return!1;let n=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:n});else{if(!this.accordion.multiple)for(var i=0;i<this.accordion.tabs.length;i++)this.accordion.tabs[i].selected&&(this.accordion.tabs[i].selected=!1,this.accordion.tabs[i].selectedChange.emit(!1),this.accordion.tabs[i].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:n})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e?.preventDefault()}findTabIndex(){let e=-1;for(var n=0;n<this.accordion.tabs.length;n++)if(this.accordion.tabs[n]==this){e=n;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){switch(e.code){case"Enter":case"Space":this.toggle(e),e.preventDefault();break;default:break}}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(n){return new(n||t)(O(He(()=>Bi)),O(_e),O(te))};static \u0275cmp=F({type:t,selectors:[["p-accordionTab"]],contentQueries:function(n,i,o){if(n&1&&(re(o,on,4),re(o,H,4)),n&2){let d;A(d=j())&&(i.headerFacet=d),A(d=j())&&(i.templates=d)}},hostAttrs:[1,"p-element"],inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:[2,"disabled","disabled",V],cache:[2,"cache","cache",V],transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:[2,"headerAriaLevel","headerAriaLevel",ie]},outputs:{selectedChange:"selectedChange"},features:[W],ngContentSelectors:dl,decls:12,vars:44,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],["role","heading",1,"p-accordion-header"],["role","button",1,"p-accordion-header-link",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(n,i){n&1&&(_i(cl),r(0,"div",0)(1,"div",1)(2,"a",2),b("click",function(d){return i.toggle(d)})("keydown",function(d){return i.onKeydown(d)}),h(3,xl,3,2,"ng-container",3)(4,Il,1,0,null,4)(5,Tl,2,1,"span",5)(6,Sl,1,0,"ng-container",6)(7,wl,1,0,"ng-content",3),p()(),r(8,"div",7)(9,"div",8),Vt(10),h(11,kl,2,1,"ng-container",3),p()()()),n&2&&(U("p-accordion-tab-active",i.selected),l("ngClass",i.tabStyleClass)("ngStyle",i.tabStyle),S("data-pc-name","accordiontab"),a(),U("p-highlight",i.selected)("p-disabled",i.disabled),S("aria-level",i.headerAriaLevel)("data-p-disabled",i.disabled)("data-pc-section","header"),a(),l("ngClass",i.headerStyleClass)("ngStyle",i.headerStyle),S("tabindex",i.disabled?null:0)("id",i.getTabHeaderActionId(i.id))("aria-controls",i.getTabContentId(i.id))("aria-expanded",i.selected)("aria-disabled",i.disabled)("data-pc-section","headeraction"),a(),l("ngIf",!i.iconTemplate),a(),l("ngTemplateOutlet",i.iconTemplate)("ngTemplateOutletContext",E(34,ml,i.selected)),a(),l("ngIf",!i.hasHeaderFacet),a(),l("ngTemplateOutlet",i.headerTemplate),a(),l("ngIf",i.hasHeaderFacet),a(),l("@tabContent",i.selected?E(38,ul,E(36,la,i.transitionOptions)):E(42,_l,E(40,la,i.transitionOptions))),S("id",i.getTabContentId(i.id))("aria-hidden",!i.selected)("aria-labelledby",i.getTabHeaderActionId(i.id))("data-pc-section","toggleablecontent"),a(),l("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),a(2),l("ngIf",i.contentTemplate&&(i.cache?i.loaded:i.selected)))},dependencies:()=>[q,pe,oe,ne,Si,pt],styles:[`@layer primeng{.p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}}
`],encapsulation:2,data:{animation:[Ke("tabContent",[fi("hidden",Ce({height:"0",visibility:"hidden"})),fi("visible",Ce({height:"*",visibility:"visible"})),ve("visible <=> hidden",[be("{{transitionParams}}")]),ve("void => *",be(0))])]},changeDetection:0})}return t})(),Bi=(()=>{class t{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.updateSelectionState()}selectOnFocus=!1;get headerAriaLevel(){return this._headerAriaLevel}set headerAriaLevel(e){typeof e=="number"&&e>0?this._headerAriaLevel=e:this._headerAriaLevel!==2&&(this._headerAriaLevel=2)}onClose=new B;onOpen=new B;activeIndexChange=new B;tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];constructor(e,n){this.el=e,this.changeDetector=n}onKeydown(e){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":e.shiftKey||this.onTabHomeKey(e);break;case"End":e.shiftKey||this.onTabEndKey(e);break}}focusedElementIsAccordionHeader(){return document.activeElement.tagName.toLowerCase()==="a"&&document.activeElement.classList.contains("p-accordion-header-link")}onTabArrowDownKey(e){if(this.focusedElementIsAccordionHeader()){let n=this.findNextHeaderAction(e.target.parentElement.parentElement.parentElement);n?this.changeFocusedTab(n):this.onTabHomeKey(e),e.preventDefault()}}onTabArrowUpKey(e){if(this.focusedElementIsAccordionHeader()){let n=this.findPrevHeaderAction(e.target.parentElement.parentElement.parentElement);n?this.changeFocusedTab(n):this.onTabEndKey(e),e.preventDefault()}}onTabHomeKey(e){let n=this.findFirstHeaderAction();this.changeFocusedTab(n),e.preventDefault()}changeFocusedTab(e){e&&(k.focus(e),this.selectOnFocus&&this.tabs.forEach((n,i)=>{let o=this.multiple?this._activeIndex.includes(i):i===this._activeIndex;this.multiple?(this._activeIndex||(this._activeIndex=[]),n.id==e.id&&(n.selected=!n.selected,this._activeIndex.includes(i)?this._activeIndex=this._activeIndex.filter(d=>d!==i):this._activeIndex.push(i))):n.id==e.id?(n.selected=!n.selected,this._activeIndex=i):n.selected=!1,n.selectedChange.emit(o),this.activeIndexChange.emit(this._activeIndex),n.changeDetector.markForCheck()}))}findNextHeaderAction(e,n=!1){let i=n?e:e.nextElementSibling,o=k.findSingle(i,'[data-pc-section="header"]');return o?k.getAttribute(o,"data-p-disabled")?this.findNextHeaderAction(o.parentElement.parentElement):k.findSingle(o,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,n=!1){let i=n?e:e.previousElementSibling,o=k.findSingle(i,'[data-pc-section="header"]');return o?k.getAttribute(o,"data-p-disabled")?this.findPrevHeaderAction(o.parentElement.parentElement):k.findSingle(o,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes[0];return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes,n=e[e.length-1];return this.findPrevHeaderAction(n,!0)}onTabEndKey(e){let n=this.findLastHeaderAction();this.changeFocusedTab(n),e.preventDefault()}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(e=>{e.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&this._activeIndex!=null)for(let e=0;e<this.tabs.length;e++){let n=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;n!==this.tabs[e].selected&&(this.tabs[e].selected=n,this.tabs[e].selectedChange.emit(n),this.tabs[e].changeDetector.markForCheck())}}isTabActive(e){return this.multiple?this._activeIndex&&this._activeIndex.includes(e):this._activeIndex===e}getTabProp(e,n){return e.props?e.props[n]:void 0}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((n,i)=>{if(n.selected)if(this.multiple)e.push(i);else{e=i;return}}),this.preventActiveIndexPropagation=!0,this._activeIndex=e,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(O(_e),O(te))};static \u0275cmp=F({type:t,selectors:[["p-accordion"]],contentQueries:function(n,i,o){if(n&1&&re(o,Vi,5),n&2){let d;A(d=j())&&(i.tabList=d)}},hostAttrs:[1,"p-element"],hostBindings:function(n,i){n&1&&b("keydown",function(d){return i.onKeydown(d)})},inputs:{multiple:[2,"multiple","multiple",V],style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",V],headerAriaLevel:"headerAriaLevel"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},features:[W],ngContentSelectors:Ol,decls:2,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(n,i){n&1&&(_i(),r(0,"div",0),Vt(1),p()),n&2&&(M(i.styleClass),l("ngClass","p-accordion p-component")("ngStyle",i.style))},dependencies:[q,ne],encapsulation:2,changeDetection:0})}return t})(),ra=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=le({type:t});static \u0275inj=se({imports:[ce,Si,pt,we]})}return t})();var Vl=["pMenuItemContent",""],pa=t=>({"p-disabled":t}),di=t=>({$implicit:t}),Bl=()=>({exact:!1});function Pl(t,s){t&1&&N(0)}function Dl(t,s){if(t&1&&(r(0,"a",6),h(1,Pl,1,0,"ng-container",7),p()),t&2){let e=c(2),n=T(4);l("target",e.item.target)("ngClass",E(9,pa,e.item.disabled)),S("title",e.item.title)("href",e.item.url||null,nt)("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action"),a(),l("ngTemplateOutlet",n)("ngTemplateOutletContext",E(11,di,e.item))}}function Rl(t,s){t&1&&N(0)}function Ll(t,s){if(t&1&&(r(0,"a",8),h(1,Rl,1,0,"ng-container",7),p()),t&2){let e=c(2),n=T(4);l("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||Q(17,Bl))("target",e.item.target)("ngClass",E(18,pa,e.item.disabled))("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),S("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("title",e.item.title),a(),l("ngTemplateOutlet",n)("ngTemplateOutletContext",E(20,di,e.item))}}function Fl(t,s){if(t&1&&($(0),h(1,Dl,2,13,"a",4)(2,Ll,2,22,"a",5),z()),t&2){let e=c();a(),l("ngIf",!(e.item!=null&&e.item.routerLink)),a(),l("ngIf",e.item==null?null:e.item.routerLink)}}function Al(t,s){}function jl(t,s){t&1&&h(0,Al,0,0,"ng-template")}function Hl(t,s){if(t&1&&($(0),h(1,jl,1,0,null,7),z()),t&2){let e=c();a(),l("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",E(2,di,e.item))}}function $l(t,s){if(t&1&&C(0,"span",12),t&2){let e=c(2);M(e.item.iconClass),l("ngClass",e.item.icon)("ngStyle",e.item.iconStyle)}}function zl(t,s){if(t&1&&(r(0,"span",13),v(1),p()),t&2){let e=c(2);a(),x(e.item.label)}}function Nl(t,s){if(t&1&&(C(0,"span",14),m(1,"safeHtml")),t&2){let e=c(2);l("innerHTML",u(1,1,e.item.label),Pe)}}function Kl(t,s){if(t&1&&(r(0,"span",15),v(1),p()),t&2){let e=c(2);l("ngClass",e.item.badgeStyleClass),a(),x(e.item.badge)}}function Ul(t,s){if(t&1&&h(0,$l,1,4,"span",9)(1,zl,2,1,"span",10)(2,Nl,2,3,"ng-template",null,1,P)(4,Kl,2,2,"span",11),t&2){let e=T(3),n=c();l("ngIf",n.item.icon),a(),l("ngIf",n.item.escape!==!1)("ngIfElse",e),a(3),l("ngIf",n.item.badge)}}var Ql=["list"],ql=["container"],Wl=t=>({"p-menu p-component":!0,"p-menu-overlay":t}),Gl=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),Zl=t=>({value:"visible",params:t}),Pi=t=>({"p-hidden":t}),Xl=(t,s)=>({"p-hidden":t,flex:s}),ca=(t,s,e)=>({"p-hidden":t,"p-focus":s,"p-disabled":e});function Yl(t,s){t&1&&N(0)}function Jl(t,s){if(t&1&&(r(0,"div",9),h(1,Yl,1,0,"ng-container",10),p()),t&2){let e=c(2);S("data-pc-section","start"),a(),l("ngTemplateOutlet",e.startTemplate)}}function er(t,s){if(t&1&&C(0,"li",14),t&2){let e=c().$implicit;l("ngClass",E(1,Pi,e.visible===!1))}}function tr(t,s){if(t&1&&(r(0,"span"),v(1),p()),t&2){let e=c(3).$implicit;a(),x(e.label)}}function ir(t,s){if(t&1&&(C(0,"span",18),m(1,"safeHtml")),t&2){let e=c(3).$implicit;l("innerHTML",u(1,1,e.label),Pe)}}function nr(t,s){if(t&1&&($(0),h(1,tr,2,1,"span",17)(2,ir,2,3,"ng-template",null,2,P),z()),t&2){let e=T(3),n=c(2).$implicit;a(),l("ngIf",n.escape!==!1)("ngIfElse",e)}}function or(t,s){t&1&&N(0)}function ar(t,s){if(t&1&&(r(0,"li",15),h(1,nr,4,2,"ng-container",7)(2,or,1,0,"ng-container",16),p()),t&2){let e=c(),n=e.$implicit,i=e.index,o=c(3);l("ngClass",ee(7,Xl,n.visible===!1,n.visible))("tooltipOptions",n.tooltipOptions),S("data-automationid",n.automationId)("id",o.menuitemId(n,o.id,i)),a(),l("ngIf",!o.submenuHeaderTemplate),a(),l("ngTemplateOutlet",o.submenuHeaderTemplate)("ngTemplateOutletContext",E(10,di,n))}}function sr(t,s){if(t&1&&C(0,"li",14),t&2){let e=c().$implicit,n=c().$implicit;l("ngClass",E(1,Pi,e.visible===!1||n.visible===!1))}}function lr(t,s){if(t&1){let e=y();r(0,"li",20),b("onMenuItemClick",function(i){g(e);let o=c(),d=o.$implicit,_=o.index,I=c().index,R=c(3);return f(R.itemClick(i,R.menuitemId(d,R.id,I,_)))}),p()}if(t&2){let e=c(),n=e.$implicit,i=e.index,o=c(),d=o.$implicit,_=o.index,I=c(3);M(n.styleClass),l("pMenuItemContent",n)("itemTemplate",I.itemTemplate)("ngClass",Ct(13,ca,n.visible===!1||d.visible===!1,I.focusedOptionId()&&I.menuitemId(n,I.id,_,i)===I.focusedOptionId(),I.disabled(n.disabled)))("ngStyle",n.style)("tooltipOptions",n.tooltipOptions),S("data-pc-section","menuitem")("aria-label",I.label(n.label))("data-p-focused",I.isItemFocused(I.menuitemId(n,I.id,_,i)))("data-p-disabled",I.disabled(n.disabled))("aria-disabled",I.disabled(n.disabled))("id",I.menuitemId(n,I.id,_,i))}}function rr(t,s){if(t&1&&h(0,sr,1,3,"li",12)(1,lr,1,17,"li",19),t&2){let e=s.$implicit;l("ngIf",e.separator),a(),l("ngIf",!e.separator)}}function pr(t,s){if(t&1&&h(0,er,1,3,"li",12)(1,ar,3,12,"li",13)(2,rr,2,2,"ng-template",11),t&2){let e=s.$implicit;l("ngIf",e.separator),a(),l("ngIf",!e.separator),a(),l("ngForOf",e.items)}}function cr(t,s){if(t&1&&h(0,pr,3,3,"ng-template",11),t&2){let e=c(2);l("ngForOf",e.model)}}function dr(t,s){if(t&1&&C(0,"li",14),t&2){let e=c().$implicit;l("ngClass",E(1,Pi,e.visible===!1))}}function mr(t,s){if(t&1){let e=y();r(0,"li",20),b("onMenuItemClick",function(i){g(e);let o=c(),d=o.$implicit,_=o.index,I=c(3);return f(I.itemClick(i,I.menuitemId(d,I.id,_)))}),p()}if(t&2){let e=c(),n=e.$implicit,i=e.index,o=c(3);M(n.styleClass),l("pMenuItemContent",n)("itemTemplate",o.itemTemplate)("ngClass",Ct(13,ca,n.visible===!1,o.focusedOptionId()&&o.menuitemId(n,o.id,i,o.j)===o.focusedOptionId(),o.disabled(n.disabled)))("ngStyle",n.style)("tooltipOptions",n.tooltipOptions),S("data-pc-section","menuitem")("aria-label",o.label(n.label))("data-p-focused",o.isItemFocused(o.menuitemId(n,o.id,i)))("data-p-disabled",o.disabled(n.disabled))("aria-disabled",o.disabled(n.disabled))("id",o.menuitemId(n,o.id,i))}}function ur(t,s){if(t&1&&h(0,dr,1,3,"li",12)(1,mr,1,17,"li",19),t&2){let e=s.$implicit;l("ngIf",e.separator),a(),l("ngIf",!e.separator)}}function _r(t,s){if(t&1&&h(0,ur,2,2,"ng-template",11),t&2){let e=c(2);l("ngForOf",e.model)}}function gr(t,s){t&1&&N(0)}function fr(t,s){if(t&1&&(r(0,"div",21),h(1,gr,1,0,"ng-container",10),p()),t&2){let e=c(2);S("data-pc-section","end"),a(),l("ngTemplateOutlet",e.endTemplate)}}function hr(t,s){if(t&1){let e=y();r(0,"div",4,0),b("click",function(i){g(e);let o=c();return f(o.onOverlayClick(i))})("@overlayAnimation.start",function(i){g(e);let o=c();return f(o.onOverlayAnimationStart(i))})("@overlayAnimation.done",function(i){g(e);let o=c();return f(o.onOverlayAnimationEnd(i))}),h(2,Jl,2,2,"div",5),r(3,"ul",6,1),b("focus",function(i){g(e);let o=c();return f(o.onListFocus(i))})("blur",function(i){g(e);let o=c();return f(o.onListBlur(i))})("keydown",function(i){g(e);let o=c();return f(o.onListKeyDown(i))}),h(5,cr,1,1,null,7)(6,_r,1,1,null,7),p(),h(7,fr,2,2,"div",8),p()}if(t&2){let e=c();M(e.styleClass),l("ngClass",E(18,Wl,e.popup))("ngStyle",e.style)("@overlayAnimation",E(23,Zl,ee(20,Gl,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),S("data-pc-name","menu")("id",e.id),a(2),l("ngIf",e.startTemplate),a(),S("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),a(2),l("ngIf",e.hasSubMenu()),a(),l("ngIf",!e.hasSubMenu()),a(),l("ngIf",e.endTemplate)}}var da=(()=>{class t{platformId;sanitizer;constructor(e,n){this.platformId=e,this.sanitizer=n}transform(e){return!e||!Ae(this.platformId)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(n){return new(n||t)(O(ft,16),O(Xi,16))};static \u0275pipe=$i({name:"safeHtml",type:t,pure:!0})}return t})(),br=(()=>{class t{item;itemTemplate;onMenuItemClick=new B;menu;constructor(e){this.menu=e}onItemClick(e,n){this.onMenuItemClick.emit({originalEvent:e,item:n})}static \u0275fac=function(n){return new(n||t)(O(He(()=>Di)))};static \u0275cmp=F({type:t,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},attrs:Vl,decls:5,vars:3,consts:[["itemContent",""],["htmlLabel",""],[1,"p-menuitem-content",3,"click"],[4,"ngIf"],["class","p-menuitem-link","pRipple","",3,"target","ngClass",4,"ngIf"],["routerLinkActive","p-menuitem-link-active","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",1,"p-menuitem-link",3,"target","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menuitem-link-active","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"]],template:function(n,i){if(n&1){let o=y();r(0,"div",2),b("click",function(_){return g(o),f(i.onItemClick(_,i.item))}),h(1,Fl,3,2,"ng-container",3)(2,Hl,2,4,"ng-container",3)(3,Ul,5,4,"ng-template",null,0,P),p()}n&2&&(S("data-pc-section","content"),a(),l("ngIf",!i.itemTemplate),a(),l("ngIf",i.itemTemplate))},dependencies:[q,pe,oe,ne,at,Rt,Ue,da],encapsulation:2})}return t})(),Di=(()=>{class t{document;platformId;el;renderer;cd;config;overlayService;model;popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;onShow=new B;onHide=new B;onBlur=new B;onFocus=new B;listViewChild;containerViewChild;templates;startTemplate;endTemplate;itemTemplate;submenuHeaderTemplate;container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=Fe(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=ge(-1);selectedOptionIndex=ge(-1);focused=!1;overlayVisible=!1;relativeAlign;constructor(e,n,i,o,d,_,I){this.document=e,this.platformId=n,this.el=i,this.renderer=o,this.cd=d,this.config=_,this.overlayService=I,this.id=this.id||$e()}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.visible&&this.target!==e.currentTarget&&this.hide(),this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.detectChanges()}ngOnInit(){this.popup||this.bindDocumentClickListener()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template;break;case"itemTemplate":this.itemTemplate=e.template;break;case"submenuheader":this.submenuHeaderTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),k.focus(this.listViewChild.nativeElement),this.preventDocumentDefault=!0);break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&ze.clear(e.element);break}}alignOverlay(){this.relativeAlign?k.relativePosition(this.container,this.target):k.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):k.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&ze.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.detectChanges()}onWindowResize(){this.visible&&!k.isTouchDevice()&&this.hide()}menuitemId(e,n,i,o){return e?.id??`${n}_${i}${o!==void 0?"_"+o:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&(k.focus(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let n=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(n),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)k.focus(this.target),this.hide(),e.preventDefault();else{let n=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(n),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(k.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let n=k.findSingle(this.containerViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),i=n&&k.findSingle(n,"a");this.popup&&k.focus(this.target),i?i.click():n&&n.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let i=[...k.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(o=>o.id===e);return i>-1?i+1:0}findPrevOptionIndex(e){let i=[...k.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(o=>o.id===e);return i>-1?i-1:0}changeFocusedOptionIndex(e){let n=k.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(n.length>0){let i=e>=n.length?n.length-1:e<0?0:e;i>-1&&this.focusedOptionIndex.set(n[i].getAttribute("id"))}}itemClick(e,n){let{originalEvent:i,item:o}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),o.disabled){i.preventDefault();return}!o.url&&!o.routerLink&&i.preventDefault(),o.command&&o.command({originalEvent:i,item:o}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==n&&this.focusedOptionIndex.set(n)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&Ae(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",n=>{let i=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(n.target),o=!(this.target&&(this.target===n.target||this.target.contains(n.target)));!this.popup&&i&&o&&this.onListBlur(n),this.preventDocumentDefault&&this.overlayVisible&&i&&o&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&Ae(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&Ae(this.platformId)&&(this.scrollHandler=new Ft(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&ze.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener()}hasSubMenu(){if(this.model){for(var e of this.model)if(e.items)return!0}return!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(n=>n.visible!==!1):e.visible===!1}static \u0275fac=function(n){return new(n||t)(O(Bt),O(ft),O(_e),O(ht),O(te),O(Ne),O(Lt))};static \u0275cmp=F({type:t,selectors:[["p-menu"]],contentQueries:function(n,i,o){if(n&1&&re(o,H,4),n&2){let d;A(d=j())&&(i.templates=d)}},viewQuery:function(n,i){if(n&1&&(Se(Ql,5),Se(ql,5)),n&2){let o;A(o=j())&&(i.listViewChild=o.first),A(o=j())&&(i.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",V],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",ie],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",ie]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[W],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","ngClass","ngStyle"],["class","p-menu-start",4,"ngIf"],["role","menu",1,"p-menu-list","p-reset",3,"focus","blur","keydown"],[4,"ngIf"],["class","p-menu-end",4,"ngIf"],[1,"p-menu-start"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["class","p-menuitem-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menuitem-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","menuitem",3,"pMenuItemContent","itemTemplate","ngClass","ngStyle","class","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",1,"p-menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngClass","ngStyle","tooltipOptions"],[1,"p-menu-end"]],template:function(n,i){n&1&&h(0,hr,8,25,"div",3),n&2&&l("ngIf",!i.popup||i.visible)},dependencies:[q,ot,pe,oe,ne,Z,br,da],styles:[`@layer primeng{.p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}}
`],encapsulation:2,data:{animation:[Ke("overlayAnimation",[ve(":enter",[Ce({opacity:0,transform:"scaleY(0.8)"}),be("{{showTransitionParams}}")]),ve(":leave",[be("{{hideTransitionParams}}",Ce({opacity:0}))])])]},changeDetection:0})}return t})(),ma=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=le({type:t});static \u0275inj=se({imports:[ce,st,Qe,X,we,st,X,we]})}return t})();var vr=()=>({width:"310px"});function xr(t,s){if(t&1){let e=y();r(0,"button",11),m(1,"translate"),b("click",function(){g(e);let i=c(2);return f(i.reset())}),p()}t&2&&l("label",u(1,1,"reset"))}function yr(t,s){if(t&1){let e=y();h(0,xr,2,3,"button",8),r(1,"button",9),m(2,"translate"),b("click",function(){g(e);let i=c();return f(i.hide())}),p(),r(3,"button",10),m(4,"translate"),b("click",function(){g(e);let i=c();return f(i.hide(!0))}),p()}if(t&2){let e=c();w(e.modified?0:-1),a(),l("label",u(2,3,"ok")),a(2),l("label",u(4,5,"cancel"))}}var _a=(()=>{class t extends si{store=D(he);contentSvc=D(ye);editValue=Me({},Qt.costs);rational=qe;get modified(){return Object.keys(this.editValue).some(e=>this.editValue[e]!==Qt.costs[e])}initEdit(e){this.editValue=Me({},e)}open(e){this.initEdit(e),this.show()}reset(){this.editValue=Me({},Qt.costs)}save(){let e=this.editValue;this.store.dispatch(eo({costs:e}))}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ot(t)))(i||t)}})();static \u0275cmp=F({type:t,selectors:[["lab-costs"]],standalone:!0,features:[Et,fe],decls:53,vars:64,consts:[[3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","header"],[1,"w-100"],[3,"pTooltip"],["width","8rem",3,"setValue","value"],[1,"p-2"],[3,"onChange","ngModel","binary"],["width","8rem",3,"setValue","value","minimum","maximum"],["pTemplate","footer"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"click","label"]],template:function(n,i){n&1&&(r(0,"p-dialog",0),m(1,"translate"),Le("visibleChange",function(d){return Re(i.visible,d)||(i.visible=d),d}),b("onHide",function(){return i.save()}),r(2,"table",1)(3,"tr",2),m(4,"translate"),r(5,"td"),v(6),m(7,"translate"),p(),r(8,"td")(9,"lab-input-number",3),b("setValue",function(d){return i.editValue.factor=d}),p()()(),r(10,"tr",2),m(11,"translate"),r(12,"td"),v(13),m(14,"translate"),p(),r(15,"td")(16,"lab-input-number",3),b("setValue",function(d){return i.editValue.machine=d}),p()()(),r(17,"tr",2),m(18,"translate"),r(19,"td"),v(20),m(21,"translate"),p(),r(22,"td",4)(23,"p-checkbox",5),b("onChange",function(d){return i.editValue.footprint=d.checked?i.rational.one:i.rational.zero}),p()()(),r(24,"tr",2),m(25,"translate"),r(26,"td"),v(27),m(28,"translate"),p(),r(29,"td")(30,"lab-input-number",3),b("setValue",function(d){return i.editValue.unproduceable=d}),p()()(),r(31,"tr",2),m(32,"translate"),r(33,"td"),v(34),m(35,"translate"),p(),r(36,"td")(37,"lab-input-number",3),b("setValue",function(d){return i.editValue.excluded=d}),p()()(),r(38,"tr",2),m(39,"translate"),r(40,"td"),v(41),m(42,"translate"),p(),r(43,"td")(44,"lab-input-number",3),b("setValue",function(d){return i.editValue.surplus=d}),p()()(),r(45,"tr",2),m(46,"translate"),r(47,"td"),v(48),m(49,"translate"),p(),r(50,"td")(51,"lab-input-number",6),b("setValue",function(d){return i.editValue.maximize=d}),p()()()(),h(52,yr,5,7,"ng-template",7),p()),n&2&&(Te(Q(63,vr)),De("visible",i.visible),l("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("header",u(1,33,"costs.header")),a(3),l("pTooltip",u(4,35,"costs.recipeTooltip")),a(3),x(u(7,37,"costs.recipe")),a(3),l("value",i.editValue.factor),a(),l("pTooltip",u(11,39,"costs.machineTooltip")),a(3),x(u(14,41,"costs.machine")),a(3),l("value",i.editValue.machine),a(),l("pTooltip",u(18,43,"costs.footprintTooltip")),a(3),x(u(21,45,"costs.footprint")),a(3),l("ngModel",i.editValue.footprint.nonzero())("binary",!0),a(),l("pTooltip",u(25,47,"costs.unproduceableTooltip")),a(3),x(u(28,49,"costs.unproduceable")),a(3),l("value",i.editValue.unproduceable),a(),l("pTooltip",u(32,51,"costs.excludedTooltip")),a(3),x(u(35,53,"costs.excluded")),a(3),l("value",i.editValue.excluded),a(),l("pTooltip",u(39,55,"costs.surplusTooltip")),a(3),x(u(42,57,"costs.surplus")),a(3),l("value",i.editValue.surplus),a(),l("pTooltip",u(46,59,"costs.maximizeTooltip")),a(3),x(u(49,61,"costs.maximize")),a(3),l("value",i.editValue.maximize)("minimum",null)("maximum",i.rational.zero))},dependencies:[Ge,We,Be,ae,de,H,mt,dt,Xe,Ze,X,Z,ct,xe],styles:["td[_ngcontent-%COMP%]:last-child{text-align:end}"],changeDetection:0})}return t})();var ga=(()=>{class t{el;ngModel;control;cd;config;autoResize;variant="outlined";onResize=new B;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(e,n,i,o,d){this.el=e,this.ngModel=n,this.control=i,this.cd=o,this.config=d}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(O(_e),O(Be,8),O(Io,8),O(te),O(Ne))};static \u0275dir=Hi({type:t,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:6,hostBindings:function(n,i){n&1&&b("input",function(d){return i.onInput(d)}),n&2&&U("p-filled",i.filled)("p-inputtextarea-resizable",i.autoResize)("p-variant-filled",i.variant==="filled"||i.config.inputStyle()==="filled")},inputs:{autoResize:[2,"autoResize","autoResize",V],variant:"variant"},outputs:{onResize:"onResize"},features:[W]})}return t})(),fa=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=le({type:t});static \u0275inj=se({imports:[ce]})}return t})();var wr=["filterInput"],Mr=()=>({minHeight:"528px",height:"80vh",width:"50vw"}),kr=()=>({"768px":"80vw","576px":"100vw"}),Or=()=>({width:"30vw"}),Er=()=>({"768px":"50vw","576px":"90vw"}),Vr=()=>({height:"calc(80vh - 165px)",minHeight:"363px"}),Br=t=>({title:"techPicker.available",ids:t,class:"p-button-text"}),Pr=t=>({title:"techPicker.locked",ids:t,class:"p-button-danger"}),Dr=t=>({title:"techPicker.researched",ids:t,class:"p-button-success"}),Rr=(t,s)=>({id:t,class:s});function Lr(t,s){if(t&1){let e=y();r(0,"div",15)(1,"span",7),v(2),m(3,"translate"),p(),r(4,"button",19),m(5,"translate"),b("click",function(){g(e);let i=c();return f(i.copyScriptToClipboard())}),p(),C(6,"a",20),m(7,"translate"),p()}t&2&&(a(2),x(u(3,3,"techPicker.exportFromFactorio")),a(2),l("label",u(5,5,"techPicker.exportCopyScript")),a(2),l("label",u(7,7,"techPicker.exportUseMod")))}function Fr(t,s){if(t&1){let e=y();r(0,"button",21),m(1,"translate"),b("click",function(){g(e);let i=c();return f(i.importTechs())}),p(),r(2,"button",22),m(3,"translate"),b("click",function(){g(e);let i=c();return f(i.importVisible=!1)}),p()}t&2&&(l("label",u(1,2,"ok")),a(2),l("label",u(3,4,"cancel")))}function Ar(t,s){t&1&&N(0)}function jr(t,s){t&1&&N(0)}function Hr(t,s){t&1&&N(0)}function $r(t,s){t&1&&(r(0,"i"),v(1),m(2,"translate"),p()),t&2&&(a(),x(u(2,1,"none")))}function zr(t,s){t&1&&N(0)}function Nr(t,s){if(t&1&&h(0,zr,1,0,"ng-container",23),t&2){let e=s.$implicit,n=c().class;c();let i=T(7);l("ngTemplateOutlet",i)("ngTemplateOutletContext",ee(2,Rr,e,n))}}function Kr(t,s){if(t&1&&(r(0,"h3"),v(1),m(2,"translate"),p(),r(3,"div",24),h(4,$r,3,3,"i"),Y(5,Nr,1,5,"ng-container",null,bt),p()),t&2){let e=s.title,n=s.ids;a(),x(u(2,2,e)),a(3),w(n.length===0?4:-1),a(),J(n)}}function Ur(t,s){if(t&1&&C(0,"lab-tooltip",26),t&2){let e=c().id;l("id",e)}}function Qr(t,s){if(t&1){let e=y();r(0,"button",25),m(1,"iconSmClass"),b("click",function(){let i=g(e).id,o=c(2);return f(o.clickId(i))}),h(2,Ur,1,1,"ng-template",null,4,P),p()}if(t&2){let e,n=s.id,i=s.class,o=T(3),d=c(2);M(i),U("hover-active",d.selection().indexOf(n)===-1),l("label",d.showTechLabels()&&((e=d.data().itemEntities[n])==null?null:e.name)||"")("icon",u(1,7,n))("pTooltip",o)}}function qr(t,s){if(t&1&&(r(0,"p-scrollPanel"),h(1,Ar,1,0,"ng-container",23)(2,jr,1,0,"ng-container",23)(3,Hr,1,0,"ng-container",23)(4,Kr,7,4,"ng-template",null,2,P)(6,Qr,4,9,"ng-template",null,3,P),p()),t&2){let e=T(5),n=c();Te(Q(8,Vr)),a(),l("ngTemplateOutlet",e)("ngTemplateOutletContext",E(9,Br,n.status().available)),a(),l("ngTemplateOutlet",e)("ngTemplateOutletContext",E(11,Pr,n.status().locked)),a(),l("ngTemplateOutlet",e)("ngTemplateOutletContext",E(13,Dr,n.status().researched))}}function Wr(t,s){if(t&1){let e=y();r(0,"button",21),m(1,"translate"),b("click",function(){g(e);let i=c();return f(i.hide())}),p(),r(2,"button",22),m(3,"translate"),b("click",function(){g(e);let i=c();return f(i.hide(!0))}),p()}t&2&&(l("label",u(1,2,"ok")),a(2),l("label",u(3,4,"cancel")))}var ha=(()=>{class t extends si{store=D(he);filterSvc=D(tn);translateSvc=D(Oe);contentSvc=D(ye);filterInput=Ki.required("filterInput");selectIds=new B;data=this.store.selectSignal(rt);showTechLabels=this.store.selectSignal(xn);filter=ge("");selection=ge([]);allSelected=Fe(()=>this.selection().length===this.data().technologyIds.length);status=Fe(()=>{let e=this.data(),n=this.filter(),i=this.selection(),o=new Set(i),d=[],_=[],I=e.technologyIds;if(n){let K=I.map(ue=>e.itemEntities[ue]);I=this.filterSvc.filter(K,["name"],n,"contains").map(ue=>ue.id),i=i.filter(ue=>I.includes(ue))}let R=i;for(let K of I)if(!o.has(K)){let me=e.technologyEntities[K];me.prerequisites==null||me.prerequisites.every(ue=>o.has(ue))?d.push(K):_.push(K)}return{available:d,locked:_,researched:R}});importVisible=!1;importValue="";Game=zt;clickOpen(e){this.selection.set(Array.from(e)),this.show(),this.contentSvc.isMobile()||setTimeout(()=>{this.filterInput().nativeElement.focus()})}selectAll(e){this.selection.set(e?[...this.data().technologyIds]:[])}openImport(e){this.importVisible=!0,this.importValue="",setTimeout(()=>{e.focus()})}copyScriptToClipboard(){window.navigator.clipboard.writeText(`/c local list = {}
for _, tech in pairs(game.player.force.technologies) do
    if tech.researched then
        list[#list + 1] = tech.name
    end
end
game.write_file("techs.txt", table.concat(list, ","))
`),this.translateSvc.get("techPicker.exportScriptCopied").pipe(je()).subscribe(n=>{this.contentSvc.showToast$.next({severity:"success",detail:n,contentStyleClass:"detail-only"})})}importTechs(){let e=this.importValue.split(",").map(i=>i.trim()).map(i=>{if(!i)return"";let o=`${i}-technology`;return this.data().technologyIds.includes(o)?o:this.data().technologyIds.includes(i)?i:""}).filter(i=>!!i),n=new Set(e);this.addPrerequisites(n),this.selection.set(Array.from(n)),this.importValue="",this.importVisible=!1}clickId(e){let n=new Set(this.selection());if(n.has(e)){n.delete(e);let i;do{i=new Set;for(let o of n)this.data().technologyEntities[o].prerequisites?.some(_=>!n.has(_))&&i.add(o);i.forEach(o=>n.delete(o))}while(i.size)}else n.add(e),this.addPrerequisites(n);this.selection.set(Array.from(n))}addPrerequisites(e){let n;do{n=new Set;for(let i of e)this.data().technologyEntities[i].prerequisites?.filter(d=>!e.has(d)).forEach(d=>n.add(d));n.forEach(i=>e.add(i))}while(n.size)}save(){let e=this.selection(),n=this.data();e.length===n.technologyIds.length&&this.selectIds.emit(void 0),this.selectIds.emit(new Set(e))}setShowTechLabels(e){this.store.dispatch(fn({showTechLabels:e}))}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ot(t)))(i||t)}})();static \u0275cmp=F({type:t,selectors:[["lab-tech-picker"]],viewQuery:function(n,i){n&1&&Ui(i.filterInput,wr,5),n&2&&Qi()},outputs:{selectIds:"selectIds"},standalone:!0,features:[Et,fe],decls:28,vars:50,consts:[["filterInput",""],["importInput",""],["techSet",""],["techButton",""],["tooltip",""],["styleClass","picker-dialog","appendTo","body",3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","header","breakpoints"],[1,"d-flex","w-100","my-1","p-inputgroup"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-magnifying-glass"],["pInputText","","type","text",1,"w-100",3,"input","ngModel"],[1,"p-inputgroup-addon","flex-shrink-0"],["labelStyleClass","text-nowrap",3,"onChange","binary","label","ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-file-import",1,"flex-shrink-0",3,"click","label","pTooltip"],["appendTo","body",3,"visibleChange","visible","modal","dismissableMask","draggable","resizable","breakpoints","header"],[1,"d-flex","flex-column"],[1,"p-inputgroup","mb-3"],["rows","10","pInputTextarea","",1,"mt-2","w-100",3,"ngModelChange","keydown.enter","ngModel"],["pTemplate","footer"],[3,"style"],["pButton","","pRipple","","type","button","icon","fa-solid fa-copy",1,"p-button-outlined",3,"click","label"],["href","https://mods.factorio.com/mod/export-researched-technologies","target","_blank","pButton","","pRipple","","icon","fa-solid fa-link",1,"text-decoration-none","p-inputgroup-addon","p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-wrap","invert"],["pButton","","pRipple","","type","button","tooltipPosition","bottom",1,"me-1","mb-1",3,"click","label","icon","pTooltip"],["type","technology",3,"id"]],template:function(n,i){if(n&1){let o=y();r(0,"p-dialog",5),m(1,"translate"),Le("visibleChange",function(_){return g(o),Re(i.visible,_)||(i.visible=_),f(_)}),b("onHide",function(){return g(o),f(i.onHide())}),r(2,"div",6)(3,"span",7),C(4,"i",8),p(),r(5,"input",9,0),b("input",function(){g(o);let _=T(6);return f(i.filter.set(_.value))}),p(),r(7,"span",10)(8,"p-checkbox",11),m(9,"translate"),b("onChange",function(_){return g(o),f(i.selectAll(_.checked))}),p()(),r(10,"span",10)(11,"p-checkbox",11),m(12,"translate"),b("onChange",function(_){return g(o),f(i.setShowTechLabels(_.checked))}),p()(),r(13,"button",12),m(14,"translate"),m(15,"translate"),b("click",function(){g(o);let _=T(24);return f(i.openImport(_))}),p(),r(16,"p-dialog",13),m(17,"translate"),Le("visibleChange",function(_){return g(o),Re(i.importVisible,_)||(i.importVisible=_),f(_)}),r(18,"div",14),h(19,Lr,8,9,"div",15),r(20,"div"),v(21),m(22,"translate"),p(),r(23,"textarea",16,1),Le("ngModelChange",function(_){return g(o),Re(i.importValue,_)||(i.importValue=_),f(_)}),b("keydown.enter",function(){return g(o),f(i.importTechs())}),p()(),h(25,Fr,4,6,"ng-template",17),p()(),h(26,qr,8,15,"p-scrollPanel",18)(27,Wr,4,6,"ng-template",17),p()}n&2&&(Te(Q(46,Mr)),De("visible",i.visible),l("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("header",u(1,32,"techPicker.header"))("breakpoints",Q(47,kr)),a(5),l("ngModel",i.filter()),a(3),l("binary",!0)("label",u(9,34,"techPicker.unlockAll"))("ngModel",i.allSelected()),a(3),l("binary",!0)("label",u(12,36,"techPicker.showLabels"))("ngModel",i.showTechLabels()),a(2),l("label",u(14,38,"techPicker.import"))("pTooltip",u(15,40,"techPicker.importTooltip")),a(3),Te(Q(48,Or)),De("visible",i.importVisible),l("modal",!0)("dismissableMask",!0)("draggable",!0)("resizable",!1)("breakpoints",Q(49,Er))("header",u(17,42,"techPicker.importHeader")),a(3),w(i.data().game===i.Game.Factorio?19:-1),a(2),x(u(22,44,"techPicker.importInstructions")),a(2),De("ngModel",i.importValue),a(3),w(i.visible?26:-1))},dependencies:[Ge,Xt,We,Be,oe,ae,de,H,mt,dt,Xe,Ze,ni,ii,fa,ga,ai,oi,X,Z,Ye,ut,xe],encapsulation:2,changeDetection:0})}return t})();var Gr=(t,s)=>s.key,mi=(t,s)=>s.id,Zr=()=>({height:"100%"}),Li=t=>({count:t}),Xr=()=>({width:"400px",maxHeight:"500px"}),Yr=()=>({"400px":"100vw"}),Jr=()=>[];function ep(t,s){if(t&1&&(r(0,"div"),v(1),p()),t&2){let e=c(2);a(),x(e.state)}}function tp(t,s){if(t&1&&(r(0,"div",63)(1,"div"),v(2),m(3,"translate"),p(),h(4,ep,2,1,"div"),p()),t&2){let e=c();a(2),x(u(3,2,"settings.savedStates")),a(2),w(e.state?4:-1)}}function ip(t,s){if(t&1){let e=y();r(0,"div",24)(1,"button",64),b("click",function(){g(e);let i=T(3),o=c();return f(o.setSearch(i.value))}),p(),C(2,"input",65,5),r(4,"button",66),b("click",function(){g(e);let i=T(3),o=c();return f(o.copySearchToClipboard(i.value))}),p()()}if(t&2){let e=c();a(2),l("ngModel",e.BrowserUtility.search)}}function np(t,s){if(t&1){let e=y();r(0,"div",24)(1,"input",67,6),m(3,"translate"),m(4,"translate"),Le("ngModelChange",function(i){g(e);let o=c();return Re(o.editValue,i)||(o.editValue=i),f(i)}),b("keydown.enter",function(){g(e);let i=c();return f(i.clickSaveState(i.data().game))}),p(),r(5,"button",68),m(6,"translate"),b("click",function(){g(e);let i=c();return f(i.clickSaveState(i.data().game))}),p(),r(7,"button",69),m(8,"translate"),b("click",function(){g(e);let i=c();return f(i.editState=null)}),p()()}if(t&2){let e=T(2),n=c();a(),l("placeholder",u(3,6,"settings.nameSavedState"))("pTooltip",u(4,8,"settings.nameSavedState")),De("ngModel",n.editValue),a(4),l("pTooltip",u(6,10,"settings.saveState"))("disabled",e.invalid),a(2),l("pTooltip",u(8,12,"cancel"))}}function op(t,s){if(t&1&&(r(0,"a",75),C(1,"span",76),r(2,"span",77),v(3),m(4,"translate"),p()()),t&2){let e=s.$implicit;a(),l("ngClass",e.icon),a(2),x(u(4,2,e.label))}}function ap(t,s){if(t&1){let e=y();r(0,"button",73),b("click",function(i){g(e);let o=T(2);return f(o.toggle(i))}),r(1,"p-menu",74,7),h(3,op,5,4,"ng-template",45),p()()}if(t&2){let e=c(2);a(),l("popup",!0)("model",e.editStateMenu)}}function sp(t,s){if(t&1){let e=y();r(0,"button",78),m(1,"translate"),b("click",function(){g(e);let i=c(2);return f(i.openCreateState())}),p()}t&2&&l("pTooltip",u(1,1,"settings.createSavedState"))}function lp(t,s){if(t&1){let e=y();r(0,"div",25)(1,"p-dropdown",70),m(2,"translate"),m(3,"translate"),b("onChange",function(i){g(e);let o=c();return f(o.setState(i.value,o.gameStates()))}),p(),h(4,ap,4,2,"button",71)(5,sp,2,3,"button",72),p()}if(t&2){let e=c();a(),l("placeholder",u(2,5,"settings.selectSavedState"))("pTooltip",u(3,7,"settings.selectSavedState"))("ngModel",e.state)("options",e.savedStates()),a(3),w(e.state?4:5)}}function rp(t,s){if(t&1){let e=y();r(0,"button",79),m(1,"translate"),b("click",function(){g(e);let i=c();return f(i.openCreateState())}),p()}t&2&&l("label",u(1,1,"settings.createSavedState"))}function pp(t,s){if(t&1&&(r(0,"div",63)(1,"div"),v(2),m(3,"translate"),p(),r(4,"div"),v(5),p()()),t&2){let e,n=c();a(2),x(u(3,2,"settings.game")),a(3),x((e=n.modRecord()[n.settings().modId])==null?null:e.id)}}function cp(t,s){if(t&1&&(r(0,"small",53),v(1),p()),t&2){let e=s.$implicit;a(),L(" ",e.value," ")}}function dp(t,s){if(t&1&&(Y(0,cp,2,1,"small",53,Gr),m(2,"keyvalue")),t&2){let e=c();J(u(2,0,e.data().version))}}function mp(t,s){t&1&&(r(0,"tr")(1,"th"),v(2),m(3,"translate"),p(),r(4,"th"),v(5),m(6,"translate"),p()()),t&2&&(a(2),x(u(3,2,"settings.mod")),a(3),x(u(6,4,"settings.version")))}function up(t,s){if(t&1&&(r(0,"tr")(1,"td"),v(2),p(),r(3,"td"),v(4),p()()),t&2){let e=s.$implicit;a(2),x(e.key),a(2),x(e.value)}}function _p(t,s){if(t&1){let e=y();r(0,"button",89),m(1,"translate"),b("click",function(){g(e);let i=c(2);return f(i.versionsVisible=!1)}),p()}t&2&&l("label",u(1,1,"ok"))}function gp(t,s){if(t&1){let e=y();r(0,"div",32)(1,"label",80),v(2),m(3,"translate"),p(),r(4,"small",81)(5,"a",82),v(6),m(7,"translate"),p()(),r(8,"span",25)(9,"p-dropdown",83),m(10,"translate"),b("onChange",function(i){g(e);let o=c();return f(o.setMod(i.value))}),p(),r(11,"button",84),m(12,"translate"),b("click",function(){g(e);let i=c();return f(i.versionsVisible=!0)}),r(13,"p-dialog",85),m(14,"translate"),Le("visibleChange",function(i){g(e);let o=c();return Re(o.versionsVisible,i)||(o.versionsVisible=i),f(i)}),r(15,"p-table",86),m(16,"keyvalue"),h(17,mp,7,6,"ng-template",23)(18,up,5,2,"ng-template",87),p(),h(19,_p,2,3,"ng-template",88),p()()()()}if(t&2){let e=c();a(2),x(u(3,18,"settings.modSet")),a(4),x(u(7,20,"settings.requestMod")),a(3),l("filter",!0)("autofocusFilter",!e.contentSvc.isMobile())("pTooltip",u(10,22,"settings.modSetTooltip"))("ngModel",e.settings().modId)("options",e.modOptions()),a(2),l("pTooltip",u(12,24,"settings.modVersions")),a(2),Te(Q(30,Xr)),De("visible",e.versionsVisible),l("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("breakpoints",Q(31,Yr))("header",u(14,26,"settings.modVersions")),a(2),l("value",u(16,28,e.data().version))}}function fp(t,s){t&1&&(r(0,"div"),v(1),m(2,"translate"),p()),t&2&&(a(),x(u(2,1,s)))}function hp(t,s){if(t&1&&(r(0,"div",63)(1,"div"),v(2),m(3,"translate"),p(),h(4,fp,3,3,"div"),p()),t&2){let e;c();let n=T(58);a(2),x(u(3,2,"settings.factory")),a(2),w((e=n.label())?4:-1,e)}}function bp(t,s){if(t&1&&(C(0,"i",95),m(1,"iconSmClass")),t&2){let e=s.$implicit;M(u(1,2,e))}}function Cp(t,s){if(t&1&&(r(0,"div",93),Y(1,bp,2,4,"i",94,bt),p()),t&2){let e=s.$implicit;a(),J(e)}}function vp(t,s){if(t&1&&C(0,"lab-tooltip",98),t&2){let e=c().$implicit;l("id",e.value)}}function xp(t,s){if(t&1&&(r(0,"div",96),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,vp,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",n),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function yp(t,s){if(t&1){let e=y();r(0,"div",33)(1,"div",29)(2,"p-multiSelect",90),m(3,"translate"),b("onChange",function(i){let o;g(e);let d=c();return f(d.setModuleRank(i.value,(o=d.data().defaults)==null?null:o.moduleRankIds))}),h(4,Cp,3,0,"ng-template",91)(5,xp,7,6,"ng-template",45),p(),r(6,"label",92),v(7),m(8,"translate"),p()()()}if(t&2){let e=c();a(2),l("pTooltip",u(3,4,"settings.modifierRankTooltip"))("ngModel",e.settings().moduleRankIds)("options",e.options().modules),a(5),x(u(8,6,"settings.modifierRank"))}}function Ip(t,s){if(t&1&&(C(0,"i",95),m(1,"iconSmClass")),t&2){let e=s.$implicit;M(u(1,2,e))}}function Tp(t,s){if(t&1&&(r(0,"div",93),Y(1,Ip,2,4,"i",94,bt),p()),t&2){let e=s.$implicit;a(),J(e)}}function Sp(t,s){if(t&1&&C(0,"lab-tooltip",101),t&2){let e=c().$implicit;l("id",e.value)}}function wp(t,s){if(t&1&&(r(0,"div",96),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,Sp,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",n),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function Mp(t,s){if(t&1){let e=y();r(0,"div",33)(1,"div",29)(2,"p-multiSelect",99),m(3,"translate"),b("onChange",function(i){let o;g(e);let d=c();return f(d.setFuelRank(i.value,(o=d.data().defaults)==null?null:o.fuelRankIds))}),h(4,Tp,3,0,"ng-template",91)(5,wp,7,6,"ng-template",45),p(),r(6,"label",100),v(7),m(8,"translate"),p()()()}if(t&2){let e=c();a(2),l("pTooltip",u(3,4,"settings.fuelRankTooltip"))("ngModel",e.settings().fuelRankIds)("options",e.options().fuels),a(5),x(u(8,6,"settings.fuelRank"))}}function kp(t,s){t&1&&(r(0,"div",109),C(1,"i",110),p())}function Op(t,s){if(t&1&&C(0,"lab-tooltip",112),t&2){let e=c().$implicit;l("id",e.value)}}function Ep(t,s){if(t&1&&(r(0,"div",111),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,Op,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",n),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function Vp(t,s){if(t&1){let e=y();r(0,"p-inputNumber",113,9),m(2,"translate"),b("onBlur",function(){let i;g(e);let o=T(1),d=c(2);return f(d.setDefaultOverclock(d.rational((i=o.value)!==null&&i!==void 0?i:100)))}),p()}if(t&2){let e,n=c(2);l("min",1)("max",250)("step",10)("maxFractionDigits",2)("showButtons",!0)("pTooltip",u(2,7,"settings.overclockTooltip"))("ngModel",(e=n.settings().overclock)==null?null:e.toNumber())}}function Bp(t,s){if(t&1&&(r(0,"i",117),m(1,"iconSmClass"),r(2,"span"),v(3),p()()),t&2){let e=s.$implicit;M(u(1,3,e.id)),a(3),x(e.count)}}function Pp(t,s){if(t&1&&(r(0,"div",93)(1,"i",117),m(2,"iconSmClass"),r(3,"span"),v(4),p()(),Y(5,Bp,4,5,"i",118,mi),p()),t&2){let e=s.$implicit;a(),M(u(2,3,e.id)),a(3),x(e.count),a(),J(e.modules)}}function Dp(t,s){t&1&&C(0,"lab-tooltip",119),t&2&&l("id",s)}function Rp(t,s){if(t&1&&h(0,Dp,1,1,"lab-tooltip",119),t&2){let e,n=c();w((e=n==null||n[0]==null?null:n[0].id)?0:-1,e)}}function Lp(t,s){if(t&1){let e=y();r(0,"button",114),b("click",function(i){let o=g(e),d=T(5);return f(d.show(i,o))}),Y(1,Pp,7,5,"div",93,ui),C(3,"i",115),p(),r(4,"lab-beacons-overlay",116,10),b("setValue",function(i){g(e);let o=c(2);return f(o.changeDefaultBeacons(i))}),p(),h(6,Rp,1,1,"ng-template",null,8,P)}if(t&2){let e=T(7);l("pTooltip",e),a(),J(s)}}function Fp(t,s){if(t&1&&(r(0,"div",93),C(1,"i"),m(2,"iconSmClass"),p()),t&2){let e=c().$implicit;a(),M(u(2,2,e.value))}}function Ap(t,s){if(t&1&&(r(0,"div"),v(1),p()),t&2){let e=c(4).$implicit;a(),x(e)}}function jp(t,s){if(t&1&&h(0,Fp,3,4,"div",93)(1,Ap,2,1,"div"),t&2){let e=s.$implicit;w(e?0:1)}}function Hp(t,s){if(t&1&&C(0,"lab-tooltip",112),t&2){let e=c().$implicit;l("id",e.value)}}function $p(t,s){if(t&1&&(r(0,"div",111),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,Hp,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",n),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function zp(t,s){if(t&1&&(r(0,"div",93),C(1,"i"),m(2,"iconSmClass"),p()),t&2){let e=s.$implicit;a(),M(u(2,2,e.value))}}function Np(t,s){if(t&1&&C(0,"lab-tooltip",101),t&2){let e=c().$implicit;l("id",e.value)}}function Kp(t,s){if(t&1&&(r(0,"div",111),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,Np,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",n),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function Up(t,s){if(t&1){let e=y();r(0,"p-dropdown",122),m(1,"translate"),b("onChange",function(i){g(e);let o=c(2),d=c().$implicit,_=c(2);return f(_.changeFuel(d,i.value,o,_.settings().fuelRankIds))}),h(2,zp,3,4,"ng-template",44)(3,Kp,7,6,"ng-template",45),p()}if(t&2){let e=c(2);l("pTooltip",u(1,3,"settings.fuelTooltip"))("ngModel",e.fuelId)("options",e.fuelOptions)}}function Qp(t,s){if(t&1&&(r(0,"div",93),C(1,"i"),m(2,"iconSmClass"),p()),t&2){let e=s.$implicit;a(),M(u(2,2,e.value))}}function qp(t,s){if(t&1&&C(0,"lab-tooltip",98),t&2){let e=c().$implicit;l("id",e.value)}}function Wp(t,s){if(t&1&&(r(0,"div",111),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,qp,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",e.value!=="module"?n:void 0),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function Gp(t,s){if(t&1){let e=y();r(0,"p-dropdown",122),m(1,"translate"),b("onChange",function(i){g(e);let o=c(4).$implicit,d=c(2);return f(d.changeModules(o,[{id:i.value,count:d.rational.one}]))}),h(2,Qp,3,4,"ng-template",44)(3,Wp,7,6,"ng-template",45),p()}if(t&2){let e,n=c(3);l("pTooltip",u(1,3,"settings.modifierTooltip"))("ngModel",n.modules[0].id)("options",(e=n.moduleOptions)!==null&&e!==void 0?e:Q(5,Jr))}}function Zp(t,s){if(t&1&&(r(0,"i",117),m(1,"iconSmClass"),r(2,"span"),v(3),p()()),t&2){let e=s.$implicit;M(u(1,3,e.id)),a(3),x(e.count)}}function Xp(t,s){if(t&1&&C(0,"lab-tooltip",98),t&2){let e=c().$implicit;l("id",e.id)}}function Yp(t,s){if(t&1&&h(0,Xp,1,1,"lab-tooltip",98),t&2){let e=s.$implicit;w(e.id?0:-1)}}function Jp(t,s){if(t&1&&Y(0,Yp,1,1,null,null,mi),t&2){let e=c(4);J(e.modules)}}function ec(t,s){if(t&1){let e=y();r(0,"button",125),b("click",function(i){g(e);let o=T(5),d=c(2),_=c();return f(o.show(i,_.modules,d))}),Y(1,Zp,4,5,"i",118,mi),C(3,"i",115),p(),r(4,"lab-modules-overlay",116,11),b("setValue",function(i){g(e);let o=c(4).$implicit,d=c(2);return f(d.changeModules(o,i))}),p(),h(6,Jp,2,0,"ng-template",null,8,P)}if(t&2){let e=T(7),n=c(3);l("pTooltip",e),a(),J(n.modules)}}function tc(t,s){if(t&1&&h(0,Gp,4,6,"p-dropdown",123)(1,ec,8,1),t&2){let e=c();w(e.modules!==!0&&(e.modules!=null&&e.modules.isOne())?0:1)}}function ic(t,s){if(t&1){let e=y();r(0,"p-inputNumber",113,9),m(2,"translate"),b("onBlur",function(){let i;g(e);let o=T(1),d=c(3).$implicit,_=c(2);return f(_.setOverclock(d,_.rational((i=o.value)!==null&&i!==void 0?i:100),d?_.settings().overclock:_.rational(100)))}),p()}if(t&2){let e=c(2);l("min",1)("max",250)("step",10)("maxFractionDigits",2)("showButtons",!0)("pTooltip",u(2,7,"settings.overclockTooltip"))("ngModel",e.overclock==null?null:e.overclock.toNumber())}}function nc(t,s){if(t&1&&(r(0,"i",117),m(1,"iconSmClass"),r(2,"span"),v(3),p()()),t&2){let e=s.$implicit;M(u(1,3,e.id)),a(3),x(e.count)}}function oc(t,s){if(t&1&&(r(0,"div",93)(1,"i",117),m(2,"iconSmClass"),r(3,"span"),v(4),p()(),Y(5,nc,4,5,"i",118,mi),p()),t&2){let e=s.$implicit;a(),M(u(2,3,e.id)),a(3),x(e.count),a(),J(e.modules)}}function ac(t,s){t&1&&C(0,"lab-tooltip",119),t&2&&l("id",s)}function sc(t,s){if(t&1&&h(0,ac,1,1,"lab-tooltip",119),t&2){let e,n=c(3);w((e=n.beacons==null||n.beacons[0]==null?null:n.beacons[0].id)?0:-1,e)}}function lc(t,s){if(t&1){let e=y();r(0,"button",114),b("click",function(i){g(e);let o=T(5),d=c(2);return f(o.show(i,d.beacons))}),Y(1,oc,7,5,"div",93,ui),C(3,"i",115),p(),r(4,"lab-beacons-overlay",116,10),b("setValue",function(i){g(e);let o=c(3).$implicit,d=c(2);return f(d.changeBeacons(o,i))}),p(),h(6,sc,1,1,"ng-template",null,8,P)}if(t&2){let e=T(7),n=c(2);l("pTooltip",e),a(),J(n.beacons)}}function rc(t,s){if(t&1){let e=y();r(0,"div",120),C(1,"button",121),r(2,"p-dropdown",122),m(3,"translate"),m(4,"filterOptions"),b("onChange",function(i){let o;g(e);let d=c(2).$implicit,_=c(2);return f(_.setMachine(d,i.value,(o=_.data().defaults)==null?null:o.machineRankIds))}),h(5,jp,2,1,"ng-template",44)(6,$p,7,6,"ng-template",45),p(),h(7,Up,4,5,"p-dropdown",123)(8,tc,2,1)(9,ic,3,9,"p-inputNumber",106)(10,lc,8,1),r(11,"button",124),m(12,"translate"),b("click",function(){let i;g(e);let o=c(2).$implicit,d=c(2);return f(d.removeMachine(o,(i=d.data().defaults)==null?null:i.machineRankIds))}),p()()}if(t&2){let e=c(),n=c().$implicit,i=c(2);a(2),l("pTooltip",u(3,10,"settings.machineTooltip"))("ngModel",n)("options",Wi(4,12,i.options().machines,i.machineIds(),n)),a(5),w(e.fuelId?7:-1),a(),w(e.modules&&s.modules?8:-1),a(),w(i.data().game===i.Game.Satisfactory?9:-1),a(),w(e.beacons&&e.beacons.length?10:-1),a(),U("invisible",n===""),l("pTooltip",u(12,16,"settings.removeMachinePreference"))}}function pc(t,s){if(t&1&&h(0,rc,13,18,"div",120),t&2){let e,n=c().$implicit,i=c(2);w((e=i.data().machineEntities[n])?0:-1,e)}}function cc(t,s){if(t&1&&h(0,pc,1,1),t&2){let e,n=s.$implicit,i=c(2);w((e=i.machinesState()[n])?0:-1,e)}}function dc(t,s){if(t&1){let e=y();r(0,"div",102)(1,"span",103),m(2,"translate"),C(3,"i",104),p(),r(4,"p-dropdown",105),m(5,"translate"),m(6,"filterOptions"),b("onChange",function(i){let o;g(e);let d=c();return f(d.addMachine(i.value,(o=d.data().defaults)==null?null:o.machineRankIds))}),h(7,kp,2,0,"ng-template",44)(8,Ep,7,6,"ng-template",45),p(),h(9,Vp,3,9,"p-inputNumber",106)(10,Lp,8,1),p(),r(11,"p-orderList",107),b("onReorder",function(){let i;g(e);let o=c();return f(o.setMachineRank(o.machineIds(),(i=o.data().defaults)==null?null:i.machineRankIds))}),h(12,cc,1,1,"ng-template",45),p(),C(13,"div",108)}if(t&2){let e,n,i=c();a(),l("pTooltip",u(2,10,"settings.machineDefaults")),a(3),U("invisible",!i.options().machines.length),l("ngModel",(e=i.options().machines[0])==null?null:e.value)("pTooltip",u(5,12,"settings.addMachineTooltip"))("options",ke(6,14,i.options().machines,i.machineIds())),a(5),w(i.data().game===i.Game.Satisfactory?9:-1),a(),w((n=i.data().game===i.Game.Factorio&&i.settings().beacons)?10:-1,n),a(),l("value",i.machineIds())("dragdrop",!0)}}function mc(t,s){if(t&1){let e=y();r(0,"div",36)(1,"p-checkbox",126),m(2,"translate"),m(3,"translate"),b("onChange",function(i){g(e);let o=c();return f(o.toggleBeaconReceivers(i.checked))}),p()()}if(t&2){let e=c();a(),l("ngModel",e.settings().beaconReceivers!=null)("binary",!0)("label",u(2,4,"settings.estimateBeaconPowerUsage"))("pTooltip",u(3,6,"settings.estimateBeaconPowerUsageTooltip"))}}function uc(t,s){if(t&1){let e=y();r(0,"div",36)(1,"label",127),v(2),m(3,"translate"),p(),r(4,"lab-input-number",128),m(5,"translate"),b("setValue",function(i){g(e);let o=c();return f(o.setBeaconReceivers(i))}),p()()}t&2&&(a(2),x(u(3,3,"settings.averageBeaconReceivers")),a(2),l("pTooltip",u(5,5,"settings.averageBeaconReceiversTooltip"))("value",s))}function _c(t,s){if(t&1&&(r(0,"div",131),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p()()),t&2){let e=s.$implicit;a(),M(u(2,3,e.value)),a(3),L(" ",e.label," ")}}function gc(t,s){if(t&1&&C(0,"lab-tooltip",98),t&2){let e=c().$implicit;l("id",e.value)}}function fc(t,s){if(t&1&&(r(0,"div",111),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,gc,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",e.value!=="module"?n:void 0),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function hc(t,s){if(t&1){let e=y();r(0,"div",33)(1,"div",29)(2,"p-dropdown",129),m(3,"translate"),b("onChange",function(i){g(e);let o=c();return f(o.setProliferatorSpray(i.value))}),h(4,_c,5,5,"ng-template",44)(5,fc,7,6,"ng-template",45),p(),r(6,"label",130),v(7),m(8,"translate"),p()()()}if(t&2){let e=c();a(2),l("autoDisplayFirst",!1)("pTooltip",u(3,5,"settings.proliferatorSelfSprayTooltip"))("ngModel",e.settings().proliferatorSprayId)("options",e.options().proliferatorModules),a(5),x(u(8,7,"settings.proliferatorSelfSpray"))}}function bc(t,s){if(t&1&&(r(0,"div",131),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p()()),t&2){let e=c().$implicit;a(),M(u(2,3,e.value)),a(3),L(" ",e.label," ")}}function Cc(t,s){if(t&1&&h(0,bc,5,5,"div",131),t&2){let e=s.$implicit;w(e?0:-1)}}function vc(t,s){if(t&1&&C(0,"lab-tooltip",132),t&2){let e=c().$implicit;l("id",e.value)}}function xc(t,s){if(t&1&&(r(0,"div",111),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,vc,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",n),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function yc(t,s){if(t&1&&(r(0,"div",131),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p()()),t&2){let e=s.$implicit;a(),M(u(2,3,e.value)),a(3),L(" ",e.label," ")}}function Ic(t,s){if(t&1&&C(0,"lab-tooltip",135),t&2){let e=c().$implicit;l("id",e.value)}}function Tc(t,s){if(t&1&&(r(0,"div",111),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,Ic,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",n),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function Sc(t,s){if(t&1){let e=y();r(0,"div",33)(1,"div",29)(2,"p-dropdown",133),m(3,"translate"),b("onChange",function(i){let o;g(e);let d=c();return f(d.setPipe(i.value,(o=d.data().defaults)==null?null:o.pipeId))}),h(4,yc,5,5,"ng-template",44)(5,Tc,7,6,"ng-template",45),p(),r(6,"label",134),v(7),m(8,"translate"),p()()()}if(t&2){let e=c();a(2),l("pTooltip",u(3,4,"settings.defaultPipeTooltip"))("ngModel",e.settings().pipeId)("options",e.options().pipes),a(5),x(u(8,6,"settings.defaultPipe"))}}function wc(t,s){if(t&1&&(r(0,"div",131),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p()()),t&2){let e=s.$implicit;a(),M(u(2,3,e.value)),a(3),L(" ",e.label," ")}}function Mc(t,s){if(t&1&&C(0,"lab-tooltip",138),t&2){let e=c().$implicit;l("id",e.value)}}function kc(t,s){if(t&1&&(r(0,"div",111),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,Mc,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",n),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function Oc(t,s){if(t&1){let e=y();r(0,"div",33)(1,"div",29)(2,"p-dropdown",136),m(3,"translate"),b("onChange",function(i){let o;g(e);let d=c();return f(d.setCargoWagon(i.value,(o=d.data().defaults)==null?null:o.cargoWagonId))}),h(4,wc,5,5,"ng-template",44)(5,kc,7,6,"ng-template",45),p(),r(6,"label",137),v(7),m(8,"translate"),p()()()}if(t&2){let e=c();a(2),l("pTooltip",u(3,4,"settings.defaultCargoWagonTooltip"))("ngModel",e.settings().cargoWagonId)("options",e.options().cargoWagons),a(5),x(u(8,6,"settings.defaultCargoWagon"))}}function Ec(t,s){if(t&1&&(r(0,"div",131),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p()()),t&2){let e=s.$implicit;a(),M(u(2,3,e.value)),a(3),L(" ",e.label," ")}}function Vc(t,s){if(t&1&&C(0,"lab-tooltip",141),t&2){let e=c().$implicit;l("id",e.value)}}function Bc(t,s){if(t&1&&(r(0,"div",111),C(1,"i"),m(2,"iconSmClass"),r(3,"div",97),v(4),p(),h(5,Vc,1,1,"ng-template",null,8,P),p()),t&2){let e=s.$implicit,n=T(6);l("pTooltip",n),a(),M(u(2,4,e.value)),a(3),L(" ",e.label," ")}}function Pc(t,s){if(t&1){let e=y();r(0,"div",33)(1,"div",29)(2,"p-dropdown",139),m(3,"translate"),b("onChange",function(i){let o;g(e);let d=c();return f(d.setFluidWagon(i.value,(o=d.data().defaults)==null?null:o.fluidWagonId))}),h(4,Ec,5,5,"ng-template",44)(5,Bc,7,6,"ng-template",45),p(),r(6,"label",140),v(7),m(8,"translate"),p()()()}if(t&2){let e=c();a(2),l("pTooltip",u(3,4,"settings.defaultFluidWagonTooltip"))("ngModel",e.settings().fluidWagonId)("options",e.options().fluidWagons),a(5),x(u(8,6,"settings.defaultFluidWagon"))}}function Dc(t,s){if(t&1){let e=y();r(0,"div",33)(1,"div",29)(2,"p-inputNumber",142,12),m(4,"translate"),m(5,"translate"),b("onBlur",function(){let i;g(e);let o=T(3),d=c();return f(d.setFlowRate(d.rational((i=o.value)!==null&&i!==void 0?i:1500)))}),p(),r(6,"label",143),v(7),m(8,"translate"),p(),r(9,"small",53)(10,"a",144),v(11),m(12,"translate"),p()()()(),r(13,"div",28)(14,"div",29)(15,"p-dropdown",145),m(16,"translate"),b("onChange",function(i){g(e);let o=c();return f(o.setInserterTarget(i.value))}),p(),r(17,"label",146),v(18),m(19,"translate"),p()()()}if(t&2){let e=c();a(2),l("suffix"," "+u(4,12,"settings.flowRateUnit"))("min",1)("step",100)("showButtons",!0)("pTooltip",u(5,14,"settings.pipeFlowRateTooltip"))("ngModel",e.settings().flowRate.toNumber()),a(5),x(u(8,16,"settings.pipeFlowRate")),a(4),x(u(12,18,"settings.wiki")),a(4),l("pTooltip",u(16,20,"settings.inserterTargetTooltip"))("ngModel",e.settings().inserterTarget)("options",e.inserterTargetOptions),a(3),x(u(19,22,"settings.inserterTarget"))}}function Rc(t,s){if(t&1){let e=y();r(0,"div",28)(1,"div",29)(2,"p-inputNumber",147,13),m(4,"translate"),b("onBlur",function(){let i;g(e);let o=T(3),d=c();return f(d.setMiningBonus(d.rational(((i=o.value)!==null&&i!==void 0?i:100)-100)))}),p(),r(5,"label",148),v(6),m(7,"translate"),p()()()}if(t&2){let e=c();a(2),l("min",100)("step",10)("showButtons",!0)("pTooltip",u(4,6,"settings.miningSpeedTooltip"))("ngModel",e.settings().miningBonus.add(e.rational(100)).toNumber()),a(4),x(u(7,8,"settings.miningSpeed"))}}function Lc(t,s){if(t&1){let e=y();r(0,"p-accordionTab",47),m(1,"translate"),r(2,"div",27)(3,"div",33)(4,"div",29)(5,"p-inputNumber",149,14),m(7,"translate"),b("onBlur",function(){let i;g(e);let o=T(6),d=c();return f(d.setMiningBonus(d.rational((i=o.value)!==null&&i!==void 0?i:0)))}),p(),r(8,"label",150),v(9),m(10,"translate"),p()()(),r(11,"div",33)(12,"div",29)(13,"p-dropdown",151),m(14,"translate"),b("onChange",function(i){g(e);let o=c();return f(o.setResearchSpeed(i.value))}),p(),r(15,"label",152),v(16),m(17,"translate"),p()()(),r(18,"div",28)(19,"div",29)(20,"p-dropdown",153),m(21,"translate"),b("onChange",function(i){g(e);let o=c();return f(o.setInserterCapacity(i.value))}),p(),r(22,"label",154),v(23),m(24,"translate"),p()()()()()}if(t&2){let e=c();l("header",u(1,15,"settings.bonuses")),a(5),l("min",0)("step",10)("showButtons",!0)("pTooltip",u(7,17,"settings.miningProductivityTooltip"))("ngModel",e.settings().miningBonus.toNumber()),a(4),x(u(10,19,"settings.miningProductivity")),a(4),l("pTooltip",u(14,21,"settings.researchSpeedTooltip"))("ngModel",e.settings().researchBonus)("options",e.researchSpeedOptions),a(3),x(u(17,23,"settings.researchSpeed")),a(4),l("pTooltip",u(21,25,"settings.inserterCapacityTooltip"))("ngModel",e.settings().inserterCapacity)("options",e.inserterCapacityOptions),a(3),x(u(24,27,"settings.inserterCapacity"))}}function Fc(t,s){if(t&1){let e=y();r(0,"div",33)(1,"span",29)(2,"p-dropdown",155),m(3,"translate"),b("onChange",function(i){g(e);let o=c();return f(o.setPowerUnit(i.value))}),p(),r(4,"label",156),v(5),m(6,"translate"),p()()()}if(t&2){let e=c();a(2),l("pTooltip",u(3,4,"settings.powerUnitTooltip"))("ngModel",e.preferences().powerUnit)("options",e.powerUnitOptions),a(3),x(u(6,6,"settings.powerUnit"))}}var ba=(()=>{class t{router=D(Dt);store=D(he);contentSvc=D(ye);routerSvc=D(xo);translateSvc=D(Oe);active=!1;hidden=!1;itemsState=this.store.selectSignal(Zt);recipesState=this.store.selectSignal(bo);data=this.store.selectSignal(rt);machinesState=this.store.selectSignal(ho);settings=this.store.selectSignal(Gt);columnsState=this.store.selectSignal(ro);options=this.store.selectSignal(uo);modOptions=this.store.selectSignal(lo);presetOptions=this.store.selectSignal(so);researchedTechnologyIds=this.store.selectSignal(mo);gameStates=this.store.selectSignal(Ii);savedStates=this.store.selectSignal(no);preferences=this.store.selectSignal(vn);modRecord=this.store.selectSignal(Mn);machineIds=Fe(()=>[...this.settings().machineRankIds]);defaults=this.store.selectSignal(po);game=this.store.selectSignal(qt);state="";editValue="";editState=null;editStateMenu=[{label:"settings.createSavedState",icon:"fa-solid fa-plus",command:()=>{this.openCreateState()}},{label:"settings.saveSavedState",icon:"fa-solid fa-floppy-disk",command:()=>{this.overwriteState()}},{label:"settings.editSavedState",icon:"fa-solid fa-pencil",command:()=>{this.openEditState()}},{label:"settings.deleteSavedState",icon:"fa-solid fa-trash",command:()=>{this.clickDeleteState()}}];versionsVisible=!1;displayRateOptions=Kt;gameOptions=xt;inserterCapacityOptions=Tn;inserterTargetOptions=Sn;languageOptions=ln;powerUnitOptions=rn;researchSpeedOptions=En;themeOptions=sn;maximizeTypeOptions=On;Game=zt;ItemId=an;BrowserUtility=It;rational=qe;ngOnInit(){this.store.select(Ii).pipe(je()).subscribe(e=>{this.state=vt(Object.keys(e).find(n=>e[n]===It.search),"")})}clickResetSettings(){this.translateSvc.multi(["settings.reset","settings.resetWarning","yes","cancel"]).pipe(je()).subscribe(([e,n,i,o])=>{this.contentSvc.confirm({icon:"fa-solid fa-exclamation-triangle",header:e,message:n,acceptLabel:i,rejectLabel:o,accept:()=>{localStorage.clear(),this.resetSettings()}})})}setSearch(e){let n=this.router.parseUrl(this.router.url);new URLSearchParams(e).forEach((o,d)=>n.queryParams[d]=o),this.router.navigateByUrl(n)}copySearchToClipboard(e){navigator.clipboard.writeText(e)}setState(e,n){let i=n[e];i&&(this.state=e,this.router.navigate([],{queryParams:this.routerSvc.toParams(i)}))}clickSaveState(e){!this.editValue||!this.editState||(this.saveState(e,this.editValue,It.search),this.editState==="edit"&&this.state&&this.removeState(e,this.state),this.editState=null,this.state=this.editValue)}openCreateState(){this.editValue="",this.editState="create"}overwriteState(){this.saveState(this.game(),this.state,It.search)}openEditState(){this.editValue=this.state,this.editState="edit"}clickDeleteState(){this.removeState(this.game(),this.state),this.state=""}setGame(e){this.setMod(lt[e].modId)}setMod(e){this.router.navigate([e,"list"])}changeExcludedRecipes(e){this.setExcludedRecipes(e,new Set(vt(this.data().defaults?.excludedRecipeIds,[])))}changeFuel(e,n,i,o){let d=yt.bestMatch(vt(i.fuelOptions?.map(_=>_.value),[]),o);this.setFuel(e,n,d)}changeModules(e,n){this.setModules(e,yt.dehydrateModules(n,vt(this.machinesState()[e].moduleOptions,[]),this.settings().moduleRankIds,this.data().machineEntities[e].modules))}changeBeacons(e,n){let i=this.settings().beacons;this.setBeacons(e,yt.dehydrateBeacons(n,i))}changeDefaultBeacons(e){let n=this.defaults()?.beacons;this.setDefaultBeacons(yt.dehydrateBeacons(e,n))}toggleBeaconReceivers(e){this.setBeaconReceivers(e?qe.one:void 0)}addMachine(e,n){let i=[...this.settings().machineRankIds];i.includes(e)||i.push(e),this.setMachineRank(i,n)}setMachine(e,n,i){let o=[...this.settings().machineRankIds],d=o.indexOf(e);d!==-1&&(o[d]=n),this.setMachineRank(o,i)}removeMachine(e,n){let i=this.settings().machineRankIds.filter(o=>o!==e);this.setMachineRank(i,n)}resetSettings(){this.store.dispatch(Nt())}saveState(e,n,i){this.store.dispatch(pn({key:e,id:n,value:i}))}removeState(e,n){this.store.dispatch(cn({key:e,id:n}))}setResearchedTechnologies(e){this.store.dispatch(Jn({researchedTechnologyIds:e}))}setExcludedItems(e){this.store.dispatch(Pn({excludedItemIds:e}))}setExcludedRecipes(e,n){this.store.dispatch(jn({value:e,def:n}))}setPreset(e){this.store.dispatch($n({preset:e}))}setFuelRank(e,n){this.store.dispatch(Nn({value:e,def:n}))}setModuleRank(e,n){this.store.dispatch(Kn({value:e,def:n}))}setDefaultBeacons(e){this.store.dispatch(Un({beacons:e}))}setDefaultOverclock(e){this.store.dispatch(Qn({overclock:e}))}setMachineRank(e,n){this.store.dispatch(zn({value:e,def:n}))}setFuel(e,n,i){this.store.dispatch(Uo({id:e,value:n,def:i}))}setModules(e,n){this.store.dispatch(Qo({id:e,value:n}))}setBeacons(e,n){this.store.dispatch(qo({id:e,value:n}))}setOverclock(e,n,i){this.store.dispatch(Wo({id:e,value:n,def:i}))}setBeaconReceivers(e){this.store.dispatch(qn({beaconReceivers:e}))}setProliferatorSpray(e){this.store.dispatch(Wn({proliferatorSprayId:e}))}setBelt(e,n){this.store.dispatch(Dn({id:e,def:n}))}setPipe(e,n){this.store.dispatch(Rn({id:e,def:n}))}setCargoWagon(e,n){this.store.dispatch(Ln({id:e,def:n}))}setFluidWagon(e,n){this.store.dispatch(Fn({id:e,def:n}))}setFlowRate(e){this.store.dispatch(An({flowRate:e}))}setInserterTarget(e){this.store.dispatch(Gn({inserterTarget:e}))}setMiningBonus(e){this.store.dispatch(Zn({miningBonus:e}))}setResearchSpeed(e){this.store.dispatch(Xn({researchBonus:e}))}setInserterCapacity(e){this.store.dispatch(Yn({inserterCapacity:e}))}setDisplayRate(e,n){this.store.dispatch(Ut({displayRate:e,previous:n}))}setPowerUnit(e){this.store.dispatch(un({powerUnit:e}))}setLanguage(e){this.store.dispatch(mn({language:e}))}setTheme(e){this.store.dispatch(_n({theme:e}))}setBypassLanding(e){this.store.dispatch(gn({bypassLanding:e}))}setHideDuplicateIcons(e){this.store.dispatch(hn({hideDuplicateIcons:e}))}setDisablePaginator(e){this.store.dispatch(dn({disablePaginator:e}))}setMaximizeType(e){this.store.dispatch(Vn({maximizeType:e}))}setNetProductionOnly(e){this.store.dispatch(Hn({netProductionOnly:e}))}setSurplusMachinesOutput(e){this.store.dispatch(Bn({surplusMachinesOutput:e}))}setConvertObjectiveValues(e){this.store.dispatch(Cn({convertObjectiveValues:e}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=F({type:t,selectors:[["lab-settings"]],hostVars:4,hostBindings:function(n,i){n&2&&U("active",i.active)("hidden",i.hidden)},inputs:{active:"active",hidden:"hidden"},standalone:!0,features:[fe],decls:149,vars:172,consts:[["techPicker",""],["recipesPicker",""],["itemsPicker",""],["presetDropdown",""],["costsDlg",""],["search",""],["nameCtrl","ngModel"],["stateMenu",""],["tooltip",""],["overclockInput",""],["beaconsOverlay",""],["modulesOverlay",""],["flowRateInput",""],["miningBonusInput",""],["miningProdInput",""],[1,"p-3"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-trash","tooltipPosition","bottom",1,"p-button-rounded","p-button-text",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-rounded","p-button-text","d-inline-flex","d-none","d-xl-inline-flex",3,"click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-rounded","p-button-text","d-inline-flex","d-sm-none",3,"click"],[1,"flex-grow-1","overflow-hidden"],["styleClass","mb-5"],[3,"multiple"],["pTemplate","header"],[1,"p-inputgroup","mb-2"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined","p-button-rounded","w-100",3,"label"],[1,"p-fluid"],[1,"mt-3"],[1,"p-float-label"],["labDropdownTranslate","","inputId","game",3,"onChange","pTooltip","ngModel","options"],["for","game"],[1,"position-relative"],[1,"mt-3","pb-3"],["pButton","","pRipple","","type","button","icon","fa-solid fa-microchip",1,"p-button-rounded","p-button-outlined",3,"click","pTooltip","label"],[3,"selectIds"],[1,"pb-3"],["pButton","","pRipple","","type","button","icon","fa-solid fa-flask-vial",1,"p-button-rounded","p-button-outlined",3,"click","pTooltip","label"],[3,"selectIds","header"],["pButton","","pRipple","","type","button","icon","fa-solid fa-boxes-stacked",1,"p-button-rounded","p-button-outlined",3,"click","pTooltip","label"],[3,"selected"],["labDropdownTranslate","","inputId","preset",3,"onChange","pTooltip","ngModel","options"],["for","preset"],["labDropdownBase","","inputId","default-transport-belt",3,"onChange","pTooltip","ngModel","options"],["pTemplate","selectedItem"],["pTemplate","item"],["for","default-transport-belt"],[3,"header"],["labDropdownTranslate","","inputId","display-rate",3,"onChange","pTooltip","ngModel","options"],["for","display-rate"],[1,"text-end"],["labDropdownTranslate","","inputId","language",3,"onChange","pTooltip","ngModel","options"],["for","language"],[1,"position-absolute","end-0","bottom-100","me-1","mb-1"],["href","https://github.com/factoriolab/factoriolab/wiki/Translating-FactorioLab","target","_blank"],["labDropdownTranslate","","inputId","theme",3,"onChange","pTooltip","ngModel","options"],["for","theme"],[3,"onChange","binary","label","ngModel"],[3,"onChange","ngModel","binary","label"],["labDropdownTranslate","","inputId","maximize-type",3,"onChange","pTooltip","ngModel","options"],["for","maximize-type"],["tooltipPosition","top",3,"onChange","ngModel","binary","label","pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-dollar-sign",1,"p-button-rounded","p-button-outlined","mb-4",3,"click","label"],[1,"d-flex","align-items-center","justify-content-between","flex-grow-1"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-up-right-from-square",1,"p-button-outlined",3,"click"],["pInputText","","type","text",3,"ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-copy",1,"p-button-outlined",3,"click"],["pInputText","","pAutoFocus","","type","text","tooltipPosition","top","required","",3,"ngModelChange","keydown.enter","placeholder","pTooltip","ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-floppy-disk","tooltipPosition","top",1,"p-button-outlined",3,"click","pTooltip","disabled"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined",3,"click","pTooltip"],["tooltipPosition","top",3,"onChange","placeholder","pTooltip","ngModel","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-ellipsis-vertical",1,"p-button-outlined"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined",3,"pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-ellipsis-vertical",1,"p-button-outlined",3,"click"],["appendTo","body",3,"popup","model"],["pRipple","",1,"p-menuitem-link"],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined","p-button-rounded","w-100",3,"click","label"],["for","mod",1,"p-static-label"],[1,"position-absolute","end-0","top-0","me-1","mb-1"],["href","https://github.com/factoriolab/factoriolab/issues/new?assignees=&labels=mod+support&template=mod-request.md&title=","target","_blank"],["inputId","mod","styleClass","w-100",3,"onChange","filter","autofocusFilter","pTooltip","ngModel","options"],["pButton","","pRipple","","icon","fa-solid fa-info",1,"p-button-outlined",3,"click","pTooltip"],["appendTo","body",3,"visibleChange","visible","modal","dismissableMask","draggable","resizable","breakpoints","header"],["responsiveLayout","scroll","styleClass","p-datatable-sm",3,"value"],["pTemplate","body"],["pTemplate","footer"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["inputId","modifier-rank","styleClass","icons","appendTo","body","scrollHeight","40vh","panelStyleClass","tooltip",3,"onChange","pTooltip","ngModel","options"],["pTemplate","selectedItems"],["for","modifier-rank"],[1,"d-flex"],[1,"mx-2",3,"class"],[1,"mx-2"],[1,"d-flex","align-items-center","p-2","w-100","h-100",3,"pTooltip"],[1,"ms-3","text-truncate"],["type","module",3,"id"],["inputId","fuel-rank","styleClass","icons","appendTo","body","scrollHeight","40vh","panelStyleClass","tooltip",3,"onChange","pTooltip","ngModel","options"],["for","fuel-rank"],["type","fuel",3,"id"],[1,"p-inputgroup","flex-wrap","machine-preference","mb-1"],[1,"p-inputgroup-addon",3,"pTooltip"],[1,"fa-solid","fa-industry"],["labDropdownBase","icon",3,"onChange","ngModel","pTooltip","options"],["labNoDrag","","suffix","%","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","showButtons","pTooltip","ngModel"],[3,"onReorder","value","dragdrop"],[1,"pt-2"],[1,"d-flex","align-items-center","justify-content-center","h-100"],[1,"fa-solid","fa-plus"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip"],["type","machine",3,"id"],["labNoDrag","","suffix","%","inputStyleClass","text-end",3,"onBlur","min","max","step","maxFractionDigits","showButtons","pTooltip","ngModel"],["pButton","","pRipple","","type","button",1,"hover-action","icons","p-button-text","flex-column",3,"click","pTooltip"],[1,"hover-icon","fa-solid","fa-gear"],[3,"setValue"],[1,"p-button-icon"],[1,"p-button-icon",3,"class"],["type","beacon",3,"id"],[1,"p-inputgroup","flex-wrap","machine-preference"],["pButton","","pRipple","","type","button","icon","fa-solid fa-grip-lines",1,"p-button-outlined","cursor-grab"],["labDropdownBase","icon","labNoDrag","",3,"onChange","pTooltip","ngModel","options"],["labDropdownBase","icon","labNoDrag","",3,"pTooltip","ngModel","options"],["pButton","","pRipple","","labNoDrag","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","ms-auto",3,"click","pTooltip"],["pButton","","pRipple","","type","button",1,"hover-action","icons","p-button-text",3,"click","pTooltip"],["tooltipPosition","bottom",3,"onChange","ngModel","binary","label","pTooltip"],["for","beacon-receivers",1,"p-static-label"],["inputId","beacon-receivers",1,"w-100",3,"setValue","pTooltip","value"],["labDropdownBase","","inputId","proliferator-self-spray",3,"onChange","autoDisplayFirst","pTooltip","ngModel","options"],["for","proliferator-self-spray"],[1,"d-flex","align-items-center","h-100"],["type","belt",3,"id"],["labDropdownBase","","inputId","default-pipe",3,"onChange","pTooltip","ngModel","options"],["for","default-pipe"],["type","pipe",3,"id"],["labDropdownBase","","inputId","default-cargo-wagon",3,"onChange","pTooltip","ngModel","options"],["for","default-cargo-wagon"],["type","cargo-wagon",3,"id"],["labDropdownBase","","inputId","default-fluid-wagon",3,"onChange","pTooltip","ngModel","options"],["for","default-fluid-wagon"],["type","fluid-wagon",3,"id"],["inputId","pipe-flow-rate","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","suffix","min","step","showButtons","pTooltip","ngModel"],["for","pipe-flow-rate"],["href","https://wiki.factorio.com/Fluid_system#Pipelines","target","_blank"],["labDropdownTranslate","","inputId","inserter-target",3,"onChange","pTooltip","ngModel","options"],["for","inserter-target"],["inputId","mining-speed","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","min","step","showButtons","pTooltip","ngModel"],["for","mining-speed"],["inputId","mining-productivity","prefix","+","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","min","step","showButtons","pTooltip","ngModel"],["for","mining-productivity"],["labDropdownTranslate","","inputId","research-bonus",3,"onChange","pTooltip","ngModel","options"],["for","research-speed"],["labDropdownTranslate","","inputId","inserter-capacity",3,"onChange","pTooltip","ngModel","options"],["for","inserter-capacity"],["labDropdownTranslate","","inputId","power-unit",3,"onChange","pTooltip","ngModel","options"],["for","power-unit"]],template:function(n,i){if(n&1){let o=y();r(0,"div",15)(1,"div",16)(2,"h2"),v(3),m(4,"translate"),p(),r(5,"div")(6,"button",17),m(7,"translate"),b("click",function(){return g(o),f(i.clickResetSettings())}),p(),r(8,"button",18),b("click",function(){return g(o),f(i.contentSvc.toggleSettingsXl())}),p(),r(9,"button",19),b("click",function(){return g(o),f(i.contentSvc.toggleSettings())}),p()()()(),r(10,"div",20)(11,"p-scrollPanel",21)(12,"p-accordion",22)(13,"p-accordionTab"),h(14,tp,5,4,"ng-template",23)(15,ip,5,1,"div",24)(16,np,9,14,"div",24)(17,lp,6,9,"div",25)(18,rp,2,3,"button",26),p(),r(19,"p-accordionTab"),h(20,pp,6,4,"ng-template",23),r(21,"div",27)(22,"div",28)(23,"span",29)(24,"p-dropdown",30),m(25,"translate"),b("onChange",function(_){return g(o),f(i.setGame(_.value))}),p(),r(26,"label",31),v(27),m(28,"translate"),p(),h(29,dp,3,2),p()(),h(30,gp,20,32,"div",32),r(31,"div",33)(32,"button",34),m(33,"translate"),m(34,"translate"),m(35,"translate"),b("click",function(){g(o);let _=T(37);return f(_.clickOpen(i.settings().researchedTechnologyIds))}),p(),r(36,"lab-tech-picker",35,0),b("selectIds",function(_){return g(o),f(i.setResearchedTechnologies(_))}),p()(),r(38,"div",36)(39,"button",37),m(40,"translate"),m(41,"translate"),b("click",function(){g(o);let _=T(43);return f(_.clickOpen("recipe",i.data().recipeIds,i.settings().excludedRecipeIds))}),p(),r(42,"lab-picker",38,1),m(44,"translate"),b("selectIds",function(_){return g(o),f(i.changeExcludedRecipes(_))}),p()(),r(45,"div")(46,"button",39),m(47,"translate"),m(48,"translate"),b("click",function(){g(o);let _=T(50);return f(_.clickOpen("item",i.data().itemIds,i.settings().excludedItemIds))}),p(),r(49,"lab-picker",38,2),m(51,"translate"),b("selectIds",function(_){return g(o),f(i.setExcludedItems(_))}),p()()()(),r(52,"p-accordionTab",40),h(53,hp,5,4,"ng-template",23),r(54,"div",27)(55,"div",33)(56,"span",29)(57,"p-dropdown",41,3),m(59,"translate"),b("onChange",function(_){return g(o),f(i.setPreset(_.value))}),p(),r(60,"label",42),v(61),m(62,"translate"),p()()(),h(63,yp,9,8,"div",33)(64,Mp,9,8,"div",33)(65,dc,14,17)(66,mc,4,8,"div",36)(67,uc,6,7,"div",36)(68,hc,9,9,"div",33),r(69,"div",33)(70,"div",29)(71,"p-dropdown",43),m(72,"translate"),b("onChange",function(_){let I;return g(o),f(i.setBelt(_.value,(I=i.data().defaults)==null?null:I.beltId))}),h(73,Cc,1,1,"ng-template",44)(74,xc,7,6,"ng-template",45),p(),r(75,"label",46),v(76),m(77,"translate"),p()()(),h(78,Sc,9,8,"div",33)(79,Oc,9,8,"div",33)(80,Pc,9,8,"div",33)(81,Dc,20,24)(82,Rc,8,10,"div",28),p()(),h(83,Lc,25,29,"p-accordionTab",47),r(84,"p-accordionTab",47),m(85,"translate"),r(86,"div",27)(87,"div",33)(88,"span",29)(89,"p-dropdown",48),m(90,"translate"),b("onChange",function(_){return g(o),f(i.setDisplayRate(_.value,i.settings().displayRate))}),p(),r(91,"label",49),v(92),m(93,"translate"),p()()(),h(94,Fc,7,8,"div",33),r(95,"div",33),C(96,"div",50),r(97,"div",29)(98,"p-dropdown",51),m(99,"translate"),b("onChange",function(_){return g(o),f(i.setLanguage(_.value))}),p(),r(100,"label",52),v(101),m(102,"translate"),p(),r(103,"small",53)(104,"a",54),v(105),m(106,"translate"),p()()()(),r(107,"div",33)(108,"div",29)(109,"p-dropdown",55),m(110,"translate"),b("onChange",function(_){return g(o),f(i.setTheme(_.value))}),p(),r(111,"label",56),v(112),m(113,"translate"),p()()(),r(114,"div",36)(115,"p-checkbox",57),m(116,"translate"),b("onChange",function(_){return g(o),f(i.setBypassLanding(_.checked))}),p()(),r(117,"div",36)(118,"p-checkbox",58),m(119,"translate"),b("onChange",function(_){return g(o),f(i.setHideDuplicateIcons(_.checked))}),p()(),r(120,"div")(121,"p-checkbox",58),m(122,"translate"),b("onChange",function(_){return g(o),f(i.setDisablePaginator(_.checked))}),p()()()(),r(123,"p-accordionTab",47),m(124,"translate"),r(125,"div",27)(126,"div",33)(127,"span",29)(128,"p-dropdown",59),m(129,"translate"),b("onChange",function(_){return g(o),f(i.setMaximizeType(_.value))}),p(),r(130,"label",60),v(131),m(132,"translate"),p()()(),r(133,"div",36)(134,"p-checkbox",61),m(135,"translate"),m(136,"translate"),b("onChange",function(_){return g(o),f(i.setNetProductionOnly(_.checked))}),p()(),r(137,"div",36)(138,"p-checkbox",61),m(139,"translate"),m(140,"translate"),b("onChange",function(_){return g(o),f(i.setSurplusMachinesOutput(_.checked))}),p()(),r(141,"div",36)(142,"p-checkbox",61),m(143,"translate"),m(144,"translate"),b("onChange",function(_){return g(o),f(i.setConvertObjectiveValues(_.checked))}),p()(),r(145,"button",62),m(146,"translate"),b("click",function(){g(o);let _=T(148);return f(_.open(i.settings().costs))}),p()()()()()(),C(147,"lab-costs",null,4)}if(n&2){let o;a(3),x(u(4,86,"settings.header")),a(3),l("pTooltip",u(7,88,"settings.reset")),a(5),Te(Q(165,Zr)),a(),l("multiple",!0),a(3),w(i.BrowserUtility.isStandalone?15:-1),a(),w(i.editState?16:i.savedStates().length?17:18),a(6),U("pb-3",i.data().game===i.Game.Factorio),a(2),l("pTooltip",u(25,90,"settings.gameTooltip"))("ngModel",i.data().game)("options",i.gameOptions),a(3),x(u(28,92,"settings.game")),a(2),w(i.data().game!==i.Game.Factorio?29:-1),a(),w(i.data().game===i.Game.Factorio?30:-1),a(2),l("pTooltip",u(33,94,"settings.techsTooltip"))("label",i.researchedTechnologyIds()?ke(34,96,"settings.techsResearched",E(166,Li,i.settings().researchedTechnologyIds.size)):u(35,99,"settings.allTechsResearched")),a(7),l("pTooltip",u(40,101,"settings.recipesTooltip"))("label",ke(41,103,"settings.recipesExcluded",E(168,Li,i.settings().excludedRecipeIds.size))),a(3),l("header",u(44,106,"settings.recipesHeader")),a(4),l("pTooltip",u(47,108,"settings.itemsTooltip"))("label",ke(48,110,"settings.itemsExcluded",E(170,Li,i.settings().excludedItemIds.size))),a(3),l("header",u(51,113,"settings.itemsHeader")),a(3),l("selected",!0),a(5),l("pTooltip",u(59,115,"settings.presetTooltip"))("ngModel",i.settings().preset)("options",i.presetOptions()),a(4),x(u(62,117,"settings.preset")),a(2),w(i.data().moduleIds.length>1?63:-1),a(),w(i.data().fuelIds.length&&i.data().game!==i.Game.Satisfactory?64:-1),a(),w(i.data().game!==i.Game.CaptainOfIndustry?65:-1),a(),w(i.data().game===i.Game.Factorio?66:-1),a(),w((o=i.settings().beaconReceivers)?67:-1,o),a(),w(i.data().game===i.Game.DysonSphereProgram?68:-1),a(3),l("pTooltip",u(72,119,"settings.defaultTransportBeltTooltip"))("ngModel",i.settings().beltId)("options",i.options().belts),a(5),x(u(77,121,"settings.defaultTransportBelt")),a(2),w(i.data().pipeIds.length>1?78:-1),a(),w(i.data().cargoWagonIds.length>1?79:-1),a(),w(i.data().fluidWagonIds.length>1?80:-1),a(),w(i.data().game===i.Game.Factorio?81:-1),a(),w(i.data().game===i.Game.DysonSphereProgram?82:-1),a(),w(i.data().game===i.Game.Factorio?83:-1),a(),l("header",u(85,123,"settings.display")),a(5),l("pTooltip",u(90,125,"settings.displayRateTooltip"))("ngModel",i.settings().displayRate)("options",i.displayRateOptions),a(3),x(u(93,127,"settings.displayRate")),a(2),w(i.columnsState().power.show?94:-1),a(4),l("pTooltip",u(99,129,"settings.languageTooltip"))("ngModel",i.preferences().language)("options",i.languageOptions),a(3),x(u(102,131,"settings.language")),a(4),x(u(106,133,"settings.helpTranslate")),a(4),l("pTooltip",u(110,135,"settings.themeTooltip"))("ngModel",i.preferences().theme)("options",i.themeOptions),a(3),x(u(113,137,"settings.theme")),a(3),l("binary",!0)("label",u(116,139,"settings.bypassLanding"))("ngModel",i.preferences().bypassLanding),a(3),l("ngModel",i.preferences().hideDuplicateIcons)("binary",!0)("label",u(119,141,"settings.hideDuplicateIcons")),a(3),l("ngModel",i.preferences().disablePaginator)("binary",!0)("label",u(122,143,"settings.disablePaginator")),a(2),l("header",u(124,145,"settings.advanced")),a(5),l("pTooltip",u(129,147,"settings.maximizeTypeTooltip"))("ngModel",i.settings().maximizeType)("options",i.maximizeTypeOptions),a(3),x(u(132,149,"settings.maximizeType")),a(3),l("ngModel",i.settings().netProductionOnly)("binary",!0)("label",u(135,151,"settings.netProductionOnly"))("pTooltip",u(136,153,"settings.netProductionOnlyTooltip")),a(4),l("ngModel",i.settings().surplusMachinesOutput)("binary",!0)("label",u(139,155,"settings.surplusMachinesOutput"))("pTooltip",u(140,157,"settings.surplusMachinesOutputTooltip")),a(4),l("ngModel",i.preferences().convertObjectiveValues)("binary",!0)("label",u(143,159,"settings.convertObjectiveValues"))("pTooltip",u(144,161,"settings.convertObjectiveValuesTooltip")),a(3),l("label",u(146,163,"settings.openCosts"))}},dependencies:[Ge,Xt,We,To,Be,Gi,q,ra,Bi,Vi,H,ae,de,mt,dt,Xe,Ze,ti,ei,Ao,Fo,ni,ii,ma,Di,Z,Ho,jo,$t,Ht,ai,oi,zo,$o,X,Go,_a,No,ri,Ko,Ye,ct,Zo,pi,li,ha,ut,xe],styles:["[_nghost-%COMP%]{display:flex;position:fixed;top:0;left:0;flex-direction:column;transition:transform .4s cubic-bezier(.05,.74,.2,.99);z-index:4;background-color:var(--surface-overlay);width:322px;height:100%}@media (max-width: 1199.98px){[_nghost-%COMP%]{transform:translate(-100%)}.active[_nghost-%COMP%]{transform:translate(0)}}@media (min-width: 1200px){.hidden[_nghost-%COMP%]{transform:translate(-100%)}}[_nghost-%COMP%]     .p-scrollpanel .p-scrollpanel-content{overflow-y:scroll}[_nghost-%COMP%]     .p-scrollpanel .p-scrollpanel-bar-x{visibility:hidden}[_nghost-%COMP%]     .p-accordion{width:323px}"],changeDetection:0})}return t})();var Ac=(t,s)=>({time:t,cost:s});function jc(t,s){t&1&&(r(0,"div",7),C(1,"i",8),r(2,"span"),v(3),m(4,"translate"),p()()),t&2&&(a(3),x(u(4,1,"app.error")))}function Hc(t,s){if(t&1){let e=y();r(0,"p-dialog",1),h(1,jc,5,3,"ng-template",2),r(2,"div",3)(3,"div"),v(4),m(5,"translate"),p(),r(6,"div",4),v(7),p(),r(8,"div",5)(9,"button",6),m(10,"translate"),b("click",function(){g(e);let i=c();return f(i.reset())}),p()()()()}if(t&2){let e=c();l("visible",!0)("modal",!0)("draggable",!1)("resizable",!1)("closable",!1)("closeOnEscape",!1),a(4),x(u(5,10,"app.errorDetail")),a(3),x(s),a(2),l("label",u(10,12,"reset"))("loading",e.isResetting)}}function $c(t,s){t&1&&C(0,"p-tabMenu",15),t&2&&l("model",s)}function zc(t,s){if(t&1&&(r(0,"div"),v(1),m(2,"translate"),p()),t&2){let e,n=c(4);a(),L(" ",ke(2,1,"app.simplexSolved",ee(4,Ac,n.result().time,(e=n.result().cost)==null?null:e.toPrecision(2)))," ")}}function Nc(t,s){if(t&1&&(r(0,"div"),v(1),m(2,"translate"),p()),t&2){let e=c(4);a(),L(" ",u(2,1,"options.simplexResultType."+e.result().resultType)," ")}}function Kc(t,s){if(t&1&&(r(0,"div",17),h(1,zc,3,7,"div")(2,Nc,3,3,"div"),r(3,"span"),v(4),p()()),t&2){let e=c(3);a(),w(e.result().resultType===e.SimplexResultType.Solved?1:2),a(3),x(e.contentSvc.version)}}function Uc(t,s){if(t&1&&(C(0,"lab-objectives"),r(1,"p-card",14),m(2,"translate"),h(3,$c,1,1,"p-tabMenu",15),m(4,"async"),C(5,"router-outlet"),h(6,Kc,5,2,"ng-template",16),p()),t&2){let e,n=c(2);a(),l("header",u(2,2,"app.factory")),a(2),w((e=u(4,4,n.tabItems$))?3:-1,e)}}function Qc(t,s){t&1&&(r(0,"div",13),C(1,"p-progressSpinner"),p())}function qc(t,s){if(t&1){let e=y();C(0,"lab-settings",9),r(1,"div",10),b("click",function(){g(e);let i=c();return f(i.contentSvc.toggleSettings())}),p(),r(2,"div",11)(3,"main",12),h(4,Uc,7,6)(5,Qc,2,0,"div",13),p()()}if(t&2){let e=c();l("active",e.contentSvc.settingsActive())("hidden",e.contentSvc.settingsXlHidden()),a(),U("active",e.contentSvc.settingsActive()),a(),U("settings-xl-hidden",e.contentSvc.settingsXlHidden()),a(2),w(e.mod()?4:5)}}var Ca=(()=>{class t{ngZone=D(zi);ref=D(te);router=D(Dt);store=D(he);contentSvc=D(ye);errorSvc=D(Xo);translateSvc=D(Oe);gameInfo=this.store.selectSignal(Wt);mod=this.store.selectSignal(io);result=this.store.selectSignal(wt);isResetting=!1;tabItems$=this.translateSvc.multi(["app.list","app.flow","app.data"]).pipe(et(([e,n,i])=>[{label:e,icon:"fa-solid fa-list",routerLink:"list",queryParamsHandling:"preserve"},{label:n,icon:"fa-solid fa-diagram-project",routerLink:"flow",queryParamsHandling:"preserve"},{label:i,icon:"fa-solid fa-database",routerLink:"data",queryParamsHandling:"preserve"}]));SimplexResultType=St;reset(){this.isResetting=!0,setTimeout(()=>{this.ngZone.run(()=>{this.errorSvc.message.set(null),this.router.navigateByUrl(this.gameInfo().route),this.store.dispatch(Nt()),this.isResetting=!1})},10)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=F({type:t,selectors:[["lab-main"]],standalone:!0,features:[fe],decls:3,vars:3,consts:[[3,"sticky","settingsXlHidden"],[3,"visible","modal","draggable","resizable","closable","closeOnEscape"],["pTemplate","header"],[1,"p-error"],[1,"mt-4"],[1,"text-end","mt-4"],["pButton","","pRipple","","type","button",1,"p-button-outlined",3,"click","label","loading"],[1,"p-dialog-title","p-error"],[1,"fa-solid","fa-circle-exclamation","me-2"],[3,"active","hidden"],["role","none",1,"layout-mask",3,"click"],[1,"layout-content"],[1,"px-sm-4","py-4"],[1,"d-flex","flex-column","align-items-center","mt-5"],["styleClass","mt-4",3,"header"],[3,"model"],["pTemplate","footer"],[1,"d-flex","align-items-center","justify-content-between"]],template:function(n,i){if(n&1&&(C(0,"lab-header",0),h(1,Hc,11,14,"p-dialog",1)(2,qc,6,7)),n&2){let o;l("sticky",i.contentSvc.scrollTop()>16)("settingsXlHidden",i.contentSvc.settingsXlHidden()),a(),w((o=i.errorSvc.message())?1:2,o)}},dependencies:[Pt,ae,de,H,Jt,Yt,Xe,Ze,Po,Bo,Ro,Do,Yi,ia,sa,ba,xe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.layout-content[_ngcontent-%COMP%]{transition:margin .4s cubic-bezier(.05,.74,.2,.99);margin-left:320px;padding-top:4rem}@media (max-width: 1199.98px){.layout-content[_ngcontent-%COMP%]{margin-left:0;padding-top:6rem}}@media (min-width: 1200px){.layout-content.settings-xl-hidden[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1199.98px){.layout-mask.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:3;background-color:var(--maskbg);width:100%;height:100%}}"],changeDetection:0})}return t})();var $g=[{path:"",component:Ca,children:[{path:"list",loadComponent:()=>import("./chunk-JP43E4H5.js").then(t=>t.ListComponent)},{path:"flow",loadComponent:()=>import("./chunk-W43RMJLC.js").then(t=>t.FlowComponent)},{path:"data",loadChildren:()=>import("./chunk-O7FUJ5UM.js").then(t=>t.routes)}]}];export{$g as routes};
